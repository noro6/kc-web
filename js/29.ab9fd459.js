"use strict";(self["webpackChunkkc_web"]=self["webpackChunkkc_web"]||[]).push([[29],{8324:function(t,e,s){s.r(e),s.d(e,{default:function(){return ae}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-5"},[s("div",{staticClass:"general-container"},[s("v-tabs",{attrs:{"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",[t._v(t._s(t.$t("Extra.艦娘性能一覧")))]),s("v-tab",[t._v(t._s(t.$t("Extra.装備性能一覧")))]),s("v-tab",[t._v(t._s(t.$t("Extra.対潜値計算機")))]),s("v-tab",[t._v(t._s(t.$t("Extra.戦果砲管理")))]),s("v-tab",[t._v(t._s(t.$t("Extra.敵艦生息地検索")))]),s("v-tab",[t._v(t._s(t.$t("Extra.敵対空おばけ")))])],1),s("v-divider"),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.艦娘の基本ステータスの確認と比較を行えます。")))]),s("div",{staticClass:"pa-2"},[s("ship-master-list")],1),s("div",{staticClass:"pa-2"},[s("v-card",{staticClass:"pa-3"},[s("ship-status-compare")],1)],1),s("div",{staticClass:"pa-2"},[s("v-card",{staticClass:"pa-3"},[s("ship-item-synergy")],1)],1)]),s("v-tab-item",[s("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.装備の基本ステータスの確認と比較を行えます。")))]),s("div",{staticClass:"pa-2"},[s("item-master-list")],1)]),s("v-tab-item",[s("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.艦娘と装備から、指定した対潜値と必要なLvを計算します。")))]),s("div",{staticClass:"pa-2"},[s("required-asw-calculator")],1)]),s("v-tab-item",[s("div",{staticClass:"mt-3 mx-3 body-2"},[t._v(t._s(t.$t("Extra.戦果に関係する任務の進捗を管理する機能です。")))]),s("quest-manager")],1),s("v-tab-item",[s("div",{staticClass:"my-3 mx-2 body-2"},[t._v(" "+t._s(t.$t("Extra.指定した敵艦が登場する海域を検索します。データが更新されていない場合もあるので、あくまで参考程度に。"))+" ")]),s("div",{staticClass:"pa-2"},[s("enemy-searcher")],1)]),s("v-tab-item",[s("div",{staticClass:"my-3 mx-2 body-2"},[t._v(" "+t._s(t.$t("Extra.敵艦の対空砲火ランキングです。見かけたら気を付けるか覚悟しましょう。"))+" ")]),s("div",{staticClass:"pa-2"},[s("enemy-aa-ranking")],1)])],1)],1),s("div",{staticClass:"info-area"},[s("v-divider",{staticClass:"mb-2"}),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。"))+" ")]),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。"))+" ")])],1)])},a=[],n=s(144),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"px-3"},[s("div",{staticClass:"d-flex align-center flex-wrap"},[s("div",{staticClass:"keyword-text align-self-end mr-3"},[s("v-text-field",{attrs:{dense:"",placeholder:t.$t("Database.名称検索"),"prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),s("div",{staticClass:"mr-3"},[s("v-checkbox",{attrs:{disabled:!!t.keyword,dense:"","hide-details":"",label:t.$t("Fleet.最終改造")},on:{change:t.initShips},model:{value:t.isFinalOnly,callback:function(e){t.isFinalOnly=e},expression:"isFinalOnly"}})],1),s("div",{staticClass:"mr-3 d-flex manual-checkbox"},[s("v-btn",{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleDaihatsuFilter()}}},[t.daihatsuOK?s("v-icon",{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.daihatsuNG?s("v-icon",{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):s("v-icon",{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),s("img",{attrs:{src:"./img/type/type24.png",alt:"type-24"},on:{click:function(e){return t.toggleDaihatsuFilter()},keypress:function(e){return t.toggleDaihatsuFilter()}}})],1),s("div",{staticClass:"mr-3 d-flex manual-checkbox"},[s("v-btn",{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleTankFilter()}}},[t.tankOK?s("v-icon",{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.tankNG?s("v-icon",{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):s("v-icon",{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),s("img",{attrs:{src:"./img/type/type46.png",alt:"type-46"},on:{click:function(e){return t.toggleTankFilter()},keypress:function(e){return t.toggleTankFilter()}}})],1),s("div",{staticClass:"flex-grow-1 align-self-end"},[s("v-select",{attrs:{items:t.translatedShipTypes,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",multiple:""},on:{change:t.initShips},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[s("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[s("v-list-item-action",[s("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}})],1)]),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{staticClass:"ship-master-table",attrs:{dense:"","fixed-header":"",height:"48vh","multi-sort":"",headers:t.headers,items:t.ships,search:t.keyword,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[20,50,100]}},scopedSlots:t._u([{key:"header.name",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.hp",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.fire",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.armor",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.torpedo",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.maxAvoid",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.antiAir",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.maxAsw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.speed",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.maxScout",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.range",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.luck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.night",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.fuel",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.ammo",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"item.id",fn:function(t){var e=t.item;return[s("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"30",width:"120"}})]}},{key:"item.name",fn:function(e){var i=e.item;return[s("div",{staticClass:"ship-name text-truncate caption",attrs:{title:i.name}},[t._v(t._s(t.getShipName(i)))])]}},{key:"item.speed",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(t.speedText(i.speed)))])]}},{key:"item.range",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common."+t.rangeText[i.range])))])]}}],null,!0)})],1)},r=[],o=s(6141),d=s(5549),m=s(3631),c=n.Z.extend({name:"ShipMasterList",components:{},data:()=>({rangeText:["","短","中","長","超長","超長+"],keyword:"",isFinalOnly:!0,daihatsuOK:!1,daihatsuNG:!1,tankOK:!1,tankNG:!1,types:[],selectedTypes:[],headers:[{text:"",sortable:!1,value:"id"},{text:"艦娘名",value:"name"},{text:"耐久",filterable:!1,align:"end",value:"hp"},{text:"火力",filterable:!1,align:"end",value:"fire"},{text:"装甲",filterable:!1,align:"end",value:"armor"},{text:"雷装",filterable:!1,align:"end",value:"torpedo"},{text:"夜戦",filterable:!1,align:"end",value:"night"},{text:"回避",filterable:!1,align:"end",value:"maxAvoid"},{text:"対空",filterable:!1,align:"end",value:"antiAir"},{text:"対潜",filterable:!1,align:"end",value:"maxAsw"},{text:"速力",filterable:!1,align:"end",value:"speed"},{text:"索敵",filterable:!1,align:"end",value:"maxScout"},{text:"射程",filterable:!1,align:"end",value:"range"},{text:"運",filterable:!1,align:"end",value:"luck"},{text:"燃料",filterable:!1,align:"end",value:"fuel"},{text:"弾薬",filterable:!1,align:"end",value:"ammo"}],ships:[]}),mounted(){const t=o.ZP.SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(let e=0;e<t.length;e+=1)this.types.push({text:t[e].text,value:e}),"駆逐"===t[e].text&&this.selectedTypes.push(e);this.initShips()},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},selectedAllType(){return this.selectedTypes.length===this.types.length},selectedSomeType(){return this.selectedTypes.length>0&&!this.selectedAllType},translatedShipTypes(){const t=[];for(let e=0;e<this.types.length;e+=1){const s=this.types[e];t.push({text:`${this.$t(`SType.${s.text}`)}`,value:s.value})}return t},icon(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},getShipName(){return t=>{if(this.needTrans){const e=d.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},speedText(){return t=>t<=5?`${this.$t("Fleet.低速")}`:t<=10?`${this.$t("Fleet.高速")}`:t<=15?`${this.$t("Fleet.高速+")}`:`${this.$t("Fleet.最速")}`}},watch:{completed(t){t&&this.initShips()}},methods:{initShips(){const t=this.$store.state.ships;let e=[];const s=o.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let a=0;a<t.length;a+=1){const i=t[a];s.includes(i.type)&&(this.isFinalOnly&&!i.isFinal||e.push(i))}const i=m.Z.isValidItem;if(this.daihatsuOK){const t=this.$store.state.items.find((t=>68===t.id));t&&(e=e.filter((e=>i(e,t))))}else if(this.daihatsuNG){const t=this.$store.state.items.find((t=>68===t.id));t&&(e=e.filter((e=>!i(e,t))))}if(this.tankOK){const t=this.$store.state.items.find((t=>167===t.id));t&&(e=e.filter((e=>i(e,t))))}else if(this.tankNG){const t=this.$store.state.items.find((t=>167===t.id));t&&(e=e.filter((e=>!i(e,t))))}this.ships=e.sort(((t,e)=>t.sort-e.sort))},toggleDaihatsuFilter(){this.daihatsuOK?(this.daihatsuOK=!1,this.daihatsuNG=!0):this.daihatsuNG?this.daihatsuNG=!1:this.daihatsuOK=!0,this.initShips()},toggleTankFilter(){this.tankOK?(this.tankOK=!1,this.tankNG=!0):this.tankNG?this.tankNG=!1:this.tankOK=!0,this.initShips()},toggleAllType(){this.$nextTick((()=>{this.selectedAllType?this.selectedTypes=[]:this.selectedTypes=this.types.map((t=>t.value)).slice(),this.initShips()}))}}}),u=c,h=s(1001),p=s(3453),v=s.n(p),g=s(4562),f=s(9582),y=s(3486),_=s(5151),x=s(9223),w=s(4324),C=s(5495),S=s(4525),b=s(5187),k=s(7722),$=s(9481),T=s(9780),E=(0,h.Z)(u,l,r,!1,null,"8f698c96",null),D=E.exports;v()(E,{VBtn:g.Z,VCard:f.Z,VCheckbox:y.Z,VDataTable:_.Z,VDivider:x.Z,VIcon:w.Z,VImg:C.Z,VListItem:S.Z,VListItemAction:b.Z,VListItemContent:k.km,VListItemTitle:k.V9,VSelect:$.Z,VTextField:T.Z});var Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-end mb-3"},[s("v-btn",{on:{click:t.resetShips}},[s("v-icon",[t._v("mdi-trash-can-outline")]),t._v(t._s(t.$t("Common.リセット")))],1)],1),s("v-divider"),s("v-simple-table",{attrs:{"fixed-header":"",height:"64vh",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("div",{staticClass:"pb-2"},[s("v-checkbox",{attrs:{disabled:t.enabledShipsCount<2,"hide-details":"",dense:"",label:t.$t("Extra.差分表示")},model:{value:t.isDiffMode,callback:function(e){t.isDiffMode=e},expression:"isDiffMode"}})],1)]),t._l(t.ships,(function(e,i){return s("th",{key:"select"+i,staticClass:"py-1 text-right"},[e.isEmpty?s("v-btn",{attrs:{text:""},on:{click:function(e){return t.showShipList(i)}}},[s("v-icon",[t._v("mdi-plus")]),t._v(t._s(t.$t("Fleet.艦娘選択")))],1):s("div",{staticClass:"d-flex justify-end"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"text-primary"},expression:"{ class: 'text-primary' }"}],staticClass:"ship-img",on:{click:function(e){return t.showShipList(i)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList(i)}}},[s("v-img",{attrs:{src:"./img/ship/"+e.data.id+".png",height:"30",width:"120"}})],1)])],1)}))],2)]),s("tbody",[s("tr",[s("td",[t._v(t._s(t.$t("Common.艦娘名")))]),t._l(t.ships,(function(e,i){return s("td",{key:"name"+i,staticClass:"ship-name text-truncate"},[t._v(t._s(t.getShipName(e.data)))])}))],2),s("tr",[s("td",[t._v("Lv")]),t._l(t.ships,(function(e,i){return s("td",{key:"level"+i,staticClass:"level-td"},[e.isEmpty?t._e():s("div",{staticClass:"d-flex align-center justify-end py-1"},[s("v-text-field",{staticClass:"level-input",attrs:{dense:"",outlined:"",max:t.maxLevel,min:"1",type:"number",rules:[t.rules.level],"hide-details":""},on:{input:function(e){return t.statusChanged(i)}},model:{value:e.level,callback:function(s){t.$set(e,"level",t._n(s))},expression:"ship.level"}})],1)])}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.耐久")))]),t._l(t.ships,(function(e,i){return s("td",{key:"HP"+i,class:{top:t.maxStatuses.hp===e.displayStatus.HP,min:t.minStatuses.hp===e.displayStatus.HP,empty:e.isEmpty||!t.maxStatuses.hp||t.maxStatuses.hp===t.minStatuses.hp}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.HP?e.displayStatus.HP:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.HP-t.ships[0].displayStatus.HP))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.火力")))]),t._l(t.ships,(function(e,i){return s("td",{key:"firePower"+i,class:{top:t.maxStatuses.firePower===e.displayStatus.firePower,min:t.minStatuses.firePower===e.displayStatus.firePower,empty:e.isEmpty||!t.maxStatuses.firePower||t.maxStatuses.firePower===t.minStatuses.firePower}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.firePower?e.displayStatus.firePower:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.firePower-t.ships[0].displayStatus.firePower))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.装甲")))]),t._l(t.ships,(function(e,i){return s("td",{key:"armor"+i,class:{top:t.maxStatuses.armor===e.displayStatus.armor,min:t.minStatuses.armor===e.displayStatus.armor,empty:e.isEmpty||!t.maxStatuses.armor||t.maxStatuses.armor===t.minStatuses.armor}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.armor?e.displayStatus.armor:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.armor-t.ships[0].displayStatus.armor))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.雷装")))]),t._l(t.ships,(function(e,i){return s("td",{key:"torpedo"+i,class:{top:t.maxStatuses.torpedo===e.displayStatus.torpedo,min:t.minStatuses.torpedo===e.displayStatus.torpedo,empty:e.isEmpty||!t.maxStatuses.torpedo||t.maxStatuses.torpedo===t.minStatuses.torpedo}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.torpedo?e.displayStatus.torpedo:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.torpedo-t.ships[0].displayStatus.torpedo))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.夜戦火力")))]),t._l(t.ships,(function(e,i){return s("td",{key:"night"+i,class:{top:t.maxStatuses.night===e.nightBattleFirePower,min:t.minStatuses.night===e.nightBattleFirePower,empty:e.isEmpty||!t.maxStatuses.night||t.maxStatuses.night===t.minStatuses.night}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.nightBattleFirePower?e.nightBattleFirePower:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.nightBattleFirePower-t.ships[0].nightBattleFirePower))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.対空")))]),t._l(t.ships,(function(e,i){return s("td",{key:"antiAir"+i,class:{top:t.maxStatuses.antiAir===e.displayStatus.antiAir,min:t.minStatuses.antiAir===e.displayStatus.antiAir,empty:e.isEmpty||!t.maxStatuses.antiAir||t.maxStatuses.antiAir===t.minStatuses.antiAir}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.antiAir?e.displayStatus.antiAir:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.antiAir-t.ships[0].displayStatus.antiAir))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.対潜")))]),t._l(t.ships,(function(e,i){return s("td",{key:"asw"+i,class:{top:t.maxStatuses.asw===e.displayStatus.asw,min:t.minStatuses.asw===e.displayStatus.asw,empty:e.isEmpty||!t.maxStatuses.asw||t.maxStatuses.asw===t.minStatuses.asw}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.asw?e.displayStatus.asw:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.asw-t.ships[0].displayStatus.asw))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.索敵")))]),t._l(t.ships,(function(e,i){return s("td",{key:"LoS"+i,class:{top:t.maxStatuses.LoS===e.displayStatus.LoS,min:t.minStatuses.LoS===e.displayStatus.LoS,empty:e.isEmpty||!t.maxStatuses.LoS||t.maxStatuses.LoS===t.minStatuses.LoS}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.LoS?e.displayStatus.LoS:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.LoS-t.ships[0].displayStatus.LoS))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.回避")))]),t._l(t.ships,(function(e,i){return s("td",{key:"avoid"+i,class:{top:t.maxStatuses.avoid===e.displayStatus.avoid,min:t.minStatuses.avoid===e.displayStatus.avoid,empty:e.isEmpty||!t.maxStatuses.avoid||t.maxStatuses.avoid===t.minStatuses.avoid}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.avoid?e.displayStatus.avoid:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.avoid-t.ships[0].displayStatus.avoid))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.運")))]),t._l(t.ships,(function(e,i){return s("td",{key:"luck"+i,class:{top:t.maxStatuses.luck===e.displayStatus.luck,min:t.minStatuses.luck===e.displayStatus.luck,empty:e.isEmpty||!t.maxStatuses.luck||t.maxStatuses.luck===t.minStatuses.luck}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.displayStatus.luck?e.displayStatus.luck:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.displayStatus.luck-t.ships[0].displayStatus.luck))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.射程")))]),t._l(t.ships,(function(e,i){return s("td",{key:"range"+i},[t._v(t._s(e.data.range?t.$t("Common."+t.rangeText[e.displayStatus.range]):"-"))])}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.速力")))]),t._l(t.ships,(function(e,i){return s("td",{key:"speed"+i},[t._v(t._s(e.isEmpty?"-":t.speedText(e.speed)))])}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.燃料")))]),t._l(t.ships,(function(e,i){return s("td",{key:"fuel"+i,class:{top:t.maxStatuses.fuel===e.fuel,min:t.minStatuses.fuel===e.fuel,empty:e.isEmpty||!t.maxStatuses.fuel||t.maxStatuses.fuel===t.minStatuses.fuel}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.data.fuel?e.fuel:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.fuel-t.ships[0].fuel))+" ")]],2)}))],2),s("tr",[s("td",[t._v(t._s(t.$t("Common.弾薬")))]),t._l(t.ships,(function(e,i){return s("td",{key:"ammo"+i,class:{top:t.maxStatuses.ammo===e.ammo,min:t.minStatuses.ammo===e.ammo,empty:e.isEmpty||!t.maxStatuses.ammo||t.maxStatuses.ammo===t.minStatuses.ammo}},[!t.isDiffMode||0===i||e.isEmpty?[t._v(" "+t._s(e.data.ammo?e.ammo:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(e.ammo-t.ships[0].ammo))+" ")]],2)}))],2),t._l(5,(function(e){return s("tr",{key:"slot"+e},[s("td",[t._v(t._s(t.$t("Fleet.搭載"))+t._s(e))]),t._l(t.ships,(function(i,a){return s("td",{key:"ammo"+a,class:{top:t.maxStatuses["slot"+e]===i.data.slots[e-1],min:t.minStatuses["slot"+e]===i.data.slots[e-1],empty:i.isEmpty||!t.maxStatuses["slot"+e]||t.maxStatuses["slot"+e]===t.minStatuses["slot"+e]}},[!t.isDiffMode||0===a||i.isEmpty?[t._v(" "+t._s(i.data.slots[e-1]>=0?i.data.slots[e-1]:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString((i.data.slots[e-1]?i.data.slots[e-1]:0)-(t.ships[0].data.slots[e-1]?t.ships[0].data.slots[e-1]:0)))+" ")]],2)}))],2)}))],2)]},proxy:!0}])}),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],1)},I=[],L=s(162),A=s(2382),P=s(6486),q=n.Z.extend({name:"ShipStatusCompare",components:{ShipList:L.Z},data:()=>({ships:[new A.Z,new A.Z,new A.Z,new A.Z,new A.Z,new A.Z],maxStatuses:{hp:0,firePower:0,armor:0,torpedo:0,night:0,antiAir:0,asw:0,LoS:0,avoid:0,luck:0,fuel:0,ammo:0,slot1:0,slot2:0,slot3:0,slot4:0,slot5:0},minStatuses:{hp:0,firePower:0,armor:0,torpedo:0,night:0,antiAir:0,asw:0,LoS:0,avoid:0,luck:0,fuel:0,ammo:0,slot1:0,slot2:0,slot3:0,slot4:0,slot5:0},rangeText:["","短","中","長","超長","超長+"],putShipIndex:0,shipListDialog:!1,shipDialogWidth:1200,rules:{level:t=>!(t<1||t>o.ZP.MAX_LEVEL)||`1 ～ ${o.ZP.MAX_LEVEL}`},maxLevel:o.ZP.MAX_LEVEL,isDiffMode:!1,diffs:[]}),mounted(){},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=d.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},speedText(){return t=>t<=5?`${this.$t("Fleet.低速")}`:t<=10?`${this.$t("Fleet.高速")}`:t<=15?`${this.$t("Fleet.高速+")}`:`${this.$t("Fleet.最速")}`},diffValueToString(){return t=>t>0?`+${t}`:t<0?`${t}`:"±0"},validDaihatsu(){return t=>{const e=this.$store.state.items.find((t=>68===t.id));return e&&m.Z.isValidItem(t.data,e)}},validTank(){return t=>{const e=this.$store.state.items.find((t=>167===t.id));return e&&m.Z.isValidItem(t.data,e)}},enabledShipsCount(){return this.ships.filter((t=>!t.isEmpty)).length}},watch:{completed(t){}},methods:{resetShips(){this.ships=[new A.Z,new A.Z,new A.Z,new A.Z,new A.Z,new A.Z]},async showShipList(t){this.putShipIndex=t,await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1;const e=new A.Z({master:t.ship,hp:t.hp,level:t.level,luck:t.luck,asw:t.asw+A.Z.getStatusFromLevel(t.level,t.ship.maxAsw,t.ship.minAsw)}),s=this.ships.concat();this.putShipIndex<this.ships.length?s[this.putShipIndex]=e:s.push(e),this.ships=s,this.setMaxStatuses(),this.setMinStatuses()},removeShip(t){this.ships[t]=new A.Z},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},statusChanged(t){const e=this.ships.concat(),s=e[t],i=Math.max(Math.min(e[t].level,this.maxLevel),1),a=A.Z.getStatusFromLevel(i,s.data.maxAsw,s.data.minAsw);e[t]=new A.Z({ship:this.ships[t],level:i,asw:a+s.improveAsw}),this.ships=e,this.setMaxStatuses(),this.setMinStatuses()},setMaxStatuses(){const t=this.ships.filter((t=>!t.isEmpty));t.length?(this.maxStatuses.hp=(0,P.max)(t.map((t=>t.displayStatus.HP)))??0,this.maxStatuses.firePower=(0,P.max)(t.map((t=>t.displayStatus.firePower)))??0,this.maxStatuses.armor=(0,P.max)(t.map((t=>t.displayStatus.armor)))??0,this.maxStatuses.torpedo=(0,P.max)(t.map((t=>t.displayStatus.torpedo)))??0,this.maxStatuses.night=(0,P.max)(t.map((t=>t.nightBattleFirePower)))??0,this.maxStatuses.antiAir=(0,P.max)(t.map((t=>t.displayStatus.antiAir)))??0,this.maxStatuses.asw=(0,P.max)(t.map((t=>t.displayStatus.asw)))??0,this.maxStatuses.LoS=(0,P.max)(t.map((t=>t.displayStatus.LoS)))??0,this.maxStatuses.avoid=(0,P.max)(t.map((t=>t.displayStatus.avoid)))??0,this.maxStatuses.luck=(0,P.max)(t.map((t=>t.displayStatus.luck)))??0,this.maxStatuses.fuel=(0,P.min)(t.map((t=>t.fuel)))??0,this.maxStatuses.ammo=(0,P.min)(t.map((t=>t.ammo)))??0,this.maxStatuses.slot1=(0,P.max)(t.map((t=>t.data.slots[0])))??0,this.maxStatuses.slot2=(0,P.max)(t.map((t=>t.data.slots[1])))??0,this.maxStatuses.slot3=(0,P.max)(t.map((t=>t.data.slots[2])))??0,this.maxStatuses.slot4=(0,P.max)(t.map((t=>t.data.slots[3])))??0,this.maxStatuses.slot5=(0,P.max)(t.map((t=>t.data.slots[4])))??0):Object.keys(this.maxStatuses).forEach((t=>{this.maxStatuses[t]=0}))},setMinStatuses(){const t=this.ships.filter((t=>!t.isEmpty));t.length?(this.minStatuses.hp=(0,P.min)(t.map((t=>t.displayStatus.HP)))??0,this.minStatuses.firePower=(0,P.min)(t.map((t=>t.displayStatus.firePower)))??0,this.minStatuses.armor=(0,P.min)(t.map((t=>t.displayStatus.armor)))??0,this.minStatuses.torpedo=(0,P.min)(t.map((t=>t.displayStatus.torpedo)))??0,this.minStatuses.night=(0,P.min)(t.map((t=>t.nightBattleFirePower)))??0,this.minStatuses.antiAir=(0,P.min)(t.map((t=>t.displayStatus.antiAir)))??0,this.minStatuses.asw=(0,P.min)(t.map((t=>t.displayStatus.asw)))??0,this.minStatuses.LoS=(0,P.min)(t.map((t=>t.displayStatus.LoS)))??0,this.minStatuses.avoid=(0,P.min)(t.map((t=>t.displayStatus.avoid)))??0,this.minStatuses.luck=(0,P.min)(t.map((t=>t.displayStatus.luck)))??0,this.minStatuses.fuel=(0,P.max)(t.map((t=>t.fuel)))??0,this.minStatuses.ammo=(0,P.max)(t.map((t=>t.ammo)))??0,this.minStatuses.slot1=(0,P.min)(t.map((t=>t.data.slots[0])))??0,this.minStatuses.slot2=(0,P.min)(t.map((t=>t.data.slots[1])))??0,this.minStatuses.slot3=(0,P.min)(t.map((t=>t.data.slots[2])))??0,this.minStatuses.slot4=(0,P.min)(t.map((t=>t.data.slots[3])))??0,this.minStatuses.slot5=(0,P.min)(t.map((t=>t.data.slots[4])))??0):Object.keys(this.minStatuses).forEach((t=>{this.minStatuses[t]=0}))}}}),B=q,V=s(4061),R=s(9449),M=s(6392),F=s.n(M),O=s(7069),N=(0,h.Z)(B,Z,I,!1,null,"4c8e8e97",null),Q=N.exports;v()(N,{VBtn:g.Z,VCheckbox:y.Z,VDialog:V.Z,VDivider:x.Z,VIcon:w.Z,VImg:C.Z,VSimpleTable:R.Z,VTextField:T.Z}),F()(N,{Ripple:O.Z});var W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"px-3"},[s("div",{staticClass:"d-flex align-center flex-wrap"},[s("div",{staticClass:"keyword-text mr-3 my-3"},[s("v-text-field",{attrs:{dense:"",placeholder:t.$t("Database.名称検索"),"prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),s("div",{staticClass:"my-3 d-flex align-center"},[t.ship.id?[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"primary--text"},expression:"{ class: 'primary--text' }"}],staticClass:"d-flex align-center",on:{click:function(e){return t.showShipList()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList()}}},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+t.ship.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"ml-2 caption"},[t._v(t._s(t.getShipName(t.ship)))])]),s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.showShipList()}}},[s("v-icon",[t._v("mdi-sync")])],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.removeShip()}}},[s("v-icon",[t._v("mdi-close")])],1)]:s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.showShipList()}}},[t._v(t._s(t.$t("Extra.搭載可能な装備で絞り込み")))])],2),t.itemStock.length?s("div",{staticClass:"ml-auto my-3"},[s("v-checkbox",{attrs:{disabled:t.isEnemyMode,"hide-details":"",dense:"",label:t.$t("ItemList.所持装備反映")},on:{click:t.setItems},model:{value:t.isStockOnly,callback:function(e){t.isStockOnly=e},expression:"isStockOnly"}})],1):t._e(),s("div",{staticClass:"ml-3 mr-3 my-3"},[s("v-checkbox",{attrs:{disabled:!!t.keyword||t.isStockOnly,dense:"","hide-details":"",label:t.$t("ItemList.敵装備")},on:{change:t.setItems},model:{value:t.isEnemyMode,callback:function(e){t.isEnemyMode=e},expression:"isEnemyMode"}})],1)]),s("div",{staticClass:"d-flex flex-wrap"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector d-flex",class:{disabled:t.keyword},on:{click:function(e){return t.toggleType(-1)},keypress:function(e){return t.toggleType(-1)}}},[s("div",{staticClass:"type-all-text"},[t._v("ALL")])]),t._l(t.enabledTypes,(function(e){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:e.id,staticClass:"type-selector",class:{active:t.selectedTypes.includes(e.id),disabled:t.keyword},on:{click:function(s){return t.toggleType(e.id)},keypress:function(s){return t.toggleType(e.id)}}},[s("v-img",{attrs:{src:"./img/type/type"+e.id+".png",height:"32",width:"32"}})],1)}))],2),s("v-divider"),s("v-data-table",{attrs:{dense:"","fixed-header":"",height:"44vh","multi-sort":"",headers:t.headers,items:t.items,search:t.keyword,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100,150]}},scopedSlots:t._u([{key:"header.name",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.fire",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.torpedo",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.bomber",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.antiAir",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.asw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.scout",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.accuracy",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.avoid",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.armor",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.interception",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.antiBomber",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.radius",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.range",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"item.iconTypeId",fn:function(t){var e=t.item;return[s("div",[s("v-img",{attrs:{src:"./img/type/icon"+e.iconTypeId+".png",height:"30",width:"30"}})],1)]}},{key:"item.name",fn:function(e){var i=e.item;return[s("div",{staticClass:"item-name text-truncate caption",class:{"is-special":i.isSpecial},attrs:{title:i.name}},[t._v(" "+t._s(t.needTrans?t.$t(""+i.name):i.name)+" ")])]}},{key:"item.range",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(t.rangeText[i.range]?t.$t("Common."+t.rangeText[i.range]):""))])]}}],null,!0)})],1),s("div",{staticClass:"mt-10 mb-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.対空射撃回避機体一覧")))]),s("v-card",{staticClass:"pa-3"},[s("v-divider"),s("v-simple-table",{staticClass:"item-master-table",attrs:{dense:"","fixed-header":"",height:"70vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v("id")]),s("th",[t._v(t._s(t.$t("Common.装備名")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.射撃回避")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.加重対空補正")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.艦隊防空補正")))]),s("th",{staticClass:"text-center"},[t._v("wiki")])])]),s("tbody",t._l(t.aaResitItems,(function(e,i){return s("tr",{key:"re-item"+i},[s("td",{staticClass:"text-right"},[t._v(t._s(e.id))]),s("td",{staticClass:"text-left",class:{"is-special":e.isSpecial}},[s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon"+e.iconTypeId+".png",height:"30",width:"30"}})],1),s("div",{staticClass:"ml-1",class:{"is-special":e.isSpecial}},[t._v(" "+t._s(t.needTrans?t.$t(""+e.name):e.name)+" ")])])]),s("td",{staticClass:"text-right"},[t._v(t._s(t.avoidTexts[e.avoidId]?t.$t("Common.回避性能."+t.avoidTexts[e.avoidId]):""))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.avoidC1[e.avoidId]))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.avoidC2[e.avoidId]))]),s("td",{staticClass:"text-center"},[e.isEnemyItem?s("div",[t._v("-")]):s("a",{attrs:{href:t.getWikiURL(e),target:"_blank"}},[t._v("wiki")])])])})),0)]},proxy:!0}])})],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],1)},Y=[],j=s(7783),H=n.Z.extend({name:"ItemMasterList",components:{ShipList:L.Z},data:()=>({rangeText:["","短","中","長","超長","超長+"],keyword:"",ship:new d.Z,isStockOnly:!1,isEnemyMode:!1,types:[],selectedTypes:[],headers:[{text:"id",value:"id",align:"end"},{text:"",value:"iconTypeId",align:"end"},{text:"装備名",value:"name"},{text:"火力",filterable:!1,align:"end",value:"fire"},{text:"雷装",filterable:!1,align:"end",value:"torpedo"},{text:"爆装",filterable:!1,align:"end",value:"bomber"},{text:"対空",filterable:!1,align:"end",value:"antiAir"},{text:"対潜",filterable:!1,align:"end",value:"asw"},{text:"索敵",filterable:!1,align:"end",value:"scout"},{text:"命中",filterable:!1,align:"end",value:"accuracy"},{text:"回避",filterable:!1,align:"end",value:"avoid"},{text:"装甲",filterable:!1,align:"end",value:"armor"},{text:"迎撃",filterable:!1,align:"end",value:"interception"},{text:"対爆",filterable:!1,align:"end",value:"antiBomber"},{text:"半径",filterable:!1,align:"end",value:"radius"},{text:"射程",filterable:!1,align:"end",value:"range"}],items:[],baseItems:[],aaResitItems:[],avoidTexts:o.ZP.AVOID_TYPE.map((t=>t.text)),avoidC1:o.ZP.AVOID_TYPE.map((t=>t.c1)),avoidC2:o.ZP.AVOID_TYPE.map((t=>t.c2)),shipListDialog:!1,shipDialogWidth:1200,itemStock:[]}),mounted(){const t=this.$store.state.items;this.baseItems=t,this.aaResitItems=t.filter((t=>t.avoidId)).concat(),this.aaResitItems.sort(((t,e)=>t.apiTypeId===e.apiTypeId?t.avoidId-e.avoidId:t.apiTypeId-e.apiTypeId)),this.types=[];for(let s=0;s<o.ZP.ITEM_TYPES_ALT.length;s+=1){const t=o.ZP.ITEM_TYPES_ALT[s];this.types.push({id:t.id,text:t.text,types:t.types}),this.selectedTypes.push(t.id)}this.itemStock=this.$store.state.itemStock;const e=this.$store.state.siteSetting;this.isStockOnly=e.isStockOnlyForItemList,this.$store.getters.getExistsTempStock&&(this.itemStock=this.$store.state.tempItemStock,this.isStockOnly=!0),this.avoidTexts[0]="",this.setItems()},computed:{completed(){return this.$store.getters.getCompletedAll},isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=d.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},enabledTypes(){const t=this.baseItems.map((t=>t.apiTypeId)),e=[];for(let s=0;s<this.types.length;s+=1){const i=this.types[s].types;t.find((t=>i.includes(t)))&&e.push(this.types[s])}return e}},watch:{completed(t){t&&this.removeShip()}},methods:{toggleType(t){if(-1===t){const t=o.ZP.ITEM_TYPES_ALT.map((t=>t.id));this.selectedTypes.length===t.length?this.selectedTypes=[]:this.selectedTypes=t}else this.selectedTypes.includes(t)?this.selectedTypes=this.selectedTypes.filter((e=>e!==t)):this.selectedTypes.push(t);this.setItems()},setItems(){const t=[],e=o.ZP.ITEM_TYPES_ALT.filter((t=>this.selectedTypes.includes(t.id))).map((t=>t.types)).flat();for(let s=0;s<this.baseItems.length;s+=1){const i=this.baseItems[s];e.includes(i.apiTypeId)&&(!this.isEnemyMode&&i.isEnemyItem||this.isEnemyMode&&!i.isEnemyItem||this.isStockOnly&&!this.itemStock.find((t=>t.id===i.id))||t.push(i))}this.items=t.sort(((t,e)=>t.id-e.id))},async showShipList(){await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1,this.ship=t.ship;const e=this.$store.state.items;this.baseItems=e.filter((e=>m.Z.isValidItem(t.ship,e))),this.setItems()},removeShip(){this.ship=new d.Z;const t=this.$store.state.items;this.baseItems=t,this.setItems()},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},getWikiURL(t){return j.Z.getWikiURL(t)}}}),K=H,U=(0,h.Z)(K,W,Y,!1,null,"9082fe62",null),G=U.exports;v()(U,{VBtn:g.Z,VCard:f.Z,VCheckbox:y.Z,VDataTable:_.Z,VDialog:V.Z,VDivider:x.Z,VIcon:w.Z,VImg:C.Z,VSimpleTable:R.Z,VTextField:T.Z}),F()(U,{Ripple:O.Z});var X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"d-flex flex-wrap justify-center"},[s("div",{staticClass:"input-container"},[s("div",{staticClass:"ship-input-container"},[s("ship-input",{attrs:{index:0,"handle-show-ship-list":t.showShipList,"handle-show-item-list":t.showItemList,"handle-close-ship":t.removeShip,"handle-show-item-preset":t.showItemPreset,"fix-down":t.ship.fixDown,"rate-down":t.ship.rateDown,"fleet-ros-corr":t.fleet.fleetRosCorr,"hide-active-button":!0},on:{input:t.updateShip},model:{value:t.fleet.ships[0],callback:function(e){t.$set(t.fleet.ships,0,e)},expression:"fleet.ships[0]"}})],1),s("div",{staticClass:"pa-2 status-input-container"},[s("div",[s("v-text-field",{attrs:{label:"Lv",max:t.maxLevel,min:"1",type:"number","append-icon":t.appendIcon,readonly:t.ship.isEmpty},on:{input:t.statusChanged},model:{value:t.level,callback:function(e){t.level=t._n(e)},expression:"level"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Database.対潜改修"),max:"9",min:"0",type:"number","append-icon":t.appendIcon,readonly:t.ship.isEmpty},on:{input:t.statusChanged},model:{value:t.improveAsw,callback:function(e){t.improveAsw=t._n(e)},expression:"improveAsw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.初期対潜"),min:"0",type:"number",readonly:""},on:{input:t.statusChanged},model:{value:t.minAsw,callback:function(e){t.minAsw=t._n(e)},expression:"minAsw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.最大対潜"),min:"0",type:"number",readonly:""},on:{input:t.statusChanged},model:{value:t.maxAsw,callback:function(e){t.maxAsw=t._n(e)},expression:"maxAsw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.装備対潜合計"),readonly:""},model:{value:t.ship.itemAsw,callback:function(e){t.$set(t.ship,"itemAsw",t._n(e))},expression:"ship.itemAsw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.装備ボーナス合計"),readonly:""},model:{value:t.ship.itemBonusStatus.asw,callback:function(e){t.$set(t.ship.itemBonusStatus,"asw",t._n(e))},expression:"ship.itemBonusStatus.asw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.素対潜"),readonly:""},model:{value:t.baseAsw,callback:function(e){t.baseAsw=t._n(e)},expression:"baseAsw"}})],1),s("div",[s("v-text-field",{attrs:{label:t.$t("Extra.表示対潜"),readonly:""},model:{value:t.ship.displayStatus.asw,callback:function(e){t.$set(t.ship.displayStatus,"asw",t._n(e))},expression:"ship.displayStatus.asw"}})],1)])]),s("div",{staticClass:"pa-1 flex-grow-1"},[t.ship.isEmpty?t._e():s("v-card",{staticClass:"mb-3"},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[t._v(t._s(t.$t("Extra.目標対潜値"))+" ( 0 ~ 200 )")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.不足対潜値")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.必要艦娘Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Extra.必要Exp")))])])]),s("tbody",t._l(t.results,(function(e,i){return s("tr",{key:"result_"+i,class:{ok:!e.missingAsw}},[s("td",{staticClass:"py-2",attrs:{width:"180px"}},[s("v-text-field",{attrs:{dense:"","hide-details":"",min:"0",max:"200",type:"number"},on:{input:t.calculate},model:{value:e.targetAsw,callback:function(s){t.$set(e,"targetAsw",t._n(s))},expression:"result.targetAsw"}})],1),s("td",{staticClass:"text-right"},[t._v(t._s(e.missingAsw))]),e.targetAsw<=0?[s("td",{staticClass:"text-right"},[t._v("-")]),s("td",{staticClass:"text-right"},[t._v("-")])]:t.minAsw||t.maxAsw?[s("td",{staticClass:"text-right",class:{"red--text":e.requiredLevel>t.maxLevel}},[t._v(t._s(e.requiredLevel))]),e.requiredLevel>t.maxLevel?s("td",{staticClass:"text-right"},[t._v("-")]):s("td",{staticClass:"text-right"},[t._v(t._s(e.requiredExp?e.requiredExp.toLocaleString():"0"))])]:[s("td",{staticClass:"text-center red--text",attrs:{colspan:"2"}},[t._v(t._s(t.$t("Extra.到達不可")))])]],2)})),0)]},proxy:!0}],null,!1,183242741)})],1),s("div",{staticClass:"d-flex justify-end body-2"},[s("div",[t._v(t._s(t.$t("Extra.参考"))+":")]),s("div",{staticClass:"ml-3"},[s("a",{attrs:{href:"https://wikiwiki.jp/kancolle/%E5%AF%BE%E6%BD%9C%E6%94%BB%E6%92%83#oasw",target:"_blank"}},[t._v(" "+t._s(t.$t("Extra.先制対潜発動条件について"))+" ( wiki ) ")])])])],1)]),t.ship&&t.ship.data.id?s("div",[s("v-divider",{staticClass:"mt-3"}),s("v-simple-table",{staticClass:"text-right",attrs:{dense:"","fixed-header":"",height:"64vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v("Lv")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Extra.必要Exp")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.対潜")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.索敵")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.回避")))])])]),s("tbody",t._l(t.maxLevel,(function(e){return s("tr",{key:"all_level_"+e,staticClass:"level-status-list",class:{last:e===t.maxLevel}},[s("td",{staticClass:"level-td"},[t._v(t._s(t.maxLevel+1-e))]),s("td",{staticClass:"level-td"},[t._v(t._s(t.expResults[e-1].toLocaleString()))]),s("td",{class:{increase:t.aswResults[e]&&t.aswResults[e-1]-t.aswResults[e]}},[t._v(t._s(t.aswResults[e-1]))]),s("td",{class:{increase:t.scoutResults[e]&&t.scoutResults[e-1]-t.scoutResults[e]}},[t._v(t._s(t.scoutResults[e-1]))]),s("td",{class:{increase:t.avoidResults[e]&&t.avoidResults[e-1]-t.avoidResults[e]}},[t._v(t._s(t.avoidResults[e-1]))])])})),0)]},proxy:!0}],null,!1,3265554219)})],1):t._e(),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.itemDialogWidth},model:{value:t.itemListDialog,callback:function(e){t.itemListDialog=e},expression:"itemListDialog"}},[s("item-list",{ref:"itemList",attrs:{"handle-equip-item":t.equipItem,"handle-close":t.closeDialog,"handle-change-width":t.changeWidth}})],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.itemPresetDialog,callback:function(e){t.itemPresetDialog=e},expression:"itemPresetDialog"}},[t.itemPresetDialog?s("item-preset-component",{attrs:{"handle-expand-item-preset":t.expandItemPreset,"handle-close":t.closeDialog},model:{value:t.tempShip,callback:function(e){t.tempShip=e},expression:"tempShip"}}):t._e()],1)],1)},z=[],J=s(4840),tt=s(8338),et=s(285),st=s(4026),it=s(7525),at=n.Z.extend({name:"RequiredAswCalculator",components:{ShipInput:J.Z,ShipList:L.Z,ItemList:tt.Z,ItemPresetComponent:et.Z},data:()=>({fleet:new st.Z,shipListDialog:!1,itemListDialog:!1,itemDialogTargetIndex:0,itemDialogWidth:1200,shipDialogWidth:1200,itemPresetDialog:!1,tempShip:void 0,tempShipListDialog:!1,tempShipList:[],level:1,improveAsw:0,minAsw:0,maxAsw:0,results:[],maxLevel:o.ZP.MAX_LEVEL,aswResults:[],scoutResults:[],avoidResults:[],expResults:[]}),mounted(){const t=this.$store.state.siteSetting;for(let e=0;e<10;e+=1)this.results.push({targetAsw:0,missingAsw:0,requiredLevel:0,requiredExp:0}),e<t.requiredAswTargets.length&&(this.results[e].targetAsw=t.requiredAswTargets[e]);t.requiredAswTargets.length||(this.results[0].targetAsw=100,this.results[1].targetAsw=85,this.results[2].targetAsw=70,this.results[3].targetAsw=65,this.results[4].targetAsw=60,this.results[5].targetAsw=50)},computed:{ship(){return this.fleet.ships[0]},baseAsw(){return this.ship.asw-this.improveAsw},appendIcon(){return this.ship.isEmpty?"":"mdi-pencil"}},watch:{fleet(){this.calculate()}},methods:{statusChanged(){const t=A.Z.getStatusFromLevel(this.level,this.ship.data.maxAsw,this.ship.data.minAsw);this.level=Math.max(Math.min(this.maxLevel,this.level),1),this.fleet=new st.Z({ships:[new A.Z({ship:this.fleet.ships[0],level:this.level,asw:t+this.improveAsw})]})},updateShip(){this.fleet=new st.Z({ships:[new A.Z({ship:this.fleet.ships[0]})]}),this.level=this.ship.level,this.improveAsw=this.ship.improveAsw,this.minAsw=this.ship.data.minAsw,this.maxAsw=this.ship.data.maxAsw},async showShipList(){await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},async showItemList(t,e){this.itemDialogTargetIndex=e,await(this.itemListDialog=!0),this.$refs.itemList.initialFilter(this.ship,e,this.ship.items)},closeDialog(){this.itemListDialog=!1,this.shipListDialog=!1,this.itemPresetDialog=!1},changeWidth(t){this.itemDialogWidth=t},changeShipWidth(t){this.shipDialogWidth=t},putShip(t){const{ship:e}=t;this.shipListDialog=!1;const s=this.ship,i=s.items.concat(),a=[];for(let o=0;o<e.slotCount;o+=1){const t=e.slots[o]>0?e.slots[o]:0;if(o<i.length){const s=i[o],n=s.data;m.Z.isValidItem(e,n,o)?a.push(new it.Z({item:s,slot:t})):a.push(new it.Z({slot:t}))}else a.push(new it.Z({slot:t}))}const n=s.exItem.data;let l;l=n.id&&m.Z.isValidItem(e,n,o.ZP.EXPAND_SLOT_INDEX,s.exItem.remodel)?new it.Z({master:n,remodel:s.exItem.remodel}):new it.Z;const r=new A.Z({master:e,items:a,exItem:l,isActive:s.isActive,hp:t.hp,level:t.level,luck:t.luck,asw:t.asw+A.Z.getStatusFromLevel(t.level,e.maxAsw,e.minAsw),area:t.area});this.fleet=new st.Z({ships:[r]}),this.level=r.level,this.improveAsw=r.improveAsw,this.minAsw=r.data.minAsw,this.maxAsw=r.data.maxAsw},equipItem(t){const e=t.data;this.itemListDialog=!1;const s=this.itemDialogTargetIndex,{ship:i}=this;let a;const n=i.items.concat(),l=this.$store.state.siteSetting.planeInitialLevels;let r=0;if(l){const t=l.find((t=>t.id===e.apiTypeId));t&&(r=t.level)}if(s<n.length)41===t.data.apiTypeId&&90===i.data.type2?n[s]=new it.Z({item:n[s],master:e,remodel:t.remodel,level:r,slot:1}):n[s]=new it.Z({item:n[s],master:e,remodel:t.remodel,level:r}),a=new A.Z({ship:i,items:n});else{if(s!==o.ZP.EXPAND_SLOT_INDEX)return;{const s={ship:i,exItem:new it.Z({item:i.exItem,master:e,remodel:t.remodel})};a=new A.Z(s)}}this.fleet=new st.Z({ships:[a]})},removeShip(){this.fleet=new st.Z},showItemPreset(){this.tempShip=(0,P.cloneDeep)(this.ship),this.itemPresetDialog=!0},expandItemPreset(t){const e=this.$store.state.items,s=[];for(let o=0;o<t.items.length;o+=1){const i=e.find((e=>e.id===t.items[o].id));i?s.push(new it.Z({master:i,remodel:t.items[o].remodel})):s.push(new it.Z)}const i=this.ship,a=i.data,n=i.items.concat();for(let o=0;o<n.length;o+=1)if(o<s.length){const t=s[o];if(t&&m.Z.isValidItem(a,t.data,o)){const e=this.$store.state.siteSetting.planeInitialLevels;let s=0;if(e){const i=e.find((e=>e.id===t.data.apiTypeId));i&&(s=i.level)}138===t.data.id&&90===a.type2?n[o]=new it.Z({master:t.data,item:n[o],level:s,remodel:t.remodel,slot:1}):n[o]=new it.Z({master:t.data,item:n[o],level:s,remodel:t.remodel})}else n[o]=new it.Z}const l=e.find((e=>e.id===t.exItem.id));let r;l&&m.Z.isValidItem(a,l,o.ZP.EXPAND_SLOT_INDEX,t.exItem.remodel)&&(r=new it.Z({master:l,remodel:t.exItem.remodel}));const d=new A.Z({ship:i,items:n,exItem:r});this.fleet=new st.Z({ships:[d]}),this.level=d.level,this.improveAsw=d.improveAsw,this.minAsw=d.data.minAsw,this.maxAsw=d.data.maxAsw},calculate(){const t=this.results.concat();for(let a=0;a<t.length;a+=1){const e=t[a];e.targetAsw=Math.max(Math.min(e.targetAsw,200),0),e.missingAsw=Math.max(e.targetAsw-this.ship.displayStatus.asw,0),e.requiredLevel=0,e.requiredExp=0;const s=this.ship.displayStatus.asw-A.Z.getStatusFromLevel(this.level,this.maxAsw,this.minAsw);if(e.targetAsw&&this.ship.data.id&&!(e.targetAsw<this.minAsw)&&(e.requiredLevel=A.Z.getRequiredLevel(e.targetAsw-s,this.maxAsw,this.minAsw),e.requiredLevel>this.level)){const t=o.ZP.LEVEL_BORDERS.find((t=>t.lv===e.requiredLevel)),s=o.ZP.LEVEL_BORDERS.find((t=>t.lv===this.level));t&&(e.requiredExp=t.req-(s?s.req:0))}}this.results=t,this.aswResults=[],this.scoutResults=[],this.avoidResults=[],this.expResults=[];const e=o.ZP.LEVEL_BORDERS.find((t=>t.lv===this.level)),s=this.ship.data;for(let a=this.maxLevel;a>0;a-=1)if(this.aswResults.push(A.Z.getStatusFromLevel(a,s.maxAsw,s.minAsw)),this.scoutResults.push(A.Z.getStatusFromLevel(a,s.maxScout,s.minScout)),this.avoidResults.push(A.Z.getStatusFromLevel(a,s.maxAvoid,s.minAvoid)),this.level<a&&e){const t=o.ZP.LEVEL_BORDERS.find((t=>t.lv===a));this.expResults.push(t?t.req-e.req:0)}else this.expResults.push(0);const i=this.$store.state.siteSetting;i.requiredAswTargets=t.map((t=>t.targetAsw)),this.$store.dispatch("updateSetting",i)}}}),nt=at,lt=(0,h.Z)(nt,X,z,!1,null,"af16b034",null),rt=lt.exports;v()(lt,{VCard:f.Z,VDialog:V.Z,VDivider:x.Z,VSimpleTable:R.Z,VTextField:T.Z});var ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"d-flex align-center mb-3"},[s("v-btn",{attrs:{color:"teal",dark:""},on:{click:function(e){return t.showEnemyList()}}},[t._v(t._s(t.$t("Extra.検索する敵艦を選択")))]),t.targetEnemy.data.id?s("div",{staticClass:"ml-3 d-flex"},[s("div",{staticClass:"align-self-center"},[s("v-img",{attrs:{src:"./img/ship/"+t.targetEnemy.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"flex-grow-1"},[s("div",{staticClass:"d-flex caption flex-wrap"},[s("div",{staticClass:"enemy-id ml-2 primary--text"},[t._v(" id "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.targetEnemy.data.id))])]),s("div",{staticClass:"ml-2"},[s("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.耐久")))]),s("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.targetEnemy.data.hp))]),s("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲")))]),s("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.targetEnemy.actualArmor))])])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"enemy-name ml-2 text-truncate"},[t._v(t._s(t.getEnemyName(t.targetEnemy.data.name)))])])])]):t._e()],1),t.targetEnemy.data.id?s("div",{staticClass:"my-3"},[s("v-text-field",{attrs:{dense:"","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1):t._e(),s("v-divider"),s("v-data-table",{attrs:{dense:"","fixed-header":"",height:"44vh","multi-sort":"",search:t.keyword,headers:t.headers,items:t.hitCells,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100,150]}},scopedSlots:t._u([{key:"header.area",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Enemies."+s.text)))]}},{key:"header.name",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Enemies."+s.text)))]}},{key:"header.node",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Enemies."+s.text)))]}},{key:"header.detail",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Enemies."+s.text)))]}},{key:"header.type",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Enemies."+s.text)))]}},{key:"header.level",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Difficulty."+s.text)))]}},{key:"header.radius",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.data",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Extra."+s.text)))]}},{key:"item.name",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(i.name))])]}},{key:"item.level",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(t.levelText(i.level)))])]}},{key:"item.type",fn:function(e){var i=e.item;return[s("div",{staticClass:"caption"},[t._v(t._s(t.getCellName(i.type)))])]}},{key:"item.data",fn:function(e){var i=e.item;return[s("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return e.stopPropagation(),t.showMap(i)}}},[s("v-icon",[t._v("mdi-information-outline")])],1)]}}],null,!0)}),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"1200"},model:{value:t.enemyListDialog,callback:function(e){t.enemyListDialog=e},expression:"enemyListDialog"}},[s("enemy-list",{attrs:{"handle-decide-enemy":t.putEnemy,handleClose:t.closeEnemyList}})],1),s("v-dialog",{attrs:{width:"1100",transition:"scroll-y-transition"},on:{input:t.toggleDetailDialog},model:{value:t.detailDialog,callback:function(e){t.detailDialog=e},expression:"detailDialog"}},[t.destroyDialog?t._e():s("enemy-detail",{attrs:{fleet:t.selectedFleet,"handle-close":t.closeDetail}})],1),s("v-dialog",{attrs:{width:"580"},model:{value:t.expandMapDialog,callback:function(e){t.expandMapDialog=e},expression:"expandMapDialog"}},[t.selectedCell?s("v-card",{staticClass:"py-6 px-3"},[s("div",{staticClass:"text-center body-2"},[t._v("( "+t._s(t.selectedCell.area)+" ) "+t._s(t.selectedCell.name))]),s("div",{staticClass:"my-3"},[s("v-img",{staticClass:"mx-auto",attrs:{width:"467",height:"268",src:"https://res.cloudinary.com/aircalc/kc-web/maps/"+t.selectedArea+".webp"}})],1),s("div",{staticClass:"d-flex align-center body-2"},[s("div",{staticClass:"text--secondary caption"},[t._v(t._s(t.$t("Enemies.セル")))]),s("div",{staticClass:"ml-1"},[t._v(t._s(t.selectedCell.node))]),s("div",{staticClass:"ml-3 text--secondary caption"},[t._v(t._s(t.$t("Enemies.戦闘形式")))]),s("div",{staticClass:"ml-1"},[t._v(t._s(t.getCellName(t.selectedCell.type)))]),t.selectedCell.level?s("div",{staticClass:"ml-3 text--secondary caption"},[t._v(t._s(t.$t("Difficulty.難易度")))]):t._e(),t.selectedCell.level?s("div",{staticClass:"ml-1"},[t._v(t._s(t.levelText(t.selectedCell.level)))]):t._e(),s("div",{staticClass:"ml-auto d-flex"},[s("div",{staticClass:"text--secondary align-self-center"},[t._v(t._s(t.$t("Enemies.詳細")))]),s("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(e){return e.stopPropagation(),t.showEnemyFleetDetail.apply(null,arguments)}}},[s("v-icon",[t._v("mdi-information-outline")])],1)],1)]),s("div",[s("div",{class:{"enemies-container":t.selectedFleet.isUnion}},[t.selectedFleet.isUnion?s("div",{staticClass:"mx-1"},t._l(t.selectedFleet.escortEnemies,(function(e,i){return s("div",{key:i,staticClass:"d-flex enemy-info",on:{mouseenter:function(s){return t.bootTooltip(e,s)},mouseleave:t.clearTooltip,focus:function(s){return t.bootTooltip(e,s)},blur:t.clearTooltip}},[s("div",{staticClass:"align-self-center mr-1"},[s("v-img",{attrs:{src:"./img/ship/"+e.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"align-self-center flex-grow-1"},[s("div",{staticClass:"d-flex text-id"},[s("div",{staticClass:"primary--text"},[t._v("id "+t._s(e.data.id))]),e.fullAirPower?s("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+" "+t._s(e.fullAirPower))]):t._e(),e.data.isUnknown&&e.fullLBAirPower?s("div",[t._v("?")]):t._e(),e.fullLBAirPower!==e.fullAirPower?s("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+": ("+t._s(e.fullLBAirPower)+")")]):t._e()]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"text-name text-truncate",class:{"orange--text text--darken-2":e.data.isUnknown}},[t._v(" "+t._s(t.getEnemyName(e.data.name))+" ")])])])])})),0):t._e(),s("div",{staticClass:"mx-1"},t._l(t.selectedFleet.mainEnemies,(function(e,i){return s("div",{key:i,staticClass:"d-flex enemy-info",on:{mouseenter:function(s){return t.bootTooltip(e,s)},mouseleave:t.clearTooltip,focus:function(s){return t.bootTooltip(e,s)},blur:t.clearTooltip}},[s("div",{staticClass:"align-self-center mr-1"},[s("v-img",{attrs:{src:"./img/ship/"+e.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"align-self-center flex-grow-1"},[s("div",{staticClass:"d-flex text-id"},[s("div",{staticClass:"primary--text"},[t._v("id "+t._s(e.data.id))]),e.fullAirPower?s("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+" "+t._s(e.fullAirPower))]):t._e(),e.fullLBAirPower!==e.fullAirPower?s("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+": ("+t._s(e.fullLBAirPower)+")")]):t._e(),e.data.isUnknown&&e.fullLBAirPower?s("div",{staticClass:"ml-1"},[t._v("?")]):t._e(),t.selectedFleet.isUnion?t._e():s("div",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.耐久"))+" "+t._s(e.data.hp))]),t.selectedFleet.isUnion?t._e():s("div",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲"))+" "+t._s(e.actualArmor))])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"text-name text-truncate",class:{"orange--text text--darken-2":e.data.isUnknown}},[t._v(" "+t._s(t.getEnemyName(e.data.name))+" ")])])]),t.selectedFleet.isUnion?t._e():s("div",{staticClass:"item-preview"},t._l(e.items,(function(i,a){return s("div",{key:a,staticClass:"mr-4 item-image-area"},[e.items.length<5?[i.data.iconTypeId?s("v-img",{attrs:{src:"./img/type/icon"+i.data.iconTypeId+".png",height:"30",width:"30"}}):t._e(),i.data.isPlane?s("div",{staticClass:"slot"},[t._v(t._s(i.fullSlot))]):t._e()]:[i.data.iconTypeId?s("v-img",{attrs:{src:"./img/type/icon"+i.data.iconTypeId+".png",height:"24",width:"24"}}):t._e(),i.data.isPlane?s("div",{staticClass:"slot tiny"},[t._v(t._s(i.fullSlot))]):t._e()]],2)})),0)])})),0)])])]):t._e()],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("enemy-tooltip",{model:{value:t.tooltipEnemy,callback:function(e){t.tooltipEnemy=e},expression:"tooltipEnemy"}})],1)],1)},dt=[],mt=s(3593),ct=s(8737),ut=s(2174),ht=s(2399),pt=s(5722),vt=s(6889),gt=n.Z.extend({name:"EnemySearcher",components:{EnemyList:mt.Z,EnemyDetail:ct.Z,EnemyTooltip:ut.Z},data:()=>({keyword:"",worlds:[],areas:[],allCells:[],unsubscribe:void 0,enemyListDialog:!1,targetEnemy:new pt.Z,items:[],hitCells:[],headers:[{text:"海域",value:"area"},{text:"海域名",value:"name"},{text:"セル",value:"node"},{text:"詳細",value:"detail",filterable:!1},{text:"戦闘形式",value:"type",filterable:!1},{text:"難易度",value:"level",filterable:!1},{text:"半径",value:"radius",filterable:!1,align:"end"},{text:"艦隊詳細",value:"data",align:"center",sortable:!1,filterable:!1}],selectedCell:void 0,selectedArea:11,expandMapDialog:!1,selectedFleet:new vt.Z,detailDialog:!1,destroyDialog:!1,enabledTooltip:!1,tooltipTimer:void 0,tooltipEnemy:new pt.Z,tooltipX:0,tooltipY:0}),mounted(){const t=this.$store.state.cells;this.items=this.$store.state.items,this.worlds=this.$store.state.worlds,this.areas=this.$store.state.maps,t.length?this.initCells(t):(this.$store.dispatch("loadCellData"),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setCells"===t.type&&this.initCells(e.cells)})))},computed:{levelText(){return t=>{const e=["","丁","丙","乙","甲"][t];return e?`${this.$t(`Difficulty.${e}`)}`:""}},getCellName(){return t=>{const e=o.ZP.CELL_TYPES.find((e=>e.value===t));return e?this.$t(`Common.${e.text}`):""}}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initCells(t){for(let e=0;e<t.length;e+=1)this.allCells.push(t[e])},showEnemyList(){this.enemyListDialog=!0},putEnemy(t){t&&t.id&&(this.targetEnemy=pt.Z.createEnemyFromMaster((0,P.cloneDeep)(t),!1,this.items),this.enemyListDialog=!1),this.search()},closeEnemyList(){this.enemyListDialog=!1},closeDetail(){this.detailDialog=!1},toggleDetailDialog(){this.detailDialog?this.destroyDialog=!1:setTimeout((()=>{this.destroyDialog=!0}),100)},getEnemyName(t){const e=this.$store.state.siteSetting;if(t&&"ja"!==this.$i18n.locale&&!e.nameIsNotTranslate){const e=ht.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t||""},search(){const t=this.allCells,e=[],s=this.targetEnemy.data.id-1500;if(s<=0)this.hitCells=[];else{for(let i=0;i<t.length;i+=1){const a=t[i];if(a.enemies.includes(s)){const t=Math.floor(a.area/10),s=this.worlds.find((e=>e.world===t)),i=this.areas.find((t=>t.area===a.area));let n="";s&&i&&(n=t<10?`${s.name.substring(2)} ${i.name}`:`${s.name} ${i.name}`);const l=a.area%10,r=`${t}-${l}`;e.push({area:r,name:n,detail:a.detail?`${this.$t(`Enemies.${a.detail}`)}`:"",level:a.level,radius:a.radius?a.radius[0]:0,type:a.cellType,node:a.node,data:a})}}this.hitCells=e}},showEnemyFleetDetail(){this.detailDialog=!0,this.destroyDialog=!1},showMap(t){this.selectedCell=t;const e=t.data,s=this.$store.getters.getEnemies,i=e.cellType===o.d7.GRAND,a=e.enemies.map((t=>t+1500)),n=[];for(let l=0;l<e.enemies.length;l+=1){const t=a[l];n.push(pt.Z.createEnemyFromMasterId(t,i&&l>=6,s,this.items))}this.selectedFleet=new vt.Z({enemies:n,formation:e.formation,cellType:e.cellType,radius:e.radius,area:e.area}),this.selectedArea=e.area,this.expandMapDialog=!0},bootTooltip(t,e){if(!t.data.id)return;const s=this.$store.state.siteSetting,i=e.target.getElementsByClassName("text-id")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const s=i.getBoundingClientRect();this.tooltipX=e.clientX,this.tooltipY=s.y+s.height,this.tooltipEnemy=t,this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),ft=gt,yt=s(2082),_t=(0,h.Z)(ft,ot,dt,!1,null,"13ad9f1a",null),xt=_t.exports;v()(_t,{VBtn:g.Z,VCard:f.Z,VDataTable:_.Z,VDialog:V.Z,VDivider:x.Z,VIcon:w.Z,VImg:C.Z,VTextField:T.Z,VTooltip:yt.Z});var wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex"},[s("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",[t._v(t._s(t.$t("Extra.未達成")))]),s("v-tab",[t._v(t._s(t.$t("Extra.達成済")))])],1),s("div",{staticClass:"ml-3 align-self-center"},[s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.confirmReset()}}},[t._v(t._s(t.$t("Common.リセット")))])],1)],1),s("v-divider"),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("div",{staticClass:"d-flex align-center mt-3 pr-5 flex-wrap"},[s("div",{staticClass:"ml-3"},[s("v-select",{attrs:{"prepend-inner-icon":"mdi-magnify",items:t.questTypes,"item-text":function(e){return""+t.$t("Extra."+e.text)},"hide-details":"",dense:""},model:{value:t.questType,callback:function(e){t.questType=e},expression:"questType"}})],1),s("div",{staticClass:"ml-auto mr-12"},[s("div",{staticClass:"d-flex justify-end"},[s("div",{staticClass:"mr-3"},[t._v(t._s(t.$t("Extra.戦果砲残弾合計")))]),s("div",{staticClass:"total-ranking-point"},[t._v(t._s(t.totalRankingPoint))])]),s("div",{staticClass:"d-flex justify-end caption"},[s("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.クォータリー")))]),s("div",[t._v(t._s(t.totalQuarterlyRankingPoint))]),s("div",{staticClass:"mx-2"},[t._v("/")]),s("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.イヤーリー")))]),s("div",[t._v(t._s(t.totalYearlyRankingPoint))]),s("div",{staticClass:"mx-2"},[t._v("/")]),s("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.単発")))]),s("div",[t._v(t._s(t.totalOnceRankingPoint))])])])]),s("div",{staticClass:"pa-2"},[s("v-expansion-panels",{attrs:{multiple:""}},t._l(t.uncompletedQuests,(function(e,i){return s("v-expansion-panel",{directives:[{name:"show",rawName:"v-show",value:"All"===t.questType||e.type===t.questType,expression:"questType === 'All' || quest.type === questType"}],key:i},[s("v-expansion-panel-header",{staticClass:"py-3"},[s("div",{staticClass:"mr-3"},[s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"quest-icon"},[s("v-img",{attrs:{src:"./img/util/sortie_quest.png",width:"48",height:"48"}}),s("div",{staticClass:"quest-type-icon"},["Yearly"===e.type?s("v-img",{attrs:{src:"./img/util/yearly_"+e.resetMonth+".png",width:"42",height:"43"}}):"Quarterly"===e.type?s("v-img",{attrs:{src:"./img/util/quarterly.png",width:"41",height:"40"}}):"Once"===e.type?s("v-img",{attrs:{src:"./img/util/once.png",width:"41",height:"40"}}):t._e()],1)],1),s("div",{staticClass:"ml-4 flex-grow-1"},[s("div",{staticClass:"quest-title"},[s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"flex-grow-1 mr-3"},[t._v(" "+t._s(t.$t("Extra."+e.name))+" ")]),"Once"!==e.type?[s("div",{staticClass:"ml-auto d-flex align-center text-no-wrap"},[s("div",{staticClass:"mr-1 caption"},[t._v(t._s(t.$t("Extra.あと")))]),s("div",[t._v(t._s(t.timeRemaining[i]))])])]:t._e()],2)]),s("div",{staticClass:"bar-container"},[s("div",[s("v-progress-linear",{attrs:{rounded:"",value:e.getProgressValue,color:t.getBarColor(e.getProgressValue)}})],1),s("div",{staticClass:"progress-count"},[t._v(t._s(e.getCompletedCount)+" / "+t._s(e.requires.length))])])]),s("div",{staticClass:"ml-6 d-none d-sm-block"},[s("div",{staticClass:"mb-1 d-flex align-center"},[s("v-img",{attrs:{src:"./img/util/fuel.png",height:"18",width:"18"}}),s("div",{staticClass:"resource-reward"},[t._v(t._s(e.fuel))]),s("v-img",{attrs:{src:"./img/util/steel.png",height:"18",width:"18"}}),s("div",{staticClass:"resource-reward"},[t._v(t._s(e.steel))])],1),s("div",{staticClass:"d-flex align-center"},[s("v-img",{attrs:{src:"./img/util/ammo.png",height:"18",width:"18"}}),s("div",{staticClass:"resource-reward"},[t._v(t._s(e.ammo))]),s("v-img",{attrs:{src:"./img/util/bauxite.png",height:"18",width:"18"}}),s("div",{staticClass:"resource-reward"},[t._v(t._s(e.bauxite))])],1)]),s("div",{staticClass:"ml-3"},[s("v-img",{attrs:{src:"./img/util/ranking_point.png",height:"50",width:"50"}})],1),s("div",{staticClass:"ranking-point-reward"},[t._v(t._s(e.rankingPoint))])])])]),s("v-expansion-panel-content",[s("v-divider"),s("div",{staticClass:"d-flex flex-wrap"},t._l(e.requires,(function(e,i){return s("div",{key:"req"+i,staticClass:"check-container"},[s("v-checkbox",{attrs:{"hide-details":"",label:e.area+" "+t.$t("Extra."+e.rank+"勝利")},on:{change:t.updateState},model:{value:e.isComplete,callback:function(s){t.$set(e,"isComplete",s)},expression:"check.isComplete"}})],1)})),0),s("div",{staticClass:"mt-6 d-flex align-center"},[100===e.getProgressValue?s("v-btn",{attrs:{color:"primary"},on:{click:function(s){return t.confirmComplete(e)}}},[t._v(t._s(t.$t("Extra.達成")))]):s("v-btn",{attrs:{depressed:"",color:"secondary"},on:{click:function(s){return t.confirmComplete(e)}}},[t._v(t._s(t.$t("Extra.達成")))]),s("div",{staticClass:"ml-auto caption"},[t._v(t._s(t.$t("Extra.wikiで開く"))+":")]),s("v-btn",{attrs:{text:"",color:"info",href:"https://wikiwiki.jp/kancolle/%E4%BB%BB%E5%8B%99#id-"+e.id,target:"_blank"}},[t._v("Japan wiki")]),s("v-btn",{attrs:{text:"",color:"info",href:"https://en.kancollewiki.net/Quests#"+e.id,target:"_blank"}},[t._v("English wiki")])],1)],1)],1)})),1)],1)]),s("v-tab-item",{staticClass:"pt-3"},t._l(t.completedQuests,(function(e,i){return s("v-card",{key:i,staticClass:"py-3 px-6 mx-3 my-1"},[s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"flex-grow-1"},[s("div",{staticClass:"quest-title"},[s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"flex-grow-1 mr-3"},[t._v(" "+t._s(t.$t("Extra."+e.name))+" ")]),s("div",{staticClass:"ml-auto text-no-wrap caption"},[s("div",{staticClass:"d-flex align-center justify-space-between"},[s("div",{staticClass:"mr-1 caption"},[t._v(t._s(t.$t("Extra.達成日")))]),s("div",[t._v(t._s(new Date(e.completedDate).toLocaleString(t.$vuetify.lang.current)))])])])])]),s("div",{staticClass:"bar-container"},[s("div",[s("v-progress-linear",{attrs:{rounded:"",value:"100",color:"success"}})],1),s("div",{staticClass:"progress-count"},[t._v(t._s(e.requires.length)+" / "+t._s(e.requires.length))])])]),s("div",{staticClass:"ml-6"},[s("v-img",{attrs:{src:"./img/util/ranking_point.png",height:"50",width:"50"}})],1),s("div",{staticClass:"ranking-point-reward"},[t._v(t._s(e.rankingPoint))])])])})),1)],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"500"},model:{value:t.confirmCompleteDialog,callback:function(e){t.confirmCompleteDialog=e},expression:"confirmCompleteDialog"}},[t.completeTargetQuest.id?s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[s("div",{staticClass:"my-3 py-3"},[t._v(t._s(t.$t("Extra."+t.completeTargetQuest.name)))]),s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Extra.この任務を達成状態にしますか？")))]),s("div",{staticClass:"caption mt-2"},[t._v("※ "+t._s(t.$t("Extra.達成した任務は、達成済タブに表示されるようになります。")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.completeQuest()}}},[t._v(t._s(t.$t("Common.OK")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmCompleteDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1):t._e()],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"440"},model:{value:t.confirmResetDialog,callback:function(e){t.confirmResetDialog=e},expression:"confirmResetDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"body-2 ma-6"},[t._v(" "+t._s(t.$t("Extra.全ての任務進捗をリセットします。よろしいですか？"))+" ")]),s("v-divider",{staticClass:"my-3"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"error",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetAllQuest()}}},[t._v(t._s(t.$t("Common.OK")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmResetDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),s("v-snackbar",{attrs:{color:"success",top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[s("v-btn",t._b({attrs:{icon:""},on:{click:function(e){t.snackBar=!1}}},"v-btn",i,!1),[s("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},Ct=[],St=s(7327);class bt{constructor(){(0,St.Z)(this,"id",""),(0,St.Z)(this,"name",""),(0,St.Z)(this,"type","Once"),(0,St.Z)(this,"fuel",0),(0,St.Z)(this,"ammo",0),(0,St.Z)(this,"steel",0),(0,St.Z)(this,"bauxite",0),(0,St.Z)(this,"rankingPoint",0),(0,St.Z)(this,"requires",[]),(0,St.Z)(this,"isCompleted",!1),(0,St.Z)(this,"resetMonth",6),(0,St.Z)(this,"closingDateTime",0),(0,St.Z)(this,"resetDateTime",0),(0,St.Z)(this,"completedDate",0)}get getCompletedCount(){return this.requires.filter((t=>t.isComplete)).length}get getProgressValue(){return Math.floor(this.getCompletedCount/this.requires.length*100)}static toJSTDate(t){return new Date(t.getTime()+60*((new Date).getTimezoneOffset()+540)*1e3)}static getResetDateTime(t,e){const s=bt.toJSTDate(e),i=s.getMonth()+1;let a=0;if("Quarterly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))a=new Date(`${s.getFullYear()+1}-03-01T05:00:00+0900`).getTime();else{const t=i+(3-i%3);a=new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t}`,2,"0")}-01T05:00:00+0900`).getTime()}else if("Monthly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))a=new Date(`${s.getFullYear()+1}-01-01T05:00:00+0900`).getTime();else{const t=i+1;a=new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t}`,2,"0")}-01T05:00:00+0900`).getTime()}else if("Yearly"===t.type){const e=new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime();a=s.getTime()<e?e:new Date(`${s.getFullYear()+1}-${(0,P.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime()}return a}static getClosingDateTime(t,e){const s=bt.toJSTDate(e),i=s.getMonth()+1,a=864e5;let n=0;if("Quarterly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))n=new Date(`${s.getFullYear()+1}-03-01T13:59:59+0900`).getTime()-a;else{const t=i+(3-i%3);n=new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t}`,2,"0")}-01T13:59:59+0900`).getTime()-a}else if("Yearly"===t.type){const e=new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime();n=s.getTime()<e?new Date(`${s.getFullYear()}-${(0,P.padStart)(`${t.resetMonth}`,2,"0")}-01T04:59:59+0900`).getTime():new Date(`${s.getFullYear()+1}-${(0,P.padStart)(`${t.resetMonth}`,2,"0")}-01T04:59:59+0900`).getTime()}return n}}var kt=n.Z.extend({name:"QuestManager",components:{},data:()=>({tab:0,allQuests:[],questTypes:[{value:"All",text:"全て"},{value:"Quarterly",text:"クォータリー"},{value:"Yearly",text:"イヤーリー"},{value:"Once",text:"単発"},{value:"Weekly",text:"ウィークリー"},{value:"Monthly",text:"マンスリー"}],questType:"All",confirmCompleteDialog:!1,confirmResetDialog:!1,completeTargetQuest:new bt,snackBar:!1,snackBarText:"",timeRemaining:[],intervalId:0}),mounted(){this.initializeQuests()},computed:{uncompletedQuests(){return this.allQuests.filter((t=>!t.isCompleted))},completedQuests(){return this.allQuests.filter((t=>t.isCompleted))},totalRankingPoint(){return this.totalQuarterlyRankingPoint+this.totalYearlyRankingPoint+this.totalOnceRankingPoint},totalQuarterlyRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Quarterly"===t.type)).map((t=>t.rankingPoint));return(0,P.sum)(t)??0},totalYearlyRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Yearly"===t.type)).map((t=>t.rankingPoint));return(0,P.sum)(t)??0},totalOnceRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Once"===t.type)).map((t=>t.rankingPoint));return(0,P.sum)(t)??0},getBarColor(){return t=>0===t?"grey":t<50?"amber":t<75?"lime":t<80?"light-green":t<100?"green":"light-blue"}},watch:{},methods:{initializeQuests(t=!1){this.intervalId&&window.clearInterval(this.intervalId);const e=[],s=this.$store.state.quests;for(let i=0;i<o.ZP.RANKING_POINT_QUESTS.length;i+=1){const a=o.ZP.RANKING_POINT_QUESTS[i],n=new bt;n.id=a.id,n.name=a.name,n.type=a.type,n.fuel=a.fuel,n.ammo=a.ammo,n.steel=a.steel,n.bauxite=a.bauxite,n.rankingPoint=a.rankingPoint,n.resetMonth=a.resetMonth??6;for(let t=0;t<a.requires.length;t+=1)n.requires.push({area:a.requires[t].area,rank:a.requires[t].rank,isComplete:!1});if(!t){const t=s.find((t=>t.id===n.id));if(t){n.isCompleted=!!t.isCompleted;for(let e=0;e<t.requires.length;e+=1){const s=t.requires[e];n.requires[e]?n.requires[e].isComplete=!!s.isComplete:n.requires.push({area:s.area,rank:s.rank,isComplete:s.isComplete})}n.isCompleted&&(n.completedDate=t.completedDate),n.closingDateTime=t.closingDateTime,n.resetDateTime=t.resetDateTime}}const l=this.getToday(),r=bt.getClosingDateTime(n,l),d=bt.getResetDateTime(n,l);if(n.closingDateTime&&r===n.closingDateTime||(n.closingDateTime=r),"Once"!==n.type&&(!n.resetDateTime||d!==n.resetDateTime)){n.requires=[];for(let t=0;t<a.requires.length;t+=1)n.requires.push({area:a.requires[t].area,rank:a.requires[t].rank,isComplete:!1});n.isCompleted=!1,n.resetDateTime=d}e.push(n)}this.allQuests=e,this.$store.dispatch("updateQuests",this.allQuests),this.setTimeRemaining(),this.intervalId=window.setInterval((()=>{this.setTimeRemaining()}),1e3)},getToday(){return new Date},updateState(){this.$store.dispatch("updateQuests",this.allQuests)},confirmComplete(t){this.completeTargetQuest=t,this.confirmCompleteDialog=!0},completeQuest(){const t=this.allQuests.find((t=>t.id===this.completeTargetQuest.id));t&&(t.isCompleted=!0,t.completedDate=this.getToday().getTime(),this.confirmCompleteDialog=!1,this.$store.dispatch("updateQuests",this.allQuests),this.snackBar=!0,this.snackBarText=`[ ${this.$t(`Extra.${this.completeTargetQuest.name}`)} ] ${this.$t("Extra.達成しました。")}`)},confirmReset(){this.confirmResetDialog=!0},resetAllQuest(){this.initializeQuests(!0),this.$store.dispatch("updateQuests",this.allQuests),this.confirmResetDialog=!1,this.snackBar=!0,this.snackBarText=`${this.$t("Extra.リセットしました。")}`},setTimeRemaining(){const t=this.getToday(),e=t.getTime();let s=!1;const i=[];for(let a=0;a<this.allQuests.length;a+=1){const n=this.allQuests[a];if(n.resetDateTime&&e>n.resetDateTime){n.isCompleted=!1,n.completedDate=0;for(let t=0;t<n.requires.length;t+=1)n.requires[t].isComplete=!1;n.closingDateTime=bt.getClosingDateTime(n,t),n.resetDateTime=bt.getResetDateTime(n,t),s=!0}const l=n.closingDateTime-e,r=Math.floor(l/864e5);let o="";if(r>1)o=`${this.$t("Extra.x日",{days:r})}`;else if(r>0)o=`${this.$t("Extra.1日")}`;else if(0===r){const t=Math.floor(l/1e3/60/60),e=Math.floor(l/1e3/60)%60,s=Math.floor(l/1e3)%60,i=t<10?`0${t}`:t,a=e<10?`0${e}`:e,n=s<10?`0${s}`:s;o=`${i}:${a}:${n}`}else o=`${this.$t("Extra.失効")}`;n.isCompleted||i.push(o)}this.timeRemaining=i,s&&this.$store.dispatch("updateQuests",this.allQuests)}},beforeDestroy(){window.clearInterval(this.intervalId)}}),$t=kt,Tt=s(255),Et=s(2348),Dt=s(400),Zt=s(1214),It=s(9592),Lt=s(9258),At=s(626),Pt=s(2165),qt=s(7771),Bt=s(5085),Vt=(0,h.Z)($t,wt,Ct,!1,null,"087780da",null),Rt=Vt.exports;v()(Vt,{VBtn:g.Z,VCard:f.Z,VCheckbox:y.Z,VDialog:V.Z,VDivider:x.Z,VExpansionPanel:Tt.Z,VExpansionPanelContent:Et.Z,VExpansionPanelHeader:Dt.Z,VExpansionPanels:Zt.Z,VIcon:w.Z,VImg:C.Z,VProgressLinear:It.Z,VSelect:$.Z,VSnackbar:Lt.Z,VTab:At.Z,VTabItem:Pt.Z,VTabs:qt.Z,VTabsItems:Bt.Z});var Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"pa-3"},[s("v-divider"),s("v-data-table",{attrs:{dense:"","fixed-header":"","disable-sort":"",height:"48vh",headers:t.headers,items:t.enemies,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100]}},scopedSlots:t._u([{key:"header.rank",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Extra."+s.text)))]}},{key:"header.enemy.data.name",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.enemy.data.antiAir",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.shoot.antiAirWeightList",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.shoot.rateDownList",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Fleet."+s.text))+" (%)")]}},{key:"header.shoot.fixDownList",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Fleet."+s.text))+" ("+t._s(t.$t("Extra.機"))+")")]}},{key:"header.enemy.antiAirCutIn",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Extra."+s.text)))]}},{key:"item.enemy.data.id",fn:function(t){var e=t.item;return[s("v-img",{attrs:{src:"./img/ship/"+e.enemy.data.id+".png",height:"30",width:"120"}})]}},{key:"item.enemy.data.name",fn:function(e){var i=e.item;return[s("div",{staticClass:"text-truncate",attrs:{title:i.enemy.data.name}},[t._v(t._s(t.getEnemyName(i.enemy.data.name)))])]}},{key:"item.shoot.rateDownList",fn:function(e){var i=e.item;return[s("div",[t._v(t._s((100*i.shoot.rateDownList[0]).toFixed(1)))])]}},{key:"item.shoot.fixDownList",fn:function(e){var i=e.item;return[s("div",[t._v(t._s(i.shoot.fixDownList[0]))])]}},{key:"item.enemy.antiAirCutIn",fn:function(e){var i=e.item;return[s("div",[t._v(t._s(i.enemy.antiAirCutIn.length?t.$t("Extra.対空CI発動可能"):""))])]}}],null,!0)})],1)},Ft=[],Ot=s(3403),Nt=s(1715),Qt=n.Z.extend({name:"EnemyAARanking",components:{},data:()=>({keyword:"",headers:[{text:"順位",value:"rank",align:"end"},{text:"",value:"enemy.data.id"},{text:"艦娘名",value:"enemy.data.name"},{text:"対空",align:"end",value:"enemy.data.antiAir"},{text:"加重対空",align:"end",value:"shoot.antiAirWeightList"},{text:"割合撃墜",align:"end",value:"shoot.rateDownList"},{text:"固定撃墜",align:"end",value:"shoot.fixDownList"},{text:"備考",value:"enemy.antiAirCutIn"}],allEnemies:[],enemies:[]}),mounted(){this.setEnemies()},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},watch:{completed(t){t&&this.setEnemies()}},methods:{getEnemyName(t){if(t&&this.needTrans){const e=ht.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t||""},setEnemies(){const t=this.$store.getters.getEnemies,e=this.$store.state.items,s=[];for(let i=0;i<t.length;i+=1){const a=pt.Z.createEnemyFromMasterId(t[i].id,!1,t,e);s.push(a)}this.allEnemies=s,this.calculateEnemies()},calculateEnemies(){const t=[];for(let s=0;s<this.allEnemies.length;s+=1){const e=this.allEnemies[s],i=Nt.Z.getStage2([e],!0,!1,o.ZP.FORMATIONS[0],new Ot.Z);t.push({enemy:e,shoot:i[0]})}t.sort(((t,e)=>t.shoot.fixDownList[0]!==e.shoot.fixDownList[0]?e.shoot.fixDownList[0]-t.shoot.fixDownList[0]:t.shoot.rateDownList[0]!==e.shoot.rateDownList[0]?e.shoot.rateDownList[0]-t.shoot.rateDownList[0]:e.enemy.data.antiAir-t.enemy.data.antiAir));const e=[];for(let s=0;s<t.length;s+=1)e.push({rank:s+1,enemy:t[s].enemy,shoot:t[s].shoot});this.enemies=e}}}),Wt=Qt,Yt=(0,h.Z)(Wt,Mt,Ft,!1,null,"3bfe5783",null),jt=Yt.exports;v()(Yt,{VCard:f.Z,VDataTable:_.Z,VDivider:x.Z,VImg:C.Z});var Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Extra.装備シナジーチェッカー"))+" ")]),s("v-divider",{staticClass:"mt-1"}),s("div",{staticClass:"my-3 d-flex align-center"},[t.ship.data.id?[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"primary--text"},expression:"{ class: 'primary--text' }"}],staticClass:"ship-input",on:{click:function(e){return t.showShipList()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList()}}},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+t.ship.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"ml-2 caption"},[t._v(t._s(t.getShipName(t.ship.data)))])])]:s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.showShipList()}}},[t._v(t._s(t.$t("Fleet.艦娘選択")))]),t.ship.data.id?[s("div",{staticClass:"mx-3 caption text--secondary"},[t._v(t._s(t.$t("Database.表示")))]),s("v-btn",{staticClass:"mr-1",attrs:{color:"info",outlined:!t.showMultiple,small:""},on:{click:function(e){t.showMultiple=!t.showMultiple,t.setItemBonus()}}},[t._v(t._s(t.$t("Extra.累積可")))]),t.ship.data.id?s("v-btn",{attrs:{color:"grey",outlined:!t.showOneTime,small:""},on:{click:function(e){t.showOneTime=!t.showOneTime,t.setItemBonus()}}},[t._v(t._s(t.$t("Extra.累積不可")))]):t._e()]:t._e()],2),s("div",{staticClass:"type-selector-container"},[t._l(t.enabledTypes,(function(e){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:e.id,staticClass:"type-selector",class:{active:t.selectedTypes.includes(e.id)},on:{click:function(s){return t.toggleType(e.id)},keypress:function(s){return t.toggleType(e.id)}}},[s("v-img",{attrs:{src:"./img/type/type"+e.id+".png",height:"32",width:"32"}})],1)})),t.ship.data.id?s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector d-flex",on:{click:function(e){return t.toggleType(-1)},keypress:function(e){return t.toggleType(-1)}}},[s("div",{staticClass:"type-all-text"},[t._v("ALL")])]):t._e()],2),t.ship.data.id?[s("v-divider")]:t._e(),s("div",{staticClass:"item-bonus-list"},t._l(t.results,(function(e,i){return s("div",{key:"item-"+i,staticClass:"mb-10"},[s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png",height:"28",width:"28"}})],1),s("div",{staticClass:"ml-1"},[t._v(t._s(t.needTrans?t.$t(""+e.master.name):e.master.name))]),s("div",{staticClass:"ml-2 mb-1 body-2 align-self-end"},[s("a",{attrs:{href:e.wiki,target:"_blank"}},[t._v("wiki")])])]),t._l(e.bonuses,(function(a,n){return s("div",{key:"bonus-"+i+"-"+n,staticClass:"bonus-detail"},[s("div",{staticClass:"d-flex align-center"},[s("v-chip",{staticClass:"multiple-chip mr-2",attrs:{color:a.raw.num?"grey":"info",label:"",outlined:"",small:"",width:"120"}},[t._v(" "+t._s(a.raw.num?t.$t("Extra.累積不可"):t.$t("Extra.累積可"))+" ")]),a.hasCond?s("div",{staticClass:"text--secondary caption mr-1 text-no-wrap"},[t._v(t._s(t.$t("Extra.条件")))]):t._e(),s("div",{staticClass:"cond-view"},[a.raw.num>1?s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.needTrans?t.$t(""+e.master.name):e.master.name))]),a.raw.remodel?s("div",[s("v-icon",{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.remodel?s("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):s("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.remodel))])],1):t._e(),s("div",{staticClass:"ml-1 align-self-end"},[t._v("x"+t._s(a.raw.num))])]):a.raw.remodel?s("div",[s("v-icon",{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.remodel?s("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):s("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.remodel))])],1):t._e(),a.raw.requiresSR?s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.$t("Extra.水上電探")))])]):t._e(),a.raw.requiresAR?s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.$t("Extra.対空電探")))])]):t._e(),a.raw.requiresAccR?s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.$t("Extra.命中電探")))])]):t._e(),a.raw.requiresType?s("div",{staticClass:"d-flex align-center"},t._l(t.getTypes(a.raw.requiresType),(function(e){return s("div",{key:"type-"+e.id,staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/type"+e.id+".png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.$t("EType."+e.name)))])])})),0):t._e(),a.raw.requiresId?s("div",{staticClass:"d-flex flex-wrap"},t._l(a.raw.requiresId,(function(e,i){return s("div",{key:"requires-"+e,staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/type/icon"+t.getItem(e).iconTypeId+".png",height:"20",width:"20"}})],1),s("div",[t._v(t._s(t.needTrans?t.$t(""+t.getItem(e).name):t.getItem(e).name))]),a.raw.requiresIdLevel?s("div",[s("v-icon",{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.requiresIdLevel?s("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):a.raw.requiresIdLevel?s("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.requiresIdLevel))]):t._e()],1):t._e(),i+1<a.raw.requiresId.length?s("div",{staticClass:"mx-1 text--secondary"},[t._v("or")]):t._e()])})),0):t._e()])],1),s("div",{staticClass:"bonus-status-view mt-1"},[e.show.firePower?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.firePower}},[s("div",[t._v(t._s(t.$t("Common.火力")))]),s("div",{class:{"bad-value":a.bonus.firePower<0}},[t._v(t._s(a.bonus.firePower))])]):t._e(),e.show.torpedo?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.torpedo}},[s("div",[t._v(t._s(t.$t("Common.雷装")))]),s("div",{class:{"bad-value":a.bonus.torpedo<0}},[t._v(t._s(a.bonus.torpedo))])]):t._e(),e.show.bomber?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.bomber}},[s("div",[t._v(t._s(t.$t("Common.爆装")))]),s("div",{class:{"bad-value":a.bonus.bomber<0}},[t._v(t._s(a.bonus.bomber))])]):t._e(),e.show.armor?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.armor}},[s("div",[t._v(t._s(t.$t("Common.装甲")))]),s("div",{class:{"bad-value":a.bonus.armor<0}},[t._v(t._s(a.bonus.armor))])]):t._e(),e.show.antiAir?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.antiAir}},[s("div",[t._v(t._s(t.$t("Common.対空")))]),s("div",{class:{"bad-value":a.bonus.antiAir<0}},[t._v(t._s(a.bonus.antiAir))])]):t._e(),e.show.asw?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.asw}},[s("div",[t._v(t._s(t.$t("Common.対潜")))]),s("div",{class:{"bad-value":a.bonus.asw<0}},[t._v(t._s(a.bonus.asw))])]):t._e(),e.show.scout?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.scout}},[s("div",[t._v(t._s(t.$t("Common.索敵")))]),s("div",{class:{"bad-value":a.bonus.scout<0}},[t._v(t._s(a.bonus.scout))])]):t._e(),e.show.avoid?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.avoid}},[s("div",[t._v(t._s(t.$t("Common.回避")))]),s("div",{class:{"bad-value":a.bonus.avoid<0}},[t._v(t._s(a.bonus.avoid))])]):t._e(),e.show.accuracy?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.accuracy}},[s("div",[t._v(t._s(t.$t("Common.命中")))]),s("div",{class:{"bad-value":a.bonus.accuracy<0}},[t._v(t._s(a.bonus.accuracy))])]):t._e(),e.show.range?s("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.range}},[s("div",[t._v(t._s(t.$t("Common.射程")))]),s("div",{class:{"bad-value":a.bonus.range<0}},[t._v(t._s(a.bonus.range))])]):t._e()]),t._e(),t._e()])}))],2)})),0),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],2)},Kt=[],Ut=s(47),Gt=n.Z.extend({name:"ShipItemSynergy",components:{ShipList:L.Z},props:{},data:()=>({allTypes:o.ZP.ITEM_API_TYPE,allItems:[],allBonuses:[],ship:new A.Z,shipListDialog:!1,shipDialogWidth:1200,types:[],selectedTypes:[],showMultiple:!0,showOneTime:!0}),mounted(){this.types=[];for(let t=0;t<o.ZP.ITEM_TYPES_ALT.length;t+=1){const e=o.ZP.ITEM_TYPES_ALT[t];this.types.push({id:e.id,text:e.text,types:e.types}),this.selectedTypes.push(e.id)}this.setItemBonus()},computed:{needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=d.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},getItem(){return t=>{const e=this.allItems.find((e=>e.id===t));return e??new j.Z}},getTypes(){return t=>{const e=[];for(let s=0;s<t.length;s+=1){const i=o.ZP.ITEM_API_TYPE.find((e=>e.id===t[s]));i&&e.push(i)}return e}},enabledTypes(){const t=this.allBonuses.map((t=>t.master.apiTypeId)),e=[];for(let s=0;s<this.types.length;s+=1){const i=this.types[s].types;t.find((t=>i.includes(t)))&&e.push(this.types[s])}return e},results(){const t=this.enabledTypes.filter((t=>this.selectedTypes.includes(t.id)));let e=[];for(let s=0;s<t.length;s+=1)e=e.concat(t[s].types);return this.allBonuses.filter((t=>e.includes(t.master.apiTypeId)))}},methods:{toggleType(t){if(-1===t){const t=o.ZP.ITEM_TYPES_ALT.map((t=>t.id));this.selectedTypes.length===t.length?this.selectedTypes=[]:this.selectedTypes=t}else this.selectedTypes.includes(t)?this.selectedTypes=this.selectedTypes.filter((e=>e!==t)):this.selectedTypes.push(t);this.setItemBonus()},setItemBonus(){if(this.allItems=this.$store.state.items,this.allBonuses=[],!this.ship.data.id)return;const t=JSON.parse(JSON.stringify(Ut.Z.bonusData)).filter((t=>t.bonuses&&t.bonuses.some((t=>(!t.shipBase||t.shipBase.includes(this.ship.data.originalId))&&(!t.shipId||t.shipId.includes(this.ship.data.id))&&(!t.shipType||t.shipType.includes(this.ship.data.type))&&(!t.shipClass||t.shipClass.includes(this.ship.data.type2))&&(!t.shipCountry||t.shipCountry.includes(this.ship.data.type2)))))),e=[],s={id:999999,type:12,itype:11,name:"電探",antiAir:0,scout:0,accuracy:0},i=this.allItems.filter((t=>!t.isEnemyItem));for(let a=0;a<i.length;a+=1){const n=i[a];let l=[];const r=t.filter((t=>t.ids&&t.ids.includes(n.id)||t.types&&t.types.includes(n.apiTypeId)));let o=[];for(let t=0;t<r.length;t+=1)o=o.concat(r[t].bonuses);if(o.sort(((t,e)=>t.num&&!e.num?-1:!t.num&&e.num?1:t.num&&e.num?t.num-e.num:0)),o=o.filter((t=>!(t.shipId&&!t.shipId.includes(this.ship.data.id))&&(!(t.shipBase&&!t.shipBase.includes(this.ship.data.originalId))&&(!(t.shipType&&!t.shipType.includes(this.ship.data.type))&&(!(t.shipClass&&!t.shipClass.includes(this.ship.data.type2))&&!(t.shipCountry&&!t.shipCountry.includes(this.ship.data.type2))))))),!o.length||!m.Z.isValidItem(this.ship.data,n))continue;for(let t=0;t<o.length;t+=1){const e=o[t],a=new it.Z({master:n,remodel:e.remodel?e.remodel:0}),r=[];let d=new it.Z;if(366===a.data.id&&a.remodel>4)continue;if(a.remodel&&!a.data.canRemodel)continue;if(e.requiresAR&&(11!==a.data.iconTypeId||a.data.antiAir<2)&&(s.id=999997,s.antiAir=2,s.scout=0,s.accuracy=0,d=new it.Z({master:new j.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresSR&&(11!==a.data.iconTypeId||a.data.scout<5)&&(s.id=999998,s.antiAir=0,s.scout=5,s.accuracy=0,d=new it.Z({master:new j.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresAccR&&(11!==a.data.iconTypeId||a.data.accuracy<8)&&(s.id=999999,s.antiAir=0,s.scout=0,s.accuracy=8,d=new it.Z({master:new j.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresId){const t=i.find((t=>e.requiresId&&e.requiresId.includes(t.id)));if(!t||!m.Z.isValidItem(this.ship.data,t,1))continue;d=new it.Z({master:t,remodel:e.requiresIdLevel?e.requiresIdLevel:0})}if(e.requiresType){const t=i.find((t=>e.requiresType&&e.requiresType.includes(t.id))),s=new j.Z({id:999999,type:+e.requiresType[0],itype:t?t.iconTypeId:0,name:"ダミー装備"});d=new it.Z({master:s,remodel:e.requiresIdLevel?e.requiresIdLevel:0})}if(d.data.id)r.push(d);else if(e.num&&e.num>1)for(let t=0;t<e.num-1;t+=1)r.push(new it.Z({master:n,remodel:e.remodel?e.remodel:0}));const c=new A.Z({master:this.ship.data,items:r,exItem:a});if(e.num||r.length)l.some((t=>(0,P.isEqual)(r,t.items)))||l.push({raw:e,hasCond:!!(e.num&&e.num>1||e.remodel||e.requiresAR||e.requiresAccR||e.requiresId||e.requiresSR||e.requiresType),bonus:c.itemBonusStatus,remodel:a.remodel,items:r.concat(a)});else{const t=new it.Z({master:n,remodel:a.remodel}),s=[],i=[];for(let e=0;e<this.ship.data.slotCount;e+=1)s.push(t),i.push(t);const o=new A.Z({master:this.ship.data,items:s}),d=new A.Z({master:this.ship.data,items:i,exItem:t});if(d.itemBonusStatus.accuracy&&(d.itemBonusStatus.accuracy-=o.itemBonusStatus.accuracy??0),d.itemBonusStatus.antiAir&&(d.itemBonusStatus.antiAir-=o.itemBonusStatus.antiAir??0),d.itemBonusStatus.armor&&(d.itemBonusStatus.armor-=o.itemBonusStatus.armor??0),d.itemBonusStatus.asw&&(d.itemBonusStatus.asw-=o.itemBonusStatus.asw??0),d.itemBonusStatus.avoid&&(d.itemBonusStatus.avoid-=o.itemBonusStatus.avoid??0),d.itemBonusStatus.bomber&&(d.itemBonusStatus.bomber-=o.itemBonusStatus.bomber??0),d.itemBonusStatus.firePower&&(d.itemBonusStatus.firePower-=o.itemBonusStatus.firePower??0),d.itemBonusStatus.range&&(d.itemBonusStatus.range-=o.itemBonusStatus.range??0),d.itemBonusStatus.scout&&(d.itemBonusStatus.scout-=o.itemBonusStatus.scout??0),d.itemBonusStatus.torpedo&&(d.itemBonusStatus.torpedo-=o.itemBonusStatus.torpedo??0),!d.itemBonusStatus.accuracy&&!d.itemBonusStatus.antiAir&&!d.itemBonusStatus.armor&&!d.itemBonusStatus.asw&&!d.itemBonusStatus.avoid&&!d.itemBonusStatus.bomber&&!d.itemBonusStatus.firePower&&!d.itemBonusStatus.range&&!d.itemBonusStatus.scout&&!d.itemBonusStatus.torpedo)continue;l.some((e=>(!e.raw.remodel&&!t.remodel||e.raw.remodel===t.remodel)&&e.bonus.accuracy===d.itemBonusStatus.accuracy&&e.bonus.antiAir===d.itemBonusStatus.antiAir&&e.bonus.armor===d.itemBonusStatus.armor&&e.bonus.asw===d.itemBonusStatus.asw&&e.bonus.avoid===d.itemBonusStatus.avoid&&e.bonus.bomber===d.itemBonusStatus.bomber&&e.bonus.firePower===d.itemBonusStatus.firePower&&e.bonus.range===d.itemBonusStatus.range&&e.bonus.scout===d.itemBonusStatus.scout&&e.bonus.torpedo===d.itemBonusStatus.torpedo))||l.push({raw:e,hasCond:!!(e.remodel||e.requiresAR||e.requiresAccR||e.requiresId||e.requiresSR||e.requiresType),bonus:d.itemBonusStatus,remodel:a.remodel,items:r.concat(a)})}}if(this.showMultiple||(l=l.filter((t=>t.raw.num))),this.showOneTime||(l=l.filter((t=>!t.raw.num))),!l.length)continue;l.sort(((t,e)=>t.raw.num&&!e.raw.num?-1:!t.raw.num&&e.raw.num?1:t.raw.num&&e.raw.num&&t.raw.num!==e.raw.num?t.raw.num-e.raw.num:t.hasCond&&!e.hasCond?1:!t.hasCond&&e.hasCond?-1:t.raw.requiresId&&!e.raw.requiresId?1:!t.raw.requiresId&&e.raw.requiresId?-1:t.raw.requiresId&&e.raw.requiresId?t.raw.requiresId.length-e.raw.requiresId.length:t.remodel-e.remodel));const d={accuracy:l.some((t=>t.bonus.accuracy))?1:0,antiAir:l.some((t=>t.bonus.antiAir))?1:0,armor:l.some((t=>t.bonus.armor))?1:0,asw:l.some((t=>t.bonus.asw))?1:0,avoid:l.some((t=>t.bonus.avoid))?1:0,bomber:l.some((t=>t.bonus.bomber))?1:0,firePower:l.some((t=>t.bonus.firePower))?1:0,range:l.some((t=>t.bonus.range))?1:0,scout:l.some((t=>t.bonus.scout))?1:0,torpedo:l.some((t=>t.bonus.torpedo))?1:0};e.push({master:n,bonuses:l,show:d,maxNum:(0,P.max)(l.map((t=>t.raw.num??0)))??0,wiki:j.Z.getWikiURL(n)})}this.allBonuses=e},async showShipList(){await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1,this.ship=new A.Z({master:t.ship}),this.showMultiple=!0,this.showOneTime=!0,this.setItemBonus()},removeShip(){this.ship=new A.Z,this.setItemBonus()},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1}}}),Xt=Gt,zt=s(4127),Jt=(0,h.Z)(Xt,Ht,Kt,!1,null,"e6865782",null),te=Jt.exports;v()(Jt,{VBtn:g.Z,VChip:zt.Z,VDialog:V.Z,VDivider:x.Z,VIcon:w.Z,VImg:C.Z}),F()(Jt,{Ripple:O.Z});var ee=n.Z.extend({name:"ExtraCalculator",components:{ShipMasterList:D,ShipStatusCompare:Q,ShipItemSynergy:te,ItemMasterList:G,RequiredAswCalculator:rt,EnemySearcher:xt,QuestManager:Rt,EnemyAaRanking:jt},data:()=>({tab:0}),mounted(){const t=this.$store.state.saveData;t.disabledMain();const{hash:e}=document.location;e.endsWith("asw-calculator")?(this.tab=2,this.$router.replace({path:"/extra"})):e.endsWith("items")?(this.tab=1,this.$router.replace({path:"/extra"})):e.endsWith("quest")?(this.tab=3,this.$router.replace({path:"/extra"})):e.endsWith("habitat")?(this.tab=4,this.$router.replace({path:"/extra"})):e.endsWith("aa-ranking")&&(this.tab=5,this.$router.replace({path:"/extra"}))},computed:{completed(){return this.$store.getters.getCompletedAll}},watch:{},methods:{}}),se=ee,ie=(0,h.Z)(se,i,a,!1,null,"610260ec",null),ae=ie.exports;v()(ie,{VCard:f.Z,VDivider:x.Z,VTab:At.Z,VTabItem:Pt.Z,VTabs:qt.Z,VTabsItems:Bt.Z})}}]);
//# sourceMappingURL=29.ab9fd459.js.map