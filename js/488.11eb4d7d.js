(self["webpackChunkkc_web"]=self["webpackChunkkc_web"]||[]).push([[488],{9787:function(t,e,s){var i=s(7762),a=NaN;function l(t,e){var s=null==t?0:t.length;return s?i(t,e)/s:a}t.exports=l},8659:function(t,e,s){var i=s(9787),a=s(6557);function l(t){return i(t,a)}t.exports=l},7521:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return Le}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ma-4"},[s("div",{staticClass:"mb-3"},[s("v-icon",{attrs:{"x-large":""}},[t._v("mdi-database-cog")]),s("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("Home.艦娘 / 装備管理")))])],1),s("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",[t._v(t._s(t.$t("Fleet.艦娘")))]),s("v-tab",{attrs:{disabled:t.loading}},[t._v(t._s(t.$t("Fleet.装備")))]),s("v-tab",{attrs:{disabled:t.readOnlyMode||t.loading}},[t._v(t._s(t.$t("Database.反映")))]),s("v-tab",{attrs:{disabled:t.loading}},[t._v(t._s(t.$t("Common.共有")))])],1),s("v-divider"),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("ships")],1),s("v-tab-item",[s("items")],1),s("v-tab-item",[s("div",{staticClass:"general-container px-4 my-2"},[s("div",{staticClass:"tutorial_box pa-0"},["ja"===t.$i18n.locale?s("v-card",{attrs:{elevation:"0"}},[s("v-alert",{attrs:{border:"left",dense:"",outlined:"",type:"warning"}},[s("div",[t._v("以下の手順は、艦これサーバーから正常に送られてきた情報を、通常のブラウザの機能を使って閲覧しているだけのものであり、")]),s("div",{staticClass:"font-weight-bold"},[t._v("艦これサーバーへの不正なアクセスや、通常プレイ以外の方法でサーバーへの接続を試みるものではありません。")])])],1):t._e(),"ja"===t.$i18n.locale?s("v-card",{attrs:{elevation:"0"}},[s("v-alert",{attrs:{border:"left",dense:"",outlined:"",type:"info"}},[s("div",[t._v("以前の反映方法は主要ブラウザにおいてChromiumのアップデートにより使えなくなりました。")]),s("div",[t._v("反映方法が面倒になった、以前の方法に戻してほしい等の要望については、申し訳ないですがどうしようもないですので我慢してください。")])])],1):t._e(),s("v-btn",{staticClass:"mt-3",class:{secondary:t.showHowToDoIt,primary:!t.showHowToDoIt},on:{click:function(e){t.showHowToDoIt=!t.showHowToDoIt}}},[t.showHowToDoIt?[s("v-icon",[t._v("mdi-close")]),t._v(t._s(t.$t("Database.反映手順を隠す")))]:[s("v-icon",[t._v("mdi-plus")]),t._v(t._s(t.$t("Database.反映手順を表示")))]],2)],1),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v(" 1. "+t._s(t.$t("Database.ログイン後、ゲームスタート画面上で右クリックし、コンテキストメニューから「検証」または「開発者ツールで調査する」を選択する。"))+" ")]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step1.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step1")]),s("v-img",{attrs:{src:"./img/tutorial/step1.webp","max-height":"900","max-width":"1300"}})],1)]),s("div",{staticClass:"mt-15"},[t._v("※ "+t._s(t.$t("Database.下記はGoogle Chromeの場合です。")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step1-2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step1-2")]),s("v-img",{attrs:{src:"./img/tutorial/step1-2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("2. "+t._s(t.$t("Database.「ネットワーク」タブを開き、赤枠の部分を確認したのち、ゲームスタートを押す。")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step2")]),s("v-img",{attrs:{src:"./img/tutorial/step2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("3. "+t._s(t.$t("Database.母港画面が表示されたら、左の一覧から「port」を探し、クリックする。（絶対にダブルクリックをしないこと!）")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step3.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step3")]),s("v-img",{attrs:{src:"./img/tutorial/step3.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("4. "+t._s(t.$t("Database.「プレビュー」タブを選択し、「api_ship」の上で右クリックし、「objectをグローバル変数として格納する」を選択する。")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step4.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step4")]),s("v-img",{attrs:{src:"./img/tutorial/step4.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),s("v-card",{staticClass:"tutorial_box pt-2"},[t.showHowToDoIt?s("div",{staticClass:"pt-3"},[s("div",[t._v("5. "+t._s(t.$t("Database.下記のJavaScriptコードを貼り付けて、Enterを押下する。")))]),s("div",[t._v(" ※ "+t._s(t.$t("Database.押下後、『undefined』と表示されれば、クリップボードに自動でコピーされており、そのまま手順xの入力欄に貼り付けることができます。",{step:6}))+" ")])]):s("div",[s("div",{staticClass:"mt-3"},[t._v(" "+t._s(t.$t("Fleet.艦娘"))+" ")]),s("v-divider",{staticClass:"mt-3 mb-6"})],1),s("div",{staticClass:"d-flex mt-2"},[s("v-btn",{attrs:{color:"primary",disabled:t.successCopy},on:{click:function(e){return t.copyCode("ships-read-code")}}},[t._v(" "+t._s(t.$t("Common.コードをコピー"))+" ")]),s("v-radio-group",{staticClass:"align-self-center mt-0 ml-3",attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedShip,callback:function(e){t.includeUnLockedShip=e},expression:"includeUnLockedShip"}},[s("v-radio",{attrs:{label:t.$t("Database.未ロックも含める"),value:!0}}),s("v-radio",{attrs:{label:t.$t("Database.ロック済みのみ"),value:!1}})],1),t.includeUnLockedShip?s("input",{attrs:{id:"ships-read-code",type:"text",value:"copy(JSON.stringify(temp1.map(v=>{return{'id': v.api_ship_id,'lv': v.api_lv,'locked': v.api_locked,'st': v.api_kyouka,'exp':v.api_exp,'ex':v.api_slot_ex,'area':v.api_sally_area}}),['id','lv','st','exp','ex','area']))","aria-label":"ship-code"}}):s("input",{attrs:{id:"ships-read-code",type:"text",value:"copy(JSON.stringify(temp1.map(v=>{return{'id': v.api_ship_id,'lv': v.api_lv,'locked': v.api_locked,'st': v.api_kyouka,'exp':v.api_exp,'ex':v.api_slot_ex,'area':v.api_sally_area}}).filter(v=>v.locked),['id','lv','st','exp','ex','area']))","aria-label":"ship-code"}})],1),s("v-sheet",{staticClass:"copy_code",attrs:{outlined:"",rounded:""}},[s("div",[t._v(" copy(JSON.stringify("),s("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".map(v=>{return{'id': v.api_ship_id,'lv': v.api_lv,'locked': v.api_locked,'st': v.api_kyouka,'exp':v.api_exp,'ex':v.api_slot_ex,'area':v.api_sally_area}})"),t.includeUnLockedShip?t._e():s("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv','st','exp','ex','area'])) ")])]),t.showHowToDoIt?s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step5.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step5")]),s("v-img",{attrs:{src:"./img/tutorial/step5.webp","max-height":"900","max-width":"1300"}})],1)]):t._e(),t.showHowToDoIt?s("div",{staticClass:"warning_box mt-3"},[s("div",[t._v(t._s(t.$t("Database.注意事項")))]),s("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Database.「tempXX」と、上記のJavaScript内の「tempYY」は一致させる必要があります。"))+" ")]),s("div",[t._v(" "+t._s(t.$t("Database.例えば「temp2」と出てきていたら、JavaScriptコードの「temp1」の部分を、自分で「temp2」と書き換えて実行してください。"))+" ")]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step5-2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step5-2")]),s("v-img",{attrs:{src:"./img/tutorial/step5-2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e()],1),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("6. "+t._s(t.$t("Database.下記の反映エリアに、コピーされた文字列を貼り付けて「反映」を押下する。")))]),s("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:t.$t("Database.反映エリア")},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),s("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v(t._s(t.$t("Database.反映")))])],1):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("7. "+t._s(t.$t("Database.コンソールのタブをいったん閉じる。")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step7.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step7")]),s("v-img",{attrs:{src:"./img/tutorial/step7.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("8. "+t._s(t.$t("Database.左の一覧から「require_info」を探し、クリックする。（絶対にダブルクリックをしないこと!）")))]),s("div",[t._v(" "+t._s(t.$t("Database.「プレビュー」タブを選択し、「api_slot_item」の上で右クリックし、「objectをグローバル変数として格納する」を選択する。"))+" ")]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step8.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step8")]),s("v-img",{attrs:{src:"./img/tutorial/step8.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),s("v-card",{staticClass:"tutorial_box pt-2"},[t.showHowToDoIt?s("div",{staticClass:"pt-3"},[s("div",[t._v("9. "+t._s(t.$t("Database.下記のJavaScriptコードを貼り付けて、Enterを押下する。")))]),s("div",[t._v(" ※ "+t._s(t.$t("Database.押下後、『undefined』と表示されれば、クリップボードに自動でコピーされており、そのまま手順xの入力欄に貼り付けることができます。",{step:10}))+" ")])]):s("div",[s("div",{staticClass:"mt-3"},[t._v(" "+t._s(t.$t("Fleet.装備"))+" ")]),s("v-divider",{staticClass:"mt-3 mb-6"})],1),s("div",{staticClass:"d-flex mt-2"},[s("v-btn",{attrs:{color:"primary",disabled:t.successCopy},on:{click:function(e){return t.copyCode("item-read-code")}}},[t._v(" "+t._s(t.$t("Common.コードをコピー"))+" ")]),s("v-radio-group",{staticClass:"align-self-center mt-0 ml-3",attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedItem,callback:function(e){t.includeUnLockedItem=e},expression:"includeUnLockedItem"}},[s("v-radio",{attrs:{label:t.$t("Database.未ロックも含める"),value:!0}}),s("v-radio",{attrs:{label:t.$t("Database.ロック済みのみ"),value:!1}})],1),t.includeUnLockedItem?s("input",{attrs:{id:"item-read-code",type:"text",value:"copy(JSON.stringify(temp2.map(v=>{return{'id':v.api_slotitem_id,'lv': v.api_level,'locked':v.api_locked}}),['id','lv']))","aria-label":"item-code"}}):s("input",{attrs:{id:"item-read-code",type:"text",value:"copy(JSON.stringify(temp2.map(v=>{return{'id':v.api_slotitem_id,'lv': v.api_level,'locked':v.api_locked}}).filter(v=>v.locked),['id','lv']))","aria-label":"item-code"}})],1),s("v-sheet",{staticClass:"copy_code",attrs:{outlined:"",rounded:""}},[s("div",[t._v(" copy(JSON.stringify("),s("span",{staticClass:"red--text"},[t._v("temp2")]),t._v(".map(v=>{return{'id':v.api_slotitem_id,'lv': v.api_level,'locked':v.api_locked}})"),t.includeUnLockedItem?t._e():s("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv'])) ")])]),t.showHowToDoIt?s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step9.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step9")]),s("v-img",{attrs:{src:"./img/tutorial/step9.webp","max-height":"900","max-width":"1300"}})],1)]):t._e(),t.showHowToDoIt?s("div",{staticClass:"warning_box mt-3"},[s("div",[t._v(t._s(t.$t("Database.注意事項")))]),s("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Database.「tempXX」と、上記のJavaScript内の「tempYY」は一致させる必要があります。"))+" ")]),s("div",[t._v(" "+t._s(t.$t("Database.例えば「temp3」と出てきていたら、JavaScriptコードの「temp2」の部分を、自分で「temp3」と書き換えて実行してください。"))+" ")]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step9-2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step9-2")]),s("v-img",{attrs:{src:"./img/tutorial/step9-2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e()],1),s("v-card",{staticClass:"tutorial_box"},[t.showHowToDoIt?s("div",[t._v("10. "+t._s(t.$t("Database.下記の反映エリアに、コピーされた文字列を貼り付けて「反映」を押下する。")))]):t._e(),s("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:t.$t("Database.反映エリア")},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),s("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v(t._s(t.$t("Database.反映")))])],1)],1)]),s("v-tab-item",[s("v-card",{staticClass:"my-3 pa-2"},[s("div",{staticClass:"d-flex pt-3 pb-4"},[s("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.共有URL発行機能")))])]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.URL発行")))]),s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.自分の艦隊、装備情報を他の人に見てもらうためのURLを発行します。")))]),s("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.発行された情報は閲覧専用です。発行されたURLを他人に公開しても、自分の艦娘や装備情報が書き換えられてしまうことはありません。"))+" ")]),s("div",{staticClass:"body-2 mb-3"},[t._v(t._s(t.$t("Database.閲覧する側は、共有された艦娘や装備情報を元に編成を作成することができます。")))]),s("div",{staticClass:"shared-url-container"},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.createdURL,expression:"!createdURL"}],attrs:{color:"primary",loading:t.loadingURL,disabled:t.loadingURL||t.readOnlyMode},on:{click:function(e){return t.requestURLKey()}}},[t._v(t._s(t.$t("Database.共有URL作成")))]),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.createdURL,expression:"createdURL"}],attrs:{id:"created-url",readonly:"","append-icon":"mdi-content-copy",hint:t.copiedURLHint?t.$t("Common."+t.copiedURLHint):""},on:{"click:append":t.copyURL,blur:t.clearURLHint},model:{value:t.createdURL,callback:function(e){t.createdURL=e},expression:"createdURL"}})],1)]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.発行履歴")))]),t._l(t.outputHistories,(function(e,i){return s("v-card",{key:"history_"+i,staticClass:"ma-2 pa-3"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"mr-2 align-self-center caption"},[s("div",[t._v(t._s(t.$t("Database.発行日"))+":")]),s("div",[t._v(t._s(e.createdAt))])]),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"primary",disabled:t.expandBtnClicked||t.readOnlyMode},on:{click:function(e){return t.expandHistory(i)}}},[t._v(t._s(t.$t("Database.展開")))])],1),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.clickedDeleteHistory(i)}}},[t._v(t._s(t.$t("Common.削除")))])],1),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"success",disabled:!e.remarks||!e.remarks.length},on:{click:function(e){return t.updateHistory(i)}}},[t._v(t._s(t.$t("Common.更新")))])],1),s("div",{staticClass:"align-self-center flex-grow-1"},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",label:"Memo"},model:{value:e.remarks,callback:function(s){t.$set(e,"remarks",s)},expression:"data.remarks"}})],1)])])}))],2)],1),s("v-card",{staticClass:"my-3 pa-2"},[s("div",{staticClass:"d-flex pt-3 pb-4"},[s("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.他サイト連携")))])]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.艦隊分析コード")))]),s("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.艦隊分析コードが出力されています。この文字列を別の端末で反映することで、艦隊情報を復元することができます。"))+" ")]),s("div",{staticClass:"mt-4"},[s("v-text-field",{attrs:{id:"analytics-ship-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.艦隊コード"),"append-icon":"mdi-content-copy",hint:t.copiedShipCodeHint?t.$t("Common."+t.copiedShipCodeHint):""},on:{"click:append":t.copyShipCode,blur:t.clearShipCodeHint},model:{value:t.kantaiAnalyticsShipsCode,callback:function(e){t.kantaiAnalyticsShipsCode=e},expression:"kantaiAnalyticsShipsCode"}})],1),s("div",[s("v-text-field",{attrs:{id:"analytics-item-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.装備コード"),"append-icon":"mdi-content-copy",hint:t.copiedItemCodeHint?t.$t("Common."+t.copiedItemCodeHint):t.copiedItemCodeHint},on:{"click:append":t.copyItemCode,blur:t.clearItemCodeHint},model:{value:t.kantaiAnalyticsItemsCode,callback:function(e){t.kantaiAnalyticsItemsCode=e},expression:"kantaiAnalyticsItemsCode"}})],1)]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v("艦隊晒しページ(仮)")]),s("div",{staticClass:"body-2"},[s("a",{attrs:{href:t.kantaiSarashiURL,target:"_blank"}},[t._v(t._s(t.$t("Database.艦隊晒しページ(仮)で展開する場合はこちらから")))])])])],1)],1)],1),s("div",{staticClass:"info-area"},[s("v-divider",{staticClass:"mb-2"}),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。"))+" ")]),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。"))+" ")])],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[s("div",[t._v(t._s(t.$t("Common.本当に削除しますか？")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"primary",dark:"",disabled:!t.confirmDialog},on:{click:function(e){return e.stopPropagation(),t.deleteHistory()}}},[t._v(t._s(t.$t("Common.削除")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("v-card",{attrs:{dark:""}},[s("v-card-text",[s("div",{staticClass:"pt-2"},[t._v(t._s(t.$t("Database.在籍艦娘 / 所持装備データ読込中"))+"...")]),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},a=[],l=s(144),o=s(6162),n=s.n(o),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",{attrs:{href:"#list"}},[t._v(t._s(t.$t("Database.一覧")))]),t.shipStock.length?s("v-tab",{attrs:{href:"#group"}},[t._v(t._s(t.$t("Database.札管理")))]):t._e(),s("v-tab",{attrs:{href:"#analytics"}},[t._v(t._s(t.$t("Database.分析")))]),t.readOnly?s("v-tab",{attrs:{href:"#compare"}},[t._v(t._s(t.$t("Database.比較")))]):t._e()],1),s("v-divider",{staticClass:"mb-2"}),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",{attrs:{value:"list"}},[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"px-4"},[s("div",[s("v-icon",[t._v("mdi-filter")]),t._v(t._s(t.$t("Database.フィルタ"))+" "),s("span",{staticClass:"caption"},[t._v("("+t._s(t.viewShips.length)+t._s(t.isNotJapanese?"":"隻")+" / "+t._s(t.allCount)+t._s(t.isNotJapanese?"":"隻")+")")])],1)]),s("v-expansion-panel-content",[s("v-divider",{staticClass:"mb-6"}),s("div",{staticClass:"d-flex flex-wrap my-2"},[s("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("Database.名称検索"),dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.masterFilter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未着任艦非表示")},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}}),s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未着任艦のみ")},on:{change:t.filter},model:{value:t.onlyNoStock,callback:function(e){t.onlyNoStock=e},expression:"onlyNoStock"}}),s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.耐久値4n")},on:{change:t.filter},model:{value:t.is4n,callback:function(e){t.is4n=e},expression:"is4n"}}),s("div",{staticClass:"mx-3 d-flex manual-checkbox"},[s("v-btn",{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleDaihatsuFilter()}}},[t.isDaihatsu?s("v-icon",{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.isNotDaihatsu?s("v-icon",{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):s("v-icon",{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),s("img",{attrs:{tabindex:"0",src:"./img/type/type24.png",alt:"type-24"},on:{click:function(e){return t.toggleDaihatsuFilter()},keypress:function(e){return t.toggleDaihatsuFilter()}}})],1),s("div",{staticClass:"mx-3 d-flex manual-checkbox"},[s("v-btn",{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleTankFilter()}}},[t.isKamisha?s("v-icon",{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.isNotKamisha?s("v-icon",{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):s("v-icon",{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),s("img",{attrs:{tabindex:"0",src:"./img/type/type46.png",alt:"type-46"},on:{click:function(e){return t.toggleTankFilter()},keypress:function(e){return t.toggleTankFilter()}}})],1),s("div",{staticClass:"mx-2 d-flex manual-checkbox text"},[s("v-btn",{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleExSlotFilter()}}},[t.onlyReleaseExSlot?s("v-icon",{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.withoutReleaseExSlot?s("v-icon",{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):s("v-icon",{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),s("div",{staticClass:"label",attrs:{tabindex:"0"},on:{click:function(e){return t.toggleExSlotFilter()},keypress:function(e){return t.toggleExSlotFilter()}}},[t._v(t._s(t.$t("Fleet.補強増設")))])],1)],1),s("div",{staticClass:"range-inputs"},[s("div",{staticClass:"d-flex py-5"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lv下限"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:t.filter},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lv上限"),type:"number",max:"200",min:t.levelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),s("div",{staticClass:"d-flex py-5"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.運下限"),type:"number",max:t.luckRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,"string"===typeof e?e.trim():e)},expression:"luckRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},on:{change:t.filter},model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.運上限"),type:"number",max:"200",min:t.luckRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,"string"===typeof e?e.trim():e)},expression:"luckRange[1]"}})],1)],1)]),s("div",{staticClass:"range-inputs"},[s("div",{staticClass:"d-flex py-5"},[s("div",{staticClass:"range-input align-self-end"},[s("v-text-field",{attrs:{label:t.$t("Database.対潜改修下限"),type:"number",max:t.aswRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[0],callback:function(e){t.$set(t.aswRange,0,"string"===typeof e?e.trim():e)},expression:"aswRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"9","hide-details":""},on:{change:t.filter},model:{value:t.aswRange,callback:function(e){t.aswRange=e},expression:"aswRange"}}),s("div",{staticClass:"range-input align-self-end"},[s("v-text-field",{attrs:{label:t.$t("Database.対潜改修上限"),type:"number",max:"9",min:t.aswRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[1],callback:function(e){t.$set(t.aswRange,1,"string"===typeof e?e.trim():e)},expression:"aswRange[1]"}})],1)],1),s("div",{staticClass:"d-flex py-5"},[s("div",{staticClass:"range-input align-self-end"},[s("v-text-field",{attrs:{label:t.$t("Database.運改修下限"),type:"number",max:t.luckImpRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckImpRange[0],callback:function(e){t.$set(t.luckImpRange,0,"string"===typeof e?e.trim():e)},expression:"luckImpRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"100","hide-details":""},on:{change:t.filter},model:{value:t.luckImpRange,callback:function(e){t.luckImpRange=e},expression:"luckImpRange"}}),s("div",{staticClass:"range-input align-self-end"},[s("v-text-field",{attrs:{label:t.$t("Database.運改修上限"),type:"number",max:"9",min:t.luckImpRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckImpRange[1],callback:function(e){t.$set(t.luckImpRange,1,"string"===typeof e?e.trim():e)},expression:"luckImpRange[1]"}})],1)],1)]),s("v-select",{staticClass:"my-10",attrs:{items:t.hpItems,dense:"",attach:"",chips:"","deletable-chips":"","hide-details":"",label:t.$t("Database.耐久改修"),multiple:""},on:{change:t.filter},model:{value:t.addHP,callback:function(e){t.addHP=e},expression:"addHP"}}),s("v-select",{staticClass:"my-10",attrs:{items:t.translatedShipTypes,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.艦種"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[s("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[s("v-list-item-action",[s("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),s("v-select",{staticClass:"my-10",attrs:{items:t.translatedNationalities,"item-text":"text","item-value":"value","hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.国籍"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[s("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllNationality}},[s("v-list-item-action",[s("v-icon",{attrs:{color:t.selectedNationalities.length>0?"blue":""}},[t._v(" "+t._s(t.icon2)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedNationalities,callback:function(e){t.selectedNationalities=e},expression:"selectedNationalities"}}),s("div",{staticClass:"d-flex"},[t._l(t.maxAreas,(function(e){return s("div",{key:"area"+e,staticClass:"selected-area-btn align-self-center",class:{selected:t.selectedArea.includes(e)},attrs:{tabindex:"0"},on:{click:function(s){return t.clickedArea(e)},keypress:function(s){return t.clickedArea(e)}}},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"47"}})],1)})),s("div",{staticClass:"selected-area-btn no-area align-self-center",class:{selected:t.visibleNoArea},attrs:{tabindex:"0"},on:{click:function(e){return t.clickedArea(-1)},keypress:function(e){return t.clickedArea(-1)}}},[t._v(" "+t._s(t.$t("Database.札なし"))+" ")])],2)],1)],1)],1),s("div",[t.viewShips.length?s("div",{staticClass:"d-flex mt-3"},[t.modeTable?s("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),s("v-btn-toggle",{staticClass:"ml-auto",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.modeTable,callback:function(e){t.modeTable=e},expression:"modeTable"}},[s("v-btn",{class:{"blue darken-2 white--text":t.modeTable},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!0)}}},[s("v-icon",[t._v("mdi-view-headline")]),s("span",[t._v(t._s(t.$t("Database.一覧表示")))])],1),s("v-btn",{class:{"blue darken-2 white--text":!t.modeTable},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!1)}}},[s("v-icon",[t._v("mdi-view-comfy")]),s("span",[t._v(t._s(t.$t("Database.艦隊分析表示")))])],1)],1)],1):s("v-card",{staticClass:"text-center my-10"},[s("div",[t._v(t._s(t.$t("Common.探したけど見つからなかったよ")))])]),t.modeTable&&t.viewShips.length?s("v-card",{staticClass:"ship-table mt-3 pa-2"},[s("v-divider"),s("v-data-table",{attrs:{"fixed-header":"",height:"72vh","multi-sort":"",page:t.page,headers:t.headers,items:t.viewShips,"hide-default-footer":"","footer-props":{showFirstLastPage:!0,"items-per-page-options":[100]}},on:{"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"header.name",fn:function(){},proxy:!0},{key:"header.hp",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.luck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.impLuck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.asw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.impAsw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Database."+s.text)))]}},{key:"header.scout",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.accuracy",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.avoid",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.ci",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"item",fn:function(e){var i=e.item;return[s("tr",{directives:[{name:"ripple",rawName:"v-ripple"}],class:{no_ship:0===i.count,lv175:175===i.stockData.level,lv100:175!==i.stockData.level&&i.stockData.level>99,lv99:99===i.stockData.level},attrs:{tabindex:"0"},on:{click:function(e){return e.stopPropagation(),t.showEditDialog(i)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showEditDialog(i)},mouseenter:function(e){return t.bootTooltip(i,e)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[s("td",{staticClass:"px-0"},[s("div",{staticClass:"d-none d-md-flex align-center"},[s("div",{staticClass:"edit-stock-img"},[s("v-img",{attrs:{src:"./img/ship/"+i.ship.id+".png",height:"40",width:"160"}}),i.stockData.area>0&&i.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner mt-1"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+i.stockData.area+".webp",height:"52",width:"35"}})],1):t._e(),i.stockData.releaseExpand?s("div",{staticClass:"slot-ex-img"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"30",width:"30"}})],1):t._e()],1),s("div",{staticClass:"ship-name text-truncate",attrs:{title:i.ship.name}},[t._v(t._s(t.getShipName(i.ship)))])]),s("div",{staticClass:"d-flex d-md-none align-center"},[s("div",{staticClass:"edit-stock-img"},[s("v-img",{attrs:{src:"./img/ship/"+i.ship.id+".png",height:"30",width:"120"}}),i.stockData.area>0&&i.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner min"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+i.stockData.area+".webp",height:"44",width:"30"}})],1):t._e(),i.stockData.releaseExpand?s("div",{staticClass:"slot-ex-img min"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"25",width:"25"}})],1):t._e()],1)])]),s("td",{staticClass:"text-right"},[t._v(t._s(i.level))]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(i.hp))]),i.impHP?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(i.impHP))],1):t._e()])]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(i.luck))]),i.impLuck?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(i.impLuck))],1):t._e()])]),s("td",{staticClass:"text-right"},[i.count?s("span",{class:{"text--secondary":!i.impLuck}},[t._v(t._s(i.impLuck))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(i.asw))]),i.impAsw?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(i.impAsw))],1):t._e()])]),s("td",{staticClass:"text-right"},[i.count?s("span",[t._v(t._s(i.scout))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[i.count?s("span",[t._v(t._s(i.accuracy))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[i.count?s("span",[t._v(t._s(i.avoid))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[i.count?s("span",[t._v(t._s(i.ci))]):s("span",[t._v("-")])])])]}}],null,!0)})],1):t.viewShips.length?s("div",{staticClass:"mt-3"},[s("div",{staticClass:"d-flex flex-wrap"},t._l(t.altViewShips,(function(e,i){return s("div",{key:"type_row"+i,staticClass:"type-container"},[s("div",{staticClass:"ma-2"},[t._v(t._s(t.getShipTypeName(e.typeName)))]),s("div",{staticClass:"type-divider"}),s("div",{staticClass:"d-flex flex-wrap"},t._l(e.rows,(function(e,i){return s("div",{key:"outer_row_"+i,staticClass:"ship-card ma-1 px-2 pt-2"},t._l(e,(function(e,i){return s("div",{key:"row_"+i,staticClass:"mt-1 mb-2"},[s("div",{staticClass:"d-flex"},[s("div",[t._v(t._s(t.getShipName(e.master)))]),s("v-spacer"),s("div",{staticClass:"caption align-self-end"},[t._v(t._s(t.$t("Database.在籍"))+": "+t._s(e.count))])],1),s("div",{staticClass:"status-img",class:{no_ship:0===e.count}},[s("img",{staticClass:"status-img",attrs:{src:"./img/ship/"+e.master.id+".png",alt:"ship-"+e.master.id}})]),t._l(e.detail,(function(e,i){return s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"detail_"+i,staticClass:"detail-row ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},attrs:{tabindex:"0"},on:{click:function(s){return s.stopPropagation(),t.showEditDialog(e)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.showEditDialog(e)},mouseenter:function(s){return t.bootTooltip(e,s)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[e.count?[s("div",{staticClass:"status-col sm"},[s("div",[t._v(t._s(e.level))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_hp.png",height:"16",alt:"hp"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impHP}},[t._v(t._s(e.hp))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_asw.png",height:"16",alt:"asw"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impAsw}},[t._v(t._s(e.asw))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_luck.png",height:"16",alt:"luck"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impLuck}},[t._v(t._s(e.luck))])]),s("div",{staticClass:"status-area-img",class:{"exist-img":e.stockData.area>0}},[e.stockData.area>0?s("img",{staticClass:"status-area-img",attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.stockData.area+"_min.webp",alt:"area-"+e.stockData.area}}):t._e()]),s("div",{staticClass:"status-ex-img"},[e.stockData.releaseExpand?s("img",{staticClass:"status-ex-img",attrs:{src:"./img/util/slot_ex.png",height:"24",width:"24",alt:"ex-slot"}}):t._e()])]:[s("div",{staticClass:"mx-auto text-center no_ship"},[t._v(t._s(t.$t("Database.新規登録")))])]],2)}))],2)})),0)})),0)])})),0)]):t._e(),t.modeTable&&t.viewShips.length?s("div",{staticClass:"mt-2"},[s("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e()],1)],1),s("v-tab-item",{attrs:{value:"group"}},[s("area-manager",{attrs:{readonly:t.readOnly}})],1),s("v-tab-item",{attrs:{value:"analytics"}},[s("analytics")],1),s("v-tab-item",{attrs:{value:"compare"}},[s("compare")],1)],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editRow&&t.versionButtons.length?s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"mx-2 mt-2"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"align-self-center edit-stock-img"},[s("v-img",{attrs:{src:"./img/ship/"+t.versionButtons[t.version].id+".png",height:"50",width:"200"}}),t.editRow.stockData.area>0&&t.editRow.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+t.editRow.stockData.area+".webp",height:"68",width:"47"}})],1):t._e()],1),s("div",{staticClass:"align-self-center ml-2"},[s("v-btn-toggle",{staticClass:"flex-wrap",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versionButtons,(function(e,i){return s("v-btn",{key:"ver"+i,attrs:{value:i},on:{click:function(e){return e.stopPropagation(),t.changeVersion(i)}}},[s("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.getShipName(e)))])])})),1)],1)]),s("v-divider",{staticClass:"mt-3"}),s("div",{staticClass:"d-flex mt-3"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.練度(Lv)"),type:"number",max:"175",min:"1","hide-details":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}})],1),s("v-slider",{staticClass:"mx-5 align-self-center",attrs:{"hide-details":"",max:"175",min:"1","thumb-label":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}}),s("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"teal",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=99}}},[t._v("LV99")])],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Common.運"),type:"number",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"hide-details":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"thumb-label":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.耐久改修"),type:"number",max:"2",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"2",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.対潜改修"),type:"number",max:"9",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"9",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),s("div",{staticClass:"mt-8"},[s("v-checkbox",{attrs:{label:t.$t("Database.補強増設開放済")},model:{value:t.editRow.stockData.releaseExpand,callback:function(e){t.$set(t.editRow.stockData,"releaseExpand",e)},expression:"editRow.stockData.releaseExpand"}})],1),s("div",{staticClass:"d-flex justify-space-around"},t._l(t.maxAreas,(function(e){return s("div",{key:"area"+e,staticClass:"selected-area-btn",class:{selected:t.editRow.stockData.area===e},attrs:{tabindex:"0"},on:{click:function(s){return s.stopPropagation(),t.toggleArea(e)},keypress:function(s){return t.toggleArea(e)}}},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"47"}})],1)})),0),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{disabled:t.btnPushed||t.readOnly,color:"primary"},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Database.着任"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:t.btnPushed||!t.editRow.stockData.uniqueId||t.readOnly,color:"success"},on:{click:function(e){return e.stopPropagation(),t.updateStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Common.更新"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.editRow.stockData.uniqueId||t.readOnly,color:"error"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!0}}},[t._v(" "+t._s(t.$t("Database.除籍"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)]):t._e()],1),s("v-dialog",{attrs:{width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[s("div",[t._v(t._s(t.$t("Database.本当に除籍しますか？")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"error",disabled:t.btnPushed,dark:""},on:{click:function(e){return e.stopPropagation(),t.deleteStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.除籍")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Database.やっぱやめとく")))])],1)],1)],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("ship-tooltip",{attrs:{value:t.tooltipShip}})],1)],1)},c=[],d=s(3632),h=s.n(d),p=s(7739),u=s.n(p),m=s(361),v=s.n(m),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-8"},[s("div",{staticClass:"d-flex my-3 mx-4"},[s("div",{staticClass:"align-self-center mr-5"},[t._v(t._s(t.$t("Database.集計対象Lv")))]),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lv下限"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:function(e){return t.analyze()}},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lv上限"),type:"number",max:"175",min:t.levelRange[0],dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),s("v-card",{staticClass:"pa-1"},[s("v-divider"),s("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.合計艦娘数")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ケッコン艦")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.補強増設艦")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.耐久改修合計")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.対潜改修合計")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.運改修合計")))]),s("th",{staticClass:"text-right"},[t._v(" "+t._s(t.$t("Database.まるゆ指数"))+" "),s("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[s("v-icon",t._g(t._b({staticClass:"ml-1",attrs:{small:""}},"v-icon",a,!1),i),[t._v("mdi-help-circle-outline")])]}}])},[s("div",[s("s",[t._v(t._s(t.$t("Database.まるゆを近代化改修に使えば使うほど上昇します。")))])]),s("div",[t._v(t._s(t.$t("Database.ケッコン以外の手段で運改修を進めていると上昇する指標です。")))])])],1)])]),s("tbody",[s("tr",[s("td",{staticClass:"text-right"},[t._v(t._s(t.allShipCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.allMarriageCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.allExSlotCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalHPImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalASWImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalLuckImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.maruyuRank.toLocaleString()))])])])]},proxy:!0}])})],1),s("v-card",{staticClass:"my-3 pa-1"},[s("v-divider"),s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.艦種")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.隻数")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.最大Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.最小Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.中央Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.平均Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.総経験値")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.1隻平均")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値割合")))])])]),s("tbody",t._l(t.summaryTable,(function(e,i){return s("tr",{key:"summary_row"+i},[s("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.count))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.maxLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.minLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.midLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.avgLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.sumExp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.avgExp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.expRate)+" %")])])})),0)]},proxy:!0}])})],1),s("div",{staticClass:"graph-area"},[s("v-card",{staticClass:"py-4"},[s("div",{staticClass:"d-flex justify-center"},[s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.艦種別Lv帯分析")))])]),s("radar-chart",{attrs:{data:t.radarGraphData,options:t.radarOptions}})],1),s("v-card",{staticClass:"pa-1"},[s("v-divider"),s("v-simple-table",{attrs:{"fixed-header":"",height:"64vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v("Rank")]),s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Common.艦娘名")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.総経験値")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値割合")))])])]),s("tbody",t._l(t.expRankTable,(function(e,i){return s("tr",{key:"exp_rank_row"+i},[s("td",{staticClass:"text-right"},[t._v(t._s(e.rank))]),s("td",{staticClass:"text-left"},[t._v(t._s(t.needTrans?t.$t(""+e.name):e.name))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.exp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.rate)+" %")])])})),0)]},proxy:!0}])})],1)],1),s("v-card",{staticClass:"my-4 pa-4"},[s("div",{staticClass:"d-flex justify-center"},[s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.Lv帯別艦娘数")))])]),s("div",[s("stacked-bar",{attrs:{data:t.stackedBarData,options:t.stackedBarOption}})],1)])],1)},b=[],k=s(2297),f=s.n(k),x=s(8659),_=s.n(x),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RadarChart",{style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},C=[],S=s(5706),$=s(6775),D=s(9231),w=s(6429);$.kL.register(w.Z,...$.zX);var T=l.Z.use(S.ZP).extend({components:{RadarChart:D.HM},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String},height:{type:Number,default:1200}},data:()=>({plugins:[w.Z]}),computed:{actualData(){return this.$vuetify.theme.dark,this.data},actualOptions(){if(this.$vuetify.theme.dark){const t="rgb(200, 200, 200)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(0, 0, 0, 0.1)"}else{const t="rgb(64, 64, 64)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(255, 255, 255, 0.9)"}return this.titleText&&(this.options.plugins.title.text=this.titleText),this.options},styles(){return{height:"60vh",position:"relative"}}}}),L=T,R=s(1001),I=(0,R.Z)(L,y,C,!1,null,null,null),Z=I.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BarChart",{ref:"stackedBarRef",style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},V=[];const E=["rgba(224, 0, 0, 0.5)","rgba(128, 0, 224, 0.5)","rgba(0, 0, 224, 0.5)","rgba(0, 128, 224, 0.5)","rgba(0, 224, 224, 0.5)","rgba(0, 224, 0, 0.5)","rgba(224, 224, 0, 0.5)","rgba(224, 128, 0, 0.5)","rgba(0, 0, 0, 0.25)"],N=["rgba(255, 80, 80, 0.5)","rgba(170, 80, 255, 0.5)","rgba(80, 80, 255, 0.5)","rgba(80, 180, 255, 0.5)","rgba(80, 255, 255, 0.5)","rgba(80, 255, 80, 0.5)","rgba(255, 255, 80, 0.5)","rgba(255, 180, 80, 0.5)","rgba(255, 255, 255, 0.25)"];$.kL.register(w.Z,...$.zX);var P=l.Z.use(S.ZP).extend({components:{BarChart:D.vz},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String}},data:()=>({stackedBarRef:{},plugins:[w.Z]}),computed:{actualData(){const t=this.$vuetify.theme.dark?N:E,{datasets:e}=this.data;for(let s=0;s<e.length;s+=1)e[s].backgroundColor=t[s];return this.data},actualOptions(){let t="rgb(64, 64, 64)";return this.$vuetify.theme.dark&&(t="rgb(200, 200, 200)"),this.options.plugins.legend.labels.color=t,this.options.scales.x.ticks.color=t,this.options.scales.x.title.color=t,this.options.scales.y.ticks.color=t,this.options},styles(){return{height:"70vh",position:"relative"}}}}),H=P,M=(0,R.Z)(H,A,V,!1,null,null,null),U=M.exports,O=s(6141);const B=["最大Lv","最小Lv","中央Lv","平均Lv"];var F=l.Z.extend({name:"AnalyticsComponent",components:{RadarChart:Z,StackedBar:U},data:()=>({levelRange:[1,175],summaryTable:[],expRankTable:[],unsubscribe:void 0,readOnly:!1,radarGraphData:{labels:[],datasets:[{label:B[0],data:[],fill:!1,backgroundColor:"rgba(64, 164, 255, 0.1)",borderColor:"rgb(64, 164, 255)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:B[1],data:[],backgroundColor:"rgba(255, 64, 64, 0.1)",borderColor:"rgb(255, 64, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1},hidden:!0},{label:B[2],data:[],fill:!1,backgroundColor:"rgba(255, 128, 64, 0.1)",borderColor:"rgb(255, 128, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:B[3],data:[],fill:!1,backgroundColor:"rgba(0, 200, 0, 0.1)",borderColor:"rgb(0, 200, 0)",borderWidth:2,pointRadius:3,datalabels:{display:!1}}]},radarOptions:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:175,ticks:{stepSize:25,color:"rgb(64, 64, 64)",backdropColor:"rgba(255, 255, 255, 0.7)"},angleLines:{color:"rgba(128, 128, 128, 0.4)"},pointLabels:{color:"rgb(64, 64, 64)"},grid:{color:"rgba(128, 128, 128, 0.4)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}},title:{display:!0}}},stackedBarData:{labels:[],datasets:[]},stackedBarOption:{responsive:!0,indexAxis:"y",scales:{x:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!0,text:"艦娘数[隻]"},ticks:{color:"rgb(64, 64, 64)"}},y:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!1},ticks:{color:"rgb(64, 64, 64)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}}}},allShipCount:0,allMarriageCount:0,allExSlotCount:0,totalLuckImprovement:0,totalHPImprovement:0,totalASWImprovement:0,maruyuRank:0}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.analyze(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&this.analyze()}));for(let t=17;t>0;t-=1)this.stackedBarData.labels.push(10*t+"～");this.stackedBarData.labels.push("1～")},watch:{isTempStockMode(t){this.readOnly=!!t,this.analyze()}},computed:{needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese(){return"ja"!==this.$i18n.locale},isTempStockMode(){return this.$store.getters.getExistsTempStock}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{analyze(){const t=this.$store.state.ships;let e=this.$store.state.shipStock;this.readOnly&&(e=this.$store.state.tempShipStock);const s=O.ZP.SHIP_TYPES_ALT2,i=[];let a=0,l=[],o=0,r=0,c=0,d=0,p=0,u=0,m=[];this.radarGraphData.labels=[],this.stackedBarData.datasets=[],this.stackedBarOption.scales.x.title.text=`${this.$t("Database.艦娘数")}`;for(let b=0;b<s.length;b+=1){const v=s[b],g=this.isNotJapanese?`${this.$t(`SType.${v.text}`)}`:v.text;this.radarGraphData.labels.push(g),this.radarGraphData.datasets[0].label=`${this.$t("Database.最大Lv")}`,this.radarGraphData.datasets[1].label=`${this.$t("Database.最小Lv")}`,this.radarGraphData.datasets[2].label=`${this.$t("Database.中央Lv")}`,this.radarGraphData.datasets[3].label=`${this.$t("Database.平均Lv")}`;const k=t.filter((t=>v.types.includes(t.type))),x=k.map((t=>t.id)),y={label:g,borderWidth:0,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],stack:"stack-1",datalabels:{display:!1}},C=e.filter((t=>x.includes(t.id)&&t.level>=this.levelRange[0]&&t.level<=this.levelRange[1]));if(C.length){const e=[],s=[];for(let i=0;i<C.length;i+=1){const a=C[i];e.push(a.level),s.push(a.exp),o+=a.level>99?1:0,r+=a.releaseExpand?1:0,c+=a.improvement.hp,d+=a.improvement.asw,p+=a.improvement.luck,u+=163===a.id||402===a.id?1:0,y.data[17-Math.floor(a.level/10)]+=1;const l=t.find((t=>t.id===a.id))?.originalId,n=m.find((t=>t.id===l));n?n.exp+=a.exp:l&&m.push({id:l,name:"",exp:a.exp,rate:0})}const v=f()(s);a+=v,l=l.concat(e);const k={count:C.length,maxLevel:n()(e),minLevel:h()(e),midLevel:this.getMidValue(e),avgLevel:_()(e),sumExp:v,avgExp:_()(s),expRate:0};i.push({name:g,data:k}),this.radarGraphData.datasets[0].data[b]=k.maxLevel?k.maxLevel:0,this.radarGraphData.datasets[1].data[b]=k.minLevel?k.minLevel:0,this.radarGraphData.datasets[2].data[b]=k.midLevel?k.midLevel:0,this.radarGraphData.datasets[3].data[b]=k.avgLevel?Math.floor(k.avgLevel):0}else{const t={count:0,maxLevel:0,minLevel:0,midLevel:0,avgLevel:0,sumExp:0,avgExp:0,expRate:0};i.push({name:g,data:t}),this.radarGraphData.datasets[0].data[b]=0,this.radarGraphData.datasets[1].data[b]=0,this.radarGraphData.datasets[2].data[b]=0,this.radarGraphData.datasets[3].data[b]=0}this.stackedBarData.datasets.push(y)}this.summaryTable=[];for(let n=0;n<i.length;n+=1){const t=i[n];this.summaryTable.push({name:t.name,data:{count:t.data.count,maxLevel:t.data.maxLevel,minLevel:t.data.minLevel,midLevel:t.data.midLevel,avgLevel:t.data.avgLevel?t.data.avgLevel.toFixed(1):0,sumExp:t.data.sumExp.toLocaleString(),avgExp:Math.floor(t.data.avgExp).toLocaleString(),expRate:a?Math.floor(1e3*t.data.sumExp/a)/10:0}})}const v=f()(l),g=l.length;this.summaryTable.push({name:this.isNotJapanese?`${this.$t("SType.合計")}`:"合計",data:{count:g,maxLevel:n()(i.map((t=>t.data.maxLevel))),minLevel:h()(i.map((t=>t.data.minLevel))),midLevel:this.getMidValue(l),avgLevel:g?(v/g).toFixed(1):"0",sumExp:a.toLocaleString(),avgExp:g?Math.floor(a/g).toLocaleString():"0",expRate:g?100:0}}),this.allShipCount=g,this.allMarriageCount=o,this.allExSlotCount=r,this.totalHPImprovement=c,this.totalLuckImprovement=p,this.totalASWImprovement=d,this.maruyuRank=Math.max(Math.floor(1.6*u+(p-4.5*this.allMarriageCount)/1.6),0),m=m.sort(((t,e)=>e.exp!==t.exp?e.exp-t.exp:t.id-e.id)).splice(0,50),this.expRankTable=[];for(let n=0;n<m.length;n+=1){const e=m[n],s=t.find((t=>t.id===e.id))?.name;s&&(e.name=s),a&&(e.rate=100*e.exp/a),this.expRankTable.push({rank:n+1,name:e.name,exp:e.exp.toLocaleString(),rate:e.rate.toFixed(2)})}},getMidValue(t){if(t.length){const e=t.length;t.sort(((t,e)=>t-e));const s=Math.floor(t.length/2);return e%2?t[s]:Math.floor((t[s-1]+t[s])/2)}return 0}}}),W=F,K=s(3453),z=s.n(K),J=s(9582),Y=s(9223),j=s(4324),G=s(9670),X=G.Z,q=s(5352),Q=X.extend({name:"v-range-slider",props:{value:{type:Array,default:()=>[0,0]}},data(){return{activeThumb:null,lazyValue:this.value}},computed:{classes(){return{...X.options.computed.classes.call(this),"v-input--range-slider":!0}},internalValue:{get(){return this.lazyValue},set(t){let e=t.map(((t=0)=>this.roundValue(Math.min(Math.max(t,this.minValue),this.maxValue))));if(e[0]>e[1]||e[1]<e[0]){if(null!==this.activeThumb){const t=1===this.activeThumb?0:1,e=this.$refs[`thumb_${t}`];e.focus()}e=[e[1],e[0]]}this.lazyValue=e,(0,q.vZ)(e,this.value)||this.$emit("input",e),this.validate()}},inputWidth(){return this.internalValue.map((t=>(this.roundValue(t)-this.minValue)/(this.maxValue-this.minValue)*100))}},methods:{getTrackStyle(t,e,s=0,i=0){const a=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",l=this.vertical?"height":"width",o=`calc(${t}% + ${s}px)`,n=`calc(${e}% + ${i}px)`;return{transition:this.trackTransition,[a]:o,[l]:n}},getIndexOfClosestValue(t,e){return Math.abs(t[0]-e)<Math.abs(t[1]-e)?0:1},genInput(){return(0,q.MT)(2).map((t=>{const e=X.options.methods.genInput.call(this);return e.data=e.data||{},e.data.attrs=e.data.attrs||{},e.data.attrs.value=this.internalValue[t],e.data.attrs.id=`input-${t?"max":"min"}-${this._uid}`,e}))},genTrackContainer(){const t=[],e=this.isDisabled?10:0,s=[{class:"v-slider__track-background",color:this.computedTrackColor,styles:[0,this.inputWidth[0],0,-e]},{class:this.isDisabled?"v-slider__track-background":"v-slider__track-fill",color:this.isDisabled?this.computedTrackColor:this.computedTrackFillColor,styles:[this.inputWidth[0],Math.abs(this.inputWidth[1]-this.inputWidth[0]),e,-2*e]},{class:"v-slider__track-background",color:this.computedTrackColor,styles:[this.inputWidth[1],Math.abs(100-this.inputWidth[1]),e,-e]}];return this.$vuetify.rtl&&s.reverse(),t.push(...s.map((t=>this.$createElement("div",this.setBackgroundColor(t.color,{staticClass:t.class,style:this.getTrackStyle(...t.styles)}))))),this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genChildren(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),(0,q.MT)(2).map((t=>{const e=this.internalValue[t],s=e=>{this.isFocused=!0,this.activeThumb=t,this.$emit("focus",e)},i=t=>{this.isFocused=!1,this.activeThumb=null,this.$emit("blur",t)},a=this.inputWidth[t],l=this.isActive&&this.activeThumb===t,o=this.isFocused&&this.activeThumb===t;return this.genThumbContainer(e,a,l,o,s,i,`thumb_${t}`)}))]},reevaluateSelected(t){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,t);const e=`thumb_${this.activeThumb}`,s=this.$refs[e];s.focus()},onSliderMouseDown(t){var e;const s=this.parseMouseMove(t);if(this.reevaluateSelected(s),this.oldValue=this.internalValue,this.isActive=!0,null===(e=t.target)||void 0===e?void 0:e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;const e=t.target.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?s.clientY-(e.top+e.height/2):s.clientX-(e.left+e.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((()=>{this.thumbPressed=!0}),300);const i=!q.e$||{passive:!0,capture:!0},a=!!q.e$&&{passive:!0},l="touches"in t;this.onMouseMove(t),this.app.addEventListener(l?"touchmove":"mousemove",this.onMouseMove,a),(0,q.qh)(this.app,l?"touchend":"mouseup",this.onSliderMouseUp,i),this.$emit("start",this.internalValue)},onSliderClick(t){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);const e=this.parseMouseMove(t);this.reevaluateSelected(e),this.setInternalValue(e),this.$emit("change",this.internalValue)}},onMouseMove(t){const e=this.parseMouseMove(t);"mousemove"===t.type&&(this.thumbPressed=!0),null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,e)),this.setInternalValue(e)},onKeyDown(t){if(null===this.activeThumb)return;const e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null!=e&&(this.setInternalValue(e),this.$emit("change",this.internalValue))},setInternalValue(t){this.internalValue=this.internalValue.map(((e,s)=>s===this.activeThumb?t:Number(e)))}}}),tt=s(9449),et=s(9780),st=s(2082),it=(0,R.Z)(W,g,b,!1,null,"4b0f5e45",null),at=it.exports;z()(it,{VCard:J.Z,VDivider:Y.Z,VIcon:j.Z,VRangeSlider:Q,VSimpleTable:tt.Z,VTextField:et.Z,VTooltip:st.Z});var lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("v-card",{staticClass:"my-2 pa-2"},[s("table",[s("thead",[s("tr",[s("td",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.艦種")))]),s("td",[t._v(t._s(t.$t("Database.登録艦隊")))]),s("td",[t._v(t._s(t.$t("Database.現在閲覧中の艦隊")))]),s("td",[t._v(t._s(t.$t("Database.差")))])])]),s("tbody",t._l(t.summaryTable,(function(e,i){return s("tr",{key:"summary_row"+i},[s("td",{staticClass:"text-left"},[t._v(t._s(t.isNotJapanese?t.$t("SType."+e.name):e.name))]),s("td",{class:{"win-td":e.isWin}},[t._v(t._s(e.data.sumExp))]),s("td",{class:{"win-td":e.isLose}},[t._v(t._s(e.data.tempSumExp))]),s("td",{class:{"win-sub":e.isWin,"lose-sub":e.isLose}},[t._v(t._s(e.data.sub))])])})),0)])]),s("div",{staticClass:"mt-5 d-flex flex-wrap"},t._l(t.types,(function(e,i){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:i,staticClass:"type-selector",class:{active:i===t.type},attrs:{tabindex:"0"},on:{click:function(e){return t.changeType(i)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeType(i)}}},[t._v(" "+t._s(t.isNotJapanese?t.$t("SType."+e.text):e.text)+" ")])})),0),s("v-card",{staticClass:"my-1"},[s("v-simple-table",{attrs:{"fixed-header":"",height:"70vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.登録艦隊")))]),s("th",{staticClass:"text-right"},[t._v("Lv")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.耐久改修")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.対潜改修")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.運改修")))]),s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.現在閲覧中の艦隊")))]),s("th",{staticClass:"text-right"},[t._v("Lv")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.耐久改修")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.対潜改修")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.運改修")))])])]),s("tbody",t._l(t.diffRow,(function(e,i){return s("tr",{key:"ship_row"+i},[e.stock1?[s("td",{staticClass:"text-left pl-0",class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[s("div",{staticClass:"ship-img-area"},[s("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.level))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.exp.toLocaleString()))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.hp||""))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.asw||""))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.luck||""))])]:[s("td",{staticClass:"none",attrs:{colspan:"6"}})],e.stock2?[s("td",{staticClass:"text-left pl-0",class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[s("div",{staticClass:"ship-img-area"},[s("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.level))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.exp.toLocaleString()))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.hp||""))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.asw||""))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.luck||""))])]:[s("td",{staticClass:"none",attrs:{colspan:"6"}})]],2)})),0)]},proxy:!0}])})],1)],1)},ot=[],nt=l.Z.extend({name:"CompareComponent",data:()=>({summaryTable:[],unsubscribe:void 0,diffRow:[],type:0,types:[]}),mounted(){for(let t=0;t<O.ZP.SHIP_TYPES_ALT2.length;t+=1){const e=O.ZP.SHIP_TYPES_ALT2[t];this.types.push({text:e.text,types:e.types})}this.analyze(),this.generateDiffRow(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&(this.analyze(),this.generateDiffRow())}))},watch:{isTempStockMode(t){t&&(this.analyze(),this.generateDiffRow())}},computed:{isTempStockMode(){return this.$store.getters.getExistsTempStock},isNotJapanese(){return"ja"!==this.$i18n.locale}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{changeType(t=0){this.type=t,this.generateDiffRow()},analyze(){const t=this.$store.state.ships,e=this.$store.state.shipStock,s=this.$store.state.tempShipStock,i=O.ZP.SHIP_TYPES_ALT2,a=[];let l=0,o=0;for(let r=0;r<i.length;r+=1){const n=i[r],c=t.filter((t=>n.types.includes(t.type))),d=c.map((t=>t.id)),h=e.filter((t=>d.includes(t.id))),p=[];for(let t=0;t<h.length;t+=1)p.push(h[t].exp);const u=f()(p);l+=u;const m=s.filter((t=>d.includes(t.id))),v=[];for(let t=0;t<m.length;t+=1)v.push(m[t].exp);const g=f()(v);o+=g;const b=u-g;a.push({name:n.text,data:{sumExp:u,sub:b,tempSumExp:g}})}this.summaryTable=[];for(let r=0;r<a.length;r+=1){const t=a[r];this.summaryTable.push({name:t.name,data:{sumExp:t.data.sumExp.toLocaleString(),sub:t.data.sub.toLocaleString(),tempSumExp:t.data.tempSumExp.toLocaleString()},isWin:t.data.sub>0,isLose:t.data.sub<0})}const n=l-o;this.summaryTable.push({name:"合計",data:{sumExp:l.toLocaleString(),sub:n.toLocaleString(),tempSumExp:o.toLocaleString()},isWin:n>0,isLose:n<0})},generateDiffRow(){const t=this.$store.state.ships,e=this.$store.state.shipStock,s=this.$store.state.tempShipStock,i=this.types[this.type]?this.types[this.type].types:[],a=t.concat().filter((t=>i.includes(t.type)));a.sort(((t,e)=>t.sort-e.sort)),this.diffRow=[];for(let l=0;l<a.length;l+=1){const{id:t}=a[l],i=e.filter((e=>e.id===t)),o=s.filter((e=>e.id===t));i.sort(((t,e)=>e.level!==t.level?e.level-t.level:e.exp-t.exp)),o.sort(((t,e)=>e.level!==t.level?e.level-t.level:e.exp-t.exp));const n=Math.max(i.length,o.length);for(let e=0;e<n;e+=1){const s=i[e],a=o[e];let l=!!s&&!a,n=!s&&!!a;s&&a&&(l=s.level>a.level,n=s.level<a.level);const r={id:t,isMore:l,isLess:n,stock1:s||void 0,stock2:a||void 0};this.diffRow.push(r)}}}}}),rt=nt,ct=s(5495),dt=s(6392),ht=s.n(dt),pt=s(7069),ut=(0,R.Z)(rt,lt,ot,!1,null,"4c34469e",null),mt=ut.exports;z()(ut,{VCard:J.Z,VImg:ct.Z,VSimpleTable:tt.Z}),ht()(ut,{Ripple:pt.Z});var vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"area-manager-container mt-3"},[s("div",{staticClass:"align-self-center pl-2 d-flex"},[s("v-checkbox",{attrs:{dense:"",label:t.$t("Database.艦娘名表示")},model:{value:t.visibleShipName,callback:function(e){t.visibleShipName=e},expression:"visibleShipName"}}),s("v-text-field",{staticClass:"search-input ml-5",attrs:{label:t.$t("Database.名称検索"),dense:"",clearable:"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}})],1),s("div",[t.readonly?t._e():s("div",{staticClass:"d-flex my-2"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.resetAreaTag()}}},[t._v(t._s(t.$t("Database.お札一斉解除")))])],1)]),t._l(t.filteredAreaShipList,(function(e){return s("v-card",{key:"area_"+e.area,staticClass:"mb-2 px-2 py-3 area-card"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"area-banner"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.area+".webp",height:"55",width:"38"}})],1),s("v-btn",{staticClass:"ml-12",attrs:{color:"primary",disabled:t.disabledEdit},on:{click:function(s){return s.stopPropagation(),t.showShipList(e.area)}}},[t._v(" "+t._s(t.$t("Common.配備"))+" ")]),s("v-btn",{staticClass:"ml-3",attrs:{color:"secondary",disabled:t.disabledEdit},on:{click:function(s){return s.stopPropagation(),t.resetShipsClicked(e.area)}}},[t._v(" "+t._s(t.$t("Database.解散"))+" ")])],1),e.headers.length>0?s("div",{staticClass:"py-1"}):t._e(),t._l(e.headers,(function(i){return s("div",{key:"type_"+i.text},[s("div",{staticClass:"type-divider mt-1"},[s("div",{staticClass:"caption"},[t._v(t._s(i.text))]),s("div",{staticClass:"type-divider-border"})]),s("div",{staticClass:"d-flex flex-wrap"},t._l(i.ships,(function(i,a){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"area_"+e.area+"_ship"+a,staticClass:"ship-container",class:{clickable:!t.disabledEdit},attrs:{tabindex:"0"},on:{click:function(s){return s.stopPropagation(),t.clickedShip(e.area,i)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.clickedShip(e.area,i)},mouseenter:function(e){return t.bootTooltip(i,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i,e)},blur:t.clearTooltip}},[s("div",{staticClass:"ship-img"},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+i.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"ship-area-banner"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.area+"_min.webp",height:"33",width:"30"}})],1),i.expand?s("div",{staticClass:"slot-ex-img"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"27",width:"27"}})],1):t._e()]),t.visibleShipName?s("div",{staticClass:"caption"},[s("div",{staticClass:"ship-status"},[s("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(i.level))]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("Common.運"))+":"+t._s(i.luck))])]),s("div",{staticClass:"ml-1 text-truncate ship-name"},[t._v(t._s(t.getShipName(i.data)))])]):t._e()])})),0)])}))],2)})),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[t.confirmShip?s("div",{staticClass:"d-flex mb-3"},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+t.confirmShip.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"caption"},[s("div",{staticClass:"ship-status"},[s("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(t.confirmShip.level))]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("Common.運"))+":"+t._s(t.confirmShip.luck))])]),s("div",{staticClass:"ml-1 text-truncate"},[t._v(t._s(t.getShipName(t.confirmShip.data)))])])]):t._e(),t.confirmShip?s("div",[t._v(t._s(t.$t("Database.札を解除します。よろしいですか？")))]):s("div",[t._v(t._s(t.$t("Database.解散します。よろしいですか？")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[t.confirmShip?s("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.removeShip()}}},[t._v(t._s(t.$t("Database.解除")))]):s("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetShips()}}},[t._v(t._s(t.$t("Database.解散")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("ship-tooltip",{model:{value:t.tooltipShip,callback:function(e){t.tooltipShip=e},expression:"tooltipShip"}})],1)],2)},gt=[],bt=s(1351),kt=s(1161),ft=s(5549),xt=s(2382),_t=l.Z.extend({name:"AreaManager",components:{ShipList:bt.Z,ShipTooltip:kt.Z},props:{readonly:{type:Boolean,required:!0}},data:()=>({searchWord:"",visibleShipName:!1,existStock:!1,areaShipList:[],unsubscribe:void 0,shipListDialog:!1,shipDialogWidth:1200,selectedArea:0,confirmDialog:!1,confirmShip:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new xt.Z,tooltipX:0,tooltipY:0}),mounted(){this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&this.loadShipStock()})),this.loadShipStock()},watch:{isTempStockMode(){this.loadShipStock()}},computed:{isTempStockMode(){return this.$store.getters.getExistsTempStock},filteredAreaShipList(){if(this.searchWord){const t=this.searchWord,e=v()(this.areaShipList);for(let s=0;s<e.length;s+=1){const{headers:i}=e[s];for(let e=0;e<i.length;e+=1){const s=i[e];s.ships=s.ships.filter((e=>e.data.name.includes(t)))}e[s].headers=i.filter((t=>t.ships.length))}return e}return this.areaShipList},disabledEdit(){return!(this.existStock&&!this.readonly&&!this.searchWord)},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{loadShipStock(){this.areaShipList=[];const t=this.$store.state.areaCount;for(let i=0;i<t;i+=1){const t=[],e=O.ZP.SHIP_TYPES_ALT;for(let s=0;s<e.length;s+=1){const i=e[s];t.push({text:i.text,types:i.types,ships:[]})}this.areaShipList.push({area:i+1,headers:t})}const e=this.$store.state.ships;let s=this.$store.state.shipStock;this.existStock=s.length>0,this.readonly&&(s=this.$store.state.tempShipStock);for(let i=0;i<s.length;i+=1){const t=s[i];if(t.area<=0)continue;const a=e.find((e=>e.id===t.id));if(!a)continue;const l=this.areaShipList[t.area-1];if(l){const e=l.headers.find((t=>t.types.includes(a.type)));if(e){const s={data:a,hp:(t.level>99?a.hp2:a.hp)+t.improvement.hp,level:t.level,luck:a.luck+t.improvement.luck,expand:t.releaseExpand,impHP:t.improvement.hp,impASW:t.improvement.asw,impLuck:t.improvement.luck};e.ships.push(s)}}}for(let i=0;i<this.areaShipList.length;i+=1){const t=this.areaShipList[i].headers.filter((t=>t.ships.length));for(let e=0;e<t.length;e+=1)t[e].ships.sort(((t,e)=>t.data.sort-e.data.sort));this.areaShipList[i].headers=t}},async showShipList(t){this.selectedArea=t,await(this.shipListDialog=!0);const e=this.$refs.shipList;e.disabledStockOnlyChange=!0,e.isStockOnly=!0,e.initialize(!1)},putShip(t){const e=this.$store.state.shipStock,s={hp:t.hp-(t.level>99?t.ship.hp2:t.ship.hp),asw:t.asw,luck:t.luck-t.ship.luck},i=e.filter((e=>e.id===t.ship.id&&e.level===t.level&&e.area===t.area&&e.releaseExpand===t.expanded&&e.improvement.hp===s.hp&&e.improvement.asw===s.asw&&e.improvement.luck===s.luck));i.length&&(i.sort(((t,e)=>t.area-e.area)),i[0].area=this.selectedArea,this.$store.dispatch("updateShipStock",e)),this.shipListDialog=!1},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},clickedShip(t,e){this.disabledEdit||(this.clearTooltip(),this.confirmShip=e,this.selectedArea=t,this.confirmDialog=!0)},removeShip(){const t=this.selectedArea,e=this.confirmShip;if(t<=0||!e)return;const s=this.$store.state.shipStock,i=s.find((s=>s.id===e.data.id&&s.level===e.level&&s.area===t&&s.releaseExpand===e.expand&&s.improvement.hp===e.impHP&&s.improvement.asw===e.impASW&&s.improvement.luck===e.impLuck));i&&(i.area=0,this.$store.dispatch("updateShipStock",s)),this.confirmDialog=!1},resetShipsClicked(t){this.confirmShip=void 0,this.selectedArea=t,this.confirmDialog=!0},resetShips(){const t=this.selectedArea,e=this.$store.state.shipStock,s=e.filter((e=>e.area===t));for(let i=0;i<s.length;i+=1)s[i].area=0;this.$store.dispatch("updateShipStock",e),this.confirmDialog=!1},resetAreaTag(){const t=this.$store.state.shipStock;for(let e=0;e<t.length;e+=1)t[e].area=0;this.$store.dispatch("updateShipStock",t)},getShipName(t){if(this.needTrans){const e=ft.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t.name?t.name:""},bootTooltip(t,e){const s=this.$store.state.siteSetting;window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=e.clientX,this.tooltipY=e.clientY;const s=new xt.Z({master:t.data,level:t.level,hp:t.hp,luck:t.luck,asw:t.impASW});this.tooltipShip=s,this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),yt=_t,Ct=s(4562),St=s(3486),$t=s(4061),Dt=(0,R.Z)(yt,vt,gt,!1,null,"464b3995",null),wt=Dt.exports;z()(Dt,{VBtn:Ct.Z,VCard:J.Z,VCheckbox:St.Z,VDialog:$t.Z,VDivider:Y.Z,VImg:ct.Z,VTextField:et.Z,VTooltip:st.Z}),ht()(Dt,{Ripple:pt.Z});var Tt=s(2063),Lt=s(6770),Rt=s(3631),It=l.Z.extend({name:"ShipsComponent",components:{Analytics:at,Compare:mt,ShipTooltip:kt.Z,AreaManager:wt},data:()=>({all:[],filteredShips:[],viewShips:[],shipStock:[],page:1,searchWord:"",onlyStock:!1,onlyNoStock:!1,onlyReleaseExSlot:!1,withoutReleaseExSlot:!1,is4n:!1,isDaihatsu:!1,isNotDaihatsu:!1,isKamisha:!1,isNotKamisha:!1,luckRange:[1,200],levelRange:[1,175],luckImpRange:[0,100],aswRange:[0,9],okDaihatsu:[],okKamisha:[],hpItems:[],addHP:[],aswItems:[],addASW:[],types:[],selectedTypes:[],nationalities:[{text:"日本",value:0,filter:[]},{text:"アメリカ",value:1,filter:O.ZP.USA},{text:"イタリア",value:2,filter:O.ZP.ITA},{text:"イギリス",value:3,filter:O.ZP.GBR},{text:"ドイツ",value:4,filter:O.ZP.DEU},{text:"フランス",value:5,filter:O.ZP.FRA},{text:"ソ連",value:6,filter:O.ZP.RUS},{text:"その他",value:7,filter:O.ZP.AUS.concat(O.ZP.SWE).concat(O.ZP.NLD)}],selectedNationalities:[0,1,2,3,4,5,6,7],editDialog:!1,editRow:{},versionButtons:[],version:0,editLuck:0,maxAreas:0,confirmDialog:!1,unsubscribe:void 0,btnPushed:!1,allCount:0,modeTable:!0,selectedArea:[],visibleNoArea:!0,readOnly:!1,tab:"list",headers:[{text:"艦娘名",value:"name",sortable:!1},{text:"Lv",align:"end",value:"level"},{text:"耐久",align:"end",value:"hp"},{text:"運",align:"end",value:"luck"},{text:"運改修",align:"end",value:"impLuck"},{text:"対潜",align:"end",value:"asw"},{text:"索敵",align:"end",value:"scout"},{text:"命中項",align:"end",value:"accuracy"},{text:"回避項",align:"end",value:"avoid"},{text:"CI項",align:"end",value:"ci"}],enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new xt.Z,tooltipX:0,tooltipY:0}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setShipStock"===t.type&&(this.shipStock=e.shipStock,this.masterFilter(),this.editDialog=!1)}))},watch:{completed(t){t&&(this.all=this.$store.state.ships,this.initialize())},isTempStockMode(t){this.readOnly=!!t,this.initialize()}},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock},selectedAllType(){return this.selectedTypes.length===this.types.length},selectedSomeType(){return this.selectedTypes.length>0&&!this.selectedAllType},selectedAllNationality(){return this.selectedNationalities.length===this.nationalities.length},selectedSomeNationality(){return this.selectedNationalities.length>0&&!this.selectedAllNationality},icon(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},icon2(){return this.selectedAllNationality?"mdi-close-box":this.selectedSomeNationality?"mdi-minus-box":"mdi-checkbox-blank-outline"},pageLength(){return Math.ceil(this.viewShips.length/100)},minLevel(){const t=this.versionButtons[this.version];if(!t||t.beforeId<=0||"山城改二"===t.name)return 1;const e=this.all.find((e=>e.id===t.beforeId));return e?e.nextLv:1},altViewShips(){const t=this.viewShips;if(!t.length)return[];const e=[];for(let a=0;a<t.length;a+=1){const s=t[a],i=e.find((t=>t.master.id===s.ship.id));i?(i.count+=1,i.detail.push(s)):e.push({master:s.ship,count:s.count,detail:[s]})}const s=O.ZP.SHIP_TYPES_ALT_INFO,i=[];for(let a=0;a<s.length;a+=1){const t=s[a],l=e.filter((e=>e.master.type2===t.id));if(l.length){const e=u()(l,(t=>t.master.originalId)),s=[];Object.keys(e).forEach((t=>{const i=e[t];i.sort(((t,e)=>e.master.version-t.master.version)),s.push(i)})),s.sort(((t,e)=>{const s=h()(t.map((t=>t.master.sort))),i=h()(e.map((t=>t.master.sort)));return(s||0)-(i||0)})),i.push({typeName:t.name,rows:s})}}return i},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese(){return"ja"!==this.$i18n.locale},translatedShipTypes(){const t=[];for(let e=0;e<this.types.length;e+=1){const s=this.types[e];t.push({text:`${this.$t(`SType.${s.text}`)}`,value:s.value})}return t},translatedNationalities(){const t=[];for(let e=0;e<this.nationalities.length;e+=1){const s=this.nationalities[e];t.push({text:`${this.$t(`Database.${s.text}`)}`,value:s.value,filter:s.filter})}return t}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initialize(){this.all=this.$store.state.ships,this.shipStock=this.$store.state.shipStock,this.maxAreas=this.$store.state.areaCount,this.readOnly&&(this.shipStock=this.$store.state.tempShipStock),this.shipStock.length&&(this.onlyStock=!0);const t=this.$store.state.items.find((t=>68===t.id)),e=this.$store.state.items.find((t=>167===t.id));for(let i=0;i<this.all.length;i+=1){const s=this.all[i];Rt.Z.isValidItem(s,t)&&this.okDaihatsu.push(s.id),Rt.Z.isValidItem(s,e)&&this.okKamisha.push(s.id)}const s=O.ZP.SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(let i=0;i<s.length;i+=1)this.types.push({text:s[i].text,value:i}),this.selectedTypes.push(i);this.addHP=[];for(let i=0;i<=2;i+=1)this.hpItems.push({text:`+${i}`,value:i}),this.addHP.push(i);if(this.completed){const t=this.$store.state.siteSetting;this.changeViewMode(t.viewTableMode)}this.selectedArea=[];for(let i=0;i<=this.maxAreas;i+=1)this.selectedArea.push(i);this.masterFilter()},toggleDaihatsuFilter(){this.isDaihatsu?(this.isDaihatsu=!1,this.isNotDaihatsu=!0):this.isNotDaihatsu?this.isNotDaihatsu=!1:this.isDaihatsu=!0,this.filter()},toggleTankFilter(){this.isKamisha?(this.isKamisha=!1,this.isNotKamisha=!0):this.isNotKamisha?this.isNotKamisha=!1:this.isKamisha=!0,this.filter()},toggleExSlotFilter(){this.onlyReleaseExSlot?(this.onlyReleaseExSlot=!1,this.withoutReleaseExSlot=!0):this.withoutReleaseExSlot?this.withoutReleaseExSlot=!1:this.onlyReleaseExSlot=!0,this.filter()},filter(){const t=this.filteredShips,e=this.shipStock;let s=[];const i=this.levelRange[1],a=this.levelRange[0],l=this.luckRange[1],o=this.luckRange[0],n=this.luckImpRange[1],r=this.luckImpRange[0],c=this.aswRange[1],d=this.aswRange[0],h=this.addHP,p=this.searchWord?this.searchWord.trim().toUpperCase():"",u=this.selectedTypes;let m=[];const v=this.nationalities.filter((t=>!this.selectedNationalities.includes(t.value))).map((t=>t.filter));for(let _=0;_<v.length;_+=1)m=m.concat(v[_]);const g=!this.selectedNationalities.includes(0),b=O.ZP.SHIP_TYPES_ALT.filter(((t,e)=>u.includes(e))).map((t=>t.types)).flat();let k=0;const f=t.filter((t=>0===t.version));for(let _=0;_<f.length;_+=1){const u=f[_],v=t.filter((t=>t.originalId===u.id));if(p&&!v.some((t=>t.name.toUpperCase().indexOf(p)>=0)))continue;if(m.includes(u.type2)||g&&O.ZP.JPN.includes(u.type2))continue;const x=v.map((t=>t.id)),y=e.filter((t=>x.includes(t.id))),C=[];if(y.length){if(!this.onlyNoStock){for(let t=0;t<y.length;t+=1){const e=y[t];if(k+=1,e.level<a||e.level>i)continue;if(e.improvement.asw<d||e.improvement.asw>c)continue;if(e.improvement.luck<r||e.improvement.luck>n)continue;if(!h.includes(e.improvement.hp))continue;const s=v.find((t=>t.id===e.id)),p=e.improvement.hp+(e.level>99?s.hp2:s.hp),u=e.improvement.luck+s.luck;if(!b.includes(s.type))continue;if(u<o||u>l)continue;if(this.is4n&&p%4>0)continue;if(this.isDaihatsu&&!this.okDaihatsu.includes(s.id))continue;if(this.isNotDaihatsu&&this.okDaihatsu.includes(s.id))continue;if(this.isKamisha&&!this.okKamisha.includes(s.id))continue;if(this.isNotKamisha&&this.okKamisha.includes(s.id))continue;if(this.onlyReleaseExSlot&&!e.releaseExpand)continue;if(this.withoutReleaseExSlot&&e.releaseExpand)continue;if(!this.visibleNoArea&&e.area<1)continue;if(this.selectedArea.length&&!this.selectedArea.includes(e.area))continue;const m=xt.Z.getStatusFromLevel(e.level,s.maxAvoid,s.minAvoid);C.push({count:1,ship:s,stockData:e,level:e.level,hp:p,luck:u,impHP:e.improvement.hp,impLuck:e.improvement.luck,impAsw:e.improvement.asw,asw:xt.Z.getStatusFromLevel(e.level,s.maxAsw,s.minAsw)+e.improvement.asw,scout:xt.Z.getStatusFromLevel(e.level,s.maxScout,s.minScout),accuracy:xt.Z.getAccuracyValue(e.level,u),avoid:xt.Z.getAvoidValue(m,u),ci:xt.Z.getCIValue(e.level,u)})}C.sort(((t,e)=>t.ship.version===e.ship.version?e.stockData.level-t.stockData.level:e.ship.version-t.ship.version))}}else{if(k+=1,!b.includes(u.type))continue;if(this.onlyStock)continue;if(this.is4n&&u.hp%4>0)continue;if(this.isDaihatsu&&!this.okDaihatsu.includes(u.id))continue;if(this.isNotDaihatsu&&this.okDaihatsu.includes(u.id))continue;if(this.isKamisha&&!this.okKamisha.includes(u.id))continue;if(this.isNotKamisha&&this.okKamisha.includes(u.id))continue;if(this.onlyReleaseExSlot)continue;if(!this.visibleNoArea)continue;if(d||!h.includes(0))continue;C.push({count:0,ship:u,stockData:new Tt.Z,hp:u.hp,luck:u.luck,impHP:0,impLuck:0,impAsw:0,level:0,asw:u.minAsw,scout:-1,accuracy:-1,avoid:-1,ci:-1})}s=s.concat(C)}this.allCount=k,s.sort(((t,e)=>t.ship.sort-e.ship.sort));const x=Math.ceil(s.length/100);this.page=this.page>x?x:this.page,this.page=this.page<1&&x>0?1:this.page,this.viewShips=s},masterFilter(){this.filteredShips=this.all.filter((t=>t.id>0)),this.filter()},toggleAllType(){this.$nextTick((()=>{this.selectedAllType?this.selectedTypes=[]:this.selectedTypes=this.types.map((t=>t.value)).slice(),this.masterFilter()}))},toggleAllNationality(){this.$nextTick((()=>{this.selectedAllNationality?this.selectedNationalities=[]:this.selectedNationalities=this.nationalities.map((t=>t.value)).slice(),this.masterFilter()}))},clickedArea(t){-1===t?this.visibleNoArea=!this.visibleNoArea:this.selectedArea.includes(t)?this.selectedArea=this.selectedArea.filter((e=>e!==t)):this.selectedArea.push(t),this.filter()},changeVersion(t){this.version=t},showEditDialog(t){this.editRow=v()(t);const e=this.all.filter((e=>e.originalId===t.ship.originalId)).sort(((t,e)=>t.version-e.version));this.version=e.findIndex((e=>e.id===t.ship.id)),this.versionButtons=e,this.editLuck=t.luck,this.editDialog=!0,this.btnPushed=!1},toggleArea(t){this.editRow.stockData.area=this.editRow.stockData.area!==t?t:0},getNewStock(){const{stockData:t}=this.editRow,e=this.versionButtons[this.version];t.id=e.id,t.improvement.luck=this.editLuck-e.luck;const s=O.ZP.LEVEL_BORDERS.find((e=>e.lv===t.level));return t.exp=s?s.req:0,v()(t)},commitStock(){this.btnPushed=!0;const t=this.$store.state.shipStock;let e=n()(t.map((t=>t.uniqueId)));void 0===e&&(e=1);const s=this.getNewStock();s.uniqueId=e+1,t.push(s),this.$store.dispatch("updateShipStock",t),this.shipStock=t},updateStock(){this.btnPushed=!0;const t=this.$store.state.shipStock,e=this.getNewStock(),s=t.findIndex((t=>t.uniqueId===e.uniqueId));s>=0&&(t[s]=e,this.$store.dispatch("updateShipStock",t),this.shipStock=t)},deleteStock(){this.btnPushed=!0,this.confirmDialog=!1;const t=this.editRow.stockData.uniqueId,e=this.$store.state.shipStock,s=e.filter((e=>e.uniqueId!==t));this.$store.dispatch("updateShipStock",s),this.shipStock=s},changeViewMode(t){this.modeTable=t;const e=this.$store.state.siteSetting;e.viewTableMode=t,this.$store.dispatch("updateSetting",e)},translate(t){return t?`${this.$t(t)}`:""},getShipName(t){if(this.needTrans){const e=ft.Z.getSuffix(t);return`${e.map((t=>this.translate(t))).join("")}`}return t.name?t.name:""},getShipTypeName(t){if(this.isNotJapanese){const e=Lt.Z.getShipTypeNameArray(t);return`${e.map((t=>this.translate(t))).join("")}`}return t},bootTooltip(t,e){const s=this.$store.state.siteSetting;window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=e.clientX,this.tooltipY=e.clientY;const s=new xt.Z({master:t.ship,level:t.level,hp:t.hp,luck:t.luck,asw:t.asw});this.tooltipShip=s,this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Zt=It,At=s(2016),Vt=s(5151),Et=s(255),Nt=s(2348),Pt=s(400),Ht=s(1214),Mt=s(4525),Ut=s(5187),Ot=s(7722),Bt=s(2240),Ft=s(6746),Wt=s(6878),Kt=s(7756),zt=s(6669),Jt=s(7678),Yt=(0,Jt.Z)(Wt.Z,(0,Kt.Z)({onVisible:["init"]}),zt.Z).extend({name:"v-pagination",directives:{Resize:Ft.Z},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const s=e%2===0?1:0,i=Math.floor(e/2),a=this.length-i+1+s;if(this.value>i&&this.value<a){const t=1,e=this.length,a=this.value-i+2,l=this.value+i-2-s,o=a-1===t+1?2:"...",n=l+1===e-1?l+1:"...";return[1,o,...this.range(a,l),n,this.length]}if(this.value===i){const t=this.value+i-1-s;return[...this.range(1,t),"...",this.length]}if(this.value===a){const t=this.value-i+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,i),"...",...this.range(a,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const s=[];t=t>0?t:1;for(let i=t;i<=e;i++)s.push(i);return s},genIcon(t,e,s,i,a){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":s},attrs:{disabled:s,type:"button","aria-label":a},on:s?{}:{click:i}},[t(Bt.Z,[e])])])},genItem(t,e){const s=e===this.value&&(this.color||"primary"),i=e===this.value,a=i?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(s,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":i,"aria-label":this.$vuetify.lang.t(a,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map(((e,s)=>t("li",{key:s},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)])))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),jt=s(9481),Gt=s(8718),Xt=s(626),qt=s(2165),Qt=s(7771),te=s(5085),ee=(0,R.Z)(Zt,r,c,!1,null,"6a914e66",null),se=ee.exports;z()(ee,{VBtn:Ct.Z,VBtnToggle:At.Z,VCard:J.Z,VCheckbox:St.Z,VDataTable:Vt.Z,VDialog:$t.Z,VDivider:Y.Z,VExpansionPanel:Et.Z,VExpansionPanelContent:Nt.Z,VExpansionPanelHeader:Pt.Z,VExpansionPanels:Ht.Z,VIcon:j.Z,VImg:ct.Z,VListItem:Mt.Z,VListItemAction:Ut.Z,VListItemContent:Ot.km,VListItemTitle:Ot.V9,VPagination:Yt,VRangeSlider:Q,VSelect:jt.Z,VSlider:G.Z,VSpacer:Gt.Z,VTab:Xt.Z,VTabItem:qt.Z,VTabs:Qt.Z,VTabsItems:te.Z,VTextField:et.Z,VTooltip:st.Z}),ht()(ee,{Ripple:pt.Z});var ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3 ships-page"},[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"px-4"},[s("div",[s("v-icon",[t._v("mdi-filter")]),t._v(t._s(t.$t("Database.フィルタ")))],1)]),s("v-expansion-panel-content",[s("v-divider",{staticClass:"mb-3"}),s("div",{staticClass:"range-inputs"},[s("div",{staticClass:"d-flex my-4"},[s("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("ItemList.図鑑id 名称検索"),dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.filter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未所持装備非表示")},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}})],1),s("div",{staticClass:"d-flex my-4"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.改修下限"),type:"number",max:t.remodelRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[0],callback:function(e){t.$set(t.remodelRange,0,"string"===typeof e?e.trim():e)},expression:"remodelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"10","hide-details":""},on:{change:t.filter},model:{value:t.remodelRange,callback:function(e){t.remodelRange=e},expression:"remodelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.改修上限"),type:"number",max:"10",min:t.remodelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[1],callback:function(e){t.$set(t.remodelRange,1,"string"===typeof e?e.trim():e)},expression:"remodelRange[1]"}})],1)],1)]),s("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.カテゴリ"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[s("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[s("v-list-item-action",[s("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),s("div",[s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.総所持数表示")},on:{change:function(e){return t.changeVisibleAllCount()}},model:{value:t.visibleAllCount,callback:function(e){t.visibleAllCount=e},expression:"visibleAllCount"}})],1)],1)],1)],1),s("div",{staticClass:"d-flex mt-3"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.showBlacklist()}}},[s("v-icon",[t._v("mdi-skull-crossbones")]),t._v("Blacklist ("+t._s(t.$store.state.siteSetting.blacklistItemIds.length)+") ")],1)],1),t.viewItems.length?s("div",{staticClass:"item-all-container mt-3"},t._l(t.viewItems,(function(e,i){return s("v-card",{key:i,staticClass:"py-1"},[s("div",{staticClass:"ma-1 d-flex"},[s("div",{staticClass:"type-img"},[s("img",{attrs:{src:"./img/type/type"+e.type.id+".png",alt:"type-"+e.type.id}})]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.isNotJapanese?t.$t("EType."+e.type.name):e.type.name))]),s("v-spacer"),e.type.sortKey?s("div",[s("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),i),[s("v-icon",[t._v("mdi-sort")])],1)]}}],null,!0)},[s("v-card",[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"sort-key",class:{selected:"id"===e.selectedKey},attrs:{tabindex:"0"},on:{click:function(s){return t.sortItems(e,"id")},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.sortItems(e,"id")}}},[t._v(" "+t._s(t.$t("Database.図鑑ID"))+" ")]),t._l(e.type.sortKey,(function(a,l){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"type"+i+"Key"+l,staticClass:"sort-key",class:{selected:e.selectedKey===a},attrs:{tabindex:"0"},on:{click:function(s){return t.sortItems(e,a)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.sortItems(e,a)}}},[t._v(" "+t._s(t.convertStatusString(a))+" ")])}))],2)],1)],1):t._e()],1),s("v-divider"),t._l(e.items,(function(e,a){return s("div",{key:""+i+a},[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"item-container",class:{"no-item":!e.allCount},attrs:{tabindex:"0"},on:{click:function(s){return t.clickItem(e.master)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.clickItem(e.master)},mouseenter:function(s){return t.bootTooltip(e.master,s)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[s("div",{staticClass:"d-flex align-self-start flex-grow-1"},[s("div",{staticClass:"icon-img"},[s("img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png",alt:"icon-"+e.master.iconTypeId}})]),s("div",{staticClass:"item-name flex-grow-1"},[t._v(" "+t._s(t.needTrans?t.$t(""+e.master.name):e.master.name)+" ")])]),s("div",{staticClass:"detail-container"},[t.visibleAllCount&&!t.remodelRange[0]?s("div",{staticClass:"primary--text count-text"},[t._v(t._s(e.allCount))]):t._e(),t._l(e.details,(function(e,l){return s("div",{key:""+i+a+l,staticClass:"d-flex remodel-container"},[e.remodel?s("div",{staticClass:"item-remodel teal--text text--accent-4"},[t._v("★"+t._s(e.remodel))]):t._e(),s("div",{staticClass:"ml-auto"},[t._v(t._s(e.count))])])}))],2)])])}))],2)})),1):s("v-card",{staticClass:"my-3 pa-4"},[s("div",{staticClass:"text-center my-10"},[s("div",[t._v(t._s(t.$t("Common.探したけど見つからなかったよ")))])])]),t.editedItem?s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"mx-2 mb-2"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"align-self-center"},[s("v-img",{attrs:{src:"./img/type/icon"+t.editedItem.iconTypeId+".png",width:"40",height:"40"}})],1),s("div",{staticClass:"align-self-center ml-1"},[s("div",{staticClass:"caption info--text"},[t._v("ID: "+t._s(t.editedItem.id))]),s("div",{staticClass:"body-2"},[t._v(t._s(t.needTrans?t.$t(""+t.editedItem.name):t.editedItem.name))])])])]),s("v-divider"),s("div",{staticClass:"ma-3"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.所持数")))]),s("div",{staticClass:"stock-inputs"},[t._l(t.editedStock,(function(e,i){return s("v-text-field",{key:"stock$"+i,staticClass:"stock-input",attrs:{type:"number",max:"999",min:"0",label:"★+"+i,"hide-details":"",readonly:t.readOnly},model:{value:t.editedStock[i],callback:function(e){t.$set(t.editedStock,i,t._n(e))},expression:"editedStock[i]"}})})),s("v-text-field",{staticClass:"stock-input",attrs:{type:"number",readonly:"",label:t.$t("Fleet.合計")},model:{value:t.sumStock,callback:function(e){t.sumStock=t._n(e)},expression:"sumStock"}})],2)]),s("v-divider",{staticClass:"mb-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"success",disabled:t.readOnly},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Common.更新")))]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.sumStock||t.readOnly,color:"error"},on:{click:function(e){return e.stopPropagation(),t.clearStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.全破棄")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1):t._e(),s("v-dialog",{attrs:{width:"660"},model:{value:t.blacklistDialog,callback:function(e){t.blacklistDialog=e},expression:"blacklistDialog"}},[s("blacklist-item-edit",{attrs:{"handle-close":t.closeBlacklist}})],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},ae=[],le=s(2645),oe=s(8242),ne=s(1462),re=s(7525),ce=l.Z.extend({name:"ItemsComponent",components:{ItemTooltip:le.Z,BlacklistItemEdit:oe.Z},data:()=>({all:[],itemStock:[],searchWord:"",onlyStock:!1,visibleAllCount:!0,remodelRange:[0,10],selectedTypes:[],types:[],baseViewItems:[],viewItems:[],editDialog:!1,editedItem:void 0,editedStock:[0,0,0,0,0,0,0,0,0,0,0],unsubscribe:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new re.Z,tooltipX:0,tooltipY:0,readOnly:!1,blacklistDialog:!1}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0);const t=this.$store.state.siteSetting;this.visibleAllCount=t.visibleItemStockAllCount,this.initialize(),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setItemStock"===t.type&&(this.itemStock=e.itemStock,this.masterFilter(),this.editDialog=!1)}))},watch:{completed(t){t&&!this.all.length&&this.initialize()},isTempStockMode(t){this.readOnly=!!t,this.initialize()}},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock},selectedAllType(){return this.selectedTypes.length===this.types.length},selectedSomeType(){return this.selectedTypes.length>0&&!this.selectedAllType},icon(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},sumStock(){return f()(this.editedStock)},convertStatusString(){return t=>{const e=Lt.Z.convertAttributeString(t);return this.isNotJapanese?`${this.$t(`Common.${e}`)}`:e}},isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initialize(){this.all=this.$store.state.items,this.all=this.all.filter((t=>!t.isEnemyItem)),this.itemStock=this.$store.state.itemStock,this.readOnly&&(this.itemStock=this.$store.state.tempItemStock);const t=O.ZP.ITEM_TYPES_ALT;this.types=[],this.selectedTypes=[];for(let e=0;e<t.length;e+=1)this.isNotJapanese?this.types.push({text:`${this.$t(`EType.${t[e].text}`)}`,value:e}):this.types.push({text:t[e].text,value:e}),this.selectedTypes.push(e);this.masterFilter()},masterFilter(){const t=this.selectedTypes,e=O.ZP.ITEM_TYPES_ALT.filter(((e,s)=>t.includes(s))).map((t=>t.types)).flat(),s=this.all,i=O.ZP.ITEM_API_TYPE.filter((t=>e.includes(t.id))),a=[];for(let l=0;l<i.length;l+=1){const t=i[l],e=s.filter((e=>e.apiTypeId===t.id)),o=[];for(let s=0;s<e.length;s+=1){const t=e[s],i={master:t,allCount:0,details:[]},a=[];let l=0;const n=this.itemStock.find((e=>e.id===t.id));for(let e=10;e>=0;e-=1){const t=n?n.num[e]:0;t&&(a.push({remodel:e,count:t}),l+=t)}i.details=a,i.allCount=l,o.push(i)}a.push({type:t,items:o,selectedKey:"id"})}this.baseViewItems=a,this.filter()},filter(){const t=this.baseViewItems,e=[],s=this.remodelRange[0],i=this.remodelRange[1],a=this.searchWord?this.searchWord.toUpperCase():"";for(let l=0;l<t.length;l+=1){const{items:o}=t[l],n={type:t[l].type,items:[],selectedKey:"id"};for(let t=0;t<o.length;t+=1){const{master:e,details:l,allCount:r}=o[t];if(a&&e.id!==+a&&-1===e.name.toUpperCase().indexOf(a))continue;const c=l.filter((t=>t.remodel>=s&&t.remodel<=i));c.length?n.items.push({master:e,details:c,allCount:f()(c.map((t=>t.count)))}):0!==s||0!==r||this.onlyStock||n.items.push(o[t])}n.items.length&&e.push(n)}this.viewItems=e},toggleAllType(){this.$nextTick((()=>{this.selectedAllType?(this.selectedTypes=[],this.masterFilter()):(this.selectedTypes=this.types.map((t=>t.value)).slice(),this.masterFilter())}))},sortItems(t,e){t.selectedKey=e;const s=t.items;"id"===e||"cost"===e?s.sort(((t,s)=>t.master[e]-s.master[e])):s.sort(((t,s)=>s.master[e]-t.master[e]))},clickItem(t){this.clearTooltip(),this.editDialog=!0,this.editedItem=t;const e=this.itemStock.find((e=>e.id===t.id));this.editedStock=e?e.num:[0,0,0,0,0,0,0,0,0,0,0]},clearStock(){this.editedStock=[0,0,0,0,0,0,0,0,0,0,0]},commitStock(){if(this.editedItem){const t=this.editedItem.id,e=this.itemStock.find((e=>e.id===t));if(e)e.num=this.editedStock;else{const e=new ne.Z(t);e.num=this.editedStock,this.itemStock.push(e)}this.$store.dispatch("updateItemStock",this.itemStock),this.masterFilter(),this.editDialog=!1,window.setTimeout((()=>{this.editedItem=void 0}),100)}},bootTooltip(t,e){const s=this.$store.state.siteSetting;if(!t.id||s.disabledItemTooltip)return;const i=e.target.getElementsByClassName("item-name")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const e=i.getBoundingClientRect();this.tooltipX=e.x+e.width/3,this.tooltipY=e.y+e.height,this.tooltipItem=new re.Z({master:t}),this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},changeVisibleAllCount(){const t=this.$store.state.siteSetting;t.visibleItemStockAllCount=this.visibleAllCount,this.$store.dispatch("updateSetting",t)},showBlacklist(){this.blacklistDialog=!0},closeBlacklist(){this.blacklistDialog=!1}}}),de=ce,he=s(4568),pe=(0,R.Z)(de,ie,ae,!1,null,"a5faaf14",null),ue=pe.exports;z()(pe,{VBtn:Ct.Z,VCard:J.Z,VCheckbox:St.Z,VDialog:$t.Z,VDivider:Y.Z,VExpansionPanel:Et.Z,VExpansionPanelContent:Nt.Z,VExpansionPanelHeader:Pt.Z,VExpansionPanels:Ht.Z,VIcon:j.Z,VImg:ct.Z,VListItem:Mt.Z,VListItemAction:Ut.Z,VListItemContent:Ot.km,VListItemTitle:Ot.V9,VMenu:he.Z,VRangeSlider:Q,VSelect:jt.Z,VSpacer:Gt.Z,VTextField:et.Z,VTooltip:st.Z}),ht()(pe,{Ripple:pt.Z});var me=s(7663),ve=s(65),ge=s(7327);class be{constructor(){(0,ge.Z)(this,"id",0),(0,ge.Z)(this,"key",""),(0,ge.Z)(this,"remarks",""),(0,ge.Z)(this,"createdAt",Lt.Z.formatDate(new Date,"yyyy/MM/dd HH:mm:ss"))}}var ke=s(3567),fe=l.Z.extend({name:"FleetManager",components:{Ships:se,Items:ue},data:()=>({tab:"ship",includeUnLockedShip:!0,includeUnLockedItem:!1,readResultColor:"success",inputText:"",readOnlyMode:!1,loadingURL:!1,createdURL:"",copiedURLHint:"",outputHistories:[],confirmDialog:!1,deleteIndex:-1,expandBtnClicked:!1,kantaiAnalyticsShipsCode:"",kantaiAnalyticsItemsCode:"",copiedShipCodeHint:"",copiedItemCodeHint:"",unsubscribe:void 0,kantaiSarashiURL:"",loading:!1,successCopy:!1,showHowToDoIt:!1}),mounted(){const t=this.$store.state.saveData;t.disabledMain(),this.readOnlyMode=this.$store.getters.getExistsTempStock;const e=this.$store.state.outputHistories;e&&e.length&&(this.outputHistories=e.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"!==t.type&&"setItemStock"!==t.type||(this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL())})),this.loading=!this.$store.getters.getCompletedAll;const s=this.$store.state.siteSetting;this.includeUnLockedShip=s.isIncludeUnLockShip,this.includeUnLockedItem=s.isIncludeUnLockItem},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock}},watch:{completed(t){if(t){this.loading=!1;const t=this.$store.state.outputHistories;t&&t.length&&(this.outputHistories=t.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},isTempStockMode(t){this.readOnlyMode=!!t,this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{readJson(){this.setShipStock()?(this.$emit("inform","在籍艦娘データの更新が完了しました。"),this.loadingURL=!1):this.setItemStock()?(this.$emit("inform","所持装備データの更新が完了しました。"),this.loadingURL=!1):this.$emit("inform","データの読み込みに失敗しました。正しいデータではない可能性があります。",!0),this.inputText="",this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()},setShipStock(){try{const t=Lt.Z.readShipStockJson(this.inputText);if(0===t.length)return!1;const e=this.$store.state.siteSetting;return e.isStockOnlyForShipList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateShipStock",t),!0}catch(t){return console.error(t),!1}},setItemStock(){try{const t=Lt.Z.readItemStockJson(this.inputText);if(0===t.length)return!1;const e=this.$store.state.siteSetting;return e.isStockOnlyForItemList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateItemStock",t),!0}catch(t){return console.error(t),!1}},async requestURLKey(){this.loadingURL=!0;const t=this.$store.state.shipStock,e=this.$store.state.itemStock,s=ke.Z.createFirebaseStockObject(t,e);if(!s.ships&&!s.items)return void this.$emit("inform","艦娘、装備情報が登録されていません。",!0);const i={ships:s.ships,items:s.items,date:Lt.Z.formatDate(new Date,"yy/MM/dd HH:mm:ss"),uid:"",ver:3};try{const t=(0,me.N8)(),{key:e}=(0,me.VF)((0,me.iU)((0,me.iH)(t),"stocks"));if(!e)return void this.$emit("inform","共有URLの生成に失敗しました。",!0);const{location:s}=document,a=`${s.protocol}//${s.host}${s.pathname}?stockid=${e}`,l=(0,ve.v0)();(0,ve.XB)(l).then((s=>{s&&s.user&&s.user.uid&&(i.uid=s.user.uid),(0,me.t8)((0,me.iH)(t,`stocks/${e}`),i).then((()=>{this.generateShortURL(a).then((t=>{t?this.createHistory(e):this.$emit("inform","共有URLの生成に失敗しました。",!0)}))})).catch((t=>{console.error(t),this.$emit("inform","共有URLの生成に失敗しました。",!0)}))})).catch((t=>{console.log(t),this.$emit("inform","共有URLの生成に失敗しました。",!0)}))}catch(a){console.error(a),this.$emit("inform","共有URLの生成に失敗しました。",!0)}},async generateShortURL(t){let e=!1;const s=await ke.Z.getShortURL(t);return s?(this.createdURL=s,this.loadingURL=!1,e=!0):(this.createdURL="URLの発行に失敗しました",this.loadingURL=!1),e},createHistory(t){const e=this.$store.state.outputHistories,s=n()(e.map((t=>t.id)))||0,i=e.concat(),a=new be;a.id=s+1,a.key=t,i.push(a),this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","共有URLを生成しました。")},copyURL(){const t=document.getElementById("created-url");t.select(),document.execCommand("copy"),this.copiedURLHint="コピーされました。"},clearURLHint(){this.copiedURLHint=""},async expandHistory(t){this.expandBtnClicked=!0;const e=this.outputHistories[t],s=await ke.Z.getAndRestoreStockData(e.key);s.shipStocks.length||s.itemStocks.length?(this.$store.dispatch("updateTempShipStock",s.shipStocks),this.$store.dispatch("updateTempItemStock",s.itemStocks),this.$emit("inform","編成を展開しました。")):this.$emit("inform","編成の展開に失敗しました。",!0)},clickedDeleteHistory(t){this.confirmDialog=!0,this.deleteIndex=t},deleteHistory(){this.confirmDialog=!1;const t=this.outputHistories[this.deleteIndex];if(t){const e=this.$store.state.outputHistories,s=e.filter((e=>e.id!==t.id));this.outputHistories=s,this.$store.dispatch("updateOutputHistories",s),this.$emit("inform","出力履歴を削除しました。")}},updateHistory(t){const e=this.outputHistories[t];if(e){const s=this.$store.state.outputHistories,i=s.concat();i[t]=e,this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","更新が完了しました。")}},generateKCAnalyticsCode(){this.kantaiAnalyticsShipsCode="",this.kantaiAnalyticsItemsCode="";let t=this.$store.state.shipStock,e=this.$store.state.itemStock;this.readOnlyMode&&(t=this.$store.state.tempShipStock,e=this.$store.state.tempItemStock),this.kantaiAnalyticsShipsCode=Tt.Z.createFleetAnalyticsCode(t),this.kantaiAnalyticsItemsCode=ne.Z.createFleetAnalyticsCode(e)},copyShipCode(){const t=document.getElementById("analytics-ship-code");t.select(),document.execCommand("copy"),this.copiedShipCodeHint="コピーされました。"},clearShipCodeHint(){this.copiedShipCodeHint=""},copyItemCode(){const t=document.getElementById("analytics-item-code");t.select(),document.execCommand("copy"),this.copiedItemCodeHint="コピーされました。"},clearItemCodeHint(){this.copiedItemCodeHint=""},copyCode(t){const e=document.getElementById(t);e&&(e.select(),document.execCommand("copy"),this.$emit("inform","コピーされました。"),this.successCopy=!0,window.setTimeout((()=>{this.successCopy=!1}),3e3))},generateKantaiSarashiURL(){this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html";let t=this.$store.state.shipStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock),t&&t.length){const e=this.$store.state.ships,s=e.filter((t=>0===t.version)),i=[];for(let a=0;a<s.length;a+=1){const l=s[a],o=e.filter((t=>t.originalId===l.id)),n=o.map((t=>t.id)),r=t.filter((t=>n.includes(t.id)));if(r.length){const t=[];for(let s=0;s<r.length;s+=1){const i=r[s],a=e.find((t=>t.id===i.id))?.version;(a||0===a)&&t.push({lv:i.level,ver:a+1})}t.sort(((t,e)=>e.lv-t.lv)),i.push(`${699===l.id?645:l.id}:${t.map((t=>`${t.lv}.${t.ver}`)).join(",")}`)}}this.kantaiSarashiURL=`http://kancolle-calc.net/kanmusu_list.html?data=${Lt.Z.encode64(`.2|${i.join("|")}`)}`}},toggleUnLocked(){const t=this.$store.state.siteSetting;t.isIncludeUnLockShip=this.includeUnLockedShip,t.isIncludeUnLockItem=this.includeUnLockedItem,this.$store.dispatch("updateSetting",t)}}}),xe=fe,_e=s(7359),ye=s(4886),Ce=s(9592),Se=s(8419),$e=s(6379),De=s(7423),we=s(2648),Te=(0,R.Z)(xe,i,a,!1,null,"2fbe7cf9",null),Le=Te.exports;z()(Te,{VAlert:_e.Z,VBtn:Ct.Z,VCard:J.Z,VCardText:ye.ZB,VDialog:$t.Z,VDivider:Y.Z,VIcon:j.Z,VImg:ct.Z,VProgressLinear:Ce.Z,VRadio:Se.Z,VRadioGroup:$e.Z,VSheet:De.Z,VTab:Xt.Z,VTabItem:qt.Z,VTabs:Qt.Z,VTabsItems:te.Z,VTextField:et.Z,VTextarea:we.Z})}}]);
//# sourceMappingURL=488.11eb4d7d.js.map