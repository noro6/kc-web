(self["webpackChunkkc_web"]=self["webpackChunkkc_web"]||[]).push([[580],{9787:function(t,e,s){var a=s(7762),i=NaN;function l(t,e){var s=null==t?0:t.length;return s?a(t,e)/s:i}t.exports=l},8659:function(t,e,s){var a=s(9787),i=s(6557);function l(t){return a(t,i)}t.exports=l},2088:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return Ae}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ma-4"},[s("div",{staticClass:"mb-3"},[s("v-icon",{attrs:{"x-large":""}},[t._v("mdi-database-cog")]),s("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("Home.è‰¦å¨˜ / è£…å‚™ç®¡ç†")))])],1),s("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",[t._v(t._s(t.$t("Fleet.è‰¦å¨˜")))]),s("v-tab",{attrs:{disabled:t.loading}},[t._v(t._s(t.$t("Fleet.è£…å‚™")))]),s("v-tab",{attrs:{disabled:t.readOnlyMode||t.loading}},[t._v(t._s(t.$t("Database.åæ˜ ")))]),s("v-tab",{attrs:{disabled:t.loading}},[t._v(t._s(t.$t("Common.å…±æœ‰")))])],1),s("v-divider"),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("ships")],1),s("v-tab-item",[s("items")],1),s("v-tab-item",[s("div",{staticClass:"general-container px-4 my-2"},[s("div",{staticClass:"tutorial_box pa-0"},["ja"===t.$i18n.locale?s("v-card",{attrs:{elevation:"0"}},[s("v-alert",{attrs:{border:"left",dense:"",outlined:"",type:"warning"}},[s("div",[t._v("ä»¥ä¸‹ã®æ‰‹é †ã¯ã€è‰¦ã“ã‚Œã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰æ­£å¸¸ã«é€ã‚‰ã‚Œã¦ããŸæƒ…å ±ã‚’ã€é€šå¸¸ã®ãƒ–ãƒ©ã‚¦ã‚¶ã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦é–²è¦§ã—ã¦ã„ã‚‹ã ã‘ã®ã‚‚ã®ã§ã‚ã‚Šã€")]),s("div",{staticClass:"font-weight-bold"},[t._v("è‰¦ã“ã‚Œã‚µãƒ¼ãƒãƒ¼ã¸ã®ä¸æ­£ãªã‚¢ã‚¯ã‚»ã‚¹ã‚„ã€é€šå¸¸ãƒ—ãƒ¬ã‚¤ä»¥å¤–ã®æ–¹æ³•ã§ã‚µãƒ¼ãƒãƒ¼ã¸ã®æŽ¥ç¶šã‚’è©¦ã¿ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚")])])],1):t._e(),"ja"===t.$i18n.locale?s("v-card",{attrs:{elevation:"0"}},[s("v-alert",{attrs:{border:"left",dense:"",outlined:"",type:"info"}},[s("div",[t._v("2023/06/22")]),s("div",[t._v("åæ˜ æ–¹æ³•ã‚’ç°¡ç•¥åŒ–ã—ã¾ã—ãŸã€‚ã¾ãŸã€Firefoxã§ã®åæ˜ ã«å¯¾å¿œã—ã¾ã—ãŸã€‚")])])],1):t._e(),s("v-btn",{staticClass:"mt-3",class:{secondary:t.showHowToDoIt,primary:!t.showHowToDoIt},on:{click:function(e){t.showHowToDoIt=!t.showHowToDoIt}}},[t.showHowToDoIt?[s("v-icon",[t._v("mdi-close")]),t._v(t._s(t.$t("Database.åæ˜ æ‰‹é †ã‚’éš ã™")))]:[s("v-icon",[t._v("mdi-plus")]),t._v(t._s(t.$t("Database.åæ˜ æ‰‹é †ã‚’è¡¨ç¤º")))]],2)],1),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v(" 1. "+t._s(t.$t("Database.æ‰‹é †1"))+" ")]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step1.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step1")]),s("v-img",{attrs:{src:"./img/tutorial/step1.webp","max-height":"900","max-width":"1300"}})],1)]),s("div",{staticClass:"mt-10"},[t._v("â€» "+t._s(t.$t("Database.ä¸‹è¨˜ã¯Google Chromeã®å ´åˆã§ã™ã€‚")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step1-2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step1-2")]),s("v-img",{attrs:{src:"./img/tutorial/step1-2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("2. "+t._s(t.$t("Database.æ‰‹é †2")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step2.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step2")]),s("v-img",{attrs:{src:"./img/tutorial/step2.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("3. "+t._s(t.$t("Database.æ‰‹é †3")))]),s("div",[t._v("â€» "+t._s(t.$t("Database.æ³¨æ„äº‹é …")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step3.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step3")]),s("v-img",{attrs:{src:"./img/tutorial/step3.webp","max-height":"900","max-width":"1300"}})],1)]),s("div",{staticClass:"mt-10"},[t._v("â€» "+t._s(t.$t("Database.ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã£ã¦ä¸€éƒ¨è¡¨è¨˜ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step3-1.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step3-1")]),s("v-img",{attrs:{src:"./img/tutorial/step3-1.webp","max-height":"570","max-width":"1250"}})],1)])]):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("4. "+t._s(t.$t("Database.æ‰‹é †4")))]),s("v-radio-group",{attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedShip,callback:function(e){t.includeUnLockedShip=e},expression:"includeUnLockedShip"}},[s("v-radio",{attrs:{label:t.$t("Database.æœªãƒ­ãƒƒã‚¯ã®è‰¦å¨˜ã‚‚å«ã‚ã‚‹"),value:!0}}),s("v-radio",{attrs:{label:t.$t("Database.ãƒ­ãƒƒã‚¯æ¸ˆã¿ã®è‰¦å¨˜ã®ã¿"),value:!1}})],1),s("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:t.$t("Database.åæ˜ ã‚¨ãƒªã‚¢")},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),s("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v(t._s(t.$t("Database.åæ˜ ")))])],1):t._e(),t.showHowToDoIt?s("v-card",{staticClass:"tutorial_box"},[s("div",[t._v("5. "+t._s(t.$t("Database.æ‰‹é †5")))]),s("div",[t._v("â€» "+t._s(t.$t("Database.æ³¨æ„äº‹é …")))]),s("div",{staticClass:"tutorial_img"},[s("a",{attrs:{href:"./img/tutorial/step5.webp",target:"_blank"}},[s("span",{staticClass:"d-none"},[t._v("step3")]),s("v-img",{attrs:{src:"./img/tutorial/step5.webp","max-height":"900","max-width":"1300"}})],1)])]):t._e(),s("v-card",{staticClass:"tutorial_box"},[t.showHowToDoIt?s("div",[t._v("6. "+t._s(t.$t("Database.æ‰‹é †4")))]):t._e(),t.showHowToDoIt?t._e():s("v-radio-group",{staticClass:"mt-0",attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedShip,callback:function(e){t.includeUnLockedShip=e},expression:"includeUnLockedShip"}},[s("v-radio",{attrs:{label:t.$t("Database.æœªãƒ­ãƒƒã‚¯ã®è‰¦å¨˜ã‚‚å«ã‚ã‚‹"),value:!0}}),s("v-radio",{attrs:{label:t.$t("Database.ãƒ­ãƒƒã‚¯æ¸ˆã¿ã®è‰¦å¨˜ã®ã¿"),value:!1}})],1),s("v-radio-group",{attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedItem,callback:function(e){t.includeUnLockedItem=e},expression:"includeUnLockedItem"}},[s("v-radio",{attrs:{label:t.$t("Database.æœªãƒ­ãƒƒã‚¯ã®è£…å‚™ã‚‚å«ã‚ã‚‹"),value:!0}}),s("v-radio",{attrs:{label:t.$t("Database.ãƒ­ãƒƒã‚¯æ¸ˆã¿ã®è£…å‚™ã®ã¿"),value:!1}})],1),s("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:t.$t("Database.åæ˜ ã‚¨ãƒªã‚¢")},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),s("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v(t._s(t.$t("Database.åæ˜ ")))])],1)],1)]),s("v-tab-item",[s("v-card",{staticClass:"my-3 pa-2"},[s("div",{staticClass:"d-flex pt-3 pb-4"},[s("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.å…±æœ‰URLç™ºè¡Œæ©Ÿèƒ½")))])]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.URLç™ºè¡Œ")))]),s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.è‡ªåˆ†ã®è‰¦éšŠã€è£…å‚™æƒ…å ±ã‚’ä»–ã®äººã«è¦‹ã¦ã‚‚ã‚‰ã†ãŸã‚ã®URLã‚’ç™ºè¡Œã—ã¾ã™ã€‚")))]),s("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.ç™ºè¡Œã•ã‚ŒãŸæƒ…å ±ã¯é–²è¦§å°‚ç”¨ã§ã™ã€‚ç™ºè¡Œã•ã‚ŒãŸURLã‚’ä»–äººã«å…¬é–‹ã—ã¦ã‚‚ã€è‡ªåˆ†ã®è‰¦å¨˜ã‚„è£…å‚™æƒ…å ±ãŒæ›¸ãæ›ãˆã‚‰ã‚Œã¦ã—ã¾ã†ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚"))+" ")]),s("div",{staticClass:"body-2 mb-3"},[t._v(t._s(t.$t("Database.é–²è¦§ã™ã‚‹å´ã¯ã€å…±æœ‰ã•ã‚ŒãŸè‰¦å¨˜ã‚„è£…å‚™æƒ…å ±ã‚’å…ƒã«ç·¨æˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚")))]),s("div",{staticClass:"shared-url-container"},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.createdURL,expression:"!createdURL"}],attrs:{color:"primary",loading:t.loadingURL,disabled:t.loadingURL||t.readOnlyMode},on:{click:function(e){return t.requestURLKey()}}},[t._v(t._s(t.$t("Database.å…±æœ‰URLä½œæˆ")))]),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.createdURL,expression:"createdURL"}],attrs:{id:"created-url",readonly:"","append-icon":"mdi-content-copy",hint:t.copiedURLHint?t.$t("Common."+t.copiedURLHint):""},on:{"click:append":t.copyURL,blur:t.clearURLHint},model:{value:t.createdURL,callback:function(e){t.createdURL=e},expression:"createdURL"}})],1)]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.ç™ºè¡Œå±¥æ­´")))]),s("div",{staticClass:"d-flex flex-column-reverse"},t._l(t.outputHistories,(function(e,a){return s("v-card",{key:"history_"+a,staticClass:"ma-2 pa-3 d-flex"},[s("div",{staticClass:"mr-2 align-self-center caption"},[s("div",[t._v(t._s(t.$t("Database.ç™ºè¡Œæ—¥"))+":")]),s("div",[t._v(t._s(e.createdAt))])]),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"primary",disabled:t.expandBtnClicked||t.readOnlyMode},on:{click:function(e){return t.expandHistory(a)}}},[t._v(t._s(t.$t("Database.å±•é–‹")))])],1),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.clickedDeleteHistory(a)}}},[t._v(t._s(t.$t("Common.å‰Šé™¤")))])],1),s("div",{staticClass:"mr-2 align-self-center"},[s("v-btn",{attrs:{color:"success",disabled:!e.remarks||!e.remarks.length},on:{click:function(e){return t.updateHistory(a)}}},[t._v(t._s(t.$t("Common.æ›´æ–°")))])],1),s("div",{staticClass:"align-self-center flex-grow-1"},[s("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",label:"Memo"},model:{value:e.remarks,callback:function(s){t.$set(e,"remarks",s)},expression:"data.remarks"}})],1)])})),1)])],1),s("v-card",{staticClass:"my-3 pa-2"},[s("div",{staticClass:"d-flex pt-3 pb-4"},[s("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.ä»–ã‚µã‚¤ãƒˆé€£æº")))])]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.è‰¦éšŠåˆ†æžã‚³ãƒ¼ãƒ‰")))]),s("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.è‰¦éšŠåˆ†æžã‚³ãƒ¼ãƒ‰ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®æ–‡å­—åˆ—ã‚’åˆ¥ã®ç«¯æœ«ã§åæ˜ ã™ã‚‹ã“ã¨ã§ã€è‰¦éšŠæƒ…å ±ã‚’å¾©å…ƒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚"))+" ")]),s("div",{staticClass:"mt-4"},[s("v-text-field",{attrs:{id:"analytics-ship-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.è‰¦éšŠã‚³ãƒ¼ãƒ‰"),"append-icon":"mdi-content-copy",hint:t.copiedShipCodeHint?t.$t("Common."+t.copiedShipCodeHint):""},on:{"click:append":t.copyShipCode,blur:t.clearShipCodeHint},model:{value:t.kantaiAnalyticsShipsCode,callback:function(e){t.kantaiAnalyticsShipsCode=e},expression:"kantaiAnalyticsShipsCode"}})],1),s("div",[s("v-text-field",{attrs:{id:"analytics-item-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.è£…å‚™ã‚³ãƒ¼ãƒ‰"),"append-icon":"mdi-content-copy",hint:t.copiedItemCodeHint?t.$t("Common."+t.copiedItemCodeHint):t.copiedItemCodeHint},on:{"click:append":t.copyItemCode,blur:t.clearItemCodeHint},model:{value:t.kantaiAnalyticsItemsCode,callback:function(e){t.kantaiAnalyticsItemsCode=e},expression:"kantaiAnalyticsItemsCode"}})],1)]),s("v-divider"),s("div",{staticClass:"pa-4"},[s("div",{staticClass:"mb-2"},[t._v("è‰¦éšŠæ™’ã—ãƒšãƒ¼ã‚¸(ä»®)")]),s("div",{staticClass:"body-2"},[s("a",{attrs:{href:t.kantaiSarashiURL,target:"_blank"}},[t._v(t._s(t.$t("Database.è‰¦éšŠæ™’ã—ãƒšãƒ¼ã‚¸(ä»®)ã§å±•é–‹ã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰ã‹ã‚‰")))])])])],1)],1)],1),s("div",{staticClass:"info-area"},[s("v-divider",{staticClass:"mb-2"}),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.è‘—ä½œæ¨©æ³•ç¬¬32æ¡ã«åŸºã¥ãç”»åƒã‚’å¼•ç”¨ã—ã€è‘—ä½œæ¨©ã¯æ¨©åˆ©è€…æ§˜ã¸å¸°å±žã—ã¾ã™ã€‚æ¨©åˆ©è€…æ§˜å´ã‹ã‚‰ã®ç”»åƒç­‰ã®å‰Šé™¤ã®ä¾é ¼ã‚„è­¦å‘Šã«ã¯é€Ÿã‚„ã‹ã«å¯¾å‡¦ã„ãŸã—ã¾ã™ã€‚"))+" ")]),s("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.ã¾ãŸã€æœ¬ã‚µã‚¤ãƒˆã®æƒ…å ±ã€è¨ˆç®—çµæžœã«ã‚ˆã£ã¦å—ã‘ãŸåˆ©ç›Šãƒ»æå®³ãã®ä»–ã‚ã‚‰ã‚†ã‚‹äº‹è±¡ã«ã¤ã„ã¦ã¯ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚"))+" ")])],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[s("div",[t._v(t._s(t.$t("Common.æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"primary",dark:"",disabled:!t.confirmDialog},on:{click:function(e){return e.stopPropagation(),t.deleteHistory()}}},[t._v(t._s(t.$t("Common.å‰Šé™¤")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.æˆ»ã‚‹")))])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("v-card",{attrs:{dark:""}},[s("v-card-text",[s("div",{staticClass:"pt-2"},[t._v(t._s(t.$t("Database.åœ¨ç±è‰¦å¨˜ / æ‰€æŒè£…å‚™ãƒ‡ãƒ¼ã‚¿èª­è¾¼ä¸­"))+"...")]),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},i=[],l=s(144),o=s(6162),n=s.n(o),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",{attrs:{href:"#list"}},[t._v(t._s(t.$t("Database.ä¸€è¦§")))]),s("v-tab",{attrs:{href:"#analytics"}},[t._v(t._s(t.$t("Database.åˆ†æž")))]),s("v-tab",{attrs:{href:"#status_up"}},[t._v(t._s(t.$t("Database.ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡")))]),t.readOnly?s("v-tab",{attrs:{href:"#compare"}},[t._v(t._s(t.$t("Database.æ¯”è¼ƒ")))]):t._e(),t.shipStock.length?s("v-tab",{attrs:{href:"#group"}},[t._v(t._s(t.$t("Database.æœ­ç®¡ç†")))]):t._e()],1),s("v-divider",{staticClass:"mb-2"}),s("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",{attrs:{value:"list"}},[s("div",{staticClass:"d-flex align-center flex-wrap mt-2"},[s("v-btn",{attrs:{color:"info"},on:{click:function(e){t.filterDialog=!0}}},[s("v-icon",[t._v("mdi-filter-variant")]),t._v(" "+t._s(t.$t("Common.çµžã‚Šè¾¼ã¿"))+" "),s("span",{staticClass:"caption"},[t._v("("+t._s(t.viewShips.length)+t._s(t.isNotJapanese?"":"éš»")+" / "+t._s(t.allCount)+t._s(t.isNotJapanese?"":"éš»")+")")])],1),s("v-checkbox",{staticClass:"mt-0 pt-0 ml-3",attrs:{dense:"","hide-details":"",label:t.$t("Database.ãƒã‚¿ãƒãƒ¬é˜²æ­¢")},on:{change:function(e){return t.changeAvoidSpoiler()}},model:{value:t.isAvoidSpoiler,callback:function(e){t.isAvoidSpoiler=e},expression:"isAvoidSpoiler"}}),s("v-btn-toggle",{staticClass:"ml-auto",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.modeTable,callback:function(e){t.modeTable=e},expression:"modeTable"}},[s("v-btn",{class:{"blue darken-2 white--text":t.modeTable},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!0)}}},[s("v-icon",[t._v("mdi-view-headline")]),s("span",[t._v(t._s(t.$t("Database.ä¸€è¦§è¡¨ç¤º")))])],1),s("v-btn",{class:{"blue darken-2 white--text":!t.modeTable},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!1)}}},[s("v-icon",[t._v("mdi-view-comfy")]),s("span",[t._v(t._s(t.$t("Database.è‰¦éšŠåˆ†æžè¡¨ç¤º")))])],1)],1)],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"800"},on:{input:t.toggleFilterDialog},model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[s("v-card",[s("div",{staticClass:"d-flex pt-2 pb-1 px-2"},[s("div",{staticClass:"align-self-center ml-3 body-2"},[t._v(t._s(t.$t("Common.çµžã‚Šè¾¼ã¿")))]),s("v-spacer"),s("v-btn",{staticClass:"mr-3 align-self-center",attrs:{small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.resetFilterCondition()}}},[t._v(" "+t._s(t.$t("Common.ãƒªã‚»ãƒƒãƒˆ"))+" ")]),s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.closeFilterDialog()}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider",{staticClass:"mx-2"}),s("div",{staticClass:"filter-dialog-body pr-1"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.åŸºæœ¬æ¡ä»¶")))]),s("div",{staticClass:"header-divider"})]),s("div",{staticClass:"px-3 pt-2 d-flex justify-space-between align-center"},[s("div",{staticClass:"keyword-input"},[s("v-text-field",{attrs:{dense:"","hide-details":"",clearable:"","prepend-inner-icon":"mdi-magnify",label:t.$t("Database.åç§°æ¤œç´¢")},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}})],1),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.æœªç€ä»»è‰¦ã®ã¿")},model:{value:t.onlyNoStock,callback:function(e){t.onlyNoStock=e},expression:"onlyNoStock"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.ãŠæ°—ã«å…¥ã‚Š")},model:{value:t.onlyBookmarked,callback:function(e){t.onlyBookmarked=e},expression:"onlyBookmarked"}}),s("manual-checkbox",{attrs:{ok:t.onlyReleaseExSlot,ng:t.withoutReleaseExSlot,toggle:t.toggleExSlotFilter}},[t._v(t._s(t.$t("Fleet.è£œå¼·å¢—è¨­")))])],1),s("div",{staticClass:"d-flex mt-6"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Fleet.ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹")))]),s("div",{staticClass:"header-divider"})]),s("div",[s("v-range-slider",{staticClass:"mt-4 px-3",attrs:{dense:"","thumb-label":"",min:"1",max:t.maxLevel,"hide-details":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.Lvä¸‹é™"),type:"number",max:t.levelRange[1],min:"1","hide-details":""},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,e)},expression:"levelRange[0]"}})]},proxy:!0},{key:"append",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.Lvä¸Šé™"),type:"number",max:t.maxLevel,min:t.levelRange[0],"hide-details":""},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,e)},expression:"levelRange[1]"}})]},proxy:!0}]),model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),s("v-range-slider",{staticClass:"mt-4 px-3",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.é‹ä¸‹é™"),type:"number",max:t.luckRange[1],min:"1","hide-details":""},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,e)},expression:"luckRange[0]"}})]},proxy:!0},{key:"append",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.é‹ä¸Šé™"),type:"number",max:"200",min:t.luckRange[0],"hide-details":""},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,e)},expression:"luckRange[1]"}})]},proxy:!0}]),model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),s("v-range-slider",{staticClass:"mt-4 px-3",attrs:{dense:"","thumb-label":"",min:"0",max:"150","hide-details":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.å¯¾æ½œä¸‹é™"),type:"number",max:t.aswRange[1],min:"0","hide-details":""},model:{value:t.aswRange[0],callback:function(e){t.$set(t.aswRange,0,e)},expression:"aswRange[0]"}})]},proxy:!0},{key:"append",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.å¯¾æ½œä¸Šé™"),type:"number",max:"150",min:t.aswRange[0],"hide-details":""},model:{value:t.aswRange[1],callback:function(e){t.$set(t.aswRange,1,e)},expression:"aswRange[1]"}})]},proxy:!0}]),model:{value:t.aswRange,callback:function(e){t.aswRange=e},expression:"aswRange"}}),s("v-range-slider",{staticClass:"mt-4 px-3",attrs:{dense:"","thumb-label":"",min:"0",max:"100","hide-details":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.é‹æ”¹ä¿®ä¸‹é™"),type:"number",max:t.luckImpRange[1],min:"1","hide-details":""},model:{value:t.luckImpRange[0],callback:function(e){t.$set(t.luckImpRange,0,e)},expression:"luckImpRange[0]"}})]},proxy:!0},{key:"append",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.é‹æ”¹ä¿®ä¸Šé™"),type:"number",max:"100",min:t.luckImpRange[0],"hide-details":""},model:{value:t.luckImpRange[1],callback:function(e){t.$set(t.luckImpRange,1,e)},expression:"luckImpRange[1]"}})]},proxy:!0}]),model:{value:t.luckImpRange,callback:function(e){t.luckImpRange=e},expression:"luckImpRange"}}),s("v-range-slider",{staticClass:"mt-4 px-3",attrs:{dense:"","thumb-label":"",min:"0",max:"9","hide-details":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.å¯¾æ½œæ”¹ä¿®ä¸‹é™"),type:"number",max:t.aswImpRange[1],min:"1","hide-details":""},model:{value:t.aswImpRange[0],callback:function(e){t.$set(t.aswImpRange,0,e)},expression:"aswImpRange[0]"}})]},proxy:!0},{key:"append",fn:function(){return[s("v-text-field",{staticClass:"range-input",class:{english:t.isNotJapanese},attrs:{label:t.$t("Database.å¯¾æ½œæ”¹ä¿®ä¸Šé™"),type:"number",max:"9",min:t.aswImpRange[0],"hide-details":""},model:{value:t.aswImpRange[1],callback:function(e){t.$set(t.aswImpRange,1,e)},expression:"aswImpRange[1]"}})]},proxy:!0}]),model:{value:t.aswImpRange,callback:function(e){t.aswImpRange=e},expression:"aswImpRange"}})],1),s("div",{staticClass:"d-flex mt-6"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common.è€ä¹…")))]),s("div",{staticClass:"header-divider"})]),s("div",{staticClass:"filter-input-container"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:"4n - 1"},model:{value:t.HPIs4n1,callback:function(e){t.HPIs4n1=e},expression:"HPIs4n1"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:"4n - 2"},model:{value:t.HPIs4n2,callback:function(e){t.HPIs4n2=e},expression:"HPIs4n2"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:"4n - 3"},model:{value:t.HPIs4n3,callback:function(e){t.HPIs4n3=e},expression:"HPIs4n3"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:"4n"},model:{value:t.HPIs4n,callback:function(e){t.HPIs4n=e},expression:"HPIs4n"}})],1),s("div",{staticClass:"filter-input-container"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.è€ä¹…æ”¹ä¿®2")+" +0"},model:{value:t.addHP0,callback:function(e){t.addHP0=e},expression:"addHP0"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.è€ä¹…æ”¹ä¿®2")+" +1"},model:{value:t.addHP1,callback:function(e){t.addHP1=e},expression:"addHP1"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.è€ä¹…æ”¹ä¿®2")+" +2"},model:{value:t.addHP2,callback:function(e){t.addHP2=e},expression:"addHP2"}})],1),s("div",{staticClass:"d-flex mt-4"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common.é€ŸåŠ›")))]),s("div",{staticClass:"header-divider"})]),s("div",{staticClass:"filter-input-container"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.é«˜é€Ÿ")},model:{value:t.includeFast,callback:function(e){t.includeFast=e},expression:"includeFast"}}),s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.ä½Žé€Ÿ")},model:{value:t.includeSlow,callback:function(e){t.includeSlow=e},expression:"includeSlow"}})],1),s("div",{staticClass:"d-flex mt-4"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Fleet.è£…å‚™æ­è¼‰å¯å¦")))]),s("div",{staticClass:"header-divider"})]),s("div",{staticClass:"filter-input-container"},[s("manual-checkbox",{attrs:{mode:"img",ok:t.isDaihatsu,ng:t.isNotDaihatsu,toggle:t.toggleDaihatsuFilter,imgPath:"./img/type/type24.png"}}),s("manual-checkbox",{attrs:{mode:"img",ok:t.isKamisha,ng:t.isNotKamisha,toggle:t.toggleTankFilter,imgPath:"./img/type/type46.png"}})],1),s("div",{staticClass:"d-flex mt-4 align-center"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.è‰¦ç¨®")))]),s("div",{staticClass:"header-divider"}),s("div",{staticClass:"pr-1 pl-3"},[s("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){return t.toggleAllType()}}},[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-all")]),t._v(" "+t._s(t.$t("Database.ä¸€æ‹¬ãƒã‚§ãƒƒã‚¯"))+" ")],1)],1)]),s("div",{staticClass:"filter-input-container"},t._l(t.types,(function(e,a){return s("v-checkbox",{key:"item"+a,attrs:{dense:"",label:t.$t("SType."+e.text),"hide-details":""},model:{value:e.isChecked,callback:function(s){t.$set(e,"isChecked",s)},expression:"item.isChecked"}})})),1),s("div",{staticClass:"d-flex mt-4 align-center"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.å›½ç±")))]),s("div",{staticClass:"header-divider"}),s("div",{staticClass:"pr-1 pl-3"},[s("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){return t.toggleAllNationality()}}},[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-all")]),t._v(" "+t._s(t.$t("Database.ä¸€æ‹¬ãƒã‚§ãƒƒã‚¯"))+" ")],1)],1)]),s("div",{staticClass:"filter-input-container"},t._l(t.nationalities,(function(e,a){return s("v-checkbox",{key:"item"+a,attrs:{dense:"",label:t.$t("Database."+e.text),"hide-details":""},model:{value:e.isChecked,callback:function(s){t.$set(e,"isChecked",s)},expression:"item.isChecked"}})})),1),s("div",{staticClass:"d-flex mt-4 align-center"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.ãŠæœ­")))]),s("div",{staticClass:"header-divider"}),s("div",{staticClass:"pr-1 pl-3"},[s("v-btn",{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){return t.toggleAllArea()}}},[s("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-all")]),t._v(" "+t._s(t.$t("Database.ä¸€æ‹¬ãƒã‚§ãƒƒã‚¯"))+" ")],1)],1)]),s("div",{staticClass:"d-flex flex-wrap pa-3"},[t._l(t.maxAreas,(function(e){return s("div",{key:"area"+e,staticClass:"selected-area-btn align-self-center",class:{selected:t.selectedArea.includes(e)},on:{click:function(s){return t.clickedArea(e)},keypress:function(s){return t.clickedArea(e)}}},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"50"}})],1)})),s("div",{staticClass:"selected-area-btn no-area align-self-center",class:{selected:t.visibleNoArea},on:{click:function(e){return t.clickedArea(-1)},keypress:function(e){return t.clickedArea(-1)}}},[t._v(" "+t._s(t.$t("Database.æœ­ãªã—"))+" ")])],2)])],1)],1),s("div",[t.viewShips.length?s("div",{staticClass:"d-flex align-center mt-3"},[t.modeTable?s("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),s("v-spacer"),t.modeTable?s("div",{staticClass:"manual-column-select"},[s("v-select",{attrs:{outlined:"",dense:"",label:t.$t("Database.ä»»æ„è¡¨ç¤ºåˆ—"),"hide-details":"",items:t.manualValues,"item-value":"value","item-text":function(e){return t.$t("Common."+e.text)},"prepend-inner-icon":"mdi-eye","background-color":t.$vuetify.theme.dark?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.6)"},on:{input:function(e){return t.filter()}},model:{value:t.manualValue,callback:function(e){t.manualValue=e},expression:"manualValue"}})],1):t._e()],1):s("v-card",{staticClass:"text-center my-10 py-10"},[s("div",[t._v(t._s(t.$t("Common.æŽ¢ã—ãŸã‘ã©è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚ˆ"))+"ðŸ˜¢")])]),t.modeTable&&t.viewShips.length?s("v-card",{staticClass:"ship-table mt-3 pa-2"},[s("v-divider"),s("v-data-table",{attrs:{"fixed-header":"",height:"72vh","multi-sort":"",page:t.page,headers:t.headers,items:t.viewShips,"hide-default-footer":"","footer-props":{showFirstLastPage:!0,"items-per-page-options":[100]}},on:{"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"header.name",fn:function(){},proxy:!0},{key:"header.hp",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.luck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.impLuck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.asw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.impAsw",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Database."+s.text)))]}},{key:"header.manualValue",fn:function(){return[t._v(t._s(t.manualColumnText))]},proxy:!0},{key:"header.accuracy",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.avoid",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.ci",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"item",fn:function(e){var a=e.item;return[s("tr",{directives:[{name:"ripple",rawName:"v-ripple"}],class:{no_ship:0===a.count,lvMax:a.stockData.level===t.maxLevel,lv100:a.stockData.level!==t.maxLevel&&a.stockData.level>99,lv99:99===a.stockData.level},on:{click:function(e){return e.stopPropagation(),t.showEditDialog(a)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showEditDialog(a)},mouseenter:function(e){return t.bootTooltip(a,e)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[s("td",{staticClass:"px-0"},[s("div",{staticClass:"d-none d-md-flex align-center"},[s("div",{staticClass:"edit-stock-img"},[s("div",{staticClass:"ship-table-img-container",class:{no_ship:0===a.count,"avoid-spoiler":t.isAvoidSpoiler}},[s("img",{attrs:{src:"./img/ship/"+a.ship.id+".png",alt:"ship-"+a.ship.id,height:"40",width:"160"}})]),a.stockData.area>0&&a.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner mt-1"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+a.stockData.area+".webp",height:"52",width:"38"}})],1):t._e(),a.stockData.releaseExpand?s("div",{staticClass:"slot-ex-img"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"30",width:"30"}})],1):t._e()]),s("div",{staticClass:"ship-name text-truncate",attrs:{title:a.ship.name}},[t._v(t._s(t.getShipName(a.ship)))])]),s("div",{staticClass:"d-flex d-md-none align-center"},[s("div",{staticClass:"edit-stock-img"},[s("div",{staticClass:"ship-table-img-container dense",class:{no_ship:0===a.count,"avoid-spoiler":t.isAvoidSpoiler}},[s("img",{attrs:{src:"./img/ship/"+a.ship.id+".png",alt:"ship-"+a.ship.id,height:"30",width:"120"}})]),a.stockData.area>0&&a.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner min"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+a.stockData.area+".webp",height:"44",width:"32"}})],1):t._e(),a.stockData.releaseExpand?s("div",{staticClass:"slot-ex-img min"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"25",width:"25"}})],1):t._e()])])]),s("td",{staticClass:"text-right"},[t._v(t._s(a.level?a.level:"-"))]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(a.hp))]),a.impHP?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(a.impHP))],1):t._e()])]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(a.luck))]),a.impLuck?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(a.impLuck))],1):t._e()])]),s("td",{staticClass:"text-right"},[a.count?s("span",{class:{"text--secondary":!a.impLuck}},[t._v(t._s(a.impLuck))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"td-relative"},[s("div",[t._v(t._s(a.asw))]),a.impAsw?s("div",{staticClass:"improve-value"},[s("v-icon",{attrs:{small:"",color:"teal lighten-1"}},[t._v("mdi-chevron-double-up")]),t._v(t._s(a.impAsw))],1):t._e()])]),s("td",{staticClass:"text-right"},[s("span",[t._v(t._s(a.manualValue))])]),s("td",{staticClass:"text-right"},[a.count?s("span",[t._v(t._s(a.accuracy))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[a.count?s("span",[t._v(t._s(a.avoid))]):s("span",[t._v("-")])]),s("td",{staticClass:"text-right"},[a.count?s("span",[t._v(t._s(a.ci))]):s("span",[t._v("-")])])])]}}],null,!0)})],1):t.viewShips.length?s("div",{staticClass:"mt-3"},[s("div",{staticClass:"d-flex flex-wrap"},t._l(t.altViewShips,(function(e,a){return s("div",{key:"type_row"+a,staticClass:"type-container"},[s("div",{staticClass:"mx-2 mt-1"},[t._v(t._s(t.getShipTypeName(e.typeName)))]),s("div",{staticClass:"type-divider"}),s("div",{staticClass:"d-flex flex-wrap"},t._l(e.rows,(function(e,a){return s("div",{key:"outer_row_"+a,staticClass:"ship-card ma-1 px-2 pt-1"},t._l(e,(function(e,a){return s("div",{key:"row_"+a,staticClass:"mt-1 mb-2"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"body-2"},[t._v(t._s(t.getShipName(e.master)))]),s("v-spacer"),e.count?s("div",{staticClass:"caption align-self-end"},[t._v(t._s(t.$t("Database.åœ¨ç±"))+" "+t._s(e.count))]):t._e()],1),s("div",{staticClass:"status-img",class:{no_ship:0===e.count,"avoid-spoiler":t.isAvoidSpoiler}},[s("img",{staticClass:"status-img",attrs:{src:"./img/ship/"+e.master.id+".png",alt:"ship-"+e.master.id}})]),t._l(e.detail,(function(e,a){return s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"detail_"+a,staticClass:"detail-row ship-tr",class:{no_ship:0===e.count,lvMax:e.stockData.level===t.maxLevel,lv100:e.stockData.level!==t.maxLevel&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(s){return s.stopPropagation(),t.showEditDialog(e)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.showEditDialog(e)},mouseenter:function(s){return t.bootTooltip(e,s)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[e.count?[s("div",{staticClass:"status-col sm"},[s("div",[t._v(t._s(e.level))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_hp.png",height:"16",alt:"hp"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impHP}},[t._v(t._s(e.hp))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_asw.png",height:"16",alt:"asw"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impAsw}},[t._v(t._s(e.asw))])]),s("div",{staticClass:"status-col"},[s("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_luck.png",height:"16",alt:"luck"}}),s("div",{staticClass:"align-self-center",class:{bold:e.impLuck}},[t._v(t._s(e.luck))])]),s("div",{staticClass:"status-area-img",class:{"exist-img":e.stockData.area>0}},[e.stockData.area>0?s("img",{staticClass:"status-area-img",attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.stockData.area+"_min.webp",alt:"area-"+e.stockData.area}}):t._e()]),s("div",{staticClass:"status-ex-img"},[e.stockData.releaseExpand?s("img",{staticClass:"status-ex-img",attrs:{src:"./img/util/slot_ex.png",height:"24",width:"24",alt:"ex-slot"}}):t._e()])]:[s("div",{staticClass:"mx-auto text-center no_ship caption py-1"},[t._v(t._s(t.$t("Database.æ–°è¦ç™»éŒ²")))])]],2)}))],2)})),0)})),0)])})),0)]):t._e(),t.modeTable&&t.viewShips.length?s("div",{staticClass:"mt-2"},[s("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e()],1)],1),s("v-tab-item",{attrs:{value:"analytics"}},[s("analytics")],1),s("v-tab-item",{attrs:{value:"status_up"}},[s("status-up-line-list")],1),s("v-tab-item",{attrs:{value:"compare"}},[s("compare")],1),s("v-tab-item",{attrs:{value:"group"}},[s("area-manager",{attrs:{readonly:t.readOnly}})],1)],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editRow&&t.versionButtons.length?s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"mx-2 mt-2"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"align-self-center edit-stock-img"},[s("v-img",{attrs:{src:"./img/ship/"+t.versionButtons[t.version].id+".png",height:"40",width:"160"}}),t.editRow.stockData.area>0&&t.editRow.stockData.area<=t.maxAreas?s("div",{staticClass:"area-banner"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+t.editRow.stockData.area+".webp",height:"58",width:"42"}})],1):t._e()],1),s("div",{staticClass:"align-self-center ml-2"},[s("v-btn-toggle",{staticClass:"flex-wrap",attrs:{dense:"",mandatory:""},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versionButtons,(function(e,a){return s("v-btn",{key:"ver"+a,attrs:{value:a},on:{click:function(e){return e.stopPropagation(),t.changeVersion(a)}}},[s("span",[t._v(t._s(t.getShipName(e)))])])})),1)],1)]),s("v-divider",{staticClass:"mt-3"}),s("div",{staticClass:"d-flex mt-3"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.ç·´åº¦(Lv)"),type:"number",max:t.maxLevel,min:"1","hide-details":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}})],1),s("v-slider",{staticClass:"ml-5 mr-3 align-self-center",attrs:{"hide-details":"",max:t.maxLevel,min:"1","thumb-label":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}}),s("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"teal",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=99}}},[t._v("Lv99")]),s("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"red lighten-2",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=t.maxLevel}}},[t._v("Lv"+t._s(t.maxLevel))])],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Common.é‹"),type:"number",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"hide-details":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"thumb-label":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.è€ä¹…æ”¹ä¿®"),type:"number",max:"2",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"2",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),s("div",{staticClass:"d-flex mt-8"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.å¯¾æ½œæ”¹ä¿®"),type:"number",max:"9",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),s("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"9",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),s("div",{staticClass:"mt-8"},[s("v-checkbox",{attrs:{label:t.$t("Database.è£œå¼·å¢—è¨­é–‹æ”¾æ¸ˆ")},model:{value:t.editRow.stockData.releaseExpand,callback:function(e){t.$set(t.editRow.stockData,"releaseExpand",e)},expression:"editRow.stockData.releaseExpand"}})],1),s("div",{staticClass:"d-flex justify-space-around"},t._l(t.maxAreas,(function(e){return s("div",{key:"area"+e,staticClass:"selected-area-btn",class:{selected:t.editRow.stockData.area===e},on:{click:function(s){return s.stopPropagation(),t.toggleArea(e)},keypress:function(s){return t.toggleArea(e)}}},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"50"}})],1)})),0),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[t.isFav?s("v-btn",{attrs:{color:"pink lighten-2",icon:""},on:{click:function(e){return t.toggleFav(t.editRow.ship.id)}}},[s("v-icon",[t._v("mdi-heart")])],1):s("v-btn",{attrs:{color:"grey",icon:""},on:{click:function(e){return t.toggleFav(t.editRow.ship.id)}}},[s("v-icon",[t._v("mdi-heart")])],1),t.versionButtons[t.version]?s("div",{staticClass:"align-self-center ml-3"},[s("a",{attrs:{href:"https://wikiwiki.jp/kancolle/"+encodeURI(t.versionButtons[t.version].name)}},[t._v("wiki")])]):t._e(),s("v-btn",{staticClass:"ml-auto",attrs:{disabled:t.btnPushed||t.readOnly,color:"primary"},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Database.ç€ä»»"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:t.btnPushed||!t.editRow.stockData.uniqueId||t.readOnly,color:"success"},on:{click:function(e){return e.stopPropagation(),t.updateStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Common.æ›´æ–°"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.editRow.stockData.uniqueId||t.readOnly,color:"error"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!0}}},[t._v(" "+t._s(t.$t("Database.é™¤ç±"))+" ")]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.æˆ»ã‚‹")))])],1)],1)]):t._e()],1),s("v-dialog",{attrs:{width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[s("div",[t._v(t._s(t.$t("Database.æœ¬å½“ã«é™¤ç±ã—ã¾ã™ã‹ï¼Ÿ")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"error",disabled:t.btnPushed,dark:""},on:{click:function(e){return e.stopPropagation(),t.deleteStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.é™¤ç±")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Database.ã‚„ã£ã±ã‚„ã‚ã¨ã")))])],1)],1)],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("ship-tooltip",{attrs:{value:t.tooltipShip}})],1)],1)},c=[],d=s(3632),p=s.n(d),h=s(7739),u=s.n(h),m=s(361),v=s.n(m),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-8"},[s("div",{staticClass:"d-flex my-3 mx-4"},[s("div",{staticClass:"align-self-center mr-5"},[t._v(t._s(t.$t("Database.é›†è¨ˆå¯¾è±¡Lv")))]),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lvä¸‹é™"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:t.maxLevel,"hide-details":""},on:{change:function(e){return t.analyze()}},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lvä¸Šé™"),type:"number",max:t.maxLevel,min:t.levelRange[0],dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),s("v-card",{staticClass:"pa-1"},[s("v-divider"),s("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.åˆè¨ˆè‰¦å¨˜æ•°")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ã‚±ãƒƒã‚³ãƒ³è‰¦")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.è£œå¼·å¢—è¨­è‰¦")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.è€ä¹…æ”¹ä¿®åˆè¨ˆ")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.å¯¾æ½œæ”¹ä¿®åˆè¨ˆ")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.é‹æ”¹ä¿®åˆè¨ˆ")))]),s("th",{staticClass:"text-right"},[t._v(" "+t._s(t.$t("Database.ã¾ã‚‹ã‚†æŒ‡æ•°"))+" "),s("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-icon",t._g(t._b({staticClass:"ml-1",attrs:{small:""}},"v-icon",i,!1),a),[t._v("mdi-help-circle-outline")])]}}])},[s("div",[s("s",[t._v(t._s(t.$t("Database.ã¾ã‚‹ã‚†ã‚’è¿‘ä»£åŒ–æ”¹ä¿®ã«ä½¿ãˆã°ä½¿ã†ã»ã©ä¸Šæ˜‡ã—ã¾ã™ã€‚")))])]),s("div",[t._v(t._s(t.$t("Database.ã‚±ãƒƒã‚³ãƒ³ä»¥å¤–ã®æ‰‹æ®µã§é‹æ”¹ä¿®ã‚’é€²ã‚ã¦ã„ã‚‹ã¨ä¸Šæ˜‡ã™ã‚‹æŒ‡æ¨™ã§ã™ã€‚")))])])],1)])]),s("tbody",[s("tr",[s("td",{staticClass:"text-right"},[t._v(t._s(t.allShipCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.allMarriageCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.allExSlotCount.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalHPImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalASWImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalLuckImprovement.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.maruyuRank.toLocaleString()))])])])]},proxy:!0}])}),s("v-divider"),s("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[s("v-btn",{attrs:{small:"",text:"",disabled:!t.totalBluePrintsPlan},on:{click:function(e){return e.stopPropagation(),t.showBlueprintPlanDialog()}}},[s("v-icon",{staticClass:"ml-1",attrs:{small:""}},[t._v("mdi-magnify")]),t._v(" "+t._s(t.$t("Database.æ”¹è£…è¨­è¨ˆå›³å¿…è¦æ•°"))+" ")],1)],1),s("th",{staticClass:"text-right"},[s("v-btn",{attrs:{small:"",text:"",disabled:!t.totalActionReportsPlan},on:{click:function(e){return e.stopPropagation(),t.showActionReportPlanDialog()}}},[s("v-icon",{staticClass:"ml-1",attrs:{small:""}},[t._v("mdi-magnify")]),t._v(" "+t._s(t.$t("Database.æˆ¦é—˜è©³å ±å¿…è¦æ•°"))+" ")],1)],1),s("th",{staticClass:"text-right"},[s("v-btn",{attrs:{small:"",text:"",disabled:!t.totalCatapultsPlan},on:{click:function(e){return e.stopPropagation(),t.showCatapultPlanDialog()}}},[s("v-icon",{staticClass:"ml-1",attrs:{small:""}},[t._v("mdi-magnify")]),t._v(" "+t._s(t.$t("Database.ã‚«ã‚¿ãƒ‘ãƒ«ãƒˆå¿…è¦æ•°"))+" ")],1)],1),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.æ”¹è£…è¨­è¨ˆå›³æ¶ˆè²»æ•°")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.æˆ¦é—˜è©³å ±æ¶ˆè²»æ•°")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ã‚«ã‚¿ãƒ‘ãƒ«ãƒˆæ¶ˆè²»æ•°")))])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-right pr-7"},[t._v(t._s(t.totalBluePrintsPlan.toLocaleString()))]),s("td",{staticClass:"text-right pr-7"},[t._v(t._s(t.totalActionReportsPlan.toLocaleString()))]),s("td",{staticClass:"text-right pr-7"},[t._v(t._s(t.totalCatapultsPlan.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalBluePrints.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalActionReports.toLocaleString()))]),s("td",{staticClass:"text-right"},[t._v(t._s(t.totalCatapults.toLocaleString()))])])])]},proxy:!0}])})],1),s("v-card",{staticClass:"my-3 pa-1"},[s("v-divider"),s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.è‰¦ç¨®")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.éš»æ•°")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.æœ€å¤§Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.æœ€å°Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ä¸­å¤®Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.å¹³å‡Lv")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ç·çµŒé¨“å€¤")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.1éš»å¹³å‡")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.çµŒé¨“å€¤å‰²åˆ")))])])]),s("tbody",t._l(t.summaryTable,(function(e,a){return s("tr",{key:"summary_row"+a},[s("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.count))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.maxLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.minLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.midLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.avgLevel))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.sumExp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.avgExp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.data.expRate)+" %")])])})),0)]},proxy:!0}])})],1),s("div",{staticClass:"graph-area"},[s("v-card",{staticClass:"py-4"},[s("div",{staticClass:"d-flex justify-center"},[s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.è‰¦ç¨®åˆ¥Lvå¸¯åˆ†æž")))])]),s("radar-chart",{attrs:{data:t.radarGraphData,options:t.radarOptions}})],1),s("v-card",{staticClass:"pa-1"},[s("v-divider"),s("v-simple-table",{attrs:{"fixed-header":"",height:"64vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-right"},[t._v("Rank")]),s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Common.è‰¦å¨˜å")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.ç·çµŒé¨“å€¤")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.çµŒé¨“å€¤å‰²åˆ")))])])]),s("tbody",t._l(t.expRankTable,(function(e,a){return s("tr",{key:"exp_rank_row"+a},[s("td",{staticClass:"text-right"},[t._v(t._s(e.rank))]),s("td",{staticClass:"text-left"},[t._v(t._s(t.needTrans?t.$t(""+e.name):e.name))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.exp))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.rate)+" %")])])})),0)]},proxy:!0}])})],1)],1),s("v-card",{staticClass:"my-4 pa-4"},[s("div",{staticClass:"d-flex justify-center"},[s("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.Lvå¸¯åˆ¥è‰¦å¨˜æ•°")))])]),s("div",[s("stacked-bar",{attrs:{data:t.stackedBarData,options:t.stackedBarOption}})],1)]),s("v-dialog",{attrs:{width:"720"},model:{value:t.detailDialog,callback:function(e){t.detailDialog=e},expression:"detailDialog"}},[s("v-card",[s("div",{staticClass:"d-flex justify-end pa-2"},[s("v-btn",{attrs:{icon:""},on:{click:function(e){t.detailDialog=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider",{staticClass:"mx-2"}),s("div",{staticClass:"detail-content pa-4"},t._l(t.reportPlans,(function(e,a){return s("v-expansion-panels",{key:"row"+a,staticClass:"mt-2",model:{value:e.open,callback:function(s){t.$set(e,"open",s)},expression:"row.open"}},[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"py-2 pl-2",attrs:{"hide-actions":""}},[s("div",{staticClass:"d-flex align-center"},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+e.master.id+".png",height:"40",width:"160"}})],1),s("div",{staticClass:"ml-1 flex-grow-1"},[s("div",{staticClass:"primary--text caption"},[t._v("Lv."+t._s(e.stock.level))]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"ship-name text-truncate"},[t._v(t._s(t.getShipName(e.master)))])])]),s("v-slide-y-reverse-transition",[0!==e.open?s("div",{staticClass:"ml-auto d-flex"},[s("div",{staticClass:"d-flex align-center",class:{"opacity-10":!e.blueprints}},[s("img",{attrs:{src:"./img/util/blueprint.png",height:"40",width:"40",alt:"blueprint"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.blueprints))])]),s("div",{staticClass:"ml-3 d-flex align-center",class:{"opacity-10":!e.actionReports}},[s("img",{attrs:{src:"./img/util/actionReport.png",height:"40",width:"40",alt:"actionReport"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.actionReports))])]),s("div",{staticClass:"ml-3 d-flex align-center",class:{"opacity-10":!e.catapults}},[s("img",{attrs:{src:"./img/util/catapult.png",height:"40",width:"40",alt:"catapult"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.catapults))])])]):t._e()])],1)]),s("v-expansion-panel-content",[s("v-divider"),t._l(e.details,(function(e,i){return s("div",{key:"row"+a+"_"+i,staticClass:"d-flex mt-2"},[s("div",{staticClass:"next-arrow-container"},[s("div",{staticClass:"mr-3"},[e.requireEXP?s("v-icon",{attrs:{color:"warning"}},[t._v("mdi-arrow-right-bold")]):s("v-icon",{attrs:{color:"success"}},[t._v("mdi-arrow-right-bold")])],1),s("div",{staticClass:"next-level",class:{"warning--text":e.requireEXP,"success--text":!e.requireEXP}},[s("span",{staticClass:"caption"},[t._v("Lv.")]),s("span",{staticClass:"body-2"},[t._v(t._s(e.base.nextLv))])])]),s("div",{staticClass:"align-self-center"},[s("v-img",{attrs:{src:"./img/ship/"+e.next.id+".png",height:"40",width:"160"}})],1),s("div",{staticClass:"ml-1 flex-grow-1 align-self-center"},[e.requireEXP?s("div",{staticClass:"caption warning--text"},[t._v(t._s(t.$t("Database.æ®‹exp"))+" "+t._s(e.requireEXP.toLocaleString()))]):s("div",{staticClass:"caption success--text"},[s("v-icon",{attrs:{color:"success",small:""}},[t._v("mdi-check-circle-outline")])],1),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"ship-name text-truncate"},[t._v(t._s(t.getShipName(e.next)))])])]),s("div",{staticClass:"ml-auto d-flex align-self-center"},[s("div",{staticClass:"d-flex align-center",class:{"opacity-10":!e.blueprints}},[s("v-img",{attrs:{src:"./img/util/blueprint.png",height:"40",width:"40"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.blueprints))])],1),s("div",{staticClass:"ml-3 d-flex align-center",class:{"opacity-10":!e.actionReports}},[s("v-img",{attrs:{src:"./img/util/actionReport.png",height:"40",width:"40"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.actionReports))])],1),s("div",{staticClass:"ml-3 d-flex align-center",class:{"opacity-10":!e.catapults}},[s("v-img",{attrs:{src:"./img/util/catapult.png",height:"40",width:"40"}}),s("div",{staticClass:"ml-1 body-2"},[t._v("x "+t._s(e.catapults))])],1)])])}))],2)],1)],1)})),1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.expandAll()}}},[t._v(t._s(t.$t("Database.å…¨ã¦å±•é–‹")))]),s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.collapseAll()}}},[t._v(t._s(t.$t("Database.å…¨ã¦æŠ˜ã‚ŠãŸãŸã‚€")))])],1)],1)],1)],1)},b=[],f=s(2297),k=s.n(f),x=s(8659),_=s.n(x),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RadarChart",{style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},y=[],S=s(5706),$=s(6775),w=s(9231),D=s(6429);$.kL.register(D.Z,...$.zX);var L=l.Z.use(S.ZP).extend({components:{RadarChart:w.HM},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String},height:{type:Number,default:1200}},data:()=>({plugins:[D.Z]}),computed:{actualData(){return this.$vuetify.theme.dark,this.data},actualOptions(){if(this.$vuetify.theme.dark){const t="rgb(200, 200, 200)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(0, 0, 0, 0.1)"}else{const t="rgb(64, 64, 64)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(255, 255, 255, 0.9)"}return this.titleText&&(this.options.plugins.title.text=this.titleText),this.options},styles(){return{height:"60vh",position:"relative"}}}}),R=L,T=s(1001),I=(0,T.Z)(R,C,y,!1,null,null,null),Z=I.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BarChart",{ref:"stackedBarRef",style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},A=[];const E=["rgba(224, 0, 0, 0.5)","rgba(128, 0, 224, 0.5)","rgba(0, 0, 224, 0.5)","rgba(0, 128, 224, 0.5)","rgba(0, 224, 224, 0.5)","rgba(0, 224, 0, 0.5)","rgba(224, 224, 0, 0.5)","rgba(224, 128, 0, 0.5)","rgba(0, 0, 0, 0.25)"],V=["rgba(255, 80, 80, 0.5)","rgba(170, 80, 255, 0.5)","rgba(80, 80, 255, 0.5)","rgba(80, 180, 255, 0.5)","rgba(80, 255, 255, 0.5)","rgba(80, 255, 80, 0.5)","rgba(255, 255, 80, 0.5)","rgba(255, 180, 80, 0.5)","rgba(255, 255, 255, 0.25)"];$.kL.register(D.Z,...$.zX);var H=l.Z.use(S.ZP).extend({components:{BarChart:w.vz},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String}},data:()=>({stackedBarRef:{},plugins:[D.Z]}),computed:{actualData(){const t=this.$vuetify.theme.dark?V:E,{datasets:e}=this.data;for(let s=0;s<e.length;s+=1)e[s].backgroundColor=t[s];return this.data},actualOptions(){let t="rgb(64, 64, 64)";return this.$vuetify.theme.dark&&(t="rgb(200, 200, 200)"),this.options.plugins.legend.labels.color=t,this.options.scales.x.ticks.color=t,this.options.scales.x.title.color=t,this.options.scales.y.ticks.color=t,this.options},styles(){return{height:"70vh",position:"relative"}}}}),M=H,N=(0,T.Z)(M,P,A,!1,null,null,null),B=N.exports,U=s(6141),F=s(5549);const O=["æœ€å¤§Lv","æœ€å°Lv","ä¸­å¤®Lv","å¹³å‡Lv"];var q=l.Z.extend({name:"AnalyticsComponent",components:{RadarChart:Z,StackedBar:B},data:()=>({levelRange:[1,U.ZP.MAX_LEVEL],summaryTable:[],expRankTable:[],unsubscribe:void 0,readOnly:!1,radarGraphData:{labels:[],datasets:[{label:O[0],data:[],fill:!1,backgroundColor:"rgba(64, 164, 255, 0.1)",borderColor:"rgb(64, 164, 255)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:O[1],data:[],backgroundColor:"rgba(255, 64, 64, 0.1)",borderColor:"rgb(255, 64, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1},hidden:!0},{label:O[2],data:[],fill:!1,backgroundColor:"rgba(255, 128, 64, 0.1)",borderColor:"rgb(255, 128, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:O[3],data:[],fill:!1,backgroundColor:"rgba(0, 200, 0, 0.1)",borderColor:"rgb(0, 200, 0)",borderWidth:2,pointRadius:3,datalabels:{display:!1}}]},radarOptions:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:U.ZP.MAX_LEVEL,ticks:{stepSize:25,color:"rgb(64, 64, 64)",backdropColor:"rgba(255, 255, 255, 0.7)"},angleLines:{color:"rgba(128, 128, 128, 0.4)"},pointLabels:{color:"rgb(64, 64, 64)"},grid:{color:"rgba(128, 128, 128, 0.4)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}},title:{display:!0}}},stackedBarData:{labels:[],datasets:[]},stackedBarOption:{responsive:!0,indexAxis:"y",scales:{x:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!0,text:"è‰¦å¨˜æ•°[éš»]"},ticks:{color:"rgb(64, 64, 64)"}},y:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!1},ticks:{color:"rgb(64, 64, 64)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}}}},allShipCount:0,allMarriageCount:0,allExSlotCount:0,totalLuckImprovement:0,totalHPImprovement:0,totalASWImprovement:0,maruyuRank:0,totalBluePrintsPlan:0,totalActionReportsPlan:0,totalCatapultsPlan:0,totalBluePrints:0,totalActionReports:0,totalCatapults:0,detailDialog:!1,onlyBlueprint:!1,onlyActionReport:!1,onlyCatapult:!1,reportPlans:[],maxLevel:U.ZP.MAX_LEVEL}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.analyze(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&this.analyze()}));const t=Math.floor(this.maxLevel/10);for(let e=t;e>0;e-=1)this.stackedBarData.labels.push(10*e+"ï½ž");this.stackedBarData.labels.push("1ï½ž")},watch:{isTempStockMode(t){this.readOnly=!!t,this.analyze()}},computed:{needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese(){return"ja"!==this.$i18n.locale},isTempStockMode(){return this.$store.getters.getExistsTempStock}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{analyze(){const t=this.$store.state.ships;let e=this.$store.state.shipStock;this.readOnly&&(e=this.$store.state.tempShipStock);const s=U.ZP.SHIP_TYPES_ALT2,a=[];let i=0,l=[],o=0,r=0,c=0,d=0,h=0,u=0,m=0,v=0,g=0,b=0,f=0,x=0,C=[];this.radarGraphData.labels=[],this.stackedBarData.datasets=[],this.stackedBarOption.scales.x.title.text=`${this.$t("Database.è‰¦å¨˜æ•°")}`;for(let $=0;$<s.length;$+=1){const y=s[$],S=this.isNotJapanese?`${this.$t(`SType.${y.text}`)}`:y.text;this.radarGraphData.labels.push(S),this.radarGraphData.datasets[0].label=`${this.$t("Database.æœ€å¤§Lv")}`,this.radarGraphData.datasets[1].label=`${this.$t("Database.æœ€å°Lv")}`,this.radarGraphData.datasets[2].label=`${this.$t("Database.ä¸­å¤®Lv")}`,this.radarGraphData.datasets[3].label=`${this.$t("Database.å¹³å‡Lv")}`;const w=t.filter((t=>y.types.includes(t.type))),D=w.map((t=>t.id)),L={label:S,borderWidth:0,data:[],stack:"stack-1",datalabels:{display:!1}},R=Math.floor(this.maxLevel/10);for(let t=0;t<=R;t+=1)L.data.push(0);const T=e.filter((t=>D.includes(t.id)&&t.level>=this.levelRange[0]&&t.level<=this.levelRange[1]));if(T.length){const e=[],s=[];for(let a=0;a<T.length;a+=1){const i=T[a];e.push(i.level),s.push(i.exp),o+=i.level>99?1:0,r+=i.releaseExpand?1:0,c+=i.improvement.hp,d+=i.improvement.asw,h+=i.improvement.luck,u+=163===i.id||402===i.id?1:0,L.data[L.data.length-1-Math.floor(i.level/10)]+=1;const l=t.find((t=>t.id===i.id));if(!l)continue;const n=l.originalId,p=C.find((t=>t.id===n));p?p.exp+=i.exp:n&&C.push({id:n,name:"",exp:i.exp,rate:0});const k=t.filter((t=>t.originalId===n&&t.version<l.version));for(let t=0;t<k.length;t+=1){const e=k[t];b+=e.blueprints,f+=e.actionReports,x+=e.catapults}const _=t.filter((t=>t.originalId===n&&t.version>=l.version));for(let t=0;t<_.length;t+=1){const e=_[t];m+=e.blueprints,v+=e.actionReports,g+=e.catapults}}const y=k()(s);i+=y,l=l.concat(e);const w={count:T.length,maxLevel:n()(e),minLevel:p()(e),midLevel:this.getMidValue(e),avgLevel:_()(e),sumExp:y,avgExp:_()(s),expRate:0};a.push({name:S,data:w}),this.radarGraphData.datasets[0].data[$]=w.maxLevel?w.maxLevel:0,this.radarGraphData.datasets[1].data[$]=w.minLevel?w.minLevel:0,this.radarGraphData.datasets[2].data[$]=w.midLevel?w.midLevel:0,this.radarGraphData.datasets[3].data[$]=w.avgLevel?Math.floor(w.avgLevel):0}else{const t={count:0,maxLevel:0,minLevel:0,midLevel:0,avgLevel:0,sumExp:0,avgExp:0,expRate:0};a.push({name:S,data:t}),this.radarGraphData.datasets[0].data[$]=0,this.radarGraphData.datasets[1].data[$]=0,this.radarGraphData.datasets[2].data[$]=0,this.radarGraphData.datasets[3].data[$]=0}this.stackedBarData.datasets.push(L)}this.summaryTable=[];for(let n=0;n<a.length;n+=1){const t=a[n];this.summaryTable.push({name:t.name,data:{count:t.data.count,maxLevel:t.data.maxLevel,minLevel:t.data.minLevel,midLevel:t.data.midLevel,avgLevel:t.data.avgLevel?t.data.avgLevel.toFixed(1):0,sumExp:t.data.sumExp.toLocaleString(),avgExp:Math.floor(t.data.avgExp).toLocaleString(),expRate:i?Math.floor(1e3*t.data.sumExp/i)/10:0}})}const y=k()(l),S=l.length;this.summaryTable.push({name:this.isNotJapanese?`${this.$t("SType.åˆè¨ˆ")}`:"åˆè¨ˆ",data:{count:S,maxLevel:n()(a.map((t=>t.data.maxLevel))),minLevel:p()(a.map((t=>t.data.minLevel))),midLevel:this.getMidValue(l),avgLevel:S?(y/S).toFixed(1):"0",sumExp:i.toLocaleString(),avgExp:S?Math.floor(i/S).toLocaleString():"0",expRate:S?100:0}}),this.allShipCount=S,this.allMarriageCount=o,this.allExSlotCount=r,this.totalHPImprovement=c,this.totalLuckImprovement=h,this.totalASWImprovement=d,this.maruyuRank=Math.max(Math.floor(1.6*u+(h-4.5*this.allMarriageCount)/1.6),0),this.totalBluePrintsPlan=m,this.totalActionReportsPlan=v,this.totalCatapultsPlan=g,this.totalBluePrints=b,this.totalActionReports=f,this.totalCatapults=x,C=C.sort(((t,e)=>e.exp!==t.exp?e.exp-t.exp:t.id-e.id)).splice(0,50),this.expRankTable=[];for(let n=0;n<C.length;n+=1){const e=C[n],s=t.find((t=>t.id===e.id))?.name;s&&(e.name=s),i&&(e.rate=100*e.exp/i),this.expRankTable.push({rank:n+1,name:e.name,exp:e.exp.toLocaleString(),rate:e.rate.toFixed(2)})}},getMidValue(t){if(t.length){const e=t.length;t.sort(((t,e)=>t-e));const s=Math.floor(t.length/2);return e%2?t[s]:Math.floor((t[s-1]+t[s])/2)}return 0},translate(t){return t?`${this.$t(t)}`:""},getShipName(t){if(this.needTrans){const e=F.Z.getSuffix(t);return`${e.map((t=>this.translate(t))).join("")}`}return t.name?t.name:""},showBlueprintPlanDialog(){this.onlyBlueprint=!0,this.onlyActionReport=!1,this.onlyCatapult=!1,this.setDetailDialogData()},showActionReportPlanDialog(){this.onlyBlueprint=!1,this.onlyActionReport=!0,this.onlyCatapult=!1,this.setDetailDialogData()},showCatapultPlanDialog(){this.onlyBlueprint=!1,this.onlyActionReport=!1,this.onlyCatapult=!0,this.setDetailDialogData()},setDetailDialogData(){const t=this.$store.state.ships;let e=this.$store.state.shipStock;this.readOnly&&(e=this.$store.state.tempShipStock),this.reportPlans=[];const s=[],a=e.filter((t=>t.level>=this.levelRange[0]&&t.level<=this.levelRange[1]));for(let i=0;i<a.length;i+=1){const e=a[i],l=t.find((t=>t.id===e.id));if(!l)continue;const o={master:l,stock:e,blueprints:0,actionReports:0,catapults:0,details:[],open:-1},n=t.filter((t=>t.originalId===l.originalId&&t.version>=l.version));for(let t=0;t<n.length;t+=1){const s=n[t],a=n.find((t=>t.version===s.version+1));if(a&&(s.blueprints||s.actionReports||s.catapults)){if(this.onlyBlueprint&&!s.blueprints)continue;if(this.onlyActionReport&&!s.actionReports)continue;if(this.onlyCatapult&&!s.catapults)continue;let t=0;if(e.level<s.nextLv){const a=U.ZP.LEVEL_BORDERS.find((t=>t.lv===s.nextLv));t=a?a.req-e.exp:0}o.details.push({base:s,next:a,requireEXP:t,blueprints:s.blueprints,actionReports:s.actionReports,catapults:s.catapults}),o.blueprints+=s.blueprints,o.actionReports+=s.actionReports,o.catapults+=s.catapults}}o.details.length&&s.push(o)}s.sort(((t,e)=>t.master.sort-e.master.sort)),this.reportPlans=s,this.detailDialog=!0},expandAll(){for(let t=0;t<this.reportPlans.length;t+=1)this.reportPlans[t].open=0},collapseAll(){for(let t=0;t<this.reportPlans.length;t+=1)this.reportPlans[t].open=-1}}}),X=q,W=s(3453),K=s.n(W),j=s(4562),z=s(9582),J=s(4886),Y=s(4061),G=s(9223),Q=s(255),tt=s(2348),et=s(400),st=s(1214),at=s(4324),it=s(5495),lt=s(2199),ot=s(9449),nt=s(7394),rt=s(8718),ct=s(9780),dt=s(2082),pt=(0,T.Z)(X,g,b,!1,null,"3e86a49d",null),ht=pt.exports;K()(pt,{VBtn:j.Z,VCard:z.Z,VCardActions:J.h7,VDialog:Y.Z,VDivider:G.Z,VExpansionPanel:Q.Z,VExpansionPanelContent:tt.Z,VExpansionPanelHeader:et.Z,VExpansionPanels:st.Z,VIcon:at.Z,VImg:it.Z,VRangeSlider:lt.Z,VSimpleTable:ot.Z,VSlideYReverseTransition:nt.V,VSpacer:rt.Z,VTextField:ct.Z,VTooltip:dt.Z});var ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("v-card",{staticClass:"my-2 pa-2"},[s("table",[s("thead",[s("tr",[s("td",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.è‰¦ç¨®")))]),s("td",[t._v(t._s(t.$t("Database.ç™»éŒ²è‰¦éšŠ")))]),s("td",[t._v(t._s(t.$t("Database.ç¾åœ¨é–²è¦§ä¸­ã®è‰¦éšŠ")))]),s("td",[t._v(t._s(t.$t("Database.å·®")))])])]),s("tbody",t._l(t.summaryTable,(function(e,a){return s("tr",{key:"summary_row"+a},[s("td",{staticClass:"text-left"},[t._v(t._s(t.isNotJapanese?t.$t("SType."+e.name):e.name))]),s("td",{class:{"win-td":e.isWin}},[t._v(t._s(e.data.sumExp))]),s("td",{class:{"win-td":e.isLose}},[t._v(t._s(e.data.tempSumExp))]),s("td",{class:{"win-sub":e.isWin,"lose-sub":e.isLose}},[t._v(t._s(e.data.sub))])])})),0)])]),s("div",{staticClass:"mt-5 d-flex flex-wrap"},t._l(t.types,(function(e,a){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:a,staticClass:"type-selector",class:{active:a===t.type},on:{click:function(e){return t.changeType(a)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeType(a)}}},[t._v(" "+t._s(t.isNotJapanese?t.$t("SType."+e.text):e.text)+" ")])})),0),s("v-card",{staticClass:"my-1"},[s("v-simple-table",{attrs:{"fixed-header":"",height:"70vh"},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.ç™»éŒ²è‰¦éšŠ")))]),s("th",{staticClass:"text-right"},[t._v("Lv")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.çµŒé¨“å€¤")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.è€ä¹…æ”¹ä¿®")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.å¯¾æ½œæ”¹ä¿®")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.é‹æ”¹ä¿®")))]),s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.ç¾åœ¨é–²è¦§ä¸­ã®è‰¦éšŠ")))]),s("th",{staticClass:"text-right"},[t._v("Lv")]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.çµŒé¨“å€¤")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.è€ä¹…æ”¹ä¿®")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.å¯¾æ½œæ”¹ä¿®")))]),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.é‹æ”¹ä¿®")))])])]),s("tbody",t._l(t.diffRow,(function(e,a){return s("tr",{key:"ship_row"+a},[e.stock1?[s("td",{staticClass:"text-left pl-0",class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[s("div",{staticClass:"ship-img-area"},[s("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.level))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.exp.toLocaleString()))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.hp||""))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.asw||""))]),s("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.luck||""))])]:[s("td",{staticClass:"none",attrs:{colspan:"6"}})],e.stock2?[s("td",{staticClass:"text-left pl-0",class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[s("div",{staticClass:"ship-img-area"},[s("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.level))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.exp.toLocaleString()))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.hp||""))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.asw||""))]),s("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.luck||""))])]:[s("td",{staticClass:"none",attrs:{colspan:"6"}})]],2)})),0)]},proxy:!0}])})],1)],1)},mt=[],vt=l.Z.extend({name:"CompareComponent",data:()=>({summaryTable:[],unsubscribe:void 0,diffRow:[],type:0,types:[]}),mounted(){for(let t=0;t<U.ZP.SHIP_TYPES_ALT2.length;t+=1){const e=U.ZP.SHIP_TYPES_ALT2[t];this.types.push({text:e.text,types:e.types})}this.analyze(),this.generateDiffRow(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&(this.analyze(),this.generateDiffRow())}))},watch:{isTempStockMode(t){t&&(this.analyze(),this.generateDiffRow())}},computed:{isTempStockMode(){return this.$store.getters.getExistsTempStock},isNotJapanese(){return"ja"!==this.$i18n.locale}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{changeType(t=0){this.type=t,this.generateDiffRow()},analyze(){const t=this.$store.state.ships,e=this.$store.state.shipStock,s=this.$store.state.tempShipStock,a=U.ZP.SHIP_TYPES_ALT2,i=[];let l=0,o=0;for(let r=0;r<a.length;r+=1){const n=a[r],c=t.filter((t=>n.types.includes(t.type))),d=c.map((t=>t.id)),p=e.filter((t=>d.includes(t.id))),h=[];for(let t=0;t<p.length;t+=1)h.push(p[t].exp);const u=k()(h);l+=u;const m=s.filter((t=>d.includes(t.id))),v=[];for(let t=0;t<m.length;t+=1)v.push(m[t].exp);const g=k()(v);o+=g;const b=u-g;i.push({name:n.text,data:{sumExp:u,sub:b,tempSumExp:g}})}this.summaryTable=[];for(let r=0;r<i.length;r+=1){const t=i[r];this.summaryTable.push({name:t.name,data:{sumExp:t.data.sumExp.toLocaleString(),sub:t.data.sub.toLocaleString(),tempSumExp:t.data.tempSumExp.toLocaleString()},isWin:t.data.sub>0,isLose:t.data.sub<0})}const n=l-o;this.summaryTable.push({name:"åˆè¨ˆ",data:{sumExp:l.toLocaleString(),sub:n.toLocaleString(),tempSumExp:o.toLocaleString()},isWin:n>0,isLose:n<0})},generateDiffRow(){const t=this.$store.state.ships,e=this.$store.state.shipStock,s=this.$store.state.tempShipStock,a=this.types[this.type]?this.types[this.type].types:[],i=t.concat().filter((t=>a.includes(t.type)));i.sort(((t,e)=>t.sort-e.sort)),this.diffRow=[];for(let l=0;l<i.length;l+=1){const{id:t}=i[l],a=e.filter((e=>e.id===t)),o=s.filter((e=>e.id===t));a.sort(((t,e)=>e.level!==t.level?e.level-t.level:e.exp-t.exp)),o.sort(((t,e)=>e.level!==t.level?e.level-t.level:e.exp-t.exp));const n=Math.max(a.length,o.length);for(let e=0;e<n;e+=1){const s=a[e],i=o[e];let l=!!s&&!i,n=!s&&!!i;s&&i&&(l=s.level>i.level,n=s.level<i.level);const r={id:t,isMore:l,isLess:n,stock1:s||void 0,stock2:i||void 0};this.diffRow.push(r)}}}}}),gt=vt,bt=s(6392),ft=s.n(bt),kt=s(7069),xt=(0,T.Z)(gt,ut,mt,!1,null,"9693cc2e",null),_t=xt.exports;K()(xt,{VCard:z.Z,VImg:it.Z,VSimpleTable:ot.Z}),ft()(xt,{Ripple:kt.Z});var Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"area-manager-container mt-3"},[s("div",{staticClass:"align-self-center pl-2 d-flex"},[s("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("Database.åç§°æ¤œç´¢"),dense:"",clearable:"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}})],1),s("div",[t.readonly?t._e():s("div",{staticClass:"d-flex my-2"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.resetAreaTag()}}},[t._v(t._s(t.$t("Database.ãŠæœ­ä¸€æ–‰è§£é™¤")))])],1)]),t._l(t.filteredAreaShipList,(function(e){return s("v-card",{key:"area_"+e.area,staticClass:"mb-2 px-2 py-3 area-card",attrs:{"data-area":e.area},on:{dragenter:function(e){return t.dragEnter(e)},dragleave:function(e){return t.dragLeave(e)},drop:function(e){return e.stopPropagation(),t.dropShip(e)},dragover:function(t){t.preventDefault()}}},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"area-banner"},[s("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.area+".webp",height:"55",width:"40"}})],1),s("v-btn",{staticClass:"ml-12",attrs:{color:"primary",disabled:t.disabledEdit},on:{click:function(s){return s.stopPropagation(),t.showShipList(e.area)}}},[t._v(" "+t._s(t.$t("Common.é…å‚™"))+" ")]),s("v-btn",{staticClass:"ml-3",attrs:{color:"secondary",disabled:t.disabledEdit},on:{click:function(s){return s.stopPropagation(),t.resetShipsClicked(e.area)}}},[t._v(" "+t._s(t.$t("Database.è§£æ•£"))+" ")])],1),e.headers.length>0?s("div",{staticClass:"py-1"}):t._e(),t._l(e.headers,(function(a){return s("div",{key:"type_"+a.text},[s("div",{staticClass:"type-divider mt-1"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("SType."+a.text)))]),s("div",{staticClass:"caption ml-1 text--secondary"},[t._v("("+t._s(a.ships.length)+")")]),s("div",{staticClass:"type-divider-border"})]),s("div",{staticClass:"d-flex flex-wrap"},t._l(a.ships,(function(a,i){return s("div",{key:"area_"+e.area+"_ship"+i,staticClass:"ship-container",class:{draggable:!t.disabledEdit},attrs:{draggable:!t.disabledEdit},on:{dragstart:function(e){return t.dragStart(a,e)},dragend:function(e){return t.dragEnd(e)},click:function(s){return s.stopPropagation(),t.clickedShip(e.area,a)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.clickedShip(e.area,a)}}},[s("div",{staticClass:"ship-img",on:{mouseenter:function(e){return t.bootTooltip(a,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(a,e)},blur:t.clearTooltip}},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+a.data.id+".png",height:"30",width:"120"}})],1),a.expand?s("div",{staticClass:"slot-ex-img"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"27",width:"27"}})],1):t._e()]),s("div",{staticClass:"caption"},[s("div",{staticClass:"ship-status"},[s("div",{staticClass:"align-self-center primary--text"},[t._v(" Lv "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.level))])]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(" "+t._s(t.$t("Common.é‹"))+" "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.luck))])])]),s("div",{staticClass:"ml-1 text-truncate ship-name"},[t._v(t._s(t.getShipName(a.data)))])])])})),0)])}))],2)})),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[s("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"ma-4"},[t.confirmShip?s("div",{staticClass:"d-flex mb-3"},[s("div",[s("v-img",{attrs:{src:"./img/ship/"+t.confirmShip.data.id+".png",height:"30",width:"120"}})],1),s("div",{staticClass:"caption"},[s("div",{staticClass:"ship-status"},[s("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(t.confirmShip.level))]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("Common.é‹"))+" "+t._s(t.confirmShip.luck))])]),s("div",{staticClass:"ml-1 text-truncate"},[t._v(t._s(t.getShipName(t.confirmShip.data)))])])]):t._e(),t.confirmShip?s("div",[t._v(t._s(t.$t("Database.æœ­ã‚’è§£é™¤ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ")))]):s("div",[t._v(t._s(t.$t("Database.è§£æ•£ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ")))])]),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[t.confirmShip?s("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.removeShip()}}},[t._v(t._s(t.$t("Database.è§£é™¤")))]):s("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetShips()}}},[t._v(t._s(t.$t("Database.è§£æ•£")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.æˆ»ã‚‹")))])],1)],1)],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("ship-tooltip",{model:{value:t.tooltipShip,callback:function(e){t.tooltipShip=e},expression:"tooltipShip"}})],1)],2)},yt=[],St=s(604),$t=s(8864),wt=s(2382),Dt=l.Z.extend({name:"AreaManager",components:{ShipList:St.Z,ShipTooltip:$t.Z},props:{readonly:{type:Boolean,required:!0}},data:()=>({searchWord:"",existStock:!1,areaShipList:[],unsubscribe:void 0,shipListDialog:!1,shipDialogWidth:1200,selectedArea:0,confirmDialog:!1,confirmShip:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new wt.Z,tooltipX:0,tooltipY:0,draggingShipId:0}),mounted(){this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&this.loadShipStock()})),this.loadShipStock()},watch:{isTempStockMode(){this.loadShipStock()}},computed:{isTempStockMode(){return this.$store.getters.getExistsTempStock},filteredAreaShipList(){if(this.searchWord){const t=this.searchWord,e=v()(this.areaShipList);for(let s=0;s<e.length;s+=1){const{headers:a}=e[s];for(let e=0;e<a.length;e+=1){const s=a[e];s.ships=s.ships.filter((e=>e.data.name.includes(t)))}e[s].headers=a.filter((t=>t.ships.length))}return e}return this.areaShipList},disabledEdit(){return!(this.existStock&&!this.readonly&&!this.searchWord)},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{loadShipStock(){this.areaShipList=[];const t=this.$store.state.areaCount;for(let a=0;a<t;a+=1){const t=[],e=U.ZP.SHIP_TYPES_ALT;for(let s=0;s<e.length;s+=1){const a=e[s];t.push({text:a.text,types:a.types,ships:[]})}this.areaShipList.push({area:a+1,headers:t})}const e=this.$store.state.ships;let s=this.$store.state.shipStock;this.existStock=s.length>0,this.readonly&&(s=this.$store.state.tempShipStock);for(let a=0;a<s.length;a+=1){const t=s[a];if(t.area<=0)continue;const i=e.find((e=>e.id===t.id));if(!i)continue;const l=this.areaShipList[t.area-1];if(l){const e=l.headers.find((t=>t.types.includes(i.type)));if(e){const s={data:i,hp:(t.level>99?i.hp2:i.hp)+t.improvement.hp,level:t.level,luck:i.luck+t.improvement.luck,expand:t.releaseExpand,impHP:t.improvement.hp,impASW:t.improvement.asw,impLuck:t.improvement.luck,unique:t.uniqueId};e.ships.push(s)}}}for(let a=0;a<this.areaShipList.length;a+=1){const t=this.areaShipList[a].headers.filter((t=>t.ships.length));for(let e=0;e<t.length;e+=1)t[e].ships.sort(((t,e)=>t.level!==e.level?e.level-t.level:t.data.sort-e.data.sort));this.areaShipList[a].headers=t}},async showShipList(t){this.selectedArea=t,await(this.shipListDialog=!0);const e=this.$refs.shipList;e.disabledStockOnlyChange=!0,e.isStockOnly=!0,e.initialize(!1)},putShip(t){const e=this.$store.state.shipStock,s={hp:t.hp-(t.level>99?t.ship.hp2:t.ship.hp),asw:t.asw,luck:t.luck-t.ship.luck},a=e.filter((e=>e.id===t.ship.id&&e.level===t.level&&e.area===t.area&&e.releaseExpand===t.expanded&&e.improvement.hp===s.hp&&e.improvement.asw===s.asw&&e.improvement.luck===s.luck));a.length&&(a.sort(((t,e)=>t.area-e.area)),a[0].area=this.selectedArea,this.$store.dispatch("updateShipStock",e)),this.shipListDialog=!1},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},clickedShip(t,e){this.disabledEdit||(this.clearTooltip(),this.confirmShip=e,this.selectedArea=t,this.confirmDialog=!0)},removeShip(){const t=this.selectedArea,e=this.confirmShip;if(t<=0||!e)return;const s=this.$store.state.shipStock,a=s.find((s=>s.id===e.data.id&&s.level===e.level&&s.area===t&&s.releaseExpand===e.expand&&s.improvement.hp===e.impHP&&s.improvement.asw===e.impASW&&s.improvement.luck===e.impLuck));a&&(a.area=0,this.$store.dispatch("updateShipStock",s)),this.confirmDialog=!1},resetShipsClicked(t){this.confirmShip=void 0,this.selectedArea=t,this.confirmDialog=!0},resetShips(){const t=this.selectedArea,e=this.$store.state.shipStock,s=e.filter((e=>e.area===t));for(let a=0;a<s.length;a+=1)s[a].area=0;this.$store.dispatch("updateShipStock",e),this.confirmDialog=!1},resetAreaTag(){const t=this.$store.state.shipStock;for(let e=0;e<t.length;e+=1)t[e].area=0;this.$store.dispatch("updateShipStock",t)},getShipName(t){if(this.needTrans){const e=F.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t.name?t.name:""},bootTooltip(t,e){const s=this.$store.state.siteSetting;s.disabledShipTooltip||(window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=e.clientX,this.tooltipY=e.clientY;const s=new wt.Z({master:t.data,level:t.level,hp:t.hp,luck:t.luck,asw:t.impASW});this.tooltipShip=s,this.enabledTooltip=!0}),Math.max(s.popUpCount,10)))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},dragStart(t,e){const s=e.target;if(!s||!s.classList||!s.classList.contains("ship-container")||!s.draggable)return;s.style.opacity="0.4",s.id="dragging-item";const a=s.closest(".area-card");a&&a.classList.add("dragging-parent");const i=document.getElementsByClassName("area-card");for(let l=0;l<i.length;l+=1)i[l].classList.add("dragging");this.clearTooltip(),this.draggingShipId=t.unique},dragLeave(t){t.target.style.boxShadow=""},dragEnter(t){const e=document.getElementById("dragging-item"),s=t.target;e&&e.classList.contains("ship-container")&&s&&s.classList.contains("area-card")&&!s.classList.contains("dragging-parent")&&(s.style.boxShadow="inset 0 0 80px rgba(20, 160, 255, 0.6)")},dropShip(t){t.preventDefault();const e=document.getElementById("dragging-item");if(!e||!e.classList.contains("ship-container"))return;const s=t.target;s.style.boxShadow="";const a=this.$store.state.shipStock,i=a.filter((t=>t.uniqueId===this.draggingShipId));i.length&&s.dataset.area&&i[0].area!==+s.dataset.area&&(i.sort(((t,e)=>t.area-e.area)),i[0].area=+s.dataset.area,this.$store.dispatch("updateShipStock",a))},dragEnd(t){const e=document.getElementsByClassName("area-card");for(let i=0;i<e.length;i+=1)e[i].classList.remove("dragging","dragging-parent");const s=document.getElementById("dragging-item");if(!s||!s.draggable||!s.classList.contains("ship-container")){const e=t.target;return void(e&&e.classList.contains("ship-container")&&(e.style.opacity="1",e.id=""))}const a=t.target;a.style.opacity="1",a.id=""}}}),Lt=Dt,Rt=(0,T.Z)(Lt,Ct,yt,!1,null,"1b43c8d4",null),Tt=Rt.exports;K()(Rt,{VBtn:j.Z,VCard:z.Z,VDialog:Y.Z,VDivider:G.Z,VImg:it.Z,VTextField:ct.Z,VTooltip:dt.Z});var It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"ma-2 pa-3"},[s("div",{staticClass:"my-1 d-flex align-center flex-wrap"},[s("div",{staticClass:"select-item"},[s("v-select",{attrs:{items:t.viewStatuses,"item-text":function(e){return""+t.$t("Common."+e.text)},"hide-details":"",dense:"","return-object":"",outlined:"",label:t.$t("Database.è¨ˆç®—ã—ãŸã„é …ç›®")},on:{change:t.setShipList},model:{value:t.viewStatus,callback:function(e){t.viewStatus=e},expression:"viewStatus"}})],1),s("div",[s("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-icon",t._g(t._b({staticClass:"ml-1"},"v-icon",i,!1),a),[t._v("mdi-help-circle-outline")])]}}])},[s("div",[t._v(t._s(t.$t("Database.é¸æŠžã—ãŸé …ç›®ã¨ã€æ¬¡ã«ãã®é …ç›®ãŒ1ç¹°ã‚Šä¸ŠãŒã‚‹ã®ã¯ä½•Lvã§ã‚ã‚‹ã‹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚")))])])],1),t.luckMode?t._e():s("div",{staticClass:"ml-6"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.å¿…è¦çµŒé¨“å€¤è¡¨ç¤º")},on:{change:t.setShipList},model:{value:t.showEXP,callback:function(e){t.showEXP=e},expression:"showEXP"}})],1),t.showEXP?t._e():s("div",{staticClass:"ml-6"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Extra.å·®åˆ†è¡¨ç¤º")},model:{value:t.showDiff,callback:function(e){t.showDiff=e},expression:"showDiff"}})],1),t.enabledLuckMode?s("div",{staticClass:"ml-6"},[s("v-checkbox",{attrs:{dense:"","hide-details":"",label:t.$t("Database.é‹æ”¹ä¿®ãƒ¢ãƒ¼ãƒ‰")},on:{change:t.setShipList},model:{value:t.luckMode,callback:function(e){t.luckMode=e},expression:"luckMode"}})],1):t._e(),t.enabledLuckMode?s("div",{staticClass:"ml-1 mt-1"},[s("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",i,!1),a),[t._v("mdi-help-circle-outline")])]}}],null,!1,722434280)},[s("div",[t._v(t._s(t.$t("Database.Lvã¯ãã®ã¾ã¾ã«ã€é‹ã®æ”¹ä¿®ã«ã‚ˆã£ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ä¸Šæ˜‡ã•ã›ã‚ˆã†ã¨ã—ãŸå ´åˆã®çµæžœã‚’è¨ˆç®—ã—ã¾ã™ã€‚")))])])],1):t._e()]),s("div",{staticClass:"d-flex flex-wrap align-center mt-3"},[s("div",{staticClass:"text-field"},[s("v-text-field",{attrs:{label:t.$t("Database.åç§°æ¤œç´¢"),placeholder:t.$t("Database.ç©ºç™½åŒºåˆ‡ã‚Šã§è¤‡æ•°æŒ‡å®šå¯"),clearable:"","hide-details":"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{input:function(e){return t.setShipList()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),s("div",[s("v-btn",{attrs:{text:"",disabled:!!t.keyword},on:{click:function(e){t.filterDialog=!0}}},[s("v-icon",[t._v("mdi-filter-variant")]),t._v(t._s(t.$t("Common.çµžã‚Šè¾¼ã¿")))],1)],1),t.viewStatus?s("div",{staticClass:"ml-auto"},[s("v-text-field",{attrs:{type:"number",dense:"",outlined:"","hide-details":"",label:t.$t("Database.ä»»æ„"),min:"0",max:"200"},on:{input:t.setShipList},model:{value:t.viewStatus.manual,callback:function(e){t.$set(t.viewStatus,"manual",t._n(e))},expression:"viewStatus.manual"}})],1):t._e()]),s("v-divider"),s("v-data-table",{staticClass:"ship-list",attrs:{dense:"","fixed-header":"",height:"50vh","multi-sort":"",page:t.page,headers:t.headers,items:t.listData,"hide-default-footer":"","footer-props":{showFirstLastPage:!0,"items-per-page-options":[30]}},on:{"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"header.name",fn:function(){},proxy:!0},{key:"header.luck",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Common."+s.text)))]}},{key:"header.target",fn:function(e){var s=e.header;return[t._v(t._s(t.targetText(s.text)))]}},{key:"header.target1",fn:function(e){var s=e.header;return[t._v(t._s(t.targetText(s.text))+" +1")]}},{key:"header.target2",fn:function(e){var s=e.header;return[t._v(t._s(t.targetText(s.text))+" +2")]}},{key:"header.target3",fn:function(e){var s=e.header;return[t._v(t._s(t.targetText(s.text))+" +3")]}},{key:"header.manual",fn:function(e){var s=e.header;return[t._v(t._s(t.$t("Database."+s.text))+"("+t._s(t.viewStatus?t.viewStatus.manual:"")+")")]}},{key:"header.nextExp",fn:function(){return[t._v("Next EXP")]},proxy:!0},{key:"item",fn:function(e){var a=e.item;return[s("tr",{class:{maximum:a.isMaximum},on:{mouseenter:function(e){return t.bootTooltip(a,e)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[s("td",{staticClass:"px-0 py-1"},[s("div",{staticClass:"d-none d-md-flex align-center"},[s("div",{staticClass:"ship-img"},[s("v-img",{attrs:{src:"./img/ship/"+a.master.id+".png",height:"35",width:"140"}}),a.stock.releaseExpand?s("div",{staticClass:"slot-ex-img"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"30",width:"30"}})],1):t._e()],1),s("div",{staticClass:"ship-name text-truncate",attrs:{title:a.master.name}},[t._v(t._s(t.getShipName(a.master)))])]),s("div",{staticClass:"d-flex d-md-none align-center"},[s("div",{staticClass:"ship-img"},[s("v-img",{attrs:{src:"./img/ship/"+a.master.id+".png",height:"30",width:"120"}}),a.stock.releaseExpand?s("div",{staticClass:"slot-ex-img min"},[s("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"25",width:"25"}})],1):t._e()],1)])]),s("td",{staticClass:"text-right"},[t._v(t._s(a.stock.level))]),s("td",{staticClass:"text-right"},[t._v(t._s(a.luck))]),s("td",{staticClass:"text-right"},[t._v(t._s(a.target?a.target:"-"))]),s("td",{staticClass:"result-td"},[s("div",[t.isLuckResult?[s("span",{staticClass:"luck-caption"},[t._v(t._s(t.$t("Common.é‹")))]),s("span",{class:{"red--text":a.target1>a.master.maxLuck}},[t._v(t._s(a.target1))])]:t.showEXP?[s("span",{class:{"red--text":a.target1<0}},[t._v(t._s(a.target1>0?a.target1.toLocaleString():"-"))])]:[s("span",{staticClass:"lv-caption"},[t._v("Lv.")]),s("span",{class:{"red--text":a.target1>t.maxLevel}},[t._v(t._s(a.target1))])]],2),t.showDiff&&!t.showEXP?s("div",{staticClass:"diff"},[t._v("+"+t._s(a.target1-a.diffBase))]):t._e()]),s("td",{staticClass:"result-td"},[s("div",[t.isLuckResult?[s("span",{staticClass:"luck-caption"},[t._v(t._s(t.$t("Common.é‹")))]),s("span",{class:{"red--text":a.target2>a.master.maxLuck}},[t._v(t._s(a.target2))])]:t.showEXP?[s("span",{class:{"red--text":a.target2<0}},[t._v(t._s(a.target2>0?a.target2.toLocaleString():"-"))])]:[s("span",{staticClass:"lv-caption"},[t._v("Lv.")]),s("span",{class:{"red--text":a.target2>t.maxLevel}},[t._v(t._s(a.target2))])]],2),t.showDiff&&!t.showEXP?s("div",{staticClass:"diff"},[t._v("+"+t._s(a.target2-a.diffBase))]):t._e()]),s("td",{staticClass:"result-td"},[s("div",[t.isLuckResult?[s("span",{staticClass:"luck-caption"},[t._v(t._s(t.$t("Common.é‹")))]),s("span",{class:{"red--text":a.target3>a.master.maxLuck}},[t._v(t._s(a.target3))])]:t.showEXP?[s("span",{class:{"red--text":a.target3<0}},[t._v(t._s(a.target3>0?a.target3.toLocaleString():"-"))])]:[s("span",{staticClass:"lv-caption"},[t._v("Lv.")]),s("span",{class:{"red--text":a.target3>t.maxLevel}},[t._v(t._s(a.target3))])]],2),t.showDiff&&!t.showEXP?s("div",{staticClass:"diff"},[t._v("+"+t._s(a.target3-a.diffBase))]):t._e()]),s("td",{staticClass:"result-td"},[s("div",[t.isLuckResult?[s("span",{staticClass:"luck-caption"},[t._v(t._s(t.$t("Common.é‹")))]),s("span",{class:{"red--text":a.manual>a.master.maxLuck}},[t._v(t._s(a.manual))])]:t.showEXP?[s("span",{class:{"red--text":a.manual<0}},[t._v(t._s(a.manual>0?a.manual.toLocaleString():"-"))])]:[s("span",{staticClass:"lv-caption"},[t._v("Lv.")]),s("span",{class:{"red--text":a.manual>t.maxLevel}},[t._v(t._s(a.manual))])]],2),t.showDiff&&!t.showEXP?s("div",{staticClass:"diff"},[t._v(t._s(a.manualDiffString))]):t._e()]),s("td",{staticClass:"result-td"},[t._v(t._s(t.isLuckResult||a.isMaximum?"-":a.nextExp.toLocaleString()))])])]}}],null,!0)}),s("v-divider"),s("div",{staticClass:"mt-3"},[s("v-pagination",{attrs:{length:t.pageLength,"total-visible":"9"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),s("v-dialog",{attrs:{width:"740"},on:{input:t.toggleFilterDialog},model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[s("v-card",{staticClass:"px-3 pt-2 pb-3"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"align-self-center mx-2"},[s("v-icon",[t._v("mdi-filter-variant")])],1),s("div",{staticClass:"align-self-center"},[t._v(t._s(t.$t("Common.çµžã‚Šè¾¼ã¿")))]),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.closeFilterDialog()}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-divider"),s("div",{staticClass:"ma-4"},[s("v-btn-toggle",{staticClass:"flex-wrap",attrs:{mandatory:"",color:"primary"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.types,(function(e,a){return s("v-btn",{key:a,attrs:{value:a}},[t._v(" "+t._s(t.isNotJapanese?t.$t("SType."+e.text):e.text)+" ")])})),1),s("div",{staticClass:"d-flex mt-10"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lvä¸‹é™"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:t.maxLevel,"hide-details":""},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.Lvä¸Šé™"),type:"number",max:"200",min:t.levelRange[0],dense:"","hide-details":""},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),s("div",{staticClass:"d-flex mt-10"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.é‹ä¸‹é™"),type:"number",max:t.luckRange[1],min:"1",dense:"","hide-details":""},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,"string"===typeof e?e.trim():e)},expression:"luckRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.é‹ä¸Šé™"),type:"number",max:"200",min:t.luckRange[0],dense:"","hide-details":""},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,"string"===typeof e?e.trim():e)},expression:"luckRange[1]"}})],1)],1),s("div",{staticClass:"d-flex mt-3"},[s("v-checkbox",{attrs:{label:t.$t("Fleet.æœ€çµ‚æ”¹é€ ")},model:{value:t.isFinalOnly,callback:function(e){t.isFinalOnly=e},expression:"isFinalOnly"}})],1),s("div",{staticClass:"d-flex"},[s("v-checkbox",{attrs:{label:t.$t("Database.æˆé•·é™ç•Œã«åˆ°é”ã—ãŸè‰¦å¨˜ã‚’çœç•¥")},model:{value:t.enabledOnly,callback:function(e){t.enabledOnly=e},expression:"enabledOnly"}})],1),s("div",[s("v-checkbox",{attrs:{label:t.$t("Fleet.ãŠæ°—ã«å…¥ã‚Š")},model:{value:t.onlyBookmarked,callback:function(e){t.onlyBookmarked=e},expression:"onlyBookmarked"}})],1)],1),s("v-divider",{staticClass:"my-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.closeFilterDialog()}}},[t._v(t._s(t.$t("Common.é–‰ã˜ã‚‹")))])],1)],1)],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("ship-tooltip",{attrs:{value:t.tooltipShip}})],1)],1)},Zt=[],Pt=s(6770),At=l.Z.extend({name:"StatusUpLineList",components:{ShipTooltip:$t.Z},data:()=>({all:[],readOnly:!1,filterDialog:!1,keyword:"",isFinalOnly:!0,headers:[{text:"è‰¦å¨˜å",value:"name",sortable:!1},{text:"Lv",align:"end",value:"stock.level"},{text:"é‹",align:"end",value:"luck"},{text:"é …ç›®",align:"end",value:"target"},{text:"é …ç›®1",align:"end",value:"target1"},{text:"é …ç›®2",align:"end",value:"target2",sortable:!1},{text:"é …ç›®3",align:"end",value:"target3",sortable:!1},{text:"ä»»æ„",align:"end",value:"manual"},{text:"next",align:"end",value:"nextExp"}],viewStatus:void 0,viewStatuses:[{text:"å¯¾æ½œ",value:"asw",manual:85},{text:"ç´¢æ•µ",value:"LoS",manual:80},{text:"å›žé¿",value:"avoid",manual:80},{text:"å‘½ä¸­é …",value:"acc",manual:30},{text:"CIé …",value:"ci",manual:40}],enabledOnly:!1,onlyBookmarked:!1,listData:[],type:5,page:1,types:[],luckMode:!1,showDiff:!0,showEXP:!1,unsubscribe:void 0,maxLevel:U.ZP.MAX_LEVEL,levelRange:[1,U.ZP.MAX_LEVEL],luckRange:[1,200],enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new wt.Z,tooltipX:0,tooltipY:0}),mounted(){for(let t=0;t<U.ZP.SHIP_TYPES_ALT2.length;t+=1){const e=U.ZP.SHIP_TYPES_ALT2[t];this.types.push({text:e.text,types:e.types})}this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"===t.type&&this.setShipList()})),this.viewStatus=this.viewStatuses[0],this.setShipList()},watch:{isTempStockMode(t){this.readOnly=!!t}},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese(){return"ja"!==this.$i18n.locale},isTempStockMode(){return this.$store.getters.getExistsTempStock},enabledLuckMode(){return!!this.viewStatus&&("ci"===this.viewStatus.value||"acc"===this.viewStatus.value)},targetText(){return()=>this.viewStatus?`${this.$t(`Common.${this.viewStatus.text}`)}`:""},pageLength(){return Math.ceil(this.listData.length/30)},isLuckResult(){return this.enabledLuckMode&&this.luckMode}},beforeDestroy(){},methods:{changeType(t=0){this.type=t,this.setShipList()},setShipList(){this.listData=[];const t=this.$store.state.ships;let e=this.$store.state.shipStock;this.readOnly&&(e=this.$store.state.tempShipStock);const s=this.types[this.type]?this.types[this.type].types:[],a=[],i=this.viewStatus&&this.viewStatus.value,l=this.viewStatus&&this.viewStatus.manual,o=this.enabledLuckMode&&this.luckMode,n=this.levelRange[1],r=this.levelRange[0],c=this.luckRange[1],d=this.luckRange[0],p=(this.keyword??"").trim().toUpperCase(),h=p.split(/\s+/),u=this.$store.state.siteSetting,m=u.bookmarkedShipIds,v=Math.min(Math.max(l??0,1),200);for(let b=0;b<e.length;b+=1){const l=e[b],u=t.find((t=>t.id===l.id));if(!u)continue;const g=u.luck+l.improvement.luck,f=l.improvement.hp+(l.level>99?u.hp2:u.hp),k=wt.Z.getStatusFromLevel(l.level,u.maxAsw,u.minAsw)+l.improvement.asw;if(p){if(h.length<=1&&u.name.toUpperCase().indexOf(p)<0)continue;if(h.length){let t=!1;for(let e=0;e<h.length;e+=1){const s=h[e].trim();if(s&&u.name.toUpperCase().indexOf(s)>=0){t=!0;break}}if(!t)continue}}else{if(!s.includes(u.type))continue;if(this.isFinalOnly&&!u.isFinal)continue;if(n<l.level||r>l.level)continue;if(c<g||d>g)continue;if(this.onlyBookmarked&&!m.includes(u.id))continue}const x={stock:l,master:u,hp:f,luck:g,asw:k,diffBase:l.level,target:0,target1:0,target2:0,target3:0,manual:0,manualDiffString:"",isMaximum:!1,nextExp:0};if("asw"===i||"LoS"===i||"avoid"===i){let t=u.minAsw,e=u.maxAsw;"avoid"===i?(t=u.minAvoid,e=u.maxAvoid):"LoS"===i&&(t=u.minScout,e=u.maxScout);const s="asw"===i?l.improvement.asw:0,a=wt.Z.getStatusFromLevel(l.level,e,t);x.target=a+s,x.target1=wt.Z.getRequiredLevel(a+1,e,t),x.target2=wt.Z.getRequiredLevel(a+2,e,t),x.target3=wt.Z.getRequiredLevel(a+3,e,t),x.manual=wt.Z.getRequiredLevel(v-s,e,t),x.isMaximum=x.target1>this.maxLevel}else o?(x.diffBase=x.luck,"ci"===i?(x.target=wt.Z.getCIValue(l.level,x.luck),x.target1=wt.Z.getRequiredLuckCI(x.target+1,x.stock.level),x.target2=wt.Z.getRequiredLuckCI(x.target+2,x.stock.level),x.target3=wt.Z.getRequiredLuckCI(x.target+3,x.stock.level),x.manual=wt.Z.getRequiredLuckCI(v,x.stock.level)):"acc"===i&&(x.target=wt.Z.getAccuracyValue(l.level,x.luck),x.target1=wt.Z.getRequiredLuckAccuracy(x.target+1,x.stock.level),x.target2=wt.Z.getRequiredLuckAccuracy(x.target+2,x.stock.level),x.target3=wt.Z.getRequiredLuckAccuracy(x.target+3,x.stock.level),x.manual=wt.Z.getRequiredLuckAccuracy(v,x.stock.level)),x.isMaximum=x.target1>x.master.maxLuck):"ci"===i?(x.target=wt.Z.getCIValue(l.level,x.luck),x.target1=wt.Z.getRequiredLevelCI(x.target+1,x.luck),x.target2=wt.Z.getRequiredLevelCI(x.target+2,x.luck),x.target3=wt.Z.getRequiredLevelCI(x.target+3,x.luck),x.manual=wt.Z.getRequiredLevelCI(v,x.luck),x.isMaximum=x.target1>this.maxLevel):"acc"===i&&(x.target=wt.Z.getAccuracyValue(l.level,x.luck),x.target1=wt.Z.getRequiredLevelAccuracy(x.target+1,x.luck),x.target2=wt.Z.getRequiredLevelAccuracy(x.target+2,x.luck),x.target3=wt.Z.getRequiredLevelAccuracy(x.target+3,x.luck),x.manual=wt.Z.getRequiredLevelAccuracy(v,x.luck),x.isMaximum=x.target1>this.maxLevel);if(!o&&!x.isMaximum){const t=U.ZP.LEVEL_BORDERS.find((t=>t.lv===x.target1));t&&(x.nextExp=t.req-l.exp)}if(!o&&this.showEXP){const t=U.ZP.LEVEL_BORDERS.find((t=>t.lv===x.target1));x.target1=t?t.req-l.exp:-1;const e=U.ZP.LEVEL_BORDERS.find((t=>t.lv===x.target2));x.target2=e?e.req-l.exp:-1;const s=U.ZP.LEVEL_BORDERS.find((t=>t.lv===x.target3));x.target3=s?s.req-l.exp:-1;const a=U.ZP.LEVEL_BORDERS.find((t=>t.lv===x.manual));x.manual=a?a.req-l.exp:-1}if(!this.enabledOnly||!x.isMaximum){const t=x.manual-x.diffBase;x.manualDiffString=t<0?"-"+-t:`+${t}`,a.push(x)}}a.sort(((t,e)=>t.master.sort!==e.master.sort?t.master.sort-e.master.sort:e.stock.level-t.stock.level));const g=Math.ceil(a.length/30);this.page=this.page>g?g:this.page,this.page=this.page<1&&g>0?1:this.page,this.listData=a},translate(t){return t?`${this.$t(t)}`:""},getShipName(t){if(this.needTrans){const e=F.Z.getSuffix(t);return`${e.map((t=>this.translate(t))).join("")}`}return t.name?t.name:""},getShipTypeName(t){if(this.isNotJapanese){const e=Pt.Z.getShipTypeNameArray(t);return`${e.map((t=>this.translate(t))).join("")}`}return t},closeFilterDialog(){this.filterDialog=!1,this.toggleFilterDialog()},toggleFilterDialog(){this.filterDialog||this.setShipList()},bootTooltip(t,e){const s=this.$store.state.siteSetting;s.disabledShipTooltip||(window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=e.clientX,this.tooltipY=e.clientY;const s=new wt.Z({master:t.master,level:t.stock.level,hp:t.hp,luck:t.luck,asw:t.asw});this.tooltipShip=s,this.enabledTooltip=!0}),Math.max(s.popUpCount,10)))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Et=At,Vt=s(2016),Ht=s(3486),Mt=s(5151),Nt=s(2240),Bt=s(6746),Ut=s(6878),Ft=s(7756),Ot=s(6669),qt=s(7678),Xt=(0,qt.Z)(Ut.Z,(0,Ft.Z)({onVisible:["init"]}),Ot.Z).extend({name:"v-pagination",directives:{Resize:Bt.Z},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const s=e%2===0?1:0,a=Math.floor(e/2),i=this.length-a+1+s;if(this.value>a&&this.value<i){const t=1,e=this.length,i=this.value-a+2,l=this.value+a-2-s,o=i-1===t+1?2:"...",n=l+1===e-1?l+1:"...";return[1,o,...this.range(i,l),n,this.length]}if(this.value===a){const t=this.value+a-1-s;return[...this.range(1,t),"...",this.length]}if(this.value===i){const t=this.value-a+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,a),"...",...this.range(i,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((()=>this.selected=this.value),100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const s=[];t=t>0?t:1;for(let a=t;a<=e;a++)s.push(a);return s},genIcon(t,e,s,a,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":s},attrs:{disabled:s,type:"button","aria-label":i},on:s?{}:{click:a}},[t(Nt.Z,[e])])])},genItem(t,e){const s=e===this.value&&(this.color||"primary"),a=e===this.value,i=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(s,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(i,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map(((e,s)=>t("li",{key:s},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)])))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),Wt=s(9481),Kt=(0,T.Z)(Et,It,Zt,!1,null,"29723925",null),jt=Kt.exports;K()(Kt,{VBtn:j.Z,VBtnToggle:Vt.Z,VCard:z.Z,VCheckbox:Ht.Z,VDataTable:Mt.Z,VDialog:Y.Z,VDivider:G.Z,VIcon:at.Z,VImg:it.Z,VPagination:Xt,VRangeSlider:lt.Z,VSelect:Wt.Z,VSpacer:rt.Z,VTextField:ct.Z,VTooltip:dt.Z});var zt=s(2063),Jt=s(3631),Yt=s(5462),Gt=l.Z.extend({name:"ShipsComponent",components:{Analytics:ht,Compare:_t,ShipTooltip:$t.Z,AreaManager:Tt,StatusUpLineList:jt,ManualCheckbox:Yt.Z},data:()=>({all:[],filteredShips:[],viewShips:[],shipStock:[],page:1,isAvoidSpoiler:!0,filterDialog:!1,searchWord:"",onlyNoStock:!1,onlyReleaseExSlot:!1,withoutReleaseExSlot:!1,isDaihatsu:!1,isNotDaihatsu:!1,isKamisha:!1,isNotKamisha:!1,onlyBookmarked:!1,levelRange:[1,U.ZP.MAX_LEVEL],luckRange:[1,200],luckImpRange:[0,100],aswRange:[0,150],aswImpRange:[0,9],okDaihatsu:[],okKamisha:[],addHP0:!0,addHP1:!0,addHP2:!0,HPIs4n1:!0,HPIs4n2:!0,HPIs4n3:!0,HPIs4n:!0,includeFast:!0,includeSlow:!0,types:[],nationalities:[{text:"æ—¥æœ¬",value:0,filter:[],isChecked:!0},{text:"ã‚¢ãƒ¡ãƒªã‚«",value:1,filter:U.ZP.USA,isChecked:!0},{text:"ã‚¤ã‚¿ãƒªã‚¢",value:2,filter:U.ZP.ITA,isChecked:!0},{text:"ã‚¤ã‚®ãƒªã‚¹",value:3,filter:U.ZP.GBR,isChecked:!0},{text:"ãƒ‰ã‚¤ãƒ„",value:4,filter:U.ZP.DEU,isChecked:!0},{text:"ãƒ•ãƒ©ãƒ³ã‚¹",value:5,filter:U.ZP.FRA,isChecked:!0},{text:"ã‚½é€£",value:6,filter:U.ZP.RUS,isChecked:!0},{text:"ãã®ä»–",value:7,filter:U.ZP.AUS.concat(U.ZP.SWE).concat(U.ZP.NLD),isChecked:!0}],editDialog:!1,editRow:{},versionButtons:[],version:0,editLuck:0,maxAreas:0,confirmDialog:!1,unsubscribe:void 0,btnPushed:!1,allCount:0,modeTable:!0,selectedArea:[],visibleNoArea:!0,readOnly:!1,tab:"list",headers:[{text:"è‰¦å¨˜å",value:"name",sortable:!1},{text:"Lv",align:"end",value:"level"},{text:"è€ä¹…",align:"end",value:"hp"},{text:"é‹",align:"end",value:"luck"},{text:"é‹æ”¹ä¿®",align:"end",value:"impLuck"},{text:"å¯¾æ½œ",align:"end",value:"asw"},{text:"ä»»æ„",align:"end",value:"manualValue"},{text:"å‘½ä¸­é …",align:"end",value:"accuracy"},{text:"å›žé¿é …",align:"end",value:"avoid"},{text:"CIé …",align:"end",value:"ci"}],enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new wt.Z,tooltipX:0,tooltipY:0,maxLevel:U.ZP.MAX_LEVEL,manualValue:"fire",manualValues:[{text:"ç«åŠ›",value:"fire"},{text:"é›·è£…",value:"torpedo"},{text:"å¤œæˆ¦ç«åŠ›",value:"nightBattleFirePower"},{text:"å¯¾ç©º",value:"antiAir"},{text:"è£…ç”²",value:"armor"},{text:"ç´¢æ•µ",value:"scout"},{text:"å›žé¿",value:"avoid"},{text:"ç‡ƒæ–™",value:"fuel"},{text:"å¼¾è–¬",value:"ammo"},{text:"å°„ç¨‹",value:"range"}]}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setShipStock"===t.type&&(this.shipStock=e.shipStock,this.masterFilter(),this.editDialog=!1)}))},watch:{completed(t){t&&(this.all=this.$store.state.ships,this.initialize())},isTempStockMode(t){this.readOnly=!!t,this.initialize()}},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock},pageLength(){return Math.ceil(this.viewShips.length/100)},minLevel(){const t=this.versionButtons[this.version];if(!t||t.beforeId<=0||"å±±åŸŽæ”¹äºŒ"===t.name)return 1;const e=this.all.find((e=>e.id===t.beforeId));return e?e.nextLv:1},altViewShips(){const t=this.viewShips;if(!t.length)return[];const e=[];for(let i=0;i<t.length;i+=1){const s=t[i],a=e.find((t=>t.master.id===s.ship.id));a?(a.count+=1,a.detail.push(s)):e.push({master:s.ship,count:s.count,detail:[s]})}const s=U.ZP.SHIP_TYPES_ALT_INFO,a=[];for(let i=0;i<s.length;i+=1){const t=s[i],l=e.filter((e=>e.master.type2===t.id));if(l.length){const e=u()(l,(t=>t.master.originalId)),s=[];Object.keys(e).forEach((t=>{const a=e[t];a.sort(((t,e)=>e.master.version-t.master.version)),s.push(a)})),s.sort(((t,e)=>{const s=p()(t.map((t=>t.master.sort))),a=p()(e.map((t=>t.master.sort)));return(s||0)-(a||0)})),a.push({typeName:t.name,rows:s})}}return a},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese(){return"ja"!==this.$i18n.locale},translatedShipTypes(){const t=[];for(let e=0;e<this.types.length;e+=1){const s=this.types[e];t.push({text:`${this.$t(`SType.${s.text}`)}`,value:s.value})}return t},manualColumnText(){if(this.manualValue){const t=this.manualValues.find((t=>t.value===this.manualValue));return t?`${this.$t(`Common.${t.text}`)}`:""}return""},isFav(){const t=this.$store.state.siteSetting;return this.editRow&&this.editRow.ship&&t.bookmarkedShipIds.includes(this.editRow.ship.id)}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initialize(){this.all=this.$store.state.ships,this.shipStock=this.$store.state.shipStock,this.maxAreas=this.$store.state.areaCount,this.readOnly&&(this.shipStock=this.$store.state.tempShipStock);const t=this.$store.state.items.find((t=>68===t.id)),e=this.$store.state.items.find((t=>167===t.id));for(let a=0;a<this.all.length;a+=1){const s=this.all[a];Jt.Z.isValidItem(s,t)&&this.okDaihatsu.push(s.id),Jt.Z.isValidItem(s,e)&&this.okKamisha.push(s.id)}const s=U.ZP.SHIP_TYPES_ALT;this.types=[];for(let a=0;a<s.length;a+=1)this.types.push({text:s[a].text,value:a,isChecked:!0});if(this.completed){const t=this.$store.state.siteSetting;this.isAvoidSpoiler=t.isAvoidSpoiler,this.changeViewMode(t.viewTableMode)}this.selectedArea=[];for(let a=1;a<=this.maxAreas;a+=1)this.selectedArea.push(a);this.masterFilter()},toggleDaihatsuFilter(){this.isDaihatsu?(this.isDaihatsu=!1,this.isNotDaihatsu=!0):this.isNotDaihatsu?this.isNotDaihatsu=!1:this.isDaihatsu=!0},toggleTankFilter(){this.isKamisha?(this.isKamisha=!1,this.isNotKamisha=!0):this.isNotKamisha?this.isNotKamisha=!1:this.isKamisha=!0},toggleExSlotFilter(){this.onlyReleaseExSlot?(this.onlyReleaseExSlot=!1,this.withoutReleaseExSlot=!0):this.withoutReleaseExSlot?this.withoutReleaseExSlot=!1:this.onlyReleaseExSlot=!0},closeFilterDialog(){this.filterDialog=!1,this.filter()},toggleFilterDialog(){this.filterDialog||this.filter()},resetFilterCondition(){this.searchWord="",this.onlyNoStock=!1,this.onlyBookmarked=!1,this.onlyReleaseExSlot=!1,this.withoutReleaseExSlot=!1,this.isDaihatsu=!1,this.isNotDaihatsu=!1,this.isKamisha=!1,this.isNotKamisha=!1,this.luckRange=[1,200],this.levelRange=[1,U.ZP.MAX_LEVEL],this.luckImpRange=[0,100],this.aswRange=[0,150],this.aswImpRange=[0,9],this.addHP0=!0,this.addHP1=!0,this.addHP2=!0,this.HPIs4n1=!0,this.HPIs4n2=!0,this.HPIs4n3=!0,this.HPIs4n=!0,this.includeFast=!0,this.includeSlow=!0;for(let t=0;t<this.types.length;t+=1)this.types[t].isChecked=!0;for(let t=0;t<this.nationalities.length;t+=1)this.nationalities[t].isChecked=!0;this.selectedArea=[];for(let t=1;t<=this.maxAreas;t+=1)this.selectedArea.push(t);this.visibleNoArea=!0},filter(){const t=this.filteredShips,e=this.shipStock;let s=[];const a=this.searchWord?this.searchWord.trim().toUpperCase():"";let i=0;const l=t.filter((t=>0===t.version)),o=this.$store.state.siteSetting,n=o.bookmarkedShipIds;for(let $=0;$<l.length;$+=1){const o=l[$],n=t.filter((t=>t.originalId===o.id)),r=n.map((t=>t.id)),c=e.filter((t=>r.includes(t.id))),d=[];if(c.length){for(let t=0;t<c.length;t+=1){const e=c[t];if(i+=1,this.onlyNoStock)continue;if(a&&!n.some((t=>t.name.toUpperCase().indexOf(a)>=0)))continue;const s=n.find((t=>t.id===e.id)),l=e.improvement.hp+(e.level>99?s.hp2:s.hp),o=e.improvement.luck+s.luck,r=wt.Z.getStatusFromLevel(e.level,s.maxAvoid,s.minAvoid);d.push({count:1,ship:s,stockData:e,level:e.level,hp:l,luck:o,impHP:e.improvement.hp,impLuck:e.improvement.luck,impAsw:e.improvement.asw,asw:wt.Z.getStatusFromLevel(e.level,s.maxAsw,s.minAsw)+e.improvement.asw,accuracy:wt.Z.getAccuracyValue(e.level,o),avoid:wt.Z.getAvoidValue(r,o),ci:wt.Z.getCIValue(e.level,o),manualValue:0})}d.sort(((t,e)=>t.ship.version===e.ship.version?e.stockData.level-t.stockData.level:e.ship.version-t.ship.version))}else{if(i+=1,a&&!n.some((t=>t.name.toUpperCase().indexOf(a)>=0)))continue;d.push({count:0,ship:o,stockData:new zt.Z,hp:o.hp,luck:o.luck,impHP:0,impLuck:0,impAsw:0,level:0,asw:o.minAsw,accuracy:-1,avoid:-1,ci:-1,manualValue:0})}s=s.concat(d)}const r=this.levelRange[1],c=this.levelRange[0],d=this.luckRange[1],p=this.luckRange[0],h=this.luckImpRange[1],u=this.luckImpRange[0],m=this.aswRange[1],v=this.aswRange[0],g=this.aswImpRange[1],b=this.aswImpRange[0],f=[];this.addHP0&&f.push(0),this.addHP1&&f.push(1),this.addHP2&&f.push(2);const k=this.types.filter((t=>t.isChecked)).map((t=>t.value));let x=[];const _=this.nationalities.filter((t=>!t.isChecked)).map((t=>t.filter));for(let $=0;$<_.length;$+=1)x=x.concat(_[$]);const C=this.nationalities.filter((t=>!t.isChecked)).map((t=>t.value)).includes(0),y=U.ZP.SHIP_TYPES_ALT.filter(((t,e)=>k.includes(e))).map((t=>t.types)).flat();if(s=s.filter((t=>{const{stockData:e,ship:s,luck:a,hp:i,asw:l}=t;return!(e.level<c||e.level>r)&&(!(e.improvement.asw<b||e.improvement.asw>g)&&(!(e.improvement.luck<u||e.improvement.luck>h)&&(!!f.includes(e.improvement.hp)&&(!!y.includes(s.type)&&(!(x.includes(s.type2)||C&&U.ZP.JPN.includes(s.type2))&&(!(a<p||a>d)&&(!(l<v||l>m)&&(!(!this.HPIs4n&&i%4===0)&&(!(!this.HPIs4n1&&i%4===3)&&(!(!this.HPIs4n2&&i%4===2)&&(!(!this.HPIs4n3&&i%4===1)&&(!(!this.includeFast&&s.speed>=10)&&(!(!this.includeSlow&&s.speed<10)&&(!(this.isDaihatsu&&!this.okDaihatsu.includes(s.id))&&((!this.isNotDaihatsu||!this.okDaihatsu.includes(s.id))&&(!(this.isKamisha&&!this.okKamisha.includes(s.id))&&((!this.isNotKamisha||!this.okKamisha.includes(s.id))&&(!(this.onlyReleaseExSlot&&!e.releaseExpand)&&((!this.withoutReleaseExSlot||!e.releaseExpand)&&(!(!this.visibleNoArea&&e.area<1)&&(!(e.area&&!this.selectedArea.includes(e.area))&&!(this.onlyBookmarked&&!n.includes(e.id)))))))))))))))))))))))})),this.allCount=i,this.manualValue){const t=this.manualValue;for(let e=0;e<s.length;e+=1){const a=s[e];a.manualValue="avoid"===t?wt.Z.getStatusFromLevel(a.level,a.ship.maxAvoid,a.ship.minAvoid):"scout"===t?wt.Z.getStatusFromLevel(a.level,a.ship.maxScout,a.ship.minScout):"nightBattleFirePower"===t?a.ship.fire+a.ship.torpedo:"fuel"===t?a.level>=100?Math.max(Math.floor(.85*a.ship.fuel),1):a.ship.fuel:"ammo"===t?a.level>=100?Math.max(Math.floor(.85*a.ship.ammo),1):a.ship.ammo:a.ship[t]}}s.sort(((t,e)=>t.ship.sort-e.ship.sort));const S=Math.ceil(s.length/100);this.page=this.page>S?S:this.page,this.page=this.page<1&&S>0?1:this.page,this.viewShips=s},masterFilter(){this.filteredShips=this.all.filter((t=>t.id>0)),this.filter()},toggleAllType(){const t=this.types.some((t=>!t.isChecked));for(let e=0;e<this.types.length;e+=1)this.types[e].isChecked=t},toggleAllNationality(){const t=this.nationalities.some((t=>!t.isChecked));for(let e=0;e<this.nationalities.length;e+=1)this.nationalities[e].isChecked=t},clickedArea(t){-1===t?this.visibleNoArea=!this.visibleNoArea:this.selectedArea.includes(t)?this.selectedArea=this.selectedArea.filter((e=>e!==t)):this.selectedArea.push(t)},toggleAllArea(){if(this.selectedArea.length===this.maxAreas&&this.visibleNoArea)this.selectedArea=[],this.visibleNoArea=!1;else{this.selectedArea=[];for(let t=1;t<=this.maxAreas;t+=1)this.selectedArea.push(t);this.visibleNoArea=!0}},changeVersion(t){this.version=t},showEditDialog(t){this.editRow=v()(t);const e=this.all.filter((e=>e.originalId===t.ship.originalId)).sort(((t,e)=>t.version-e.version));this.version=e.findIndex((e=>e.id===t.ship.id)),this.versionButtons=e,this.editLuck=t.luck,this.editDialog=!0,this.btnPushed=!1},toggleArea(t){this.editRow.stockData.area=this.editRow.stockData.area!==t?t:0},getNewStock(){const{stockData:t}=this.editRow,e=this.versionButtons[this.version];t.id=e.id,t.improvement.luck=this.editLuck-e.luck;const s=U.ZP.LEVEL_BORDERS.find((e=>e.lv===t.level));return t.exp=s?s.req:0,v()(t)},commitStock(){this.btnPushed=!0;const t=this.$store.state.shipStock;let e=n()(t.map((t=>t.uniqueId)));void 0===e&&(e=1);const s=this.getNewStock();s.uniqueId=e+1,t.push(s),this.$store.dispatch("updateShipStock",t),this.shipStock=t},updateStock(){this.btnPushed=!0;const t=this.$store.state.shipStock,e=this.getNewStock(),s=t.findIndex((t=>t.uniqueId===e.uniqueId));s>=0&&(t[s]=e,this.$store.dispatch("updateShipStock",t),this.shipStock=t)},deleteStock(){this.btnPushed=!0,this.confirmDialog=!1;const t=this.editRow.stockData.uniqueId,e=this.$store.state.shipStock,s=e.filter((e=>e.uniqueId!==t));this.$store.dispatch("updateShipStock",s),this.shipStock=s},changeAvoidSpoiler(){const t=this.$store.state.siteSetting;t.isAvoidSpoiler=this.isAvoidSpoiler,this.$store.dispatch("updateSetting",t)},changeViewMode(t){this.modeTable=t;const e=this.$store.state.siteSetting;e.viewTableMode=t,this.$store.dispatch("updateSetting",e)},translate(t){return t?`${this.$t(t)}`:""},getShipName(t){if(this.needTrans){const e=F.Z.getSuffix(t);return`${e.map((t=>this.translate(t))).join("")}`}return t.name?t.name:""},getShipTypeName(t){if(this.isNotJapanese){const e=Pt.Z.getShipTypeNameArray(t);return`${e.map((t=>this.translate(t))).join("")}`}return t},toggleFav(t){const e=this.$store.state.siteSetting;e.bookmarkedShipIds.includes(t)?e.bookmarkedShipIds=e.bookmarkedShipIds.filter((e=>e!==t)):e.bookmarkedShipIds.push(t),this.$store.dispatch("updateSetting",e)},bootTooltip(t,e){const s=this.$store.state.siteSetting;s.disabledShipTooltip||!t.count&&this.isAvoidSpoiler||(window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=e.clientX,this.tooltipY=e.clientY;const s=new wt.Z({master:t.ship,level:t.level,hp:t.hp,luck:t.luck,asw:t.asw});this.tooltipShip=s,this.enabledTooltip=!0}),Math.max(s.popUpCount,10)))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Qt=Gt,te=s(9670),ee=s(626),se=s(2165),ae=s(7771),ie=s(5085),le=(0,T.Z)(Qt,r,c,!1,null,"0fb44784",null),oe=le.exports;K()(le,{VBtn:j.Z,VBtnToggle:Vt.Z,VCard:z.Z,VCheckbox:Ht.Z,VDataTable:Mt.Z,VDialog:Y.Z,VDivider:G.Z,VIcon:at.Z,VImg:it.Z,VPagination:Xt,VRangeSlider:lt.Z,VSelect:Wt.Z,VSlider:te.Z,VSpacer:rt.Z,VTab:ee.Z,VTabItem:se.Z,VTabs:ae.Z,VTabsItems:ie.Z,VTextField:ct.Z,VTooltip:dt.Z}),ft()(le,{Ripple:kt.Z});var ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3 ships-page"},[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",{staticClass:"px-4"},[s("div",[s("v-icon",[t._v("mdi-filter-variant")]),t._v(t._s(t.$t("Common.çµžã‚Šè¾¼ã¿")))],1)]),s("v-expansion-panel-content",[s("v-divider",{staticClass:"mb-3"}),s("div",{staticClass:"range-inputs"},[s("div",{staticClass:"d-flex my-4"},[s("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("ItemList.å›³é‘‘id åç§°æ¤œç´¢"),dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.filter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.æœªæ‰€æŒè£…å‚™éžè¡¨ç¤º")},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}})],1),s("div",{staticClass:"d-flex my-4"},[s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.æ”¹ä¿®ä¸‹é™"),type:"number",max:t.remodelRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[0],callback:function(e){t.$set(t.remodelRange,0,"string"===typeof e?e.trim():e)},expression:"remodelRange[0]"}})],1),s("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"10","hide-details":""},on:{change:t.filter},model:{value:t.remodelRange,callback:function(e){t.remodelRange=e},expression:"remodelRange"}}),s("div",{staticClass:"range-input"},[s("v-text-field",{attrs:{label:t.$t("Database.æ”¹ä¿®ä¸Šé™"),type:"number",max:"10",min:t.remodelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[1],callback:function(e){t.$set(t.remodelRange,1,"string"===typeof e?e.trim():e)},expression:"remodelRange[1]"}})],1)],1)]),s("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.ã‚«ãƒ†ã‚´ãƒª"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[s("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[s("v-list-item-action",[s("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.$t("Database.å…¨é¸æŠž")))])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),s("div",[s("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.ç·æ‰€æŒæ•°è¡¨ç¤º")},on:{change:function(e){return t.changeVisibleAllCount()}},model:{value:t.visibleAllCount,callback:function(e){t.visibleAllCount=e},expression:"visibleAllCount"}})],1)],1)],1)],1),s("div",{staticClass:"d-flex align-center mt-3"},[t.isNotJapanese?t._e():s("div",{staticClass:"ml-2 caption d-none d-md-block text--secondary"},[t._v("Ctrlã‚­ãƒ¼ + è£…å‚™ã‚’ã‚¯ãƒªãƒƒã‚¯ã§wikiã‚’å±•é–‹ã—ã¾ã™ã€‚")]),s("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.showBlacklist()}}},[s("v-icon",[t._v("mdi-skull-crossbones")]),t._v("Blacklist ("+t._s(t.$store.state.siteSetting.blacklistItemIds.length)+") ")],1)],1),t.viewItems.length?s("div",{staticClass:"item-all-container mt-3"},t._l(t.viewItems,(function(e,a){return s("v-card",{key:a,staticClass:"py-1"},[s("div",{staticClass:"ma-1 d-flex"},[s("div",{staticClass:"type-img"},[s("img",{attrs:{src:"./img/type/type"+e.type.id+".png",alt:"type-"+e.type.id}})]),s("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("EType."+e.type.name)))]),s("v-spacer"),e.type.sortKey?s("div",[s("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),a),[s("v-icon",[t._v("mdi-sort")])],1)]}}],null,!0)},[s("v-card",[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"sort-key",class:{selected:"id"===e.selectedKey},on:{click:function(s){return t.sortItems(e,"id")},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.sortItems(e,"id")}}},[t._v(" "+t._s(t.$t("Database.å›³é‘‘ID"))+" ")]),t._l(e.type.sortKey,(function(i,l){return s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"type"+a+"Key"+l,staticClass:"sort-key",class:{selected:e.selectedKey===i},on:{click:function(s){return t.sortItems(e,i)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.sortItems(e,i)}}},[t._v(" "+t._s(t.convertStatusString(i))+" ")])}))],2)],1)],1):t._e()],1),s("v-divider"),t._l(e.items,(function(e,i){return s("div",{key:""+a+i},[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"item-container",class:{"no-item":!e.allCount},on:{click:function(s){return t.clickItem(e.master,s)},keypress:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.clickItem(e.master,s)},mouseenter:function(s){return t.bootTooltip(e.master,s)},mouseleave:t.clearTooltip,focus:t.clearTooltip,blur:t.clearTooltip}},[s("div",{staticClass:"d-flex align-self-start flex-grow-1"},[s("div",{staticClass:"icon-img"},[s("img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png",alt:"icon-"+e.master.iconTypeId}})]),s("div",{staticClass:"item-name flex-grow-1"},[t._v(" "+t._s(t.needTrans?t.$t(""+e.master.name):e.master.name)+" ")])]),s("div",{staticClass:"detail-container"},[t.visibleAllCount&&!t.remodelRange[0]?s("div",{staticClass:"primary--text count-text"},[t._v(t._s(e.allCount))]):t._e(),t._l(e.details,(function(e,l){return s("div",{key:""+a+i+l,staticClass:"d-flex remodel-container"},[e.remodel?s("div",{staticClass:"item-remodel teal--text text--accent-4"},[t._v("â˜…"+t._s(e.remodel))]):t._e(),s("div",{staticClass:"ml-auto"},[t._v(t._s(e.count))])])}))],2)])])}))],2)})),1):s("v-card",{staticClass:"my-3 pa-4"},[s("div",{staticClass:"text-center my-10"},[s("div",[t._v(t._s(t.$t("Common.æŽ¢ã—ãŸã‘ã©è¦‹ã¤ã‹ã‚‰ãªã‹ã£ãŸã‚ˆ"))+"ðŸ˜¢")])])]),t.editedItem?s("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("v-card",{staticClass:"pa-3"},[s("div",{staticClass:"mx-2 mb-2"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"align-self-center"},[s("v-img",{attrs:{src:"./img/type/icon"+t.editedItem.iconTypeId+".png",width:"40",height:"40"}})],1),s("div",{staticClass:"align-self-center ml-1"},[s("div",{staticClass:"caption info--text"},[t._v("id "+t._s(t.editedItem.id))]),s("div",{staticClass:"body-2"},[t._v(t._s(t.needTrans?t.$t(""+t.editedItem.name):t.editedItem.name))])])])]),s("v-divider"),s("div",{staticClass:"ma-3"},[s("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.æ‰€æŒæ•°")))]),s("div",{staticClass:"stock-inputs"},[t._l(t.editedStock,(function(e,a){return s("v-text-field",{key:"stock$"+a,staticClass:"stock-input",attrs:{type:"number",max:"999",min:"0",label:"â˜…+"+a,"hide-details":"",readonly:t.readOnly},model:{value:t.editedStock[a],callback:function(e){t.$set(t.editedStock,a,t._n(e))},expression:"editedStock[i]"}})})),s("v-text-field",{staticClass:"stock-input",attrs:{type:"number",readonly:"",label:t.$t("Fleet.åˆè¨ˆ")},model:{value:t.sumStock,callback:function(e){t.sumStock=t._n(e)},expression:"sumStock"}})],2)]),s("v-divider",{staticClass:"mb-2"}),s("div",{staticClass:"d-flex"},[s("v-btn",{staticClass:"ml-auto",attrs:{color:"success",disabled:t.readOnly},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Common.æ›´æ–°")))]),s("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.sumStock||t.readOnly,color:"error"},on:{click:function(e){return e.stopPropagation(),t.clearStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.å…¨ç ´æ£„")))]),s("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.æˆ»ã‚‹")))])],1)],1)],1):t._e(),s("v-dialog",{attrs:{width:"660"},model:{value:t.blacklistDialog,callback:function(e){t.blacklistDialog=e},expression:"blacklistDialog"}},[s("blacklist-item-edit",{attrs:{"handle-close":t.closeBlacklist}})],1),s("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[s("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},re=[],ce=s(2858),de=s(7267),pe=s(1462),he=s(7525),ue=l.Z.extend({name:"ItemsComponent",components:{ItemTooltip:ce.Z,BlacklistItemEdit:de.Z},data:()=>({all:[],itemStock:[],searchWord:"",onlyStock:!1,visibleAllCount:!0,remodelRange:[0,10],selectedTypes:[],types:[],baseViewItems:[],viewItems:[],editDialog:!1,editedItem:void 0,editedStock:[0,0,0,0,0,0,0,0,0,0,0],unsubscribe:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new he.Z,tooltipX:0,tooltipY:0,readOnly:!1,blacklistDialog:!1}),mounted(){this.$store.getters.getExistsTempStock&&(this.readOnly=!0);const t=this.$store.state.siteSetting;this.visibleAllCount=t.visibleItemStockAllCount,this.initialize(),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setItemStock"===t.type&&(this.itemStock=e.itemStock,this.masterFilter(),this.editDialog=!1)}))},watch:{completed(t){t&&!this.all.length&&this.initialize()},isTempStockMode(t){this.readOnly=!!t,this.initialize()}},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock},selectedAllType(){return this.selectedTypes.length===this.types.length},selectedSomeType(){return this.selectedTypes.length>0&&!this.selectedAllType},icon(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},sumStock(){return k()(this.editedStock)},convertStatusString(){return t=>{const e=Pt.Z.convertAttributeString(t);return this.isNotJapanese?`${this.$t(`Common.${e}`)}`:e}},isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initialize(){this.all=this.$store.state.items,this.all=this.all.filter((t=>!t.isEnemyItem)),this.itemStock=this.$store.state.itemStock,this.readOnly&&(this.itemStock=this.$store.state.tempItemStock);const t=U.ZP.ITEM_TYPES_ALT;this.types=[],this.selectedTypes=[];for(let e=0;e<t.length;e+=1)this.types.push({text:`${this.$t(`EType.${t[e].text}`)}`,value:e}),this.selectedTypes.push(e);this.masterFilter()},masterFilter(){const t=this.selectedTypes,e=U.ZP.ITEM_TYPES_ALT.filter(((e,s)=>t.includes(s))).map((t=>t.types)).flat(),s=this.all,a=U.ZP.ITEM_API_TYPE.filter((t=>e.includes(t.id))),i=[];for(let l=0;l<a.length;l+=1){const t=a[l],e=s.filter((e=>e.apiTypeId===t.id)),o=[];for(let s=0;s<e.length;s+=1){const t=e[s],a={master:t,allCount:0,details:[]},i=[];let l=0;const n=this.itemStock.find((e=>e.id===t.id));for(let e=10;e>=0;e-=1){const t=n?n.num[e]:0;t&&(i.push({remodel:e,count:t}),l+=t)}a.details=i,a.allCount=l,o.push(a)}i.push({type:t,items:o,selectedKey:"id"})}this.baseViewItems=i,this.filter()},filter(){const t=this.baseViewItems,e=[],s=this.remodelRange[0],a=this.remodelRange[1],i=this.searchWord?this.searchWord.toUpperCase():"";for(let l=0;l<t.length;l+=1){const{items:o}=t[l],n={type:t[l].type,items:[],selectedKey:"id"};for(let t=0;t<o.length;t+=1){const{master:e,details:l,allCount:r}=o[t];if(i&&e.id!==+i&&-1===e.name.toUpperCase().indexOf(i))continue;const c=l.filter((t=>t.remodel>=s&&t.remodel<=a));c.length?n.items.push({master:e,details:c,allCount:k()(c.map((t=>t.count)))}):0!==s||0!==r||this.onlyStock||n.items.push(o[t])}n.items.length&&e.push(n)}this.viewItems=e},toggleAllType(){this.$nextTick((()=>{this.selectedAllType?(this.selectedTypes=[],this.masterFilter()):(this.selectedTypes=this.types.map((t=>t.value)).slice(),this.masterFilter())}))},sortItems(t,e){t.selectedKey=e;const s=t.items;"id"===e||"cost"===e?s.sort(((t,s)=>t.master[e]-s.master[e])):s.sort(((t,s)=>s.master[e]-t.master[e]))},clickItem(t,e){if(this.clearTooltip(),e&&e.ctrlKey&&t&&!t.isEnemyItem){let e=`https://wikiwiki.jp/kancolle/${encodeURI(t.name.replaceAll("/","ï¼").replaceAll("+","ï¼‹").replaceAll("&","ï¼†"))}`;return 144===t.id&&(e=`https://wikiwiki.jp/kancolle/${encodeURI("å¤©å±±(æ‘ç”°éšŠ)")}`),void window.open(e)}this.editDialog=!0,this.editedItem=t;const s=this.itemStock.find((e=>e.id===t.id));this.editedStock=s?s.num:[0,0,0,0,0,0,0,0,0,0,0]},clearStock(){this.editedStock=[0,0,0,0,0,0,0,0,0,0,0]},commitStock(){if(this.editedItem){const t=this.editedItem.id,e=this.itemStock.find((e=>e.id===t));if(e)e.num=this.editedStock;else{const e=new pe.Z(t);e.num=this.editedStock,this.itemStock.push(e)}this.$store.dispatch("updateItemStock",this.itemStock),this.masterFilter(),this.editDialog=!1,window.setTimeout((()=>{this.editedItem=void 0}),100)}},bootTooltip(t,e){const s=this.$store.state.siteSetting;if(!t.id||s.disabledItemTooltip)return;const a=e.target.getElementsByClassName("item-name")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const e=a.getBoundingClientRect();this.tooltipX=e.x+e.width/3,this.tooltipY=e.y+e.height,this.tooltipItem=new he.Z({master:t}),this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},changeVisibleAllCount(){const t=this.$store.state.siteSetting;t.visibleItemStockAllCount=this.visibleAllCount,this.$store.dispatch("updateSetting",t)},showBlacklist(){this.blacklistDialog=!0},closeBlacklist(){this.blacklistDialog=!1}}}),me=ue,ve=s(4525),ge=s(5187),be=s(7722),fe=s(4568),ke=(0,T.Z)(me,ne,re,!1,null,"d97c3f4e",null),xe=ke.exports;K()(ke,{VBtn:j.Z,VCard:z.Z,VCheckbox:Ht.Z,VDialog:Y.Z,VDivider:G.Z,VExpansionPanel:Q.Z,VExpansionPanelContent:tt.Z,VExpansionPanelHeader:et.Z,VExpansionPanels:st.Z,VIcon:at.Z,VImg:it.Z,VListItem:ve.Z,VListItemAction:ge.Z,VListItemContent:be.km,VListItemTitle:be.V9,VMenu:fe.Z,VRangeSlider:lt.Z,VSelect:Wt.Z,VSpacer:rt.Z,VTextField:ct.Z,VTooltip:dt.Z}),ft()(ke,{Ripple:kt.Z});var _e=s(7663),Ce=s(65),ye=s(7327);class Se{constructor(){(0,ye.Z)(this,"id",0),(0,ye.Z)(this,"key",""),(0,ye.Z)(this,"remarks",""),(0,ye.Z)(this,"createdAt",Pt.Z.formatDate(new Date,"yyyy/MM/dd HH:mm:ss"))}}var $e=s(3567),we=l.Z.extend({name:"FleetManager",components:{Ships:oe,Items:xe},data:()=>({tab:0,includeUnLockedShip:!0,includeUnLockedItem:!1,readResultColor:"success",inputText:"",readOnlyMode:!1,loadingURL:!1,createdURL:"",copiedURLHint:"",outputHistories:[],confirmDialog:!1,deleteIndex:-1,expandBtnClicked:!1,kantaiAnalyticsShipsCode:"",kantaiAnalyticsItemsCode:"",copiedShipCodeHint:"",copiedItemCodeHint:"",unsubscribe:void 0,kantaiSarashiURL:"",loading:!1,successCopy:!1,showHowToDoIt:!1}),mounted(){const t=this.$store.state.saveData;t.disabledMain(),this.readOnlyMode=this.$store.getters.getExistsTempStock;const e=this.$store.state.outputHistories;e&&e.length&&(this.outputHistories=e.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL(),this.unsubscribe=this.$store.subscribe((t=>{"setShipStock"!==t.type&&"setItemStock"!==t.type||(this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL())})),this.loading=!this.$store.getters.getCompletedAll;const s=this.$store.state.siteSetting;this.includeUnLockedShip=s.isIncludeUnLockShip,this.includeUnLockedItem=s.isIncludeUnLockItem;const a=this.$store.state.shipStock,i=this.$store.state.itemStock;this.readOnlyMode||a.length||i.length||(this.tab=2,this.showHowToDoIt=!0)},computed:{completed(){return this.$store.getters.getCompletedAll},isTempStockMode(){return this.$store.getters.getExistsTempStock}},watch:{completed(t){if(t){this.loading=!1;const t=this.$store.state.outputHistories;t&&t.length&&(this.outputHistories=t.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},isTempStockMode(t){this.readOnlyMode=!!t,this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{readJson(){this.setShipStock()?(this.$emit("inform","åœ¨ç±è‰¦å¨˜ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°ãŒå®Œäº†ã—ã¾ã—ãŸã€‚"),this.loadingURL=!1):this.setItemStock()?(this.$emit("inform","æ‰€æŒè£…å‚™ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°ãŒå®Œäº†ã—ã¾ã—ãŸã€‚"),this.loadingURL=!1):this.$emit("inform","ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ­£ã—ã„ãƒ‡ãƒ¼ã‚¿ã§ã¯ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚",!0),this.inputText="",this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()},setShipStock(){try{const t=Pt.Z.readShipStockJson(this.inputText,!this.includeUnLockedShip);if(0===t.length)return!1;const e=this.$store.state.siteSetting;return e.isStockOnlyForShipList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateShipStock",t),!0}catch(t){return console.error(t),!1}},setItemStock(){try{const t=Pt.Z.readItemStockJson(this.inputText,!this.includeUnLockedItem);if(0===t.length)return!1;const e=this.$store.state.siteSetting;return e.isStockOnlyForItemList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateItemStock",t),!0}catch(t){return console.error(t),!1}},async requestURLKey(){this.loadingURL=!0;const t=this.$store.state.shipStock,e=this.$store.state.itemStock,s=$e.Z.createFirebaseStockObject(t,e);if(!s.ships&&!s.items)return void this.$emit("inform","è‰¦å¨˜ã€è£…å‚™æƒ…å ±ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",!0);const a={ships:s.ships,items:s.items,date:Pt.Z.formatDate(new Date,"yy/MM/dd HH:mm:ss"),uid:"",ver:3};try{const t=(0,_e.N8)(),{key:e}=(0,_e.VF)((0,_e.iU)((0,_e.iH)(t),"stocks"));if(!e)return void this.$emit("inform","å…±æœ‰URLã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0);const{location:s}=document,i=`${s.protocol}//${s.host}${s.pathname}?stockid=${e}`,l=(0,Ce.v0)();(0,Ce.XB)(l).then((s=>{s&&s.user&&s.user.uid&&(a.uid=s.user.uid),(0,_e.t8)((0,_e.iH)(t,`stocks/${e}`),a).then((()=>{this.generateShortURL(i).then((t=>{t?this.createHistory(e):this.$emit("inform","å…±æœ‰URLã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0)}))})).catch((t=>{console.error(t),this.$emit("inform","å…±æœ‰URLã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0)}))})).catch((t=>{console.error(t),this.$emit("inform","å…±æœ‰URLã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0)}))}catch(i){console.error(i),this.$emit("inform","å…±æœ‰URLã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0)}},async generateShortURL(t){let e=!1;const s=await $e.Z.getShortURL(t);return s?(this.createdURL=s,this.loadingURL=!1,e=!0):(this.createdURL="URLã®ç™ºè¡Œã«å¤±æ•—ã—ã¾ã—ãŸ",this.loadingURL=!1),e},createHistory(t){const e=this.$store.state.outputHistories,s=n()(e.map((t=>t.id)))||0,a=e.concat(),i=new Se;i.id=s+1,i.key=t,a.push(i),this.outputHistories=a,this.$store.dispatch("updateOutputHistories",a),this.$emit("inform","å…±æœ‰URLã‚’ç”Ÿæˆã—ã¾ã—ãŸã€‚")},copyURL(){const t=document.getElementById("created-url");t.select(),document.execCommand("copy"),this.copiedURLHint="ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸã€‚"},clearURLHint(){this.copiedURLHint=""},async expandHistory(t){this.expandBtnClicked=!0;const e=this.outputHistories[t],s=await $e.Z.getAndRestoreStockData(e.key);s.shipStocks.length||s.itemStocks.length?(this.$store.dispatch("updateTempShipStock",s.shipStocks),this.$store.dispatch("updateTempItemStock",s.itemStocks),this.$emit("inform","ç·¨æˆã‚’å±•é–‹ã—ã¾ã—ãŸã€‚")):this.$emit("inform","ç·¨æˆã®å±•é–‹ã«å¤±æ•—ã—ã¾ã—ãŸã€‚",!0)},clickedDeleteHistory(t){this.confirmDialog=!0,this.deleteIndex=t},deleteHistory(){this.confirmDialog=!1;const t=this.outputHistories[this.deleteIndex];if(t){const e=this.$store.state.outputHistories,s=e.filter((e=>e.id!==t.id));this.outputHistories=s,this.$store.dispatch("updateOutputHistories",s),this.$emit("inform","å‡ºåŠ›å±¥æ­´ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚")}},updateHistory(t){const e=this.outputHistories[t];if(e){const s=this.$store.state.outputHistories,a=s.concat();a[t]=e,this.outputHistories=a,this.$store.dispatch("updateOutputHistories",a),this.$emit("inform","æ›´æ–°ãŒå®Œäº†ã—ã¾ã—ãŸã€‚")}},generateKCAnalyticsCode(){this.kantaiAnalyticsShipsCode="",this.kantaiAnalyticsItemsCode="";let t=this.$store.state.shipStock,e=this.$store.state.itemStock;this.readOnlyMode&&(t=this.$store.state.tempShipStock,e=this.$store.state.tempItemStock),this.kantaiAnalyticsShipsCode=zt.Z.createFleetAnalyticsCode(t),this.kantaiAnalyticsItemsCode=pe.Z.createFleetAnalyticsCode(e)},copyShipCode(){const t=document.getElementById("analytics-ship-code");t.select(),document.execCommand("copy"),this.copiedShipCodeHint="ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸã€‚"},clearShipCodeHint(){this.copiedShipCodeHint=""},copyItemCode(){const t=document.getElementById("analytics-item-code");t.select(),document.execCommand("copy"),this.copiedItemCodeHint="ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸã€‚"},clearItemCodeHint(){this.copiedItemCodeHint=""},copyCode(t){const e=document.getElementById(t);e&&(e.select(),document.execCommand("copy"),this.$emit("inform","ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸã€‚"),this.successCopy=!0,window.setTimeout((()=>{this.successCopy=!1}),3e3))},generateKantaiSarashiURL(){this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html";let t=this.$store.state.shipStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock),t&&t.length){const e=this.$store.state.ships,s=e.filter((t=>0===t.version)),a=[];for(let i=0;i<s.length;i+=1){const l=s[i],o=e.filter((t=>t.originalId===l.id)),n=o.map((t=>t.id)),r=t.filter((t=>n.includes(t.id)));if(r.length){const t=[];for(let s=0;s<r.length;s+=1){const a=r[s],i=e.find((t=>t.id===a.id))?.version;(i||0===i)&&t.push({lv:a.level,ver:i+1})}t.sort(((t,e)=>e.lv-t.lv)),a.push(`${699===l.id?645:l.id}:${t.map((t=>`${t.lv}.${t.ver}`)).join(",")}`)}}this.kantaiSarashiURL=`http://kancolle-calc.net/kanmusu_list.html?data=${Pt.Z.encode64(`.2|${a.join("|")}`)}`}},toggleUnLocked(){const t=this.$store.state.siteSetting;t.isIncludeUnLockShip=this.includeUnLockedShip,t.isIncludeUnLockItem=this.includeUnLockedItem,this.$store.dispatch("updateSetting",t)}}}),De=we,Le=s(7359),Re=s(9592),Te=s(8419),Ie=s(6379),Ze=s(2648),Pe=(0,T.Z)(De,a,i,!1,null,"5ffe3c01",null),Ae=Pe.exports;K()(Pe,{VAlert:Le.Z,VBtn:j.Z,VCard:z.Z,VCardText:J.ZB,VDialog:Y.Z,VDivider:G.Z,VIcon:at.Z,VImg:it.Z,VProgressLinear:Re.Z,VRadio:Te.Z,VRadioGroup:Ie.Z,VTab:ee.Z,VTabItem:se.Z,VTabs:ae.Z,VTabsItems:ie.Z,VTextField:ct.Z,VTextarea:Ze.Z})}}]);
//# sourceMappingURL=580.ae7fc2cf.js.map