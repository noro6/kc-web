{"version":3,"file":"js/261.788fd872.js","mappings":"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","sources":["webpack://kc-web/./src/components/enemy/EnemyDetail.vue","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?073b","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?65e7","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?ca39","webpack://kc-web/./src/components/enemy/EnemyInput.vue","webpack://kc-web/./src/components/enemy/EnemyInput.vue?67ed","webpack://kc-web/./src/components/enemy/EnemyInput.vue?b843","webpack://kc-web/./src/components/enemy/EnemyInput.vue?68c1","webpack://kc-web/./src/components/enemy/EnemyList.vue","webpack://kc-web/./src/components/enemy/EnemyList.vue?4697","webpack://kc-web/./src/components/enemy/EnemyList.vue?7f25","webpack://kc-web/./src/components/enemy/EnemyList.vue?4dfb","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?65f1","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?20a9","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?46fb","webpack://kc-web/./src/components/fleet/ShipInput.vue","webpack://kc-web/./src/components/fleet/ShipInput.vue?1a5e","webpack://kc-web/./src/components/fleet/ShipInput.vue?1c71","webpack://kc-web/./src/components/fleet/ShipInput.vue?4509","webpack://kc-web/./src/components/graph/Doughnut.vue","webpack://kc-web/./src/components/graph/Doughnut.vue?51de","webpack://kc-web/./src/components/graph/Doughnut.vue?a04d","webpack://kc-web/./src/components/graph/Doughnut.vue?3626","webpack://kc-web/./src/components/item/ItemInput.vue","webpack://kc-web/./src/components/item/ItemInput.vue?97c9","webpack://kc-web/./src/components/item/ItemInput.vue?cc4d","webpack://kc-web/./src/components/item/ItemInput.vue?28e9","webpack://kc-web/./src/components/item/ItemList.vue","webpack://kc-web/./src/components/item/ItemCompare.vue","webpack://kc-web/./src/components/item/ItemCompare.vue?31d3","webpack://kc-web/./src/components/item/ItemCompare.vue?1349","webpack://kc-web/./src/components/item/ItemCompare.vue?bd0f","webpack://kc-web/./src/components/item/ItemList.vue?37ea","webpack://kc-web/./src/components/item/ItemList.vue?310e","webpack://kc-web/./src/components/item/ItemList.vue?a0ce","webpack://kc-web/./src/components/item/ItemPreset.vue","webpack://kc-web/./src/classes/item/itemPreset.ts","webpack://kc-web/./src/components/item/ItemPreset.vue?6eaa","webpack://kc-web/./src/components/item/ItemPreset.vue?698c","webpack://kc-web/./src/components/item/ItemPreset.vue?21ff","webpack://kc-web/./src/components/result/AntiAirCalculator.vue","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?5251","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?47d4","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?3490","webpack://kc-web/./src/components/result/ContactRates.vue","webpack://kc-web/./src/components/result/ContactRates.vue?a87b","webpack://kc-web/./src/components/result/ContactRates.vue?886b","webpack://kc-web/./src/components/result/ContactRates.vue?dffa","webpack://kc-web/./src/classes/fleet/optimizer.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{staticClass:\"detail-card\"},[_c('div',{staticClass:\"d-flex mx-1 px-2 py-1 align-center\"},[_c('div',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦隊詳細\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider',{staticClass:\"mx-1\"}),_c('div',{staticClass:\"px-1\"},[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{attrs:{\"href\":\"#fleet\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦隊情報\")))]),_c('v-tab',{attrs:{\"href\":\"#stage2\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.対空砲火\")))]),_c('v-tab',{attrs:{\"href\":\"#contact\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.触接\")))])],1)],1),_c('div',{staticClass:\"tab-content\"},[_c('v-divider',{staticClass:\"mx-1\"}),_c('v-tabs-items',{attrs:{\"touchless\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{staticClass:\"px-2\",attrs:{\"value\":\"fleet\"}},[_c('div',{staticClass:\"ma-1\"},[_c('div',{staticClass:\"d-flex air-power-info flex-wrap\"},[_c('div',{staticClass:\"text--secondary label-text body-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('div',{staticClass:\"value-text mr-3\"},[_vm._v(_vm._s(_vm.fleet.fullAirPower))]),_c('div',[_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.確保\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[0]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"light-green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.優勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[1]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.拮抗\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[2]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"deep-orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.劣勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[3]))])])],1)]),(_vm.fleet.fullAirPower !== _vm.fleet.fullAirbaseAirPower)?_c('div',{staticClass:\"mt-1 d-flex air-power-info flex-wrap\"},[_c('div',{staticClass:\"text--secondary label-text body-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"value-text mr-3\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseAirPower))]),_c('div',[_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.確保\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[0]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"light-green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.優勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[1]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.拮抗\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[2]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"deep-orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.劣勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[3]))])])],1)]):_vm._e()]),_c('v-divider'),_c('div',[_c('div',{staticClass:\"mt-3 mb-5\"},[(_vm.fleet.isUnion)?_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center px-2 primary--text\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.第x艦隊\", { number: 1 })))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空値\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.mainAirPower))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.mainAirbaseAirPower))])]):_vm._e(),_c('div',{staticClass:\"enemy-inputs-container\"},_vm._l((_vm.fleet.mainEnemies),function(enemy,i){return _c('enemy-input',{key:i,attrs:{\"enemy\":enemy,\"handle-show-item-list\":_vm.showItemList}})}),1)]),(_vm.fleet.isUnion)?_c('v-divider'):_vm._e(),(_vm.fleet.isUnion)?_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center px-2 success--text\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.第x艦隊\", { number: 2 })))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空値\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.escortAirPower))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.escortAirbaseAirPower))])]),_c('div',{staticClass:\"enemy-inputs-container\"},_vm._l((_vm.fleet.escortEnemies),function(enemy,i){return _c('enemy-input',{key:i,attrs:{\"enemy\":enemy,\"handle-show-item-list\":_vm.showItemList}})}),1)]):_vm._e()],1)],1),_c('v-tab-item',{attrs:{\"value\":\"stage2\"}},[_c('anti-air-calculator',{ref:\"antiAirCalculator\",attrs:{\"fleet\":_vm.fleet}})],1),_c('v-tab-item',{attrs:{\"value\":\"contact\"}},[_c('contact-rates',{ref:\"contactRates\",attrs:{\"fleet\":_vm.fleet}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport AntiAirCalculator from '@/components/result/AntiAirCalculator.vue';\r\nimport ContactRates from '@/components/result/ContactRates.vue';\r\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\r\nimport EnemyInput from './EnemyInput.vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    EnemyInput,\r\n    AntiAirCalculator,\r\n    ContactRates,\r\n  },\r\n  name: 'EnemyDetail',\r\n  props: {\r\n    handleShowItemList: {\r\n      type: Function,\r\n    },\r\n    fleet: {\r\n      type: EnemyFleet,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    tab: 'stage2',\r\n  }),\r\n  mounted() {\r\n    const contact = this.$refs.contactRates as InstanceType<typeof ContactRates>;\r\n    if (contact) {\r\n      contact.calculate();\r\n    }\r\n    const antiAirCalculator = this.$refs.antiAirCalculator as InstanceType<typeof AntiAirCalculator>;\r\n    if (antiAirCalculator) {\r\n      antiAirCalculator.updateTable();\r\n    }\r\n  },\r\n  methods: {\r\n    showItemList(enemyIndex: number, slotIndex: number): void {\r\n      // 敵の装備変更\r\n      this.handleShowItemList(enemyIndex, slotIndex);\r\n    },\r\n    close() {\r\n      this.handleClose();\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyDetail.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyDetail.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./EnemyDetail.vue?vue&type=template&id=b2558290&scoped=true\"\nimport script from \"./EnemyDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./EnemyDetail.vue?vue&type=script&lang=ts\"\nimport style0 from \"./EnemyDetail.vue?vue&type=style&index=0&id=b2558290&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2558290\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{staticClass:\"ma-1 pa-2 enemy-preview\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center\"},[_c('v-img',{attrs:{\"src\":`./img/ship/${_vm.enemy.data.id}.png`,\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"flex-grow-1\"},[_c('div',{staticClass:\"d-flex caption flex-wrap\"},[_c('div',{staticClass:\"enemy-id ml-2 primary--text\"},[_vm._v(\"id \"+_vm._s(_vm.enemy.data.id))]),_c('div',{staticClass:\"ml-2\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.耐久\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.data.hp))]),_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.装甲\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.actualArmor))])])]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"enemy-name ml-2 text-truncate\"},[_vm._v(_vm._s(_vm.getEnemyName(_vm.enemy.data.name)))])])])]),_c('div',{staticClass:\"d-flex caption px-1 flex-wrap\"},[(_vm.enemy.fullAirPower > 0 || !_vm.enemy.fullLBAirPower)?_c('div',[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.fullAirPower))]),_c('span',{staticClass:\"ml-1 mr-2 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetail))])]):_vm._e(),(_vm.enemy.fullLBAirPower && _vm.enemy.fullLBAirPower !== _vm.enemy.fullAirPower)?_c('div',[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.fullLBAirPower))]),_c('span',{staticClass:\"ml-1 mr-2 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetailAB))])]):_vm._e()]),_c('div',{staticClass:\"caption px-1\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.装備命中\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.sumItemAccuracy))]),_c('span',{staticClass:\"ml-3 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.総搭載数\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.sumSlot))])]),_c('v-divider',{staticClass:\"item-input-divider\"}),_c('div',_vm._l((_vm.enemy.items),function(item,j){return _c('div',{key:j,on:{\"mouseenter\":function($event){return _vm.bootTooltip(item, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":j,\"max\":999,\"init\":_vm.enemy.data.slots[j],\"handle-show-item-list\":_vm.showItemList,\"handle-drag-start\":_vm.clearTooltip,\"readonly\":_vm.readonly,\"is-enemy\":true},on:{\"input\":_vm.updateItem},model:{value:(_vm.enemy.items[j]),callback:function ($$v) {_vm.$set(_vm.enemy.items, j, $$v)},expression:\"enemy.items[j]\"}})],1)}),0),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\nimport sum from 'lodash/sum';\nimport ItemInput from '@/components/item/ItemInput.vue';\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\nimport Enemy from '@/classes/enemy/enemy';\nimport Item from '@/classes/item/item';\nimport SiteSetting from '@/classes/siteSetting';\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\n\nexport default Vue.extend({\n  components: { ItemInput, ItemTooltip },\n  name: 'EnemyInput',\n  props: {\n    handleShowItemList: {\n      type: Function,\n    },\n    enemy: {\n      type: Enemy,\n      required: true,\n    },\n    readonly: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data: () => ({\n    enabledTooltip: false,\n    tooltipTimer: undefined as undefined | number,\n    tooltipItem: new Item(),\n    tooltipX: 0,\n    tooltipY: 0,\n  }),\n  computed: {\n    airPowerDetail() {\n      const airPowers = this.enemy.items.map((v) => (v.data.isRecon ? 0 : v.fullAirPower));\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\n    },\n    airPowerDetailAB() {\n      const airPowers = this.enemy.items.map((v) => v.fullAirPower);\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\n    },\n    sumSlot(): number {\n      return sum(this.enemy.items.map((v) => v.fullSlot));\n    },\n  },\n  methods: {\n    getEnemyName(name: string): string {\n      const setting = this.$store.state.siteSetting as SiteSetting;\n      if (name && this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate) {\n        const shipName = EnemyMaster.getSuffix(name);\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\n        return shipName.map((v) => trans(v)).join('');\n      }\n      return name || '';\n    },\n    showItemList(index: number): void {\n      if (!this.readonly) {\n        this.handleShowItemList(index);\n      }\n    },\n    updateItem() {\n      if (!this.readonly) {\n        this.$emit('input', this.enemy);\n      }\n    },\n    bootTooltip(item: Item, e: MouseEvent) {\n      const setting = this.$store.state.siteSetting as SiteSetting;\n      if (!item.data.id || setting.disabledItemTooltip) {\n        return;\n      }\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('item-name')[0] as HTMLDivElement;\n      window.clearTimeout(this.tooltipTimer);\n      this.tooltipTimer = window.setTimeout(() => {\n        const rect = nameDiv.getBoundingClientRect();\n        this.tooltipX = rect.x + rect.width / 3;\n        this.tooltipY = rect.y + rect.height;\n        this.tooltipItem = item;\n        this.enabledTooltip = true;\n      }, Math.max(setting.popUpCount, 10));\n    },\n    clearTooltip() {\n      this.enabledTooltip = false;\n      window.clearTimeout(this.tooltipTimer);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyInput.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyInput.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./EnemyInput.vue?vue&type=template&id=05c69e76&scoped=true\"\nimport script from \"./EnemyInput.vue?vue&type=script&lang=ts\"\nexport * from \"./EnemyInput.vue?vue&type=script&lang=ts\"\nimport style0 from \"./EnemyInput.vue?vue&type=style&index=0&id=05c69e76&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05c69e76\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-card',{staticClass:\"enemy-list-card\"},[_c('div',{staticClass:\"d-flex pt-2 pb-1 pr-2\"},[_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(_vm.$t(\"Enemies.敵艦選択\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"d-flex px-2 pt-sm-2\"},[_c('div',[_c('v-text-field',{attrs:{\"label\":_vm.$t('ItemList.図鑑id 名称検索'),\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.filter()}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('div',{staticClass:\"ml-sm-5\"},[_c('v-checkbox',{attrs:{\"label\":_vm.$t('Enemies.地上施設')},on:{\"change\":function($event){return _vm.filter()}},model:{value:(_vm.isLandBase),callback:function ($$v) {_vm.isLandBase=$$v},expression:\"isLandBase\"}})],1)]),_c('div',{staticClass:\"d-flex flex-wrap mx-sm-3\"},_vm._l((_vm.types),function(i,index){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:index,staticClass:\"type-selector\",class:{ active: index === _vm.type, disabled: _vm.keyword || _vm.isLandBase },on:{\"click\":function($event){return _vm.changeType(index)},\"keypress\":function($event){return _vm.changeType(index)}}},[_vm._v(\" \"+_vm._s(_vm.isNotJapanese ? _vm.$t(`SType.${i.text}`) : i.text)+\" \")])}),0),_c('v-divider',{staticClass:\"mx-3\"}),_c('div',{staticClass:\"enemy-table-container px-2 px-sm-3 pb-2\"},_vm._l((_vm.enemies),function(row,i){return _c('div',{key:`type${i}`},[_c('div',{staticClass:\"type-divider\"},[_c('div',{staticClass:\"caption text--secondary\"},[_vm._v(_vm._s(_vm.needTrans ? _vm.$t(row.name) : row.name))]),_c('div',{staticClass:\"type-divider-border\"})]),_c('div',{staticClass:\"enemy-table-body\"},_vm._l((row.enemies),function(enemy,j){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:j,staticClass:\"enemy-list\",on:{\"click\":function($event){return _vm.clickedEnemy(enemy.data)},\"keypress\":function($event){return _vm.clickedEnemy(enemy.data)},\"mouseenter\":function($event){return _vm.bootTooltip(enemy.data, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(enemy.data, $event)},\"blur\":_vm.clearTooltip}},[_c('div',{staticClass:\"enemy-img\"},[_c('v-img',{attrs:{\"src\":`./img/ship/${enemy.data.id}.png`,\"height\":\"30\",\"width\":\"120\"}}),(enemy.hasRadar)?_c('div',{staticClass:\"radar-icon\"},[_c('v-img',{attrs:{\"src\":`./img/type/icon11.png`,\"height\":\"22\",\"width\":\"22\"}})],1):_vm._e()],1),_c('div',{staticClass:\"flex-grow-1 ml-1\"},[_c('div',{staticClass:\"d-flex align-center enemy-caption\"},[_c('div',{staticClass:\"enemy-id primary--text text-no-wrap\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.data.id))])]),_c('div',{staticClass:\"ml-1 text-no-wrap\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.耐久\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.data.hp))])]),_c('div',{staticClass:\"ml-1 text-no-wrap\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.装甲\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.data.armor))])])]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"enemy-name text-truncate\",class:{ 'orange--text text--darken-2': enemy.data.isUnknown }},[_vm._v(\" \"+_vm._s(_vm.getEnemyName(enemy.data.name))+\" \")])])])])}),0)])}),0)],1),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('enemy-tooltip',{model:{value:(_vm.tooltipEnemy),callback:function ($$v) {_vm.tooltipEnemy=$$v},expression:\"tooltipEnemy\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport EnemyTooltip from '@/components/enemy/EnemyTooltip.vue';\r\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\r\nimport Const from '@/classes/const';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ItemMaster from '../../classes/item/itemMaster';\r\n\r\nexport default Vue.extend({\r\n  name: 'EnemyList',\r\n  components: {\r\n    EnemyTooltip,\r\n  },\r\n  props: {\r\n    handleDecideEnemy: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    all: [] as EnemyMaster[],\r\n    enemies: [] as { name: string; enemies: Enemy[] }[],\r\n    types: [] as { text: string; types: number[] }[],\r\n    type: 0,\r\n    isLandBase: false,\r\n    keyword: '',\r\n    enabledTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipEnemy: new Enemy(),\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n  }),\r\n  mounted() {\r\n    const existTypes: number[] = [];\r\n    const enemies = this.$store.state.defaultEnemies as EnemyMaster[];\r\n    for (let i = 0; i < enemies.length; i += 1) {\r\n      const enemy = enemies[i];\r\n      this.all.push(enemy);\r\n      if (!existTypes.includes(enemy.type)) {\r\n        existTypes.push(enemy.type);\r\n      }\r\n    }\r\n    for (let i = 0; i < Const.SHIP_TYPES_ALT.length; i += 1) {\r\n      const data = Const.SHIP_TYPES_ALT[i];\r\n      if (data.types.some((v) => existTypes.includes(v))) {\r\n        this.types.push({ text: data.text, types: data.types });\r\n      }\r\n    }\r\n    this.filter();\r\n  },\r\n  computed: {\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n  },\r\n  methods: {\r\n    getEnemyName(name: string): string {\r\n      if (name && this.needTrans) {\r\n        const shipName = EnemyMaster.getSuffix(name);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return name || '';\r\n    },\r\n    changeType(index = 0) {\r\n      this.type = index;\r\n      this.filter();\r\n    },\r\n    filter() {\r\n      const word = this.keyword;\r\n      let result = this.all.concat();\r\n      const t = this.types[this.type];\r\n\r\n      // 検索語句あればこれ以外の検索はしない\r\n      if (word) {\r\n        result = result.filter((v) => v.id === +word || v.name.indexOf(word) >= 0);\r\n      } else if (this.isLandBase) {\r\n        // 地上施設ONLY\r\n        result = result.filter((v) => v.isLandBase);\r\n      } else if (t) {\r\n        // カテゴリ検索\r\n        result = result.filter((v) => !v.isLandBase && t.types.includes(v.type));\r\n      }\r\n\r\n      const nameDividers: string[] = [];\r\n      for (let i = 0; i < result.length; i += 1) {\r\n        // てっぺん4文字でだいたい判定できるのでてっぺん4文字を取得\r\n        const divName = result[i].name.substring(0, 4);\r\n        if (!nameDividers.includes(divName)) {\r\n          nameDividers.push(divName);\r\n        }\r\n      }\r\n\r\n      this.enemies = [];\r\n      const items = this.$store.state.items as ItemMaster[];\r\n      for (let i = 0; i < nameDividers.length; i += 1) {\r\n        const nameDiv = nameDividers[i];\r\n        const enemies = result.filter((v) => v.name.startsWith(nameDiv)).map((v) => Enemy.createEnemyFromMasterId(v.id, false, result, items));\r\n\r\n        if (enemies.length) {\r\n          const name = EnemyMaster.getSuffix(enemies[0].data.name)[0];\r\n          this.enemies.push({ name, enemies });\r\n        }\r\n      }\r\n    },\r\n    clickedEnemy(enemy: EnemyMaster) {\r\n      this.clearTooltip();\r\n      this.handleDecideEnemy(enemy);\r\n    },\r\n    close() {\r\n      this.handleClose();\r\n    },\r\n    bootTooltip(enemy: EnemyMaster, e: MouseEvent) {\r\n      if (!enemy.id) {\r\n        return;\r\n      }\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('enemy-id')[0] as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = nameDiv.getBoundingClientRect();\r\n        this.tooltipX = e.clientX;\r\n        this.tooltipY = rect.y + rect.height;\r\n        const manualEnemies = this.$store.state.manualEnemies as EnemyMaster[];\r\n        const manualEnemy = manualEnemies.find((v) => v.id === enemy.id);\r\n        if (manualEnemy) {\r\n          this.tooltipEnemy = Enemy.createEnemyFromMaster(manualEnemy, false, this.$store.state.items);\r\n        } else {\r\n          this.tooltipEnemy = Enemy.createEnemyFromMaster(enemy, false, this.$store.state.items);\r\n        }\r\n        this.enabledTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyList.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyList.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./EnemyList.vue?vue&type=template&id=2bf7116e&scoped=true\"\nimport script from \"./EnemyList.vue?vue&type=script&lang=ts\"\nexport * from \"./EnemyList.vue?vue&type=script&lang=ts\"\nimport style0 from \"./EnemyList.vue?vue&type=style&index=0&id=2bf7116e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bf7116e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"py-1\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"ml-1\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"tooltip-item-text id\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.id))])]),_c('div',{staticClass:\"ml-2 tooltip-item-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.耐久\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.hp))])]),_c('div',{staticClass:\"ml-2 tooltip-item-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.装甲\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.armor)+\" (\"+_vm._s(_vm.armor)+\")\")])])]),_c('div',{staticClass:\"my-1\"},[_c('div',[_vm._v(_vm._s(_vm.getEnemyName(_vm.value.data.name)))])])])]),_c('div',_vm._l((_vm.value.items),function(item,i){return _c('div',{key:i},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center item-slot\",class:{ 'orange--text text--darken-2': _vm.value.data.isUnknown }},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(item.fullSlot))]),_vm._v(_vm._s(_vm.value.data.isUnknown ? \"?\" : \"\")+\" \")]),_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${item.data.iconTypeId}.png`,\"height\":\"30\",\"width\":\"30\"}})],1),_c('div',{staticClass:\"ml-1 align-self-center tooltip-item-text id\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(item.data.id))])]),_c('div',{staticClass:\"ml-1 align-self-center item-name\"},[_vm._v(_vm._s(_vm.needTrans ? _vm.$t(`${item.data.name}`) : item.data.name))])])])}),0),(_vm.hasOASW || _vm.hasOpeningTorpedo || _vm.nightSpecialAttacks.length || _vm.value.antiAirCutIn.length || _vm.specialAttacks.length)?[_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"ml-1 caption grey--text text--lighten-1 text-left\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.特殊攻撃\")))]),_c('div',{staticClass:\"mx-1 d-flex flex-wrap mt-1 body-2\"},[(_vm.value.antiAirCutIn.length)?_c('div',{staticClass:\"mr-3 anti-air-cutin\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.対空CI\")))]):_vm._e(),(_vm.hasOASW)?_c('div',{staticClass:\"mr-3 light-blue--text text--lighten-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.先制対潜\")))]):_vm._e(),(_vm.hasOpeningTorpedo)?_c('div',{staticClass:\"mr-3 blue--text text--lighten-1\"},[_vm._v(\"先制雷撃\")]):_vm._e(),_vm._l((_vm.specialAttacks),function(text){return _c('div',{key:`day${text}`,staticClass:\"orange--text text--lighten-2 mr-3\"},[_vm._v(_vm._s(_vm.$t(`Fleet.${text}`)))])}),_vm._l((_vm.nightSpecialAttacks),function(text){return _c('div',{key:`night${text}`,staticClass:\"indigo--text text--lighten-3 mr-3\"},[_vm._v(_vm._s(_vm.$t(`Fleet.${text}`)))])})],2)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport SpecialAttack from '@/classes/specialAttack';\r\n\r\nexport default Vue.extend({\r\n  name: 'EnemyTooltip',\r\n  props: {\r\n    value: {\r\n      type: Enemy,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    armor(): number {\r\n      let sum = 0;\r\n      for (let i = 0; i < this.value.items.length; i += 1) {\r\n        sum += this.value.items[i].data.armor;\r\n      }\r\n\r\n      return this.value.data.armor + sum;\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    hasOpeningTorpedo(): boolean {\r\n      if (this.value.data.name.indexOf('深海日棲姫') >= 0) {\r\n        return false;\r\n      }\r\n      if (this.value.data.name.indexOf('船渠棲姫') >= 0) {\r\n        return false;\r\n      }\r\n      if (this.value.data.name.indexOf('深海梅棲姫') >= 0) {\r\n        return false;\r\n      }\r\n      if (this.value.data.name.indexOf('深海雨雲姫') >= 0) {\r\n        return false;\r\n      }\r\n      if (this.value.data.name.indexOf('深海玉棲姫') >= 0) {\r\n        return false;\r\n      }\r\n      if (this.value.data.name.indexOf('米駆逐棲姫') >= 0) {\r\n        return true;\r\n      }\r\n      if ([1742, 1743, 1744].includes(this.value.data.id)) {\r\n        return false;\r\n      }\r\n      return this.value.items.some((v) => v.data.apiTypeId === 22) || (this.value.isSubmarine && this.value.level >= 10);\r\n    },\r\n    hasOASW(): boolean {\r\n      return (\r\n        (this.value.data.type === 7 && this.value.items.some((v) => [1574, 1575, 1586].includes(v.data.id)))\r\n        || [1623, 1624, 1862, 1690, 1691, 1692, 1849, 1850, 1851, 1927, 1928, 1929, 1930, 1931, 1932, 1947].includes(this.value.data.id)\r\n        || [2204, 2205, 2206, 2207, 2208, 2209, 2216, 2217, 2218, 2219, 2220, 2221].includes(this.value.data.id)\r\n      );\r\n    },\r\n    specialAttacks(): string[] {\r\n      return SpecialAttack.getDayBattleSpecialAttackRate(this.value, 1, false).map((v) => v.text);\r\n    },\r\n    nightSpecialAttacks(): string[] {\r\n      return SpecialAttack.getNightBattleSpecialAttackRate(this.value, false).map((v) => v.text);\r\n    },\r\n  },\r\n  methods: {\r\n    getEnemyName(name: string): string {\r\n      if (name && this.needTrans) {\r\n        const shipName = EnemyMaster.getSuffix(name);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return name || '';\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyTooltip.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyTooltip.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./EnemyTooltip.vue?vue&type=template&id=22cc119d&scoped=true\"\nimport script from \"./EnemyTooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./EnemyTooltip.vue?vue&type=script&lang=ts\"\nimport style0 from \"./EnemyTooltip.vue?vue&type=style&index=0&id=22cc119d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22cc119d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{staticClass:\"ma-1 ship-input\",class:{ disabled: !_vm.ship.isActive && !_vm.ship.isTray, 'py-1': !_vm.ship.isEmpty && !_vm.ship.isTray },on:{\"mousedown\":_vm.setDraggable,\"mouseup\":_vm.resetDraggable,\"dragstart\":function($event){return _vm.dragStart($event)},\"dragend\":function($event){return _vm.dragEnd($event)},\"dragenter\":function($event){return _vm.dragEnter($event)},\"dragleave\":function($event){return _vm.dragLeave($event)},\"drop\":function($event){$event.stopPropagation();return _vm.dropShip($event)},\"dragover\":function($event){$event.preventDefault();}}},[(_vm.ship.isEmpty && !_vm.ship.isTray)?[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"empty-ship d-flex align-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList($event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.showShipList($event)}}},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-plus\")]),_c('div',[_vm._v(_vm._s(_vm.shipName))]),(_vm.handleShowTempShipList || _vm.handleCreateTray)?_c('div',{staticClass:\"empty-temp-list\"},[(_vm.handleCreateTray)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"color\":\"light-blue\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.createTray()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-tray-plus\")])],1)]}}],null,false,532047249)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.装備置き場生成\")))])]):_vm._e(),(_vm.handleShowTempShipList)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"color\":\"orange lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showTempShip()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clipboard-arrow-down\")])],1)]}}],null,false,1942676031)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘クリップボード\")))])]):_vm._e()],1):_vm._e()],1)]:[_c('div',{staticClass:\"d-flex px-2\"},[(!_vm.isNoShip)?_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"align-self-center ship-img-container\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList($event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.showShipList($event)}}},[_c('div',{staticClass:\"ship-img\",on:{\"mouseenter\":function($event){return _vm.bootShipTooltip($event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootShipTooltip($event)},\"blur\":_vm.clearTooltip}},[_c('v-img',{attrs:{\"src\":`./img/ship/${_vm.ship.data.id}.png`,\"height\":\"30\",\"width\":\"120\"}})],1),(_vm.ship.area > 0 && _vm.ship.area <= _vm.maxAreas)?_c('div',{staticClass:\"area-banner\"},[_c('v-img',{attrs:{\"src\":`./img/tags/area${_vm.ship.area}.webp`,\"height\":\"40\",\"width\":\"29\"}})],1):_vm._e(),(_vm.ship.spEffectItemId)?_c('div',{staticClass:\"ship-sp-item-img\"},[_c('v-img',{attrs:{\"src\":`./img/util/${_vm.ship.spEffectItemId === 1 ? 'miiro' : 'tasuki'}.png`,\"height\":\"30\",\"width\":\"12\"}})],1):_vm._e()]):_vm._e(),(_vm.ship.isTray)?[_c('div',{staticClass:\"align-self-center\"},[_c('v-img',{attrs:{\"src\":`./img/util/mushi.png`,\"height\":\"24\",\"width\":\"24\"}})],1),_c('div',{staticClass:\"mt-1 ml-3 align-self-center caption flex-grow-1\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.装備を自由に置くスペースです。\")))])]:_vm._e(),(!_vm.ship.isTray)?_c('div',{staticClass:\"flex-grow-1\"},[_c('div',{staticClass:\"caption\"},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"slide-y-transition\",\"max-width\":\"360\",\"min-width\":\"360\",\"bottom\":\"\",\"right\":\"\"},on:{\"input\":_vm.onEditStatusMenuToggle},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"pr-2 clickable-status level-area\"},'div',attrs,false),on),[_c('div',{staticClass:\"pl-1 pr-1 primary--text\"},[_vm._v(\" Lv\"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.ship.level))])]),_c('div',{staticClass:\"pl-1 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.運\")))]),_c('div',{staticClass:\"pl-1 pr-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.luck))]),_c('div',{staticClass:\"pl-1 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.対空\")))]),_c('div',{staticClass:\"pl-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.antiAir))])])]}}],null,false,418577001),model:{value:(_vm.editStatusMenu),callback:function ($$v) {_vm.editStatusMenu=$$v},expression:\"editStatusMenu\"}},[_c('v-card',{staticClass:\"px-5 pt-5 pb-3\"},[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 1}}},[_vm._v(\"Lv1\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 50}}},[_vm._v(\"Lv50\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 80}}},[_vm._v(\"Lv80\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 99}}},[_vm._v(\"Lv99\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = _vm.maxLevel}}},[_vm._v(\"Lv\"+_vm._s(_vm.maxLevel))])],1),_c('div',{staticClass:\"d-flex mt-4 align-center\"},[_c('div',{staticClass:\"edit-status-menu-text\"},[_c('v-text-field',{staticClass:\"pt-0 mt-0\",attrs:{\"label\":\"Lv\",\"max\":_vm.maxLevel,\"min\":\"1\",\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.level),callback:function ($$v) {_vm.level=_vm._n($$v)},expression:\"level\"}})],1),_c('div',{staticClass:\"flex-grow-1\"},[_c('v-slider',{attrs:{\"max\":_vm.maxLevel,\"min\":\"1\",\"hide-details\":\"\"},model:{value:(_vm.level),callback:function ($$v) {_vm.level=$$v},expression:\"level\"}})],1)]),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"edit-status-container\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.耐久'),\"max\":_vm.value.data.maxHp,\"min\":_vm.minHP,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.hp),callback:function ($$v) {_vm.hp=_vm._n($$v)},expression:\"hp\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.対潜'),\"max\":_vm.maxAsw,\"min\":_vm.minAsw,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.asw),callback:function ($$v) {_vm.asw=_vm._n($$v)},expression:\"asw\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.運'),\"max\":_vm.ship.data.maxLuck,\"min\":_vm.ship.data.luck,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.luck),callback:function ($$v) {_vm.luck=_vm._n($$v)},expression:\"luck\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.対空'),\"max\":_vm.ship.data.antiAir,\"min\":\"0\",\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.antiAir),callback:function ($$v) {_vm.antiAir=_vm._n($$v)},expression:\"antiAir\"}})],1),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"d-flex\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.closeEditStatusMenu()}}},[_vm._v(_vm._s(_vm.$t(\"Common.閉じる\")))])],1)],1)],1)],1),_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"d-flex pl-1 clickable-status\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList($event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.showShipList($event)}}},[_c('div',{staticClass:\"ship-name text-truncate\",class:{ 'no-stock': _vm.ship.noStock }},[_vm._v(_vm._s(_vm.shipName))])])]):_vm._e(),_c('div',{staticClass:\"ship-remove\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeShip.apply(null, arguments)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],2),(!_vm.ship.isTray)?_c('div',{staticClass:\"ship-status-container caption pl-2\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.撃墜\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium mr-2\"},[_vm._v(_vm._s(_vm.rateDownValue)+\"%,\"+_vm._s(_vm.fixDown)+_vm._s(_vm.isNotJapanese ? \"\" : \"機\"))]),(_vm.ship.hunshinRate)?[_c('span',{staticClass:\"text--secondary text-no-wrap\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.噴進\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium mr-2\"},[_vm._v(_vm._s(_vm.ship.hunshinRate.toFixed(1))+\"%\")])]:_vm._e(),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.射程\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.$t(`Common.${_vm.rangeText[_vm.ship.displayStatus.range]}`)))]),(_vm.ship.data.maxAsw || _vm.ship.enabledTSBK)?[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('span',_vm._g(_vm._b({staticClass:\"cursor-help\"},'span',attrs,false),on),[_c('span',{staticClass:\"ml-2 text--secondary mr-1\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.先制対潜\")))]),(_vm.ship.enabledTSBK)?_c('span',[(!_vm.isNotJapanese)?[_vm._v(_vm._s(_vm.$t(\"Fleet.可\")))]:[_vm._v(\"✔\")]],2):_c('span',[_vm._v(\"×\")])])]}}],null,false,427717158)},[_c('table',{staticClass:\"asw-table\"},[_c('tr',[_c('td',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.対潜先制爆雷攻撃\")))]),_c('td',{staticClass:\"text-right pl-2\"},[(_vm.ship.enabledTSBK)?_c('span',{staticClass:\"blue--text text--lighten-2\"},[(!_vm.isNotJapanese)?[_vm._v(\" \"+_vm._s(_vm.$t(\"Fleet.可\"))+\" \")]:[_vm._v(\"✔\")]],2):(!_vm.isNotJapanese)?_c('span',{staticClass:\"red--text text--lighten-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Fleet.不可\"))+\" \")]):_c('span',{staticClass:\"red--text text--lighten-1\"},[_vm._v(\"×\")])])]),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.asw - _vm.ship.improveAsw))])]),(_vm.ship.improveAsw)?_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Common.改修\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.improveAsw))])]):_vm._e(),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.装備\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.itemAsw))])]),(_vm.ship.itemBonusStatus.asw)?_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.装備ボーナス\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.itemBonusStatus.asw))])]):_vm._e(),_c('tr',{staticClass:\"border\"},[_c('td',{attrs:{\"colspan\":\"3\"}})]),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2 pb-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Common.合計\")))])]),_c('td',{staticClass:\"text-right pb-1\"},[_vm._v(_vm._s(_vm.ship.displayStatus.asw))])]),(!_vm.ship.enabledTSBK && _vm.ship.missingAsw)?_c('tr',[_c('td',{staticClass:\"caption grey--text text--lighten-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.不足対潜値\")))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.missingAsw))])]):_vm._e(),(!_vm.ship.enabledTSBK && _vm.ship.needTSBKLevel)?_c('tr',[_c('td',{staticClass:\"caption grey--text text--lighten-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.必要艦娘Lv\")))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.needTSBKLevel))])]):_vm._e()])])]:_vm._e()],2):_vm._e(),(!_vm.ship.isTray)?_c('div',{staticClass:\"ship-sub-status-container px-1\"},[(!_vm.isNoShip && _vm.noItem)?_c('v-btn',{staticClass:\"btn-batch-deploy\",attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showBatchItemList()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.一括配備\"))+\" \")]):(_vm.ship.fullAirPower)?_c('div',{staticClass:\"align-self-center caption ml-1\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.fullAirPower))]),_c('span',{staticClass:\"ml-1 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetail))])]):_c('div',{staticClass:\"align-self-center caption cursor-help ml-1\",on:{\"mouseenter\":function($event){return _vm.bootShipTooltip($event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootShipTooltip($event)},\"blur\":_vm.clearTooltip}},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.火力\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.displayStatus.firePower))]),(_vm.ship.data.torpedo)?[_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.雷装\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.displayStatus.torpedo))])]:[_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.装甲\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.displayStatus.armor))])],(_vm.ship.data.maxAsw)?[_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.対潜\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.displayStatus.asw))])]:[_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.回避\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.displayStatus.avoid))])]],2),_c('div',{staticClass:\"ml-auto ship-buttons\"},[(_vm.enabledConvert)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"blue lighten-1\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleVersion()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-sync\")])],1)]}}],null,false,3381741086)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.コンバート改造\")))])]):_vm._e(),(_vm.handleShowTempShipList)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"orange lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showTempShip()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clipboard-arrow-up\")])],1)]}}],null,false,3338777121)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘クリップボード\")))])]):_vm._e(),(_vm.handleShowItemPreset)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"deep-orange lighten-1\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showItemPresets()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-briefcase-variant\")])],1)]}}],null,false,3852360786)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.装備プリセット展開\")))])]):_vm._e(),(!_vm.hideActiveButton)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ship.isActive),expression:\"ship.isActive\"}],attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeActive(false)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-eye\")])],1)]}}],null,false,2150192410)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.計算対象から省く\")))])]):_vm._e(),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ship.isActive && !_vm.hideActiveButton),expression:\"!ship.isActive && !hideActiveButton\"}],attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeActive(true)}}},[_c('v-icon',[_vm._v(\"mdi-eye-off\")])],1),_c('div',{staticClass:\"btn-item-reset\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.resetItems()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}],null,false,1789933704)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.装備一括解除\")))])]),_c('div',{staticClass:\"close-bar\",class:`item-count-${_vm.ship.items.length + 1}`})],1)],1)],1):_vm._e(),(!_vm.ship.isTray)?_c('v-divider',{staticClass:\"mx-1 item-input-divider\"}):_vm._e(),(!_vm.ship.isEmpty && !_vm.ship.isTray)?_c('div',{staticClass:\"px-1\"},[_vm._l((_vm.ship.items),function(item,j){return _c('div',{key:j,on:{\"mouseenter\":function($event){return _vm.bootTooltip(item, j, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item, j, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":j,\"max\":99,\"drag-slot\":false,\"init\":_vm.ship.data.slots[j],\"handle-show-item-list\":_vm.showItemList,\"item-parent\":_vm.ship,\"handle-drag-start\":_vm.clearTooltip},on:{\"input\":_vm.updateItem},model:{value:(_vm.ship.items[j]),callback:function ($$v) {_vm.$set(_vm.ship.items, j, $$v)},expression:\"ship.items[j]\"}})],1)}),_c('div',{on:{\"mouseenter\":function($event){return _vm.bootTooltip(_vm.ship.exItem, -1, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(_vm.ship.exItem, -1, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":99,\"max\":0,\"init\":0,\"drag-slot\":false,\"handle-show-item-list\":_vm.showItemList,\"item-parent\":_vm.ship,\"handle-drag-start\":_vm.clearTooltip,\"is-released\":_vm.ship.releaseExpand},on:{\"input\":_vm.updateItem},model:{value:(_vm.ship.exItem),callback:function ($$v) {_vm.$set(_vm.ship, \"exItem\", $$v)},expression:\"ship.exItem\"}})],1)],2):(_vm.ship.isTray)?_c('div',{staticClass:\"pa-1\"},[_c('v-divider',{staticClass:\"item-input-divider\"}),_c('div',{staticClass:\"tray-items\"},_vm._l((_vm.ship.items),function(item,j){return _c('div',{key:j,on:{\"mouseenter\":function($event){return _vm.bootTooltip(item, j, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item, j, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":j,\"max\":99,\"drag-slot\":false,\"init\":_vm.ship.data.slots[j],\"handle-show-item-list\":_vm.showItemList,\"item-parent\":_vm.ship,\"handle-drag-start\":_vm.clearTooltip,\"dense\":true},on:{\"input\":_vm.updateItem},model:{value:(_vm.ship.items[j]),callback:function ($$v) {_vm.$set(_vm.ship.items, j, $$v)},expression:\"ship.items[j]\"}})],1)}),0)],1):_vm._e()],_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{attrs:{\"bonus\":_vm.tooltipBonus},model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledShipTooltip),callback:function ($$v) {_vm.enabledShipTooltip=$$v},expression:\"enabledShipTooltip\"}},[_c('ship-tooltip',{attrs:{\"fleet-ros-corr\":_vm.fleetRosCorr,\"is-flagship\":_vm.index === 0},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport ItemInput from '@/components/item/ItemInput.vue';\r\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\r\nimport ShipTooltip from '@/components/fleet/ShipTooltip.vue';\r\nimport Ship, { ShipBuilder } from '@/classes/fleet/ship';\r\nimport Item from '@/classes/item/item';\r\nimport ShipMaster from '@/classes/fleet/shipMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport Const from '@/classes/const';\r\n\r\nexport default Vue.extend({\r\n  components: { ItemInput, ItemTooltip, ShipTooltip },\r\n  name: 'ShipInput',\r\n  props: {\r\n    handleShowItemList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleShowBatchItemList: {\r\n      type: Function,\r\n    },\r\n    handleShowShipList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleCloseShip: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleShowTempShipList: {\r\n      type: Function,\r\n    },\r\n    handleShowItemPreset: {\r\n      type: Function,\r\n    },\r\n    handleCreateTray: {\r\n      type: Function,\r\n    },\r\n    value: {\r\n      type: Ship,\r\n      required: true,\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    fixDown: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    rateDown: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    fleetRosCorr: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    isLine2: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    hideActiveButton: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    level: 99,\r\n    luck: 0,\r\n    antiAir: 0,\r\n    asw: 0,\r\n    hp: 1,\r\n    editStatusMenu: false,\r\n    enabledTooltip: false,\r\n    enabledShipTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipItem: new Item(),\r\n    tooltipBonus: '',\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n    rangeText: ['', '短', '中', '長', '超長', '超長+', '極', '極+', '極長', '極長+'],\r\n    maxLevel: Const.MAX_LEVEL,\r\n  }),\r\n  computed: {\r\n    ship(): Ship {\r\n      return this.value;\r\n    },\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return !setting.nameIsNotTranslate;\r\n    },\r\n    shipName() {\r\n      if (this.isNotJapanese) {\r\n        if (!this.value.data.name) {\r\n          return this.$t('Fleet.艦娘選択');\r\n        }\r\n        if (this.needTrans) {\r\n          const shipName = ShipMaster.getSuffix(this.value.data);\r\n          const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n          return shipName.map((v) => trans(v)).join('');\r\n        }\r\n      }\r\n      return this.value.data.name ? this.value.data.name : '艦娘選択';\r\n    },\r\n    airPowerDetail(): string {\r\n      const airPowers = this.ship.items.map((v) => (v.fullAirPower && !v.data.isRecon ? v.fullAirPower : 0));\r\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\r\n    },\r\n    isNoShip(): boolean {\r\n      return this.value.data.id === 0;\r\n    },\r\n    noItem(): boolean {\r\n      return this.value.items.concat(this.value.exItem).every((v) => !v.data.id);\r\n    },\r\n    rateDownValue(): number {\r\n      return Math.floor(this.rateDown * 100);\r\n    },\r\n    enabledConvert(): boolean {\r\n      const ships = this.$store.state.ships as ShipMaster[];\r\n      const master = this.value.data;\r\n      if (master.name === '宗谷') {\r\n        return true;\r\n      }\r\n      return this.value.data.isFinal && ships.filter((v) => v.originalId === master.originalId && v.isFinal && v.version > 1).length >= 2;\r\n    },\r\n    maxAreas(): number {\r\n      return this.$store.state.areaCount as number;\r\n    },\r\n    minHP(): number {\r\n      return this.level > 99 ? this.value.data.hp2 : this.value.data.hp;\r\n    },\r\n    minAsw(): number {\r\n      // 未設定(まだわかってない)なら0\r\n      if (!this.value.data.minAsw || !this.value.data.maxAsw) return 0;\r\n      const asw = Ship.getStatusFromLevel(this.level, this.value.data.maxAsw, this.value.data.minAsw);\r\n      return asw;\r\n    },\r\n    maxAsw(): number {\r\n      // 未設定(まだわかってない)なら青天井\r\n      if (!this.value.data.minAsw || !this.value.data.maxAsw) return 200;\r\n      return this.minAsw + 9;\r\n    },\r\n  },\r\n  watch: {\r\n    level(v: number) {\r\n      // 未改修時の対潜値\r\n      const asw = Ship.getStatusFromLevel(v, this.ship.data.maxAsw, this.value.data.minAsw);\r\n      // セットされている対潜改修値を加算\r\n      this.asw = asw + this.value.improveAsw;\r\n      // HP最小値を変更\r\n      this.hp = Math.max(this.hp, v > 99 ? this.value.data.hp2 : this.value.data.hp);\r\n      this.hp = Math.min(this.hp, v <= 99 ? this.value.data.hp : 999);\r\n    },\r\n  },\r\n  methods: {\r\n    updateItem() {\r\n      this.setShip();\r\n    },\r\n    setShip(value?: Ship) {\r\n      this.clearTooltip();\r\n      if (value === undefined) {\r\n        this.$emit('input', new Ship({ ship: this.ship }));\r\n      } else {\r\n        this.$emit('input', value);\r\n      }\r\n    },\r\n    onEditStatusMenuToggle() {\r\n      if (this.editStatusMenu) {\r\n        this.hp = this.ship.hp;\r\n        this.level = this.ship.level;\r\n        this.luck = this.ship.luck;\r\n        this.asw = this.ship.asw;\r\n        this.antiAir = this.ship.antiAir;\r\n      } else {\r\n        // 閉じられる際にステータス反映\r\n        const builder: ShipBuilder = {\r\n          ship: this.ship,\r\n          level: this.level,\r\n          hp: this.hp,\r\n          luck: this.luck,\r\n          antiAir: this.antiAir,\r\n          asw: this.asw,\r\n        };\r\n\r\n        this.setShip(new Ship(builder));\r\n      }\r\n    },\r\n    closeEditStatusMenu() {\r\n      this.editStatusMenu = false;\r\n      this.onEditStatusMenuToggle();\r\n    },\r\n    changeActive(value: boolean) {\r\n      this.setShip(new Ship({ ship: this.ship, isActive: value }));\r\n    },\r\n    resetItems() {\r\n      this.setShip(new Ship({ ship: this.value, items: [], exItem: new Item() }));\r\n    },\r\n    removeShip() {\r\n      this.handleCloseShip(this.index);\r\n    },\r\n    showItemList(slotIndex: number): void {\r\n      this.clearTooltip();\r\n      // 艦娘indexを付与してFleet.vueへスルーパス\r\n      this.handleShowItemList(this.index, slotIndex);\r\n    },\r\n    showBatchItemList() {\r\n      if (this.handleShowBatchItemList) {\r\n        this.handleShowBatchItemList(this.index);\r\n      }\r\n    },\r\n    showShipList(event: MouseEvent): void {\r\n      // 艦娘indexを付与してFleet.vueへスルーパス\r\n      this.clearTooltip();\r\n      this.handleShowShipList(this.index, event);\r\n    },\r\n    showTempShip() {\r\n      // 一時保存領域の展開\r\n      this.handleShowTempShipList(this.index);\r\n    },\r\n    createTray() {\r\n      // 装備置き場の生成\r\n      this.handleCreateTray(this.index);\r\n    },\r\n    showItemPresets() {\r\n      // 装備プリセット画面\r\n      this.handleShowItemPreset(this.index);\r\n    },\r\n    toggleVersion() {\r\n      const ships = this.$store.state.ships as ShipMaster[];\r\n      const master = this.value.data;\r\n      // コンバート候補取得\r\n      let versions = ships.filter((v) => v.originalId === master.originalId && v.isFinal && v.version > 1).sort((a, b) => a.version - b.version);\r\n      if (master.name === '宗谷') {\r\n        versions = ships.filter((v) => v.name === '宗谷');\r\n      }\r\n      // 現在のver\r\n      const index = versions.findIndex((v) => v.id === master.id);\r\n      let newVersion: ShipMaster;\r\n      if (index < versions.length - 1) {\r\n        // 一段階改装を進めたバージョンを設置\r\n        newVersion = versions[index + 1];\r\n      } else {\r\n        // コンバート最初期状態へ\r\n        newVersion = versions[index - index];\r\n      }\r\n\r\n      // 装備検証\r\n      const { items, exItem } = this.value;\r\n      const newItems = [];\r\n      let newExItem: Item;\r\n      for (let i = 0; i < newVersion.slots.length; i += 1) {\r\n        const item = items[i];\r\n        if (item && ShipValidation.isValidItem(newVersion, item.data, i)) {\r\n          newItems.push(new Item({ item, slot: newVersion.slots[i] }));\r\n        } else {\r\n          newItems.push(new Item());\r\n        }\r\n      }\r\n      if (ShipValidation.isValidItem(newVersion, exItem.data, Const.EXPAND_SLOT_INDEX, exItem.remodel)) {\r\n        newExItem = new Item({ item: exItem });\r\n      } else {\r\n        newExItem = new Item();\r\n      }\r\n\r\n      // コンバート時に対潜/耐久改修分を引き継ぐ\r\n      const bonusHP = this.value.hp - (this.value.level > 99 ? this.value.data.hp2 : this.value.data.hp);\r\n      const newHP = (this.value.level > 99 ? newVersion.hp2 : newVersion.hp) + bonusHP;\r\n      const newAsw = Ship.getStatusFromLevel(this.value.level, newVersion.maxAsw, newVersion.minAsw) + this.value.improveAsw;\r\n\r\n      let { luck } = this.value;\r\n      const originalLuck = master.luck;\r\n      const improvementLuck = luck - originalLuck;\r\n      if (!improvementLuck) {\r\n        // 運改修なしなら次改装の運に合わせる\r\n        luck = newVersion.luck;\r\n      } else {\r\n        // ありなら次改装の運に、改修分を加算\r\n        luck = newVersion.luck + improvementLuck;\r\n      }\r\n      this.setShip(\r\n        new Ship({\r\n          master: newVersion,\r\n          level: this.value.level,\r\n          hp: newHP,\r\n          luck,\r\n          asw: newAsw,\r\n          items: newItems,\r\n          exItem: newExItem,\r\n        }),\r\n      );\r\n    },\r\n    setDraggable(e: MouseEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      if (target.closest('.item-input')) {\r\n        // 装備上である場合はキャンセル\r\n        return;\r\n      }\r\n      const parent = target.closest('.ship-input') as HTMLDivElement;\r\n      parent.setAttribute('draggable', 'true');\r\n    },\r\n    resetDraggable(e: MouseEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      const parent = target.closest('.ship-input') as HTMLDivElement;\r\n      parent.setAttribute('draggable', 'false');\r\n    },\r\n    dragStart(e: DragEvent) {\r\n      // 子要素(item)のドラッグイベントが先におこっているならキャンセル\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      if (draggingDiv) {\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      if ((this.value.isEmpty && !this.value.isTray) || !target || !target.classList || !target.classList.contains('ship-input') || !target.draggable) {\r\n        return;\r\n      }\r\n      target.style.opacity = '0.6';\r\n      target.id = 'dragging-item';\r\n\r\n      // ドラッグ中セーブデータを一時保持\r\n      this.$store.dispatch('setDraggingShipData', this.value);\r\n\r\n      // 一時的に全てのship-inputの子要素マウスイベントを消す\r\n      const shipInputList = document.getElementsByClassName('ship-input');\r\n      for (let i = 0; i < shipInputList.length; i += 1) {\r\n        shipInputList[i].classList.add('dragging');\r\n      }\r\n    },\r\n    dragLeave(e: DragEvent) {\r\n      (e.target as HTMLDivElement).style.boxShadow = '';\r\n    },\r\n    dragEnter(e: DragEvent): void {\r\n      const d = document.getElementById('dragging-item');\r\n      const t = e.target as HTMLDivElement;\r\n      if (!d || !d.classList.contains('ship-input') || !t || !t.classList.contains('ship-input')) {\r\n        return;\r\n      }\r\n      // 受け入れ可能 背景色を青っぽく\r\n      t.style.boxShadow = 'inset 0 0 80px rgba(20, 160, 255, 0.6)';\r\n    },\r\n    dropShip(e: DragEvent) {\r\n      e.preventDefault();\r\n      // 受け渡されたデータ\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      // そもそもドラッグ開始が正常になされているか\r\n      if (!draggingDiv || !draggingDiv.classList.contains('ship-input')) {\r\n        return;\r\n      }\r\n\r\n      // ドロップされる要素\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.boxShadow = '';\r\n      if (target.id) {\r\n        // 自身へのドロップ禁止\r\n        return;\r\n      }\r\n      // 一時退避していたデータをセット\r\n      const moveData = this.$store.state.draggingShipData as Ship;\r\n      // 自身をドラッグ元に受け渡すためセット\r\n      this.$store.dispatch('setDraggingShipData', this.value);\r\n\r\n      // インスタンスにセット\r\n      this.setShip(moveData);\r\n\r\n      draggingDiv.classList.add('move-ok');\r\n    },\r\n    dragEnd(e: DragEvent) {\r\n      // まずは一時的に消していた全てのship-inputの子要素マウスイベントを復活\r\n      const shipInputList = document.getElementsByClassName('ship-input');\r\n      for (let i = 0; i < shipInputList.length; i += 1) {\r\n        shipInputList[i].classList.remove('dragging');\r\n      }\r\n\r\n      const draggingDiv = document.getElementById('dragging-item') as HTMLDivElement;\r\n      if (!draggingDiv || !draggingDiv.draggable || !draggingDiv.classList.contains('ship-input')) {\r\n        // ドラッグ不可だったり、そもそもship-inputじゃなかったら以降受け入れない\r\n\r\n        // Firefox なんかおかしくなるので再チェック\r\n        const target = e.target as HTMLDivElement;\r\n        if (target && target.classList.contains('ship-input')) {\r\n          target.style.opacity = '1';\r\n          target.id = '';\r\n          target.draggable = false;\r\n        }\r\n\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.opacity = '1';\r\n      target.id = '';\r\n      target.draggable = false;\r\n      if (target.classList.contains('move-ok')) {\r\n        target.classList.remove('move-ok');\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      // 受け渡された対象の装備データと交換！\r\n      const moveData = this.$store.state.draggingShipData as Ship;\r\n      if (moveData) {\r\n        // インスタンスにセット\r\n        this.setShip(moveData);\r\n      }\r\n    },\r\n    bootTooltip(item: Item, index: number, e: MouseEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (!item.data.id || setting.disabledItemTooltip || window.innerWidth < 600) {\r\n        return;\r\n      }\r\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('item-name')[0] as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = nameDiv.getBoundingClientRect();\r\n        this.tooltipX = rect.x + rect.width / 3;\r\n        this.tooltipY = rect.y + rect.height;\r\n        this.tooltipItem = item;\r\n        this.enabledTooltip = true;\r\n\r\n        this.tooltipBonus = JSON.stringify(this.value.getItemBonusDiff(index));\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    bootShipTooltip(e: MouseEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (setting.disabledShipTooltip) {\r\n        return;\r\n      }\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        this.tooltipX = e.clientX;\r\n        this.tooltipY = e.clientY;\r\n        this.enabledShipTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      this.enabledShipTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShipInput.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShipInput.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ShipInput.vue?vue&type=template&id=6806639a&scoped=true\"\nimport script from \"./ShipInput.vue?vue&type=script&lang=ts\"\nexport * from \"./ShipInput.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ShipInput.vue?vue&type=style&index=0&id=6806639a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6806639a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"chart-container\",class:{ 'normal-size': _vm.spNormal }},[_c('DoughnutChart',{ref:\"doughnutRef\",attrs:{\"chart-data\":_vm.actualData,\"options\":_vm.actualOptions,\"plugins\":_vm.plugins}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport vueCompositionApi from '@vue/composition-api';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { DoughnutChart } from 'vue-chart-3';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nChart.register(ChartDataLabels, ...registerables);\r\n\r\nexport interface LabelCallbackArg {\r\n  parsed: number;\r\n  dataset: { labels: string[] };\r\n  dataIndex: number;\r\n}\r\n\r\nexport interface DoughnutGraphData {\r\n  labels: string[];\r\n  datasets: {\r\n    data: number[];\r\n    backgroundColor: string[];\r\n    borderColor: string;\r\n  }[];\r\n}\r\n\r\nexport interface DoughnutGraphOption {\r\n  plugins: {\r\n    legend: {\r\n      display: boolean;\r\n    };\r\n    title: {\r\n      display: boolean;\r\n      text: string;\r\n      color: string;\r\n    };\r\n    tooltip: {\r\n      callbacks: {\r\n        label: (c: LabelCallbackArg) => string;\r\n      };\r\n    };\r\n    datalabels: {\r\n      color: string;\r\n      formatter: (v: number) => string;\r\n    };\r\n  };\r\n}\r\n\r\nexport default Vue.use(vueCompositionApi).extend({\r\n  components: {\r\n    DoughnutChart,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    options: {\r\n      type: Object,\r\n    },\r\n    titleText: {\r\n      type: String,\r\n    },\r\n    spNormal: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  data: () => ({\r\n    doughnutRef: {},\r\n    plugins: [ChartDataLabels],\r\n  }),\r\n  computed: {\r\n    actualData(): DoughnutGraphData {\r\n      if (this.$vuetify.theme.dark) {\r\n        // ダークテーマにより文字色や線の色を書き換え\r\n        this.data.datasets[0].borderColor = '#222';\r\n      }\r\n\r\n      return this.data;\r\n    },\r\n    actualOptions(): DoughnutGraphOption {\r\n      if (this.$vuetify.theme.dark) {\r\n        // ダークテーマにより文字色や線の色を書き換え\r\n        this.options.plugins.datalabels.color = '#fff';\r\n        this.options.plugins.title.color = '#ccc';\r\n      }\r\n      // タイトル修正\r\n      if (this.titleText) {\r\n        this.options.plugins.title.text = this.titleText;\r\n      }\r\n\r\n      return this.options;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doughnut.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doughnut.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./Doughnut.vue?vue&type=template&id=b2748e9e&scoped=true\"\nimport script from \"./Doughnut.vue?vue&type=script&lang=ts\"\nexport * from \"./Doughnut.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Doughnut.vue?vue&type=style&index=0&id=b2748e9e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2748e9e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],class:_vm.itemClass,attrs:{\"draggable\":_vm.isDraggable},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.dragStart(_vm.item, $event)},\"dragenter\":function($event){return _vm.dragEnter($event)},\"dragleave\":function($event){return _vm.dragLeave($event)},\"drop\":function($event){$event.stopPropagation();return _vm.dropItem($event)},\"dragend\":function($event){return _vm.dragEnd($event)},\"dragover\":function($event){$event.preventDefault();}}},[(!_vm.dense)?_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"transition\":\"slide-y-transition\",\"bottom\":\"\",\"right\":\"\",\"disabled\":!_vm.item.data.isPlane || _vm.isExpandSlot || _vm.readonly || _vm.draggingNow},on:{\"input\":_vm.onSlotMenuToggle},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({staticClass:\"item-slot\"},'div',attrs,false),on),[(!_vm.isExpandSlot)?_c('span',[_vm._v(_vm._s(_vm.item.fullSlot))]):(!_vm.isReleased)?_c('v-icon',{class:{ 'no-stock': _vm.item.noStock }},[_vm._v(\"mdi-cancel\")]):_c('v-icon',[_vm._v(\"mdi-wrench\")])],1)]}}],null,false,3408737872),model:{value:(_vm.slotMenu),callback:function ($$v) {_vm.slotMenu=$$v},expression:\"slotMenu\"}},[_c('v-card',{staticClass:\"px-2\"},[_c('div',{staticClass:\"d-flex px-2\"},[_c('v-text-field',{staticClass:\"slot-input\",attrs:{\"type\":\"number\",\"max\":_vm.max,\"min\":\"0\"},model:{value:(_vm.slotValue),callback:function ($$v) {_vm.slotValue=_vm._n($$v)},expression:\"slotValue\"}}),_c('v-btn',{staticClass:\"ml-2 align-self-center\",attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.slotValue = _vm.init}}},[_vm._v(_vm._s(_vm.$t(\"Common.初期値\")))])],1),_c('v-slider',{attrs:{\"max\":_vm.max,\"min\":\"0\"},model:{value:(_vm.slotValue),callback:function ($$v) {_vm.slotValue=$$v},expression:\"slotValue\"}})],1)],1):_vm._e(),_c('div',{staticClass:\"item-icon\",class:{ 'mx-1': !_vm.dense, draggable: _vm.isDraggable }},[(_vm.item.data.iconTypeId > 0)?_c('img',{attrs:{\"src\":`./img/type/icon${_vm.item.data.iconTypeId}.png`,\"alt\":\"item-icon\"}}):_vm._e()]),_c('div',{staticClass:\"item-name text-truncate\",class:{ 'text--secondary': _vm.isNoItem, 'is-special': _vm.item.data.isSpecial, 'no-stock': _vm.item.noStock },on:{\"click\":function($event){$event.stopPropagation();return _vm.showItemList()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.showItemList()}}},[_vm._v(\" \"+_vm._s(_vm.itemName)+\" \"),(_vm.bonusText === 'Saury')?_c('div',{staticClass:\"saury-bonus\"},[(_vm.$vuetify.theme.dark)?_c('v-icon',{attrs:{\"color\":\"light-blue lighten-3\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")]):_c('v-icon',{attrs:{\"color\":\"light-blue lighten-2\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")])],1):(_vm.bonusText)?_c('div',{staticClass:\"item-special-text\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(_vm.bonusText))])]):_vm._e()]),(!_vm.isNoItem && (!_vm.readonly || _vm.item.remodel > 0 || _vm.item.level > 0))?[_c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\",\"left\":\"\",\"disabled\":_vm.readonly || _vm.draggingNow || _vm.isEnemy},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({staticClass:\"item-remodel\",class:{ 'no-remodel': !_vm.item.data.canRemodel, 'value-0': _vm.item.remodel === 0 }},'div',attrs,false),on),[(_vm.dense)?_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":_vm.remodelIconColor}},[_vm._v(\"mdi-star\")]):_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.remodelIconColor}},[_vm._v(\"mdi-star\")]),_c('span',{class:_vm.remodelLabelColor},[_vm._v(_vm._s(_vm.item.remodel))])],1)]}}],null,false,374345708)},[_c('v-card',[_c('div',{staticClass:\"d-flex flex-column flex-sm-row\"},_vm._l((11),function(i){return _c('div',{key:i,staticClass:\"remodel-list-item\",on:{\"click\":function($event){return _vm.setRemodel(i - 1)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.setRemodel(i - 1)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('span',{staticClass:\"teal--text text--accent-4\"},[_vm._v(_vm._s(i - 1))])],1)}),0)])],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\",\"left\":\"\",\"disabled\":!_vm.item.data.isPlane || _vm.isExpandSlot || _vm.readonly || _vm.draggingNow || _vm.isEnemy},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({staticClass:\"item-level\"},'div',attrs,false),on),[(_vm.dense)?_c('v-img',{attrs:{\"src\":`./img/util/prof${_vm.item.levelAlt}.png`,\"height\":\"16\",\"width\":\"12\"}}):_c('v-img',{attrs:{\"src\":`./img/util/prof${_vm.item.levelAlt}.png`,\"height\":\"24\",\"width\":\"18\"}}),_c('span',{staticClass:\"level-value\"},[_vm._v(_vm._s(_vm.item.level))])],1)]}}],null,false,1910826967)},[_c('v-card',[_c('div',{staticClass:\"d-flex flex-column flex-sm-row\"},_vm._l((9),function(i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:i - 1,staticClass:\"level-list-item\",on:{\"click\":function($event){return _vm.setLevel(i - 1)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.setLevel(i - 1)}}},[_c('v-img',{attrs:{\"src\":`./img/util/prof${i - 1}.png`,\"width\":\"18\",\"height\":\"24\"}}),_c('span',{staticClass:\"level-list-value\"},[_vm._v(_vm._s(_vm.getLevelValue(i - 1)))])],1)}),0)])],1),_c('div',{staticClass:\"ml-1 item-remove align-self-center\"},[_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"black\",\"open-delay\":200,\"disabled\":!_vm.deathIndicatorColor},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function({ hover }){return [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDraggable),expression:\"isDraggable\"}],attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.removeItem()}}},'v-btn',attrs,false),on),[(hover)?_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-close\")]):(_vm.deathIndicatorColor)?[(_vm.isTriangleIcon)?_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-triangle\")]):_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-record\")])]:_vm._e()],2)]}}],null,true)})]}}],null,false,2297147381)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Result.全滅率\"))+\" \"+_vm._s(_vm.item.deathRate)+\" %\")])])],1)]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport Item, { ItemBuilder } from '@/classes/item/item';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport Const from '@/classes/const';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport Airbase from '@/classes/airbase/airbase';\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemInput',\r\n  props: {\r\n    handleShowItemList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    value: {\r\n      type: Item,\r\n      required: true,\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n    },\r\n    max: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    init: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    dragSlot: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    itemParent: {\r\n      type: Ship,\r\n      default: undefined,\r\n    },\r\n    handleDragStart: {\r\n      type: Function,\r\n    },\r\n    isEnemy: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isReleased: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    dense: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    slotMenu: false,\r\n    slotValue: 0,\r\n    draggingNow: false,\r\n  }),\r\n  computed: {\r\n    item(): Item {\r\n      return this.value;\r\n    },\r\n    isExpandSlot() {\r\n      return this.index === Const.EXPAND_SLOT_INDEX;\r\n    },\r\n    isNoItem() {\r\n      return this.value.data.id === 0;\r\n    },\r\n    setting(): SiteSetting {\r\n      return this.$store.state.siteSetting as SiteSetting;\r\n    },\r\n    needTrans(): boolean {\r\n      return this.$i18n.locale !== 'ja' && !this.setting.nameIsNotTranslate;\r\n    },\r\n    itemName() {\r\n      if (this.needTrans && this.value.data.name) {\r\n        return this.$t(`${this.value.data.name}`);\r\n      }\r\n      if (this.isExpandSlot && !this.isReleased && this.isNoItem) {\r\n        return this.$t('Fleet.補強増設未開放');\r\n      }\r\n      return this.value.data.name || this.$t('Fleet.未装備');\r\n    },\r\n    isDraggable() {\r\n      return this.value.data.id > 0 && !this.readonly;\r\n    },\r\n    remodelIconColor(): string {\r\n      if (this.item.data.canRemodel) {\r\n        if (this.$vuetify.theme.dark) {\r\n          return this.item.remodel > 0 ? 'teal accent-4' : 'grey';\r\n        }\r\n        return this.item.remodel > 0 ? 'teal accent-4' : 'grey lighten-1';\r\n      }\r\n      return 'red lighten-2';\r\n    },\r\n    remodelLabelColor(): string {\r\n      if (this.item.data.canRemodel) {\r\n        return this.item.remodel > 0 ? 'teal--text text--accent-4' : 'grey--text text-lighten-1';\r\n      }\r\n      return 'red--text text--lighten-2';\r\n    },\r\n    itemClass() {\r\n      const classes = ['item-input', `type-${this.value.data.iconTypeId}`];\r\n      if (this.readonly) {\r\n        classes.push('readonly');\r\n      }\r\n      if (this.isExpandSlot) {\r\n        classes.push('expand');\r\n        if (!this.isReleased) {\r\n          classes.push('disabled-expand');\r\n        }\r\n      }\r\n      if (this.isNoItem) {\r\n        classes.push('no-item');\r\n      }\r\n      if (!this.value.data.isPlane) {\r\n        classes.push('not-plane');\r\n      }\r\n      if (!this.isDraggable) {\r\n        classes.push('disabled-draggable');\r\n      }\r\n      if (this.dense) {\r\n        classes.push('minify-size');\r\n      }\r\n      return classes.join(' ');\r\n    },\r\n    bonusText(): string {\r\n      if (!this.value.data.id || !this.value.data.bonuses.length || !this.setting.displayBonusKey) {\r\n        return '';\r\n      }\r\n      const key = this.setting.displayBonusKey;\r\n      const bonus = this.value.data.bonuses.find((v) => v.key === key);\r\n      return bonus ? bonus.text : '';\r\n    },\r\n    deathIndicatorColor(): string {\r\n      // 全滅率インジケーターのカラー設定 表示有無もこれの返り値で判定\r\n      if (!this.value.data.isPlane || !this.value.deathRate || !this.setting.showDeathRateIndicator) {\r\n        return '';\r\n      }\r\n\r\n      if (this.value.deathRate < 10) {\r\n        return 'amber';\r\n      }\r\n      if (this.value.deathRate < 20) {\r\n        return 'orange darken-3';\r\n      }\r\n      return 'red darken-2';\r\n    },\r\n    isTriangleIcon(): boolean {\r\n      // 全滅率インジケーターを三角表示にするかどうか\r\n      return this.setting.isGraphicModeDeathRateIndicator && this.value.deathRate >= 10;\r\n    },\r\n  },\r\n  methods: {\r\n    setItem(value: Item) {\r\n      this.$emit('input', value);\r\n    },\r\n    onSlotMenuToggle() {\r\n      if (!this.slotMenu) {\r\n        // 搭載数メニューCloseイベント\r\n        const builder: ItemBuilder = { item: this.item, slot: Math.floor(this.slotValue) };\r\n        this.setItem(new Item(builder));\r\n      } else {\r\n        // 搭載数メニューOpenイベント\r\n        this.slotValue = this.item.fullSlot;\r\n      }\r\n    },\r\n    removeItem() {\r\n      this.setItem(new Item());\r\n    },\r\n    setLevel(value: number) {\r\n      const builder: ItemBuilder = { item: this.item, level: Const.PROF_LEVEL_BORDER[value] };\r\n      this.setItem(new Item(builder));\r\n    },\r\n    setRemodel(value: number) {\r\n      const builder: ItemBuilder = { item: this.item, remodel: value };\r\n      this.setItem(new Item(builder));\r\n    },\r\n    getLevelValue(value: number) {\r\n      return Const.PROF_LEVEL_BORDER[value];\r\n    },\r\n    showItemList() {\r\n      this.handleShowItemList(this.index);\r\n    },\r\n    dragStart(item: Item, e: DragEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      // ドラッグ開始条件 item-inputクラスがなかったりしたらドラッグ開始させない\r\n      if (!this.isDraggable || !target || !target.classList || !target.classList.contains('item-input') || !target.draggable) {\r\n        return;\r\n      }\r\n      const transfer = e.dataTransfer as DataTransfer;\r\n      transfer.setData('text/plain', JSON.stringify(item));\r\n      // ドラッグ元を一意識別するためのclassを追加\r\n      target.id = 'dragging-item';\r\n      target.dataset.itemId = `${this.value.data.id}`;\r\n      target.dataset.remodel = `${this.value.remodel}`;\r\n      target.dataset.apiType = `${this.value.data.apiTypeId}`;\r\n      target.dataset.isPlane = `${this.value.data.isPlane ? 'true' : ''}`;\r\n\r\n      // 一時的に全てのitem inputの子要素マウスイベントを消す\r\n      const itemInputs = document.getElementsByClassName('item-input');\r\n      for (let i = 0; i < itemInputs.length; i += 1) {\r\n        itemInputs[i].classList.add('dragging');\r\n      }\r\n\r\n      this.draggingNow = true;\r\n      this.handleDragStart();\r\n    },\r\n    dragEnter(e: DragEvent): void {\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      const target = e.target as HTMLDivElement;\r\n      if (!draggingDiv || !target || !target.classList || !target.classList.contains('item-input')) {\r\n        return;\r\n      }\r\n      if (target.classList.contains('disabled-drop')) {\r\n        // 判定済み -搭載不可\r\n        target.style.backgroundColor = 'rgba(255, 128, 128, 0.6)';\r\n        return;\r\n      }\r\n      if (target.classList.contains('enabled-drop')) {\r\n        // 判定済み -搭載可\r\n        target.style.backgroundColor = 'rgba(80, 160, 255, 0.6)';\r\n        return;\r\n      }\r\n      // 装備搭載可能チェック\r\n      if (!draggingDiv || !draggingDiv.dataset.itemId || !draggingDiv.dataset.apiType) {\r\n        return;\r\n      }\r\n      const item = new ItemMaster();\r\n      item.id = +draggingDiv.dataset.itemId;\r\n      item.apiTypeId = +draggingDiv.dataset.apiType;\r\n      const remodel = draggingDiv.dataset.remodel ? +draggingDiv.dataset.remodel : 0;\r\n      if (\r\n        (this.itemParent instanceof Ship && !ShipValidation.isValidItem(this.itemParent.data, item, this.index, remodel))\r\n        || (this.itemParent instanceof Airbase && !draggingDiv.dataset.isPlane)\r\n      ) {\r\n        // 搭載不可なので背景色を変な色にする\r\n        target.style.backgroundColor = 'rgba(255, 128, 128, 0.6)';\r\n        // 毎回判定していたらダルいので2回目以降判定しないフラグ持たせておく\r\n        target.classList.add('disabled-drop');\r\n      } else {\r\n        // 受け入れ可能 背景色を青っぽく\r\n        target.style.backgroundColor = 'rgba(80, 160, 255, 0.6)';\r\n        // 毎回判定していたらダルいので2回目以降判定しないフラグ持たせておく\r\n        target.classList.add('enabled-drop');\r\n      }\r\n    },\r\n    dragLeave(e: DragEvent) {\r\n      (e.target as HTMLDivElement).style.backgroundColor = '';\r\n    },\r\n    dropItem(e: DragEvent) {\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      // そもそもドラッグ開始が正常になされているか？\r\n      if (!draggingDiv || !draggingDiv.classList.contains('item-input')) {\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.backgroundColor = '';\r\n\r\n      if (!target.classList.contains('enabled-drop')) {\r\n        // ここにはドロップ不可なのでやめやめ！\r\n        return;\r\n      }\r\n      // 受け渡されたデータ\r\n      const droppedData = (e.dataTransfer as DataTransfer).getData('text/plain');\r\n      // 元々あったitem情報があれば、ドロップ元のdataに一時保管\r\n      if (!this.isNoItem && !e.ctrlKey && draggingDiv) {\r\n        const prevData = JSON.stringify(this.item);\r\n        draggingDiv.dataset.item = prevData;\r\n      }\r\n      if (!e.ctrlKey && draggingDiv) {\r\n        // ドロップ成功したならドラッグ元を消すつもりでIKEYA！\r\n        draggingDiv.classList.add('delete-flg');\r\n      }\r\n\r\n      // ドロップされたデータで上書きする\r\n      if (droppedData) {\r\n        const builder: ItemBuilder = { item: JSON.parse(droppedData) as Item };\r\n        if (!this.dragSlot) {\r\n          // 搭載数変更しないオプションがついている => 専ら艦娘画面でのドラッグ操作\r\n          if (builder.item && builder.item.data.apiTypeId === 41) {\r\n            // 大型飛行艇で上書きする => 搭載数を1に減少させる\r\n            builder.slot = 1;\r\n          } else if (this.value.data.apiTypeId === 41) {\r\n            // もともと大型飛行艇が入っていた => 搭載数を引き継がず、初期搭載にする\r\n            builder.slot = this.init;\r\n          } else {\r\n            // 元々入っていた装備の搭載数を引き継ぐ\r\n            builder.slot = this.value.fullSlot;\r\n          }\r\n        }\r\n\r\n        if (this.itemParent instanceof Airbase && builder.item) {\r\n          // 基地航空隊の場合 => 既定搭載数より大きかったら戻す\r\n          builder.slot = Math.min(builder.slot ?? builder.item.slot, builder.item.data.airbaseMaxSlot);\r\n        }\r\n        this.setItem(new Item(builder));\r\n      }\r\n    },\r\n    dragEnd() {\r\n      // まずはいままで消していたマウスイベントを復帰させる\r\n      const itemInputs = document.getElementsByClassName('item-input');\r\n      for (let i = 0; i < itemInputs.length; i += 1) {\r\n        itemInputs[i].classList.remove('dragging');\r\n      }\r\n\r\n      // 判定されていた全てのitem-input情報から判定を解除\r\n      const elements1 = document.getElementsByClassName('enabled-drop');\r\n      while (elements1.length > 0) {\r\n        elements1[0].classList.remove('enabled-drop');\r\n      }\r\n      const elements2 = document.getElementsByClassName('disabled-drop');\r\n      while (elements2.length > 0) {\r\n        elements2[0].classList.remove('disabled-drop');\r\n      }\r\n\r\n      const draggingDiv = document.getElementById('dragging-item') as HTMLDivElement;\r\n      if (!draggingDiv || !draggingDiv.draggable) {\r\n        // そもそもドラッグ不可ならなんもせず終わる\r\n        return;\r\n      }\r\n      // ドラッグ元を一意識別するためのidを削除\r\n      draggingDiv.id = '';\r\n      delete draggingDiv.dataset.itemId;\r\n      delete draggingDiv.dataset.remodel;\r\n      delete draggingDiv.dataset.apiType;\r\n      delete draggingDiv.dataset.isPlane;\r\n\r\n      const builder: ItemBuilder = {};\r\n      if (!this.dragSlot) {\r\n        // 搭載数変更しないオプションがついているなら搭載数は据え置く\r\n        builder.slot = this.value.fullSlot;\r\n      }\r\n\r\n      // 受け渡された対象の装備データ あれば。\r\n      const itemData = draggingDiv.dataset.item;\r\n      if (itemData) {\r\n        // 交換\r\n        builder.item = JSON.parse(itemData) as Item;\r\n        // 交換前にチェック\r\n        if (this.itemParent instanceof Ship) {\r\n          if (!ShipValidation.isValidItem(this.itemParent.data, builder.item.data, this.index, builder.item.remodel)) {\r\n            // 搭載不可なので外す\r\n            builder.item = undefined;\r\n            this.setItem(new Item(builder));\r\n            delete draggingDiv.dataset.item;\r\n          } else {\r\n            // 日進 & 大型飛行艇調整\r\n            if (builder.item.data.apiTypeId === 41) {\r\n              // 交換として受け渡されてきた装備が大型飛行艇 => 搭載数を1に矯正\r\n              builder.slot = 1;\r\n            } else if (this.value.data.apiTypeId === 41) {\r\n              // 元々ここにあった装備が大型飛行艇 => 搭載数をいったん初期値に矯正\r\n              builder.slot = this.init;\r\n            }\r\n            this.setItem(new Item(builder));\r\n            delete draggingDiv.dataset.item;\r\n          }\r\n        } else if (builder.item && builder.item.data.isPlane) {\r\n          this.setItem(new Item(builder));\r\n          delete draggingDiv.dataset.item;\r\n        } else {\r\n          // 搭載不可なので外す\r\n          builder.item = undefined;\r\n          this.setItem(new Item(builder));\r\n          delete draggingDiv.dataset.item;\r\n        }\r\n      } else if (draggingDiv.classList.contains('delete-flg')) {\r\n        // 外す処理\r\n        draggingDiv.classList.remove('delete-flg');\r\n        this.setItem(new Item(builder));\r\n      } else {\r\n        // 計算を発火\r\n        this.setItem(new Item({ item: this.value }));\r\n      }\r\n\r\n      // drag処理の終了\r\n      this.draggingNow = false;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemInput.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemInput.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ItemInput.vue?vue&type=template&id=27fd129c&scoped=true\"\nimport script from \"./ItemInput.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemInput.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ItemInput.vue?vue&type=style&index=0&id=27fd129c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27fd129c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',{staticClass:\"list-card\"},[_c('div',{staticClass:\"d-flex py-2 pr-2 align-center\"},[_c('div',{staticClass:\"item-search-text ml-3\"},[_c('v-text-field',{attrs:{\"placeholder\":_vm.$t('ItemList.図鑑id 名称検索'),\"clearable\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"prepend-inner-icon\":\"mdi-magnify\"},on:{\"input\":function($event){return _vm.filter()}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),(!_vm.isMobile)?[_c('div',{staticClass:\"ml-1 filter-select\"},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.filterStatusItems},on:{\"change\":function($event){return _vm.changedFilter()}},model:{value:(_vm.filterStatus),callback:function ($$v) {_vm.filterStatus=$$v},expression:\"filterStatus\"}})],1),_c('div',{staticClass:\"filter-value-input\"},[_c('v-text-field',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"type\":\"number\",\"max\":\"30\",\"min\":\"0\"},on:{\"input\":function($event){return _vm.changedFilter()}},model:{value:(_vm.filterStatusValue),callback:function ($$v) {_vm.filterStatusValue=$$v},expression:\"filterStatusValue\"}})],1),_c('div',{staticClass:\"align-self-end caption\"},[_vm._v(_vm._s(_vm.isCostFilter ? _vm.$t(\"ItemList.以下\") : _vm.$t(\"ItemList.以上\")))]),(_vm.filterStatusValue || _vm.keyword)?_c('div',{staticClass:\"align-self-end ml-1\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.resetFilter()}}},[_c('v-icon',[_vm._v(\"mdi-trash-can-outline\")])],1)],1):_vm._e()]:_vm._e(),_c('v-spacer'),(!_vm.isMobile)?[_c('div',{staticClass:\"mr-5\"},[_c('v-btn-toggle',{attrs:{\"dense\":\"\",\"borderless\":\"\",\"mandatory\":\"\"},model:{value:(_vm.multiLine),callback:function ($$v) {_vm.multiLine=$$v},expression:\"multiLine\"}},[_c('v-btn',{class:{ primary: !_vm.multiLine, secondary: _vm.multiLine },attrs:{\"value\":false},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeMultiLine(false)}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-view-headline\")])],1),_c('v-btn',{class:{ primary: _vm.multiLine, secondary: !_vm.multiLine },attrs:{\"value\":true},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeMultiLine(true)}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-view-comfy\")])],1)],1)],1)]:[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.filterDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-filter\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.sortDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-sort\")])],1)],_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],2),_c('v-divider'),(!_vm.isMobile)?_c('div',{staticClass:\"item-filter-container px-3 py-1\"},[(!_vm.isBatchMode || !_vm.isCheckedOnly)?[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.敵装備')},on:{\"change\":function($event){return _vm.filter()}},model:{value:(_vm.isEnemyMode),callback:function ($$v) {_vm.isEnemyMode=$$v},expression:\"isEnemyMode\"}}),(!_vm.isAirbaseMode)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-btn',{staticClass:\"manual-checkbox-button\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleAffectingRangeFilter()}}},[(_vm.onlyAffectingRange)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyNotAffectingRange)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',{staticClass:\"manual-icon\"},[_vm._v(\"mdi-minus-box-outline\")])],1),_c('span',{on:{\"click\":function($event){return _vm.toggleAffectingRangeFilter()},\"keypress\":function($event){return _vm.toggleAffectingRangeFilter()}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.射程増加\")))])],1):_vm._e(),(_vm.type === 7 && !_vm.isEnemyMode)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-btn',{staticClass:\"manual-checkbox-button\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleLandBaseAttackFilter()}}},[(_vm.onlyEnabledLandBaseAttack)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyDisabledLandBaseAttack)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',{staticClass:\"manual-icon\"},[_vm._v(\"mdi-minus-box-outline\")])],1),_c('span',{on:{\"click\":function($event){return _vm.toggleLandBaseAttackFilter()},\"keypress\":function($event){return _vm.toggleLandBaseAttackFilter()}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.対地攻撃\")))])],1):_vm._e(),(_vm.enabledNightAircraftFilter)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.夜間機')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.onlyNightAircraft),callback:function ($$v) {_vm.onlyNightAircraft=$$v},expression:\"onlyNightAircraft\"}})],1):_vm._e(),(_vm.enabledAAResistFilter)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.射撃回避')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.onlyAAResistAircraft),callback:function ($$v) {_vm.onlyAAResistAircraft=$$v},expression:\"onlyAAResistAircraft\"}})],1):_vm._e(),(_vm.type === 14)?[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.ソナー')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeSonar),callback:function ($$v) {_vm.includeSonar=$$v},expression:\"includeSonar\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.爆雷')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeDepthCharge),callback:function ($$v) {_vm.includeDepthCharge=$$v},expression:\"includeDepthCharge\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.爆雷投射機')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeDepthChargeLauncher),callback:function ($$v) {_vm.includeDepthChargeLauncher=$$v},expression:\"includeDepthChargeLauncher\"}})]:_vm._e(),(_vm.type === 5)?[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.魚雷')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeTorpedo),callback:function ($$v) {_vm.includeTorpedo=$$v},expression:\"includeTorpedo\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.特殊潜航艇')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeSPTorpedo),callback:function ($$v) {_vm.includeSPTorpedo=$$v},expression:\"includeSPTorpedo\"}}),_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.潜水艦魚雷')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeSVTorpedo),callback:function ($$v) {_vm.includeSVTorpedo=$$v},expression:\"includeSVTorpedo\"}})]:_vm._e(),(!_vm.isEnemyMode && _vm.setting.displayBonusKey)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.特効装備')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.isSpecialOnly),callback:function ($$v) {_vm.isSpecialOnly=$$v},expression:\"isSpecialOnly\"}})],1):_vm._e()]:_vm._e(),(_vm.isStockOnly && !_vm.multiLine && !_vm.isEnemyMode)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.改修値無効')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.sortExcludeRemodelStatus),callback:function ($$v) {_vm.sortExcludeRemodelStatus=$$v},expression:\"sortExcludeRemodelStatus\"}})],1):_vm._e(),(!_vm.multiLine && !_vm.isAirbaseMode && !_vm.isEnemyMode)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.装備シナジー無効')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.sortExcludeSynergyStatus),callback:function ($$v) {_vm.sortExcludeSynergyStatus=$$v},expression:\"sortExcludeSynergyStatus\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-auto mt-1 d-flex align-center\"},[(_vm.itemStock.length && !_vm.isEnemyMode)?_c('v-switch',{staticClass:\"mt-0 mr-2\",attrs:{\"label\":_vm.$t('ItemList.所持装備反映'),\"dense\":\"\",\"hide-details\":\"\",\"disabled\":!!_vm.batchList.length},on:{\"click\":_vm.clickedStockOnly},model:{value:(_vm.isStockOnly),callback:function ($$v) {_vm.isStockOnly=$$v},expression:\"isStockOnly\"}}):_vm._e(),_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.showBlacklist()}}},[_c('v-icon',[_vm._v(\"mdi-eye-off\")]),_vm._v(\"(\"+_vm._s(_vm.setting.blacklistItemIds.length)+\")\")],1)],1)],2):_vm._e(),_c('div',{staticClass:\"type-selector-container\",class:{ 'ml-3': _vm.multiLine && !_vm.isMobile, 'ml-1': !_vm.multiLine }},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"type-selector\",class:{ active: _vm.type === -1 && !_vm.disabledDetailFilter, disabled: _vm.keyword, 'batch-max': _vm.isBatchListMax },on:{\"click\":function($event){return _vm.changeType(-1)},\"keypress\":function($event){return _vm.changeType(-1)}}},[_c('div',{staticClass:\"type-all-text\"},[_vm._v(\"ALL\")])]),_vm._l((_vm.enabledTypes),function(i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:i.id,staticClass:\"type-selector\",class:{ active: _vm.type === i.id && !_vm.disabledDetailFilter, disabled: _vm.keyword, 'batch-max': _vm.isBatchListMax },on:{\"click\":function($event){return _vm.changeType(i.id)},\"keypress\":function($event){return _vm.changeType(i.id)}}},[_c('v-img',{attrs:{\"src\":`./img/type/type${_vm.isAirbaseMode && i.id === 17 ? 26 : i.id}.png`,\"height\":\"32\",\"width\":\"32\"}})],1)}),(_vm.batchList.length)?_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"type-selector\",class:{ active: _vm.isCheckedOnly, disabled: _vm.keyword },on:{\"click\":_vm.toggleCheckedOnly,\"keypress\":_vm.toggleCheckedOnly}},[_vm._v(\" \"+_vm._s(_vm.$t(\"Fleet.選択済\"))+\" \")]):_vm._e()],2),_c('v-divider',{class:{ 'mx-3': _vm.multiLine && !_vm.isMobile }}),_c('div',{staticClass:\"pb-2\",class:{ 'ml-3': _vm.multiLine && !_vm.isMobile, 'table-mode': !_vm.multiLine, 'px-2': _vm.isMobile },attrs:{\"id\":\"item-table-body\"}},[(!_vm.multiLine && _vm.viewItems.length)?_c('div',{staticClass:\"item-status-header\"},[_c('div',{staticClass:\"pl-1\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.sortDialog = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-sort\")])],1)],1),_c('div',{staticClass:\"item-status text-left flex-grow-1\",class:{ desc: _vm.sortKey === 'name' && _vm.isDesc, asc: _vm.sortKey === 'name' && !_vm.isDesc },on:{\"click\":function($event){return _vm.toggleSortKey('name')},\"keypress\":function($event){return _vm.toggleSortKey('name')}}},[_c('div',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")]),_vm._v(_vm._s(_vm.$t(`Common.装備名称`)))],1)]),_vm._l((_vm.headerItems),function(data,i){return _c('div',{key:`item${i}`,class:_vm.itemHeaderClasses(data.key, _vm.viewStatus),on:{\"click\":function($event){return _vm.toggleSortKey(data.key)},\"keypress\":function($event){return _vm.toggleSortKey(data.key)}}},[_c('div',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")]),_vm._v(_vm._s(_vm.$t(`Common.${data.text}`)))],1)])}),_c('div',{class:_vm.itemHeaderClasses('airPower', _vm.viewStatus),on:{\"click\":function($event){return _vm.toggleSortKey('airPower')},\"keypress\":function($event){return _vm.toggleSortKey('airPower')}}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center ml-auto\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1),_c('div',[_c('div',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('div',[_vm._v(\"(\"+_vm._s(_vm.$t(\"Common.x機\", { number: _vm.slot }))+\")\")])])])]),_c('div',{class:_vm.itemHeaderClasses('defenseAirPower', _vm.viewStatus),on:{\"click\":function($event){return _vm.toggleSortKey('defenseAirPower')},\"keypress\":function($event){return _vm.toggleSortKey('defenseAirPower')}}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center ml-auto\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.防空制空\")))]),_c('div',[_vm._v(\"(\"+_vm._s(_vm.$t(\"Common.x機\", { number: _vm.slot }))+\")\")])])])])],2):_vm._e(),_vm._l((_vm.itemListData),function(data,i){return _c('div',{key:i},[(_vm.multiLine && !_vm.isMobile)?_c('div',{staticClass:\"type-divider\"},[_c('div',{staticClass:\"caption text--secondary\"},[_vm._v(_vm._s(_vm.$t(`EType.${data.typeName}`)))]),_c('div',{staticClass:\"type-divider-border\"})]):_vm._e(),_c('div',{staticClass:\"type-item-container\",class:{ multi: _vm.multiLine, 'batch-mode': _vm.isBatchMode, 'batch-max': _vm.isBatchListMax }},[(!_vm.multiLine && data.items.length)?_c('div',{staticClass:\"list-item-container\"},_vm._l((data.items),function(item,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: item.count ? 'info--text' : 'red--text' }),expression:\"{ class: item.count ? 'info--text' : 'red--text' }\"}],key:`item-${i}`,staticClass:\"list-item single\",class:{\n              'no-stock': !item.count,\n              'has-bonus': !_vm.isCheckedOnly && item.sumBonus,\n              'has-bad-bonus': !_vm.isCheckedOnly && item.sumBonus < 0,\n              'ignore-bonus': _vm.sortExcludeSynergyStatus,\n              selected: item.batchListIndexes.length,\n              disabled: !_vm.isCheckedOnly && item.disabled,\n              'lack-remodel': item.lackRemodel,\n            },on:{\"click\":function($event){return _vm.clickedItem(item, $event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.clickedItem(item, $event)},\"contextmenu\":function($event){return _vm.showItemMenu(item, $event)}}},[_c('div',[_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${item.item.data.iconTypeId}.png`,\"height\":\"30\",\"width\":\"30\"}})],1),(item.text === 'Saury')?_c('div',{staticClass:\"saury-bonus\"},[(_vm.$vuetify.theme.dark)?_c('v-icon',{attrs:{\"color\":\"light-blue lighten-3\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")]):_c('v-icon',{attrs:{\"color\":\"light-blue lighten-2\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")])],1):(item.text)?_c('div',{staticClass:\"item-special-text\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(item.text))])]):_vm._e(),(item.batchListIndexes.length)?_c('div',{staticClass:\"batch-index-container\"},_vm._l((item.batchListIndexes),function(value){return _c('div',{key:value,staticClass:\"batch-index\"},[_vm._v(\" \"+_vm._s(_vm.isShipMode && value + 1 === _vm.batchMax ? _vm.$t(\"ItemList.補\") : value + 1)+\" \")])}),0):_vm._e()]),_c('div',{staticClass:\"item-name-container\",class:{ 'is-special': item.item.data.isSpecial },on:{\"mouseenter\":function($event){return _vm.bootTooltip(item.item, item.bonus, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item.item, item.bonus, $event)},\"blur\":_vm.clearTooltip}},[_c('div',{staticClass:\"text-truncate\"},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${item.item.data.name}`) : item.item.data.name)+\" \")])]),(!_vm.isCheckedOnly && item.sumBonus)?_c('div',{staticClass:\"bonus-icon\"},[(item.sumBonus < 0)?_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-chevron-double-down\")]):(item.sumBonus <= 2)?_c('v-icon',{staticClass:\"pt-1\",attrs:{\"color\":item.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-up\")]):(item.sumBonus <= 5)?_c('v-icon',{attrs:{\"color\":item.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-double-up\")]):_c('v-icon',{attrs:{\"color\":item.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-triple-up\")])],1):_vm._e(),(_vm.isStockOnly && item.remodel > 0)?_c('div',{staticClass:\"item-remodel caption mr-1\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-star\")]),_c('span',[_vm._v(_vm._s(item.remodel))])],1):_vm._e(),(_vm.isStockOnly && !_vm.isEnemyMode)?_c('div',{staticClass:\"item-count caption\"},[_c('span',[_vm._v(\"×\")]),_c('span',[_vm._v(_vm._s(item.count))])]):_vm._e(),_vm._l((_vm.viewStatus),function(key){return _c('div',{key:`status${key}`,staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(item, key)))])})],2)}),0):_vm._l((data.items),function(v,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: v.count ? 'info--text' : 'red--text' }),expression:\"{ class: v.count ? 'info--text' : 'red--text' }\"}],key:i,staticClass:\"list-item\",class:{\n              'no-stock': !v.count,\n              'has-bonus': !_vm.isCheckedOnly && v.sumBonus,\n              'has-bad-bonus': !_vm.isCheckedOnly && v.sumBonus < 0,\n              'ignore-bonus': _vm.sortExcludeSynergyStatus,\n              mobile: _vm.isMobile,\n              selected: v.batchListIndexes.length,\n              disabled: !_vm.isCheckedOnly && v.disabled,\n            },on:{\"click\":function($event){return _vm.clickedItem(v, $event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.clickedItem(v, $event)},\"contextmenu\":function($event){return _vm.showItemMenu(v, $event)}}},[_c('div',[_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${v.item.data.iconTypeId}.png`,\"height\":\"30\",\"width\":\"30\"}})],1),(v.text === 'Saury')?_c('div',{staticClass:\"saury-bonus\"},[(_vm.$vuetify.theme.dark)?_c('v-icon',{attrs:{\"color\":\"light-blue lighten-3\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")]):_c('v-icon',{attrs:{\"color\":\"light-blue lighten-2\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")])],1):(v.text)?_c('div',{staticClass:\"item-special-text\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(v.text))])]):_vm._e(),(v.batchListIndexes.length)?_c('div',{staticClass:\"batch-index-container\"},_vm._l((v.batchListIndexes),function(value){return _c('div',{key:value,staticClass:\"batch-index\"},[_vm._v(\" \"+_vm._s(_vm.isShipMode && value + 1 === _vm.batchMax ? _vm.$t(\"ItemList.補\") : value + 1)+\" \")])}),0):_vm._e()]),_c('div',{staticClass:\"flex-grow-1\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('div',{staticClass:\"item-name-container\",class:{ 'is-special': v.item.data.isSpecial },on:{\"mouseenter\":function($event){return _vm.bootTooltip(v.item, v.bonus, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(v.item, v.bonus, $event)},\"blur\":_vm.clearTooltip}},[_c('div',{staticClass:\"text-truncate\"},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${v.item.data.name}`) : v.item.data.name)+\" \")])]),(!_vm.isCheckedOnly && v.sumBonus)?_c('div',{staticClass:\"bonus-icon\"},[(v.sumBonus < 0)?_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-chevron-double-down\")]):(v.sumBonus <= 2)?_c('v-icon',{staticClass:\"pt-1\",attrs:{\"color\":v.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-up\")]):(v.sumBonus <= 5)?_c('v-icon',{attrs:{\"color\":v.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-double-up\")]):_c('v-icon',{attrs:{\"color\":v.batchListIndexes.length ? 'success' : 'light-blue'}},[_vm._v(\"mdi-chevron-triple-up\")])],1):_vm._e(),(_vm.isStockOnly && v.remodel > 0)?_c('div',{staticClass:\"item-remodel caption mr-1\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-star\")]),_c('span',[_vm._v(_vm._s(v.remodel))])],1):_vm._e(),(_vm.isStockOnly && !_vm.isEnemyMode)?_c('div',{staticClass:\"item-count caption\"},[_c('span',[_vm._v(\"×\")]),_c('span',[_vm._v(_vm._s(v.count))])]):_vm._e()]),(_vm.isMobile)?_c('div',{staticClass:\"mobile-sub-status\"},_vm._l((_vm.viewStatus),function(key){return _c('div',{key:`status${key}`,staticClass:\"mobile-sub-status-value\"},[_c('div',{staticClass:\"sub-status-header\"},[_vm._v(_vm._s(_vm.$t(`Statuses.${key}`)))]),_c('div',[_vm._v(_vm._s(_vm.formatStatus(v, key)))])])}),0):_vm._e()])])})],2)])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewItems.length === 0),expression:\"viewItems.length === 0\"}],staticClass:\"body-2 text-center mt-6\"},[_vm._v(_vm._s(_vm.$t(\"Common.探したけど見つからなかったよ\"))+\"😢\")])],2),_c('v-menu',{attrs:{\"position-x\":_vm.menuX,\"position-y\":_vm.menuY,\"absolute\":\"\",\"offset-y\":\"\"},model:{value:(_vm.showMenu),callback:function ($$v) {_vm.showMenu=$$v},expression:\"showMenu\"}},[(_vm.menuItem)?_c('v-list',{staticClass:\"caption\",attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":\"\",\"disabled\":!_vm.isAirbaseMode && !_vm.isShipMode},on:{\"click\":function($event){return _vm.compareItem()}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.装備比較\")))]),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.clickedItem(_vm.menuItem)}}},[_vm._v(_vm._s(_vm.$t(\"Common.配備\")))]),(_vm.isStockOnly && !_vm.isReadonlyMode)?_c('v-menu',{attrs:{\"offset-x\":\"\",\"max-width\":\"72\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-list-item',_vm._g(_vm._b({attrs:{\"link\":\"\"}},'v-list-item',attrs,false),on),[_vm._v(_vm._s(_vm.$t(\"ItemList.改修値変更\")))])]}}],null,false,3220070258),model:{value:(_vm.remodelChangeMenu),callback:function ($$v) {_vm.remodelChangeMenu=$$v},expression:\"remodelChangeMenu\"}},[_c('v-list',{staticClass:\"caption\",attrs:{\"dense\":\"\"}},_vm._l((11),function(remodel){return _c('v-list-item',{key:`change-remodel-${remodel}`,attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.changeRemodel(_vm.menuItem.item, 11 - remodel)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('span',{staticClass:\"teal--text text--accent-4\"},[_vm._v(_vm._s(11 - remodel))])],1)}),1)],1):_vm._e(),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.copyItemName()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.装備名コピー\"))+\" \"),_c('input',{attrs:{\"id\":\"item-name-box\",\"readonly\":\"\"},domProps:{\"value\":_vm.menuItem.item.data.name}})]),_c('v-list-item',{attrs:{\"link\":\"\",\"disabled\":_vm.menuItem.item.data.isEnemyItem},on:{\"click\":function($event){return _vm.openWiki(_vm.menuItem.item.data)}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.wikiを開く\")))]),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){_vm.showMenu = false}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.メニューを閉じる\")))])],1):_vm._e()],1),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{attrs:{\"bonus\":_vm.tooltipBonus,\"is-airbase-mode\":_vm.isAirbaseMode},model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1),_c('v-dialog',{attrs:{\"transition\":\"scroll-x-transition\",\"width\":\"400\"},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('v-card',{staticClass:\"pa-3\"},[_c('div',{staticClass:\"ma-4\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.既に配備されています。\")))]),_c('div',{staticClass:\"caption mt-2\"},[_vm._v(\"※ \"+_vm._s(_vm.$t(\"Common.配備を押せば無視して配備できます。\")))])]),_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"d-flex\"},[_c('v-btn',{staticClass:\"ml-auto\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickedItem(_vm.confirmItem, $event)}}},[_vm._v(_vm._s(_vm.$t(\"Common.配備\")))]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmDialog = false}}},[_vm._v(_vm._s(_vm.$t(\"Common.戻る\")))])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"660\",\"fullscreen\":_vm.isMobile},on:{\"input\":_vm.toggleBlacklistDialog},model:{value:(_vm.blacklistDialog),callback:function ($$v) {_vm.blacklistDialog=$$v},expression:\"blacklistDialog\"}},[_c('blacklist-item-edit',{attrs:{\"handle-close\":_vm.closeBlacklist}})],1),_c('v-dialog',{attrs:{\"width\":\"600\"},model:{value:(_vm.sortDialog),callback:function ($$v) {_vm.sortDialog=$$v},expression:\"sortDialog\"}},[_c('v-card',{staticClass:\"pa-3\"},[_c('div',{staticClass:\"d-flex px-2 align-center\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.ソート\")))]),_c('v-btn',{staticClass:\"ml-auto\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.sortDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider',{staticClass:\"mt-2 mb-3\"}),_c('div',{staticClass:\"sort-selector px-2\"},_vm._l((_vm.sortKeyItems),function(item,j){return _c('div',{key:`key${j}`,staticClass:\"sort-key\"},[_c('v-btn',{class:{ primary: item.value === _vm.sortKey },attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.selectSortKey(item.value)}}},[_vm._v(\" \"+_vm._s(_vm.$t(`Common.${item.text}`))+\" \")])],1)}),0),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-radio-group',{attrs:{\"row\":\"\",\"hide-detail\":\"\"},on:{\"change\":_vm.handleSortItem},model:{value:(_vm.isDesc),callback:function ($$v) {_vm.isDesc=$$v},expression:\"isDesc\"}},[_c('v-radio',{staticClass:\"mx-10\",attrs:{\"label\":_vm.$t('Common.昇順'),\"value\":false}}),_c('v-radio',{staticClass:\"mx-10\",attrs:{\"label\":_vm.$t('Common.降順'),\"value\":true}})],1)],1),_c('v-divider'),_c('div',{staticClass:\"d-flex mt-3 justify-end\"},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.resetOrdering}},[_vm._v(_vm._s(_vm.$t(\"Common.リセット\")))])],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\"},on:{\"input\":_vm.toggleFilterDialog},model:{value:(_vm.filterDialog),callback:function ($$v) {_vm.filterDialog=$$v},expression:\"filterDialog\"}},[_c('v-card',{staticClass:\"filter-dialog-card\"},[_c('div',{staticClass:\"d-flex px-2 py-1 align-center\"},[_c('div',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.絞り込み\")))]),_c('v-spacer'),(_vm.itemStock.length && !_vm.isEnemyMode)?_c('v-switch',{staticClass:\"mt-0\",attrs:{\"label\":_vm.$t('ItemList.所持装備反映'),\"dense\":\"\",\"disabled\":!!_vm.batchList.length || !_vm.itemStock.length || _vm.isEnemyMode,\"hide-details\":\"\"},on:{\"click\":_vm.clickedStockOnly},model:{value:(_vm.isStockOnly),callback:function ($$v) {_vm.isStockOnly=$$v},expression:\"isStockOnly\"}}):_vm._e(),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.closeFilterDialog()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"filter-mobile-inputs pa-2\"},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.filterStatusItems},model:{value:(_vm.filterStatus),callback:function ($$v) {_vm.filterStatus=$$v},expression:\"filterStatus\"}}),_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"type\":\"number\",\"max\":\"30\",\"min\":\"0\"},model:{value:(_vm.filterStatusValue),callback:function ($$v) {_vm.filterStatusValue=$$v},expression:\"filterStatusValue\"}}),_c('div',{staticClass:\"align-self-end caption\"},[_vm._v(_vm._s(_vm.isCostFilter ? _vm.$t(\"ItemList.以下\") : _vm.$t(\"ItemList.以上\")))]),(_vm.filterStatusValue || _vm.keyword)?_c('div',{staticClass:\"align-self-end ml-1\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.resetFilter()}}},[_c('v-icon',[_vm._v(\"mdi-trash-can-outline\")])],1)],1):_vm._e()],1)],1),_c('v-divider'),_c('v-list',{staticClass:\"pt-0\",attrs:{\"dense\":\"\"}},[(!_vm.isBatchMode || !_vm.isCheckedOnly)?[(_vm.type === 14)?[_c('v-list-item',{on:{\"click\":function($event){_vm.includeSonar = !_vm.includeSonar}}},[_c('v-list-item-icon',[(_vm.includeSonar)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.ソナー\")))])],1)],1),_c('v-list-item',{on:{\"click\":function($event){_vm.includeDepthCharge = !_vm.includeDepthCharge}}},[_c('v-list-item-icon',[(_vm.includeDepthCharge)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.爆雷\")))])],1)],1),_c('v-list-item',{on:{\"click\":function($event){_vm.includeDepthChargeLauncher = !_vm.includeDepthChargeLauncher}}},[_c('v-list-item-icon',[(_vm.includeDepthChargeLauncher)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.爆雷投射機\")))])],1)],1),_c('v-divider')]:_vm._e(),(_vm.type === 5)?[_c('v-list-item',{on:{\"click\":function($event){_vm.includeTorpedo = !_vm.includeTorpedo}}},[_c('v-list-item-icon',[(_vm.includeTorpedo)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.魚雷\")))])],1)],1),_c('v-list-item',{on:{\"click\":function($event){_vm.includeSPTorpedo = !_vm.includeSPTorpedo}}},[_c('v-list-item-icon',[(_vm.includeSPTorpedo)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.特殊潜航艇\")))])],1)],1),_c('v-list-item',{on:{\"click\":function($event){_vm.includeSVTorpedo = !_vm.includeSVTorpedo}}},[_c('v-list-item-icon',[(_vm.includeSVTorpedo)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"EType.潜水艦魚雷\")))])],1)],1),_c('v-divider')]:_vm._e(),(!_vm.isAirbaseMode)?_c('v-list-item',{on:{\"click\":function($event){return _vm.toggleAffectingRangeFilter()}}},[_c('v-list-item-icon',[(_vm.onlyAffectingRange)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyNotAffectingRange)?_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',[_vm._v(\"mdi-minus-box-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.射程増加\")))])],1)],1):_vm._e(),(!_vm.isAirbaseMode)?_c('v-divider'):_vm._e(),(_vm.setting.displayBonusKey)?_c('v-list-item',{attrs:{\"disabled\":_vm.isEnemyMode},on:{\"click\":function($event){_vm.isSpecialOnly = !_vm.isSpecialOnly}}},[_c('v-list-item-icon',[(_vm.isSpecialOnly)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.特効装備\")))])],1)],1):_vm._e(),(_vm.setting.displayBonusKey)?_c('v-divider'):_vm._e(),(_vm.enabledNightAircraftFilter)?_c('v-list-item',{on:{\"click\":function($event){_vm.onlyNightAircraft = !_vm.onlyNightAircraft}}},[_c('v-list-item-icon',[(_vm.onlyNightAircraft)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.夜間機\")))])],1)],1):_vm._e(),(_vm.enabledNightAircraftFilter)?_c('v-divider'):_vm._e(),(_vm.enabledAAResistFilter)?_c('v-list-item',{on:{\"click\":function($event){_vm.onlyAAResistAircraft = !_vm.onlyAAResistAircraft}}},[_c('v-list-item-icon',[(_vm.onlyAAResistAircraft)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.射撃回避\")))])],1)],1):_vm._e(),(_vm.enabledAAResistFilter)?_c('v-divider'):_vm._e(),(_vm.type === 7)?_c('v-list-item',{attrs:{\"disabled\":_vm.isEnemyMode},on:{\"click\":function($event){return _vm.toggleLandBaseAttackFilter()}}},[_c('v-list-item-icon',[(_vm.onlyEnabledLandBaseAttack)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyDisabledLandBaseAttack)?_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',[_vm._v(\"mdi-minus-box-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.対地攻撃\")))])],1)],1):_vm._e(),(_vm.type === 7)?_c('v-divider'):_vm._e()]:_vm._e(),(_vm.isStockOnly)?_c('v-list-item',{attrs:{\"disabled\":_vm.isEnemyMode},on:{\"click\":function($event){_vm.sortExcludeRemodelStatus = !_vm.sortExcludeRemodelStatus}}},[_c('v-list-item-icon',[(_vm.sortExcludeRemodelStatus)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.改修値無効\")))])],1)],1):_vm._e(),(_vm.isStockOnly)?_c('v-divider'):_vm._e(),(!_vm.isAirbaseMode)?_c('v-list-item',{attrs:{\"disabled\":_vm.isEnemyMode},on:{\"click\":function($event){_vm.sortExcludeSynergyStatus = !_vm.sortExcludeSynergyStatus}}},[_c('v-list-item-icon',[(_vm.sortExcludeSynergyStatus)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.装備シナジー無効\")))])],1)],1):_vm._e(),(!_vm.isAirbaseMode)?_c('v-divider'):_vm._e(),(!_vm.isBatchMode || !_vm.isCheckedOnly)?_c('v-list-item',{on:{\"click\":function($event){_vm.isEnemyMode = !_vm.isEnemyMode}}},[_c('v-list-item-icon',[(_vm.isEnemyMode)?_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):_c('v-icon',[_vm._v(\"mdi-checkbox-blank-outline\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$t(\"ItemList.敵装備\")))])],1)],1):_vm._e(),(!_vm.isBatchMode || !_vm.isCheckedOnly)?_c('v-divider'):_vm._e(),_c('v-list-item',{on:{\"click\":function($event){return _vm.showBlacklist()}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-eye-off\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_c('span',[_vm._v(_vm._s(_vm.$t(\"ItemList.ブラックリスト\")))]),_vm._v(\" (\"+_vm._s(_vm.setting.blacklistItemIds.length)+\") \")])],1)],1),_c('v-divider')],2),_c('div',{staticClass:\"mt-auto\"},[_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.filter();\n            _vm.filterDialog = false;}}},[_c('v-icon',[_vm._v(\"mdi-close\")]),_vm._v(_vm._s(_vm.$t(\"Common.閉じる\")))],1)],1)],1)],1),_c('v-dialog',{attrs:{\"transition\":\"scroll-x-transition\",\"width\":\"auto\"},model:{value:(_vm.compareDialog),callback:function ($$v) {_vm.compareDialog=$$v},expression:\"compareDialog\"}},[(_vm.menuItem)?_c('v-card',{staticClass:\"pa-3 compare-dialog\"},[_c('div',{staticClass:\"compare-close-button\"},[_c('v-btn',{staticClass:\"ml-auto\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.compareDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('item-compare',{attrs:{\"target-item\":_vm.menuItem.item,\"item-parent\":_vm.itemParent,\"slot-index\":_vm.slotIndex,\"is-airbase-mode\":_vm.isAirbaseMode}}),_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"d-flex flex-wrap\"},[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.装備選択時は常に表示する')},on:{\"click\":_vm.toggleCompareSetting},model:{value:(_vm.setting.showItemCompareDialog),callback:function ($$v) {_vm.$set(_vm.setting, \"showItemCompareDialog\", $$v)},expression:\"setting.showItemCompareDialog\"}}),_c('div',{staticClass:\"ml-auto\"},[(!_vm.isBatchMode)?_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickedItem(_vm.menuItem)}}},[_vm._v(_vm._s(_vm.$t(\"Common.配備\")))]):_vm._e(),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.compareDialog = false}}},[_vm._v(_vm._s(_vm.$t(\"Common.閉じる\")))])],1)],1)],1):_vm._e()],1),(!_vm.isEnemyMode && _vm.isJapanese)?_c('div',{staticClass:\"hint-footer\"},[_c('div',{staticClass:\"caption d-none d-md-block text--secondary\"},[_vm._v(\"Ctrlキー + 装備をクリックでwikiを展開します。\")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"compare-cards px-1 pb-1\"},[_c('div',{staticClass:\"d-none d-sm-flex flex-column\"},[_c('div',{staticClass:\"d-flex align-end\"},[_c('div',{staticClass:\"caption\"},[_vm._v(\"Before\")]),_c('v-icon',{staticClass:\"ml-auto\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-triple-right\")])],1),_c('v-divider',{staticClass:\"mb-2\"}),_c('v-card',{staticClass:\"px-3 py-2 flex-grow-1\"},[_c('item-status-view',{attrs:{\"bonus\":_vm.originalItemBonusString,\"is-airbase-mode\":_vm.isAirbaseMode},model:{value:(_vm.originalItem),callback:function ($$v) {_vm.originalItem=$$v},expression:\"originalItem\"}})],1)],1),_c('div',{staticClass:\"compare-arrow d-none d-sm-block\"},[_c('div',[_c('v-icon',{attrs:{\"x-large\":\"\",\"color\":\"light-blue\"}},[_vm._v(\"mdi-chevron-right\")])],1)]),_c('div',{staticClass:\"d-none d-sm-flex flex-column\"},[_c('div',{staticClass:\"caption\"},[_vm._v(\"After\")]),_c('v-divider',{staticClass:\"mb-2\"}),_c('v-card',{staticClass:\"px-3 py-2 flex-grow-1\"},[_c('item-status-view',{attrs:{\"bonus\":_vm.itemBonusString,\"is-airbase-mode\":_vm.isAirbaseMode},model:{value:(_vm.targetItem),callback:function ($$v) {_vm.targetItem=$$v},expression:\"targetItem\"}})],1)],1),_c('div',{staticClass:\"preview-card d-flex flex-column\"},[_c('div',{staticClass:\"caption\"},[_vm._v(\"Preview\")]),_c('v-divider',{staticClass:\"mb-2\"}),_c('v-card',{staticClass:\"px-3 py-2 flex-grow-1\"},[(!_vm.isAirbaseMode && _vm.exchangeParent && _vm.itemParent && _vm.itemParent.data.id)?[_c('div',{staticClass:\"d-flex align-center\"},[_c('div',[_c('v-img',{attrs:{\"src\":`./img/ship/${_vm.exchangeParent.data.id}.png`,\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"ml-1\"},[_c('div',{staticClass:\"level-text light-blue--text caption\"},[_vm._v(\"Lv \"+_vm._s(_vm.exchangeParent.level))]),_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.getShipName(_vm.exchangeParent.data)))])])]),_c('div',{staticClass:\"mt-1 caption text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.表示ステータス\")))])]:[_c('div',{staticClass:\"mt-1 caption text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基本装備性能\")))])],_c('v-divider'),_c('div',{staticClass:\"preview-statuses\"},[_vm._l((_vm.displayStatuses),function(row,i){return [_c('div',{key:`title${i}`},[_vm._v(_vm._s(row.text))]),_c('div',{key:`before${i}`,class:{ text: row.hideDiff }},[_vm._v(_vm._s(row.before))]),_c('div',{key:`arrow${i}`},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"grey\"}},[_vm._v(\"mdi-arrow-right-thin\")])],1),_c('div',{key:`after${i}`,class:{ 'light-blue--text': row.diff > 0, 'error--text': row.diff < 0, text: row.hideDiff }},[_vm._v(_vm._s(row.after))]),_c('div',{key:`diff${i}`},[(row.diff)?[(row.diff > 0)?_c('v-icon',{attrs:{\"color\":\"light-blue\"}},[_vm._v(\" \"+_vm._s(row.diff > 15 ? \"mdi-chevron-triple-up\" : row.diff >= 3 ? \"mdi-chevron-double-up\" : \"mdi-chevron-up\")+\" \")]):_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(-15 > row.diff ? \"mdi-chevron-triple-down\" : -3 >= row.diff ? \"mdi-chevron-double-down\" : \"mdi-chevron-down\")+\" \")]),_c('span',[_vm._v(_vm._s(row.hideDiff ? \"\" : Math.floor(10 * Math.abs(row.diff)) / 10))])]:_vm._e()],2)]})],2),(_vm.displayStatuses2.length)?[(_vm.isAirbaseMode)?_c('div',{staticClass:\"mt-1 caption text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.航空隊ステータス\")))]):_c('div',{staticClass:\"mt-1 caption text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.実性能\")))]),_c('v-divider'),_c('div',{staticClass:\"preview-statuses\"},[_vm._l((_vm.displayStatuses2),function(row,i){return [_c('div',{key:`title${i}`},[_vm._v(_vm._s(row.text))]),_c('div',{key:`before${i}`,class:{ text: row.hideDiff }},[_vm._v(_vm._s(Math.floor(10 * row.before) / 10))]),_c('div',{key:`arrow${i}`},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"grey\"}},[_vm._v(\"mdi-arrow-right-thin\")])],1),_c('div',{key:`after${i}`,class:{ 'light-blue--text': row.diff > 0, 'error--text': row.diff < 0, text: row.hideDiff }},[_vm._v(\" \"+_vm._s(Math.floor(10 * row.after) / 10)+\" \")]),_c('div',{key:`diff${i}`},[(row.diff)?[(row.diff > 0)?_c('v-icon',{attrs:{\"color\":\"light-blue\"}},[_vm._v(\" \"+_vm._s(row.diff > 15 ? \"mdi-chevron-triple-up\" : row.diff >= 3 ? \"mdi-chevron-double-up\" : \"mdi-chevron-up\")+\" \")]):_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(-15 > row.diff ? \"mdi-chevron-triple-down\" : -3 >= row.diff ? \"mdi-chevron-double-down\" : \"mdi-chevron-down\")+\" \")]),_c('span',[_vm._v(_vm._s(Math.floor(10 * Math.abs(row.diff)) / 10))])]:_vm._e()],2)]})],2)]:_vm._e()],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport ItemStatusView from '@/components/item/ItemStatusView.vue';\r\nimport Item from '@/classes/item/item';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport ShipMaster from '@/classes/fleet/shipMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport Airbase from '@/classes/airbase/airbase';\r\nimport Const from '@/classes/const';\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemCompare',\r\n  components: { ItemStatusView },\r\n  props: {\r\n    targetItem: {\r\n      type: Item,\r\n      required: true,\r\n    },\r\n    itemParent: {\r\n      type: [Airbase, Ship],\r\n      required: true,\r\n    },\r\n    slotIndex: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    isAirbaseMode: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    rangeText: ['', '短', '中', '長', '超長', '超長+', '極', '極+', '極長', '極長+'],\r\n    exchangeParent: new Ship(),\r\n    displayStatuses: [] as { text: string; before: string | number; after: string | number; diff: number; hideDiff?: boolean }[],\r\n    displayStatuses2: [] as { text: string; before: number; after: number; diff: number }[],\r\n    avoidTexts: Const.AVOID_TYPE.map((v) => v.text),\r\n    originalItem: new Item(),\r\n    originalItemBonusString: '',\r\n    itemBonusString: '',\r\n  }),\r\n  mounted() {\r\n    this.avoidTexts[0] = '-';\r\n    this.compareItem();\r\n  },\r\n  watch: {\r\n    targetItem() {\r\n      this.compareItem();\r\n    },\r\n    slotIndex() {\r\n      this.compareItem();\r\n    },\r\n    itemParent() {\r\n      this.compareItem();\r\n    },\r\n  },\r\n  methods: {\r\n    getSpeedText(value: number) {\r\n      if (value <= 5) {\r\n        return `${this.$t('Fleet.低速')}`;\r\n      }\r\n      if (value <= 10) {\r\n        return `${this.$t('Fleet.高速')}`;\r\n      }\r\n      if (value <= 15) {\r\n        return `${this.$t('Fleet.高速+')}`;\r\n      }\r\n      return `${this.$t('Fleet.最速')}`;\r\n    },\r\n    compareItem() {\r\n      // プレビュー表示用配列初期化\r\n      this.displayStatuses = [];\r\n      this.displayStatuses2 = [];\r\n\r\n      // 装備シナジーボーナス情報を一度リセット\r\n      this.itemBonusString = '';\r\n      this.originalItemBonusString = '';\r\n\r\n      // 元々装備していたやつを取得\r\n      if (this.itemParent instanceof Ship && this.slotIndex === Const.EXPAND_SLOT_INDEX) {\r\n        // 補強増設の場合の対応\r\n        this.originalItem = this.itemParent.exItem;\r\n      } else {\r\n        this.originalItem = this.itemParent.items[this.slotIndex];\r\n      }\r\n\r\n      const newItems: Item[] = [];\r\n      for (let i = 0; i < this.itemParent.items.length; i += 1) {\r\n        if (this.slotIndex === i) {\r\n          if (this.isAirbaseMode) {\r\n            newItems.push(new Item({ item: this.targetItem, slot: this.targetItem.data.airbaseMaxSlot }));\r\n          } else {\r\n            newItems.push(new Item({ item: this.targetItem }));\r\n          }\r\n        } else {\r\n          newItems.push(new Item({ item: this.itemParent.items[i] }));\r\n        }\r\n      }\r\n\r\n      if (this.itemParent instanceof Ship) {\r\n        // 艦娘の場合は装備ボーナスを算出したいので、いったん乗せ換えたバージョンを作成\r\n        let exItem = new Item({ item: this.itemParent.exItem });\r\n        if (this.slotIndex === Const.EXPAND_SLOT_INDEX) {\r\n          exItem = new Item({ item: this.targetItem });\r\n        }\r\n\r\n        this.exchangeParent = new Ship({ ship: this.itemParent, items: newItems, exItem });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.火力')}`,\r\n          after: this.exchangeParent.displayStatus.firePower,\r\n          before: this.itemParent.displayStatus.firePower,\r\n          diff: this.exchangeParent.displayStatus.firePower - this.itemParent.displayStatus.firePower,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.雷装')}`,\r\n          after: this.exchangeParent.displayStatus.torpedo,\r\n          before: this.itemParent.displayStatus.torpedo,\r\n          diff: this.exchangeParent.displayStatus.torpedo - this.itemParent.displayStatus.torpedo,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.装甲')}`,\r\n          after: this.exchangeParent.displayStatus.armor,\r\n          before: this.itemParent.displayStatus.armor,\r\n          diff: this.exchangeParent.displayStatus.armor - this.itemParent.displayStatus.armor,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.対空')}`,\r\n          after: this.exchangeParent.displayStatus.antiAir,\r\n          before: this.itemParent.displayStatus.antiAir,\r\n          diff: this.exchangeParent.displayStatus.antiAir - this.itemParent.displayStatus.antiAir,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.対潜')}`,\r\n          after: this.exchangeParent.displayStatus.asw,\r\n          before: this.itemParent.displayStatus.asw,\r\n          diff: this.exchangeParent.displayStatus.asw - this.itemParent.displayStatus.asw,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.索敵')}`,\r\n          after: this.exchangeParent.displayStatus.LoS,\r\n          before: this.itemParent.displayStatus.LoS,\r\n          diff: this.exchangeParent.displayStatus.LoS - this.itemParent.displayStatus.LoS,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.回避')}`,\r\n          after: this.exchangeParent.displayStatus.avoid,\r\n          before: this.itemParent.displayStatus.avoid,\r\n          diff: this.exchangeParent.displayStatus.avoid - this.itemParent.displayStatus.avoid,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.射程')}`,\r\n          after: `${this.$t(`Common.${this.rangeText[this.exchangeParent.displayStatus.range]}`)}`,\r\n          before: `${this.$t(`Common.${this.rangeText[this.itemParent.displayStatus.range]}`)}`,\r\n          diff: this.exchangeParent.displayStatus.range - this.itemParent.displayStatus.range,\r\n          hideDiff: true,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.速力')}`,\r\n          after: this.getSpeedText(this.exchangeParent.speed),\r\n          before: this.getSpeedText(this.itemParent.speed),\r\n          diff: this.exchangeParent.speed - this.itemParent.speed,\r\n          hideDiff: true,\r\n        });\r\n\r\n        // 実性能欄\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.砲戦火力')}`,\r\n          after: this.exchangeParent.baseDayBattleFirePower,\r\n          before: this.itemParent.baseDayBattleFirePower,\r\n          diff: this.exchangeParent.baseDayBattleFirePower - this.itemParent.baseDayBattleFirePower,\r\n        });\r\n        if (!this.exchangeParent.data.isCV) {\r\n          this.displayStatuses2.push({\r\n            text: `${this.$t('Common.夜戦火力')}`,\r\n            after: this.exchangeParent.nightBattleFirePower,\r\n            before: this.itemParent.nightBattleFirePower,\r\n            diff: this.exchangeParent.nightBattleFirePower - this.itemParent.nightBattleFirePower,\r\n          });\r\n        }\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.命中')}`,\r\n          after: this.exchangeParent.accuracy,\r\n          before: this.itemParent.accuracy,\r\n          diff: this.exchangeParent.accuracy - this.itemParent.accuracy,\r\n        });\r\n        if (this.exchangeParent.fullAirPower || this.itemParent.fullAirPower) {\r\n          this.displayStatuses2.push({\r\n            text: `${this.$t('Common.制空値')}`,\r\n            after: this.exchangeParent.fullAirPower,\r\n            before: this.itemParent.fullAirPower,\r\n            diff: this.exchangeParent.fullAirPower - this.itemParent.fullAirPower,\r\n          });\r\n        }\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.支援火力')}`,\r\n          after: this.exchangeParent.supportFirePower,\r\n          before: this.itemParent.supportFirePower,\r\n          diff: this.exchangeParent.supportFirePower - this.itemParent.supportFirePower,\r\n        });\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.支援命中')}`,\r\n          after: this.exchangeParent.supportAccuracy,\r\n          before: this.itemParent.supportAccuracy,\r\n          diff: this.exchangeParent.supportAccuracy - this.itemParent.supportAccuracy,\r\n        });\r\n\r\n        // ベースの装備ボーナスを取得\r\n        this.originalItemBonusString = JSON.stringify(this.itemParent.getItemBonusDiff(this.slotIndex));\r\n        // 乗せ換えたバージョンの装備ボーナスを取得\r\n        this.itemBonusString = JSON.stringify(this.exchangeParent.getItemBonusDiff(this.slotIndex));\r\n      } else if (this.itemParent instanceof Airbase) {\r\n        // 基地の場合\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.雷装')}`,\r\n          after: Math.floor(10 * this.targetItem.actualTorpedo) / 10,\r\n          before: Math.floor(10 * this.originalItem.actualTorpedo) / 10,\r\n          diff: this.targetItem.actualTorpedo - this.originalItem.actualTorpedo,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.爆装')}`,\r\n          after: Math.floor(10 * this.targetItem.actualBomber) / 10,\r\n          before: Math.floor(10 * this.originalItem.actualBomber) / 10,\r\n          diff: this.targetItem.actualBomber - this.originalItem.actualBomber,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.対空')}`,\r\n          after: Math.floor(10 * this.targetItem.actualAntiAir) / 10,\r\n          before: Math.floor(10 * this.originalItem.actualAntiAir) / 10,\r\n          diff: this.targetItem.actualAntiAir - this.originalItem.actualAntiAir,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.対潜')}`,\r\n          after: this.targetItem.data.asw,\r\n          before: this.originalItem.data.asw,\r\n          diff: this.targetItem.data.asw - this.originalItem.data.asw,\r\n        });\r\n        if (this.originalItem.data.accuracy || this.targetItem.data.accuracy) {\r\n          this.displayStatuses.push({\r\n            text: `${this.$t('Common.命中')}`,\r\n            after: this.targetItem.data.accuracy,\r\n            before: this.originalItem.data.accuracy,\r\n            diff: this.targetItem.data.accuracy - this.originalItem.data.accuracy,\r\n          });\r\n        }\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.索敵')}`,\r\n          after: this.targetItem.data.scout,\r\n          before: this.originalItem.data.scout,\r\n          diff: this.targetItem.data.scout - this.originalItem.data.scout,\r\n        });\r\n        if (this.originalItem.data.antiBomber || this.targetItem.data.antiBomber) {\r\n          this.displayStatuses.push({\r\n            text: `${this.$t('Common.対爆')}`,\r\n            after: this.targetItem.data.antiBomber,\r\n            before: this.originalItem.data.antiBomber,\r\n            diff: this.targetItem.data.antiBomber - this.originalItem.data.antiBomber,\r\n          });\r\n        }\r\n        if (this.originalItem.data.interception || this.targetItem.data.interception) {\r\n          this.displayStatuses.push({\r\n            text: `${this.$t('Common.迎撃')}`,\r\n            after: this.targetItem.data.interception,\r\n            before: this.originalItem.data.interception,\r\n            diff: this.targetItem.data.interception - this.originalItem.data.interception,\r\n          });\r\n        }\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.半径')}`,\r\n          after: this.targetItem.data.radius,\r\n          before: this.originalItem.data.radius,\r\n          diff: this.targetItem.data.radius - this.originalItem.data.radius,\r\n        });\r\n        this.displayStatuses.push({\r\n          text: `${this.$t('Common.コスト')}`,\r\n          after: this.targetItem.data.cost,\r\n          before: this.originalItem.data.cost,\r\n          diff: -(this.targetItem.data.cost - this.originalItem.data.cost),\r\n        });\r\n        if (this.originalItem.data.avoidId !== this.targetItem.data.avoidId) {\r\n          this.displayStatuses.push({\r\n            text: `${this.$t('Common.射撃回避')}`,\r\n            after: this.targetItem.data.avoidId ? `${this.$t(`Common.回避性能.${this.avoidTexts[this.targetItem.data.avoidId]}`)}` : '-',\r\n            before: this.originalItem.data.avoidId ? `${this.$t(`Common.回避性能.${this.avoidTexts[this.originalItem.data.avoidId]}`)}` : '-',\r\n            diff: this.targetItem.data.avoidId - this.originalItem.data.avoidId,\r\n            hideDiff: true,\r\n          });\r\n        }\r\n\r\n        // 基地全体の半径と制空値を算出\r\n        const newBase = new Airbase({ airbase: this.itemParent, items: newItems });\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.制空')}`,\r\n          after: newBase.fullAirPower,\r\n          before: this.itemParent.fullAirPower,\r\n          diff: newBase.fullAirPower - this.itemParent.fullAirPower,\r\n        });\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.防空制空')}`,\r\n          after: newBase.defenseAirPower,\r\n          before: this.itemParent.defenseAirPower,\r\n          diff: newBase.defenseAirPower - this.itemParent.defenseAirPower,\r\n        });\r\n        this.displayStatuses2.push({\r\n          text: `${this.$t('Common.半径')}`,\r\n          after: newBase.radius,\r\n          before: this.itemParent.radius,\r\n          diff: newBase.radius - this.itemParent.radius,\r\n        });\r\n      }\r\n    },\r\n    getShipName(ship: ShipMaster): string {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (this.$i18n.locale === 'en' && !setting.nameIsNotTranslate) {\r\n        const shipName = ShipMaster.getSuffix(ship);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return ship.name || '';\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemCompare.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemCompare.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ItemCompare.vue?vue&type=template&id=507fe01b&scoped=true\"\nimport script from \"./ItemCompare.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemCompare.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ItemCompare.vue?vue&type=style&index=0&id=507fe01b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"507fe01b\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue';\r\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\r\nimport ItemCompare from '@/components/item/ItemCompare.vue';\r\nimport BlacklistItemEdit from '@/components/item/BlacklistItemEdit.vue';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Airbase from '@/classes/airbase/airbase';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport Const from '@/classes/const';\r\nimport Item from '@/classes/item/item';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ItemStock from '@/classes/item/itemStock';\r\nimport SaveData from '@/classes/saveData/saveData';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport { cloneDeep } from 'lodash';\r\nimport ItemBonus, { ItemBonusStatus } from '@/classes/item/ItemBonus';\r\n\r\ntype sortItem = { [key: string]: number | { [key: string]: number } };\r\ntype viewItem = {\r\n  item: Item;\r\n  /** 装備個数(表示値) */\r\n  count: number;\r\n  /** 装備個数(実際) */\r\n  allCount: number;\r\n  remodel: number;\r\n  sumBonus: number;\r\n  bonus: ItemBonusStatus;\r\n  text: string;\r\n  dayBattleFirePower: number;\r\n  aircraftDayBattleFirePower: number;\r\n  /** 一括編成リストのインデックスたち */\r\n  batchListIndexes: number[];\r\n  /** 一括装備モード 搭載不可の場合true */\r\n  disabled: boolean;\r\n  /** 改修値がもう少しあれば搭載できるやつ */\r\n  lackRemodel: boolean;\r\n};\r\n\r\nconst actualKey = ['tp', 'airPower', 'defenseAirPower', 'antiAirWeight', 'antiAirBonus', 'nightBattleFirePower'];\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemList',\r\n  components: { ItemTooltip, BlacklistItemEdit, ItemCompare },\r\n  props: {\r\n    handleEquipItem: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleChangeWidth: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    itemParent: undefined as undefined | Ship | Airbase | Enemy,\r\n    slotIndex: -1,\r\n    sortItemListIndex: 0,\r\n    all: [] as ItemMaster[],\r\n    baseItems: [] as ItemMaster[],\r\n    types: [] as { id: number; text: string; viewStatus: string[]; types: number[]; sortKey: string; isDesc: boolean }[],\r\n    avoids: Const.AVOID_TYPE,\r\n    type: 0,\r\n    multiLine: true,\r\n    keyword: '' as string | undefined,\r\n    isEnemyMode: false,\r\n    isStockOnly: false,\r\n    isReadonlyMode: false,\r\n    isEnabledLandBaseAttack: false,\r\n    includeSonar: true,\r\n    includeDepthCharge: true,\r\n    includeDepthChargeLauncher: true,\r\n    includeTorpedo: true,\r\n    includeSPTorpedo: true,\r\n    includeSVTorpedo: true,\r\n    onlyEnabledLandBaseAttack: false,\r\n    onlyDisabledLandBaseAttack: false,\r\n    onlyAffectingRange: false,\r\n    onlyNotAffectingRange: false,\r\n    onlyNightAircraft: false,\r\n    onlyAAResistAircraft: false,\r\n    isSpecialOnly: false,\r\n    sortExcludeRemodelStatus: false,\r\n    sortExcludeSynergyStatus: false,\r\n    slot: 0,\r\n    avoidTexts: Const.AVOID_TYPE.map((v) => v.text),\r\n    viewStatus: Const.ITEM_TYPES_ALT[0].viewStatus,\r\n    setting: new SiteSetting(),\r\n    sortKey: '',\r\n    isDesc: false,\r\n    viewItems: [] as viewItem[],\r\n    itemStock: [] as ItemStock[],\r\n    usedItems: [] as Item[],\r\n    confirmDialog: false,\r\n    confirmItem: { item: new Item(), count: 0 },\r\n    headerItems: [\r\n      { text: '火力', key: 'actualFire' },\r\n      { text: '砲戦火力', key: 'dayBattleFirePower' },\r\n      { text: '雷装', key: 'actualTorpedo' },\r\n      { text: '夜戦火力', key: 'nightBattleFirePower' },\r\n      { text: '爆装', key: 'actualBomber' },\r\n      { text: '対空', key: 'antiAir' },\r\n      { text: '出撃対空', key: 'actualAntiAir' },\r\n      { text: '防空対空', key: 'actualDefenseAntiAir' },\r\n      { text: '装甲', key: 'actualArmor' },\r\n      { text: '対潜', key: 'actualAsw' },\r\n      { text: '回避', key: 'actualAvoid' },\r\n      { text: '索敵', key: 'actualScout' },\r\n      { text: '命中', key: 'actualAccuracy' },\r\n      { text: '対爆', key: 'antiBomber' },\r\n      { text: '加重対空', key: 'antiAirWeight' },\r\n      { text: '艦隊防空', key: 'antiAirBonus' },\r\n      { text: '半径', key: 'radius' },\r\n      { text: 'コスト', key: 'cost' },\r\n      { text: 'TP', key: 'tp' },\r\n      { text: '射撃回避', key: 'avoidId' },\r\n      { text: '射程', key: 'actualRange' },\r\n    ],\r\n    enabledTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipItem: new Item(),\r\n    tooltipBonus: '',\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n    filterStatus: 'radius',\r\n    filterStatusItems: [] as { text: string; value: string }[],\r\n    filterStatusValue: 0,\r\n    sortKeyItems: [] as { text: string; value: string }[],\r\n    blacklistDialog: false,\r\n    blacklistItems: [] as number[],\r\n    sortDialog: false,\r\n    filterDialog: false,\r\n    decidedItem: false,\r\n    wikiDialog: false,\r\n    showMenu: false,\r\n    remodelChangeMenu: false,\r\n    menuItem: null as viewItem | null,\r\n    menuX: 0,\r\n    menuY: 0,\r\n    compareDialog: false,\r\n    isBatchMode: false,\r\n    batchMax: 0,\r\n    batchList: [] as viewItem[],\r\n    isCheckedOnly: false,\r\n    rangeText: ['', '短', '中', '長', '超長', '超長+', '極', '極+', '極長', '極長+'],\r\n    itemListHeight: 100,\r\n    isMobile: true,\r\n  }),\r\n  mounted() {\r\n    this.types = [];\r\n    for (let i = 0; i < Const.ITEM_TYPES_ALT.length; i += 1) {\r\n      const type = Const.ITEM_TYPES_ALT[i];\r\n      this.types.push({\r\n        id: type.id,\r\n        text: type.text,\r\n        viewStatus: type.viewStatus,\r\n        types: type.types,\r\n        sortKey: '',\r\n        isDesc: false,\r\n      });\r\n    }\r\n\r\n    const items = this.$store.state.items as ItemMaster[];\r\n    for (let i = 0; i < items.length; i += 1) {\r\n      this.all.push(items[i]);\r\n    }\r\n    this.all.sort((a, b) => a.apiTypeId - b.apiTypeId);\r\n    this.avoidTexts[0] = '';\r\n    this.setting = this.$store.state.siteSetting as SiteSetting;\r\n    this.changeMultiLine(this.setting.isMultiLineForItemList);\r\n\r\n    this.sortKeyItems.push({ text: '図鑑ID', value: 'id' });\r\n    for (let i = 0; i < this.headerItems.length; i += 1) {\r\n      const { text, key } = this.headerItems[i];\r\n      if (text === '対潜' && this.filterStatusItems.find((v) => v.text === this.$t('Common.対潜'))) {\r\n        continue;\r\n      }\r\n      this.filterStatusItems.push({ text: `${this.$t(`Common.${text}`)}`, value: key });\r\n      this.sortKeyItems.push({ text, value: key });\r\n    }\r\n\r\n    this.updateIsMobile();\r\n  },\r\n  computed: {\r\n    isAirbaseMode(): boolean {\r\n      return this.itemParent instanceof Airbase;\r\n    },\r\n    isShipMode(): boolean {\r\n      return this.itemParent instanceof Ship;\r\n    },\r\n    isAircraftMode(): boolean {\r\n      return this.itemParent instanceof Ship && (this.itemParent.data.isCV || [352, 717].includes(this.itemParent.data.id));\r\n    },\r\n    itemListData(): { typeName: string; items: { item: Item; count: number; text: string }[] }[] {\r\n      const targetItems = this.viewItems;\r\n      if (this.multiLine && !this.isMobile) {\r\n        const depthChargeLauncher = { id: 1700, name: '爆雷投射機', sortKey: [] };\r\n        // 種別に応じて分けたい\r\n        const types = Const.ITEM_API_TYPE.concat();\r\n        types.splice(22, 0, depthChargeLauncher);\r\n        const resultItems = [];\r\n        for (let i = 0; i < types.length; i += 1) {\r\n          const type = types[i];\r\n          let items = [];\r\n\r\n          // 爆雷関係でちょっと分ける\r\n          if (type.id === 15) {\r\n            items = targetItems.filter((v) => v.item.data.isStrictDepthCharge);\r\n          } else if (type.id === depthChargeLauncher.id) {\r\n            items = targetItems.filter((v) => v.item.data.apiTypeId === 15 && !v.item.data.isStrictDepthCharge);\r\n          } else {\r\n            items = targetItems.filter((v) => v.item.data.apiTypeId === type.id);\r\n          }\r\n          if (items.length) {\r\n            // 存在する種別を生成\r\n            resultItems.push({ typeName: type.name, items });\r\n          }\r\n        }\r\n        return resultItems;\r\n      }\r\n\r\n      // 複数列モードじゃないならなかよし\r\n      return [{ typeName: '', items: targetItems }];\r\n    },\r\n    enabledTypes() {\r\n      const apis = this.baseItems.map((v) => v.apiTypeId);\r\n      const enabledItems = [];\r\n      for (let i = 0; i < this.types.length; i += 1) {\r\n        const d = this.types[i].types;\r\n        if (apis.find((api) => d.includes(api))) {\r\n          enabledItems.push(this.types[i]);\r\n        }\r\n      }\r\n      return enabledItems;\r\n    },\r\n    selectedType(): { id: number; text: string; viewStatus: string[]; types: number[]; sortKey: string; isDesc: boolean } | undefined {\r\n      const selected = this.types.find((v) => v.id === this.type);\r\n      if (selected) {\r\n        return selected;\r\n      }\r\n      return undefined;\r\n    },\r\n    viewOrder() {\r\n      return (key: string, items: string[]) => items.findIndex((v) => v === key);\r\n    },\r\n    itemHeaderClasses() {\r\n      return (key: string, items: string[]) => {\r\n        const classes: string[] = ['item-status'];\r\n        if (key === this.sortKey && this.isDesc) classes.push('desc');\r\n        else if (key === this.sortKey && !this.isDesc) classes.push('asc');\r\n\r\n        const index = items.findIndex((v) => v === key);\r\n        if (index >= 0) {\r\n          classes.push(`order-${index}`);\r\n\r\n          // おケツの方ほどpaddingをとりたい\r\n          const padding = index - 1;\r\n          if (padding > 0) {\r\n            classes.push(`pr-${padding}`);\r\n          }\r\n        } else {\r\n          classes.push('d-none');\r\n        }\r\n        return classes;\r\n      };\r\n    },\r\n    mobileItemHeaderText() {\r\n      return (key: string, items: string[]) => {\r\n        const classes: string[] = ['item-status'];\r\n        if (key === this.sortKey && this.isDesc) classes.push('desc');\r\n        else if (key === this.sortKey && !this.isDesc) classes.push('asc');\r\n\r\n        const index = items.findIndex((v) => v === key);\r\n        if (index >= 0) {\r\n          classes.push(`order-${index}`);\r\n\r\n          // おケツの方ほどpaddingをとりたい\r\n          const padding = index - 1;\r\n          if (padding > 0) {\r\n            classes.push(`pr-${padding}`);\r\n          }\r\n        } else {\r\n          classes.push('d-none');\r\n        }\r\n        return classes;\r\n      };\r\n    },\r\n    formatStatus() {\r\n      return (v: viewItem, key: string) => {\r\n        const item = v.item as unknown as sortItem;\r\n        let value = 0;\r\n        if (key === 'dayBattleFirePower') {\r\n          // 昼火力\r\n          value = this.isAircraftMode ? v.aircraftDayBattleFirePower : v.dayBattleFirePower;\r\n        } else if (key === 'antiAirBonus') {\r\n          // 艦隊防空 /100する\r\n          value = v.item.antiAirBonus / 100;\r\n        } else if (key === 'actualRange') {\r\n          // 射程 テキスト表示が必要なため別対応\r\n          return this.rangeText[v.item.actualRange] ? this.$t(`Common.${this.rangeText[v.item.actualRange]}`) : '';\r\n        } else if (key === 'avoidId') {\r\n          // 射撃回避 テキスト表示が必要なため別対応\r\n          return this.avoidTexts[v.item.data.avoidId] ? this.$t(`Common.回避性能.${this.avoidTexts[v.item.data.avoidId]}`) : '';\r\n        } else if (key && (key.includes('actual') || actualKey.includes(key))) {\r\n          // その他 改修効果が載る系のやつ\r\n          value = (item as { [key: string]: number })[key];\r\n        } else {\r\n          // 装備素性能を出すやつなど\r\n          value = (item.data as { [key: string]: number })[key];\r\n        }\r\n        return value ? `${Math.floor(10 * value) / 10}` : '';\r\n      };\r\n    },\r\n    isJapanese() {\r\n      return this.$i18n.locale === 'ja';\r\n    },\r\n    needTrans() {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    enabledNightAircraftFilter() {\r\n      return this.type === -1 || this.type === 6 || this.type === 7 || this.type === 8;\r\n    },\r\n    enabledAAResistFilter() {\r\n      return Const.ATTACKERS.includes(this.type) || this.type === -1 || this.type === 1100;\r\n    },\r\n    disabledDetailFilter() {\r\n      return !!this.keyword || (this.isBatchMode && this.isCheckedOnly);\r\n    },\r\n    currentBatchIndex() {\r\n      return this.batchList.length === this.batchMax - 1 ? Const.EXPAND_SLOT_INDEX : this.batchList.length;\r\n    },\r\n    isBatchListMax() {\r\n      return this.isBatchMode && this.batchList.length >= this.batchMax;\r\n    },\r\n    isCostFilter() {\r\n      return this.filterStatus === 'cost';\r\n    },\r\n  },\r\n  methods: {\r\n    updateIsMobile() {\r\n      this.isMobile = window.innerWidth < 600;\r\n      if (this.isMobile) {\r\n        this.changeMultiLine(true);\r\n      }\r\n    },\r\n    changeType(type = 0): void {\r\n      this.isCheckedOnly = false;\r\n      this.type = type;\r\n\r\n      if (this.selectedType && this.selectedType.sortKey) {\r\n        // 選択したカテゴリにソート値が保存されていたら呼び出し\r\n        this.isDesc = this.selectedType.isDesc;\r\n        this.sortKey = this.selectedType.sortKey;\r\n      } else {\r\n        this.sortKey = '';\r\n        this.isDesc = false;\r\n      }\r\n      this.filter();\r\n    },\r\n    toggleCheckedOnly() {\r\n      this.isCheckedOnly = true;\r\n      this.filter();\r\n    },\r\n    clickedStockOnly() {\r\n      this.setting.isStockOnlyForItemList = this.isStockOnly;\r\n      this.$store.dispatch('updateSetting', this.setting);\r\n      this.filter();\r\n    },\r\n    resetFilter() {\r\n      this.keyword = '';\r\n      this.filterStatusValue = 0;\r\n      this.changedFilter();\r\n    },\r\n    initialFilter(parent: Ship | Enemy | Airbase, slotIndex = 0, usedItems: Item[] = [], batchMax = 0) {\r\n      // 一括編成モード\r\n      this.isBatchMode = batchMax > 0;\r\n      this.isCheckedOnly = false;\r\n      this.batchMax = batchMax;\r\n      this.batchList = [];\r\n\r\n      this.decidedItem = false;\r\n      this.itemParent = parent;\r\n      this.slotIndex = slotIndex;\r\n      this.isEnemyMode = false;\r\n\r\n      this.filterStatus = 'radius';\r\n      this.filterStatusValue = 0;\r\n\r\n      // 現行の所持装備情報を更新\r\n      this.itemStock = this.$store.state.itemStock as ItemStock[];\r\n      this.setting = this.$store.state.siteSetting as SiteSetting;\r\n      this.isStockOnly = this.setting.isStockOnlyForItemList;\r\n      this.isReadonlyMode = false;\r\n\r\n      // 一時所持情報データがあるなら\r\n      if (this.$store.getters.getExistsTempStock) {\r\n        this.itemStock = this.$store.state.tempItemStock as ItemStock[];\r\n        this.isStockOnly = true;\r\n        this.isReadonlyMode = true;\r\n      }\r\n\r\n      // 搭載数情報を格納\r\n      const isExpand = slotIndex === Const.EXPAND_SLOT_INDEX;\r\n      if (isExpand) {\r\n        this.slot = 0;\r\n      } else {\r\n        this.slot = parent.items[slotIndex] ? parent.items[slotIndex].fullSlot : 0;\r\n      }\r\n\r\n      this.usedItems = [];\r\n\r\n      // 利用済み装備(直接指定)\r\n      if (usedItems.length) {\r\n        this.usedItems = usedItems;\r\n      } else {\r\n        // 現在の計算画面内で配備されている装備を列挙する\r\n        const mainData = this.$store.state.mainSaveData as SaveData;\r\n        if (mainData) {\r\n          const manager = mainData.tempData[mainData.tempIndex];\r\n          if (manager) {\r\n            let allItems: Item[] = [];\r\n            // 艦隊データから装備全取得\r\n            for (let i = 0; i < manager.fleetInfo.fleets.length; i += 1) {\r\n              const { ships } = manager.fleetInfo.fleets[i];\r\n              for (let j = 0; j < ships.length; j += 1) {\r\n                allItems = allItems.concat(ships[j].items.filter((v) => v.data.id > 0));\r\n                if (ships[j].exItem.data.id > 0) allItems.push(ships[j].exItem);\r\n              }\r\n            }\r\n\r\n            // 基地航空隊データから装備全取得\r\n            const { airbases } = manager.airbaseInfo;\r\n            for (let i = 0; i < airbases.length; i += 1) {\r\n              allItems = allItems.concat(airbases[i].items.filter((v) => v.data.id > 0));\r\n            }\r\n\r\n            this.usedItems = allItems;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 装備可能フィルタ\r\n      let types: number[] = [];\r\n      if (parent instanceof Ship && parent.data.id) {\r\n        // 渡された艦娘情報より装備可能種別を取得\r\n        this.baseItems = this.all.filter((item) => ShipValidation.isValidItem(parent.data, item, slotIndex, 10));\r\n        if (this.enabledTypes.length && this.type !== -1 && !this.enabledTypes.find((v) => v.id === this.type)) {\r\n          // カテゴリがおかしかったら最初のカテゴリにする\r\n          this.type = this.enabledTypes[0].id;\r\n        }\r\n\r\n        const filterData = this.setting.savedItemListFilter.find((v) => v.parent === 'ship');\r\n        if (filterData && filterData.key) {\r\n          this.filterStatus = filterData.key;\r\n        }\r\n        if (filterData && filterData.value) {\r\n          this.filterStatusValue = filterData.value;\r\n        }\r\n\r\n        this.filter();\r\n        return;\r\n      }\r\n      if (parent instanceof Ship) {\r\n        // 空の艦娘 全部盛り\r\n        for (let i = 1; i <= 60; i += 1) {\r\n          if (Const.AB_PLANE_TYPES.includes(i)) {\r\n            continue;\r\n          }\r\n          types.push(i);\r\n          if (this.type <= 0) {\r\n            // カテゴリがおかしかったら最初のカテゴリにする\r\n            this.type = 1;\r\n          }\r\n\r\n          const filterData = this.setting.savedItemListFilter.find((v) => v.parent === 'ship');\r\n          if (filterData && filterData.key) {\r\n            this.filterStatus = filterData.key;\r\n          }\r\n          if (filterData && filterData.value) {\r\n            this.filterStatusValue = filterData.value;\r\n          }\r\n        }\r\n      } else if (parent instanceof Airbase) {\r\n        // 基地航空隊 全艦載機装備可能\r\n        types = Const.PLANE_TYPES.concat();\r\n        if (this.type !== -1 && !types.includes(this.type)) {\r\n          // なんか変だったら陸攻を初期位置に\r\n          this.type = 47;\r\n        }\r\n        this.slot = 18;\r\n\r\n        const filterData = this.setting.savedItemListFilter.find((v) => v.parent === 'airbase');\r\n        if (filterData && filterData.key) {\r\n          this.filterStatus = filterData.key;\r\n        }\r\n        if (filterData && filterData.value) {\r\n          this.filterStatusValue = filterData.value;\r\n        }\r\n      } else if (parent instanceof Enemy) {\r\n        // 基本は全装備\r\n        types = Const.ITEM_API_TYPE.map((v) => v.id);\r\n        // 敵装備マスタに存在しない装備カテゴリは抜いておく\r\n        const enemyItems = this.all.filter((v) => v.isEnemyItem);\r\n        types = types.filter((v) => enemyItems.some((x) => x.apiTypeId === v));\r\n\r\n        // 敵装備フラグ強制ON\r\n        this.isEnemyMode = true;\r\n\r\n        // 初手フィルタ\r\n        if (!types.includes(this.type)) {\r\n          this.type = +types[0];\r\n        }\r\n      }\r\n\r\n      if (isExpand) {\r\n        // 補強増設枠フィルタ\r\n        const enabledItems = Const.EXPANDED_ITEM_TYPE;\r\n        types = types.filter((v) => enabledItems.includes(v));\r\n      }\r\n\r\n      this.baseItems = this.all.filter((v) => types.includes(v.apiTypeId));\r\n      this.filter();\r\n    },\r\n    changedFilter() {\r\n      const filterData = { parent: 'ship' as 'ship' | 'airbase', key: this.filterStatus, value: this.filterStatusValue };\r\n      if (this.itemParent instanceof Ship) {\r\n        filterData.parent = 'ship';\r\n      } else if (this.isAirbaseMode) {\r\n        filterData.parent = 'airbase';\r\n      } else {\r\n        this.filter();\r\n        return;\r\n      }\r\n\r\n      if (!this.setting.savedItemListFilter) {\r\n        this.filter();\r\n        return;\r\n      }\r\n\r\n      const index = this.setting.savedItemListFilter.findIndex((v) => v.parent === filterData.parent);\r\n      if (index >= 0) {\r\n        this.setting.savedItemListFilter[index] = filterData;\r\n        this.$store.dispatch('updateSetting', this.setting);\r\n      }\r\n      this.filter();\r\n    },\r\n    toggleAffectingRangeFilter() {\r\n      if (this.onlyAffectingRange) {\r\n        this.onlyAffectingRange = false;\r\n        this.onlyNotAffectingRange = true;\r\n      } else if (this.onlyNotAffectingRange) {\r\n        this.onlyNotAffectingRange = false;\r\n      } else {\r\n        this.onlyAffectingRange = true;\r\n      }\r\n      this.filter();\r\n    },\r\n    toggleLandBaseAttackFilter() {\r\n      if (this.onlyEnabledLandBaseAttack) {\r\n        this.onlyEnabledLandBaseAttack = false;\r\n        this.onlyDisabledLandBaseAttack = true;\r\n      } else if (this.onlyDisabledLandBaseAttack) {\r\n        this.onlyDisabledLandBaseAttack = false;\r\n      } else {\r\n        this.onlyEnabledLandBaseAttack = true;\r\n      }\r\n      this.filter();\r\n    },\r\n    filter() {\r\n      this.updateIsMobile();\r\n\r\n      if (!this.batchList.length && this.isCheckedOnly) {\r\n        // 一括配備モードのゴミ掃除 => 一件も選択装備がないのに選択装備のみフィルタがあった場合\r\n        this.isCheckedOnly = false;\r\n      }\r\n\r\n      const word = this.keyword ? this.keyword.toUpperCase() : '';\r\n      let result = this.baseItems.concat();\r\n      const bonusKey = this.setting.displayBonusKey;\r\n\r\n      // ブラックリスト装備を消す\r\n      if (this.setting.blacklistItemIds.length) {\r\n        const list = this.setting.blacklistItemIds;\r\n        result = result.filter((v) => !list.includes(v.id));\r\n      }\r\n\r\n      // 検索語句あれば最優先\r\n      if (word) {\r\n        result = result.filter((v) => v.id === +word || v.name.toUpperCase().indexOf(word) >= 0);\r\n      }\r\n      if (!this.disabledDetailFilter) {\r\n        // 通常フィルタ\r\n        if (this.isEnemyMode) {\r\n          // 敵装備\r\n          result = result.filter((v) => v.isEnemyItem);\r\n        } else {\r\n          result = result.filter((v) => !v.isEnemyItem);\r\n        }\r\n        // カテゴリ毎のフィルタ\r\n        if (this.type === 7) {\r\n          // 艦爆フィルタ\r\n          if (this.onlyEnabledLandBaseAttack) {\r\n            result = result.filter((v) => Const.ENABLED_LAND_BASE_ATTACK.includes(v.id));\r\n          } else if (this.onlyDisabledLandBaseAttack) {\r\n            result = result.filter((v) => !Const.ENABLED_LAND_BASE_ATTACK.includes(v.id));\r\n          }\r\n        }\r\n\r\n        if (this.type === 14 || this.type === 40) {\r\n          // ソ爆投フィルタ\r\n          if (!this.includeSonar) {\r\n            result = result.filter((v) => v.apiTypeId !== 14 && v.apiTypeId !== 40);\r\n          }\r\n          if (!this.includeDepthCharge) {\r\n            result = result.filter((v) => v.iconTypeId !== 1700);\r\n          }\r\n          if (!this.includeDepthChargeLauncher) {\r\n            result = result.filter((v) => v.iconTypeId !== 17);\r\n          }\r\n        }\r\n        if (this.type === 5) {\r\n          // 魚雷フィルタ\r\n          if (!this.includeTorpedo) {\r\n            result = result.filter((v) => v.apiTypeId !== 5);\r\n          }\r\n          if (!this.includeSPTorpedo) {\r\n            result = result.filter((v) => v.apiTypeId !== 22);\r\n          }\r\n          if (!this.includeSVTorpedo) {\r\n            result = result.filter((v) => v.apiTypeId !== 32);\r\n          }\r\n        }\r\n        if (this.enabledNightAircraftFilter && this.onlyNightAircraft) {\r\n          // 夜間機フィルタ\r\n          result = result.filter((v) => v.isNightAircraftItem);\r\n        }\r\n        if (this.enabledAAResistFilter && this.onlyAAResistAircraft) {\r\n          // 射撃回避フィルタ\r\n          result = result.filter((v) => v.avoidId);\r\n        }\r\n        if (this.isSpecialOnly && bonusKey) {\r\n          // 特効フィルタ\r\n          result = result.filter((v) => v.bonuses.find((x) => x.key === bonusKey));\r\n        }\r\n\r\n        // カテゴリ検索\r\n        const t = this.types.find((v) => v.id === this.type);\r\n        if (!word && this.type && t) {\r\n          this.viewStatus = t.viewStatus.concat();\r\n\r\n          if (!this.isAirbaseMode) {\r\n            // 基地じゃない場合\r\n            if (this.viewStatus.includes('radius')) {\r\n              // 半径が含まれていたら、砲撃戦火力に置換\r\n              this.viewStatus[this.viewStatus.indexOf('radius')] = 'dayBattleFirePower';\r\n            }\r\n            if (this.viewStatus.includes('cost')) {\r\n              // コストが含まれていたら、回避に置換\r\n              this.viewStatus[this.viewStatus.indexOf('cost')] = 'actualAvoid';\r\n            }\r\n          } else if (this.viewStatus.includes('nightBattleFirePower')) {\r\n            // 基地の場合 夜戦火力が含まれていたら、対空に置換\r\n            this.viewStatus[this.viewStatus.indexOf('nightBattleFirePower')] = 'antiAir';\r\n          }\r\n          result = result.filter((v) => t.types.includes(v.apiTypeId));\r\n        } else if (!word && this.type === -1) {\r\n          // カテゴリ全て検索\r\n          if (this.itemParent instanceof Ship) {\r\n            // 艦娘 -全て\r\n            this.viewStatus = ['dayBattleFirePower', 'nightBattleFirePower', 'actualAccuracy', 'antiAir', 'actualScout', 'actualAsw'];\r\n          } else if (this.isAirbaseMode) {\r\n            // 基地 -全て\r\n            this.viewStatus = ['actualTorpedo', 'actualBomber', 'actualAntiAir', 'radius', 'airPower', 'defenseAirPower'];\r\n          } else {\r\n            this.viewStatus = ['actualFire', 'actualAntiAir', 'actualAccuracy', 'actualScout', 'actualAvoid', 'armor'];\r\n          }\r\n        }\r\n      }\r\n\r\n      let usedItem = this.usedItems.concat();\r\n      const withoutRemodel = this.sortExcludeRemodelStatus && this.isStockOnly;\r\n      const withoutSynergy = this.sortExcludeSynergyStatus;\r\n      const viewItems: viewItem[] = [];\r\n      const iniLevels = this.setting.planeInitialLevels;\r\n      const { slot } = this;\r\n      if (!this.isEnemyMode && this.isStockOnly) {\r\n        // 所持装備考慮\r\n        const stock = this.itemStock;\r\n        for (let i = 0; i < result.length; i += 1) {\r\n          const master = result[i];\r\n          const iniLevel = iniLevels.find((v) => v.id === master.apiTypeId);\r\n          const stockData = stock.find((v) => v.id === master.id);\r\n          if (!stockData) {\r\n            // 未所持 出さない\r\n            continue;\r\n          }\r\n\r\n          // 熟練度 設定値より\r\n          const level = iniLevel ? iniLevel.level : 0;\r\n          const bonus = bonusKey ? master.bonuses.find((v) => v.key === bonusKey) : null;\r\n\r\n          // 改修値★10～0 だけ回す\r\n          for (let remodel = 10; remodel >= 0; remodel -= 1) {\r\n            let count = stockData.num[remodel];\r\n            if (!count) continue;\r\n            const item = new Item({\r\n              master,\r\n              slot,\r\n              remodel,\r\n              level,\r\n              ignoreRemodelBonus: withoutRemodel,\r\n            });\r\n\r\n            // id 改修値を見て配備済みかどうか判定\r\n            const usedCount = usedItem.filter((v) => v.data.id === master.id && v.remodel === remodel).length;\r\n            // 減らす\r\n            count -= usedCount;\r\n            usedItem = usedItem.filter((v) => v.data.id !== master.id || v.remodel !== remodel);\r\n\r\n            const allCount = count;\r\n            const batchListIndexes: number[] = [];\r\n            if (this.isBatchMode) {\r\n              for (let j = 0; j < this.batchList.length; j += 1) {\r\n                const el = this.batchList[j];\r\n                if (el.item.data.id === master.id && el.remodel === remodel) {\r\n                  batchListIndexes.push(j);\r\n                }\r\n              }\r\n\r\n              // さらに個数減らす\r\n              count -= batchListIndexes.length;\r\n            }\r\n\r\n            let disabled = false;\r\n            let lackRemodel = false;\r\n            if (this.itemParent instanceof Ship) {\r\n              // 一括モード 現在の装備スロットに搭載できるかどうかを判定\r\n              const parent = this.itemParent;\r\n              if (this.isBatchMode) {\r\n                // 一括モードの際は消さずに赤くする\r\n                disabled = this.isBatchListMax || !ShipValidation.isValidItem(parent.data, master, this.currentBatchIndex, remodel);\r\n              } else if (!ShipValidation.isValidItem(parent.data, master, this.slotIndex, remodel)) {\r\n                // 通常モード\r\n                if (this.slotIndex === Const.EXPAND_SLOT_INDEX && ShipValidation.isValidItem(parent.data, master, this.slotIndex, 10)) {\r\n                  // 敗者復活\r\n                  lackRemodel = true;\r\n                } else {\r\n                  // 搭載不可、消す\r\n                  continue;\r\n                }\r\n              }\r\n            }\r\n            viewItems.push({\r\n              item,\r\n              count: Math.max(count, 0),\r\n              allCount: Math.max(allCount, 0),\r\n              remodel,\r\n              sumBonus: 0,\r\n              bonus: {},\r\n              text: bonus ? bonus.text : '',\r\n              dayBattleFirePower: item.dayBattleFirePower,\r\n              aircraftDayBattleFirePower: item.aircraftDayBattleFirePower,\r\n              batchListIndexes,\r\n              disabled,\r\n              lackRemodel,\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        // 所持装備考慮なし 愚直に追加\r\n        for (let i = 0; i < result.length; i += 1) {\r\n          const master = result[i];\r\n          const iniLevel = iniLevels.find((v) => v.id === master.apiTypeId);\r\n          const level = iniLevel ? iniLevel.level : 0;\r\n          const bonus = bonusKey ? master.bonuses.find((v) => v.key === bonusKey) : null;\r\n          const item = new Item({\r\n            master,\r\n            slot,\r\n            level,\r\n          });\r\n\r\n          const batchListIndexes: number[] = [];\r\n          if (this.isBatchMode) {\r\n            for (let j = 0; j < this.batchList.length; j += 1) {\r\n              const el = this.batchList[j];\r\n              if (el.item.data.id === master.id && el.remodel === 0) {\r\n                batchListIndexes.push(j);\r\n              }\r\n            }\r\n          }\r\n\r\n          let disabled = false;\r\n          let lackRemodel = false;\r\n          if (this.itemParent instanceof Ship) {\r\n            // 現在の装備スロットに搭載できるかどうかを最終判定\r\n            const parent = this.itemParent;\r\n            if (this.isBatchMode) {\r\n              // 一括モードの際は消さずに赤くする\r\n              disabled = this.isBatchListMax || !ShipValidation.isValidItem(parent.data, master, this.currentBatchIndex, 0);\r\n            } else if (!ShipValidation.isValidItem(parent.data, master, this.slotIndex, 0)) {\r\n              // 通常モード\r\n              if (this.slotIndex === Const.EXPAND_SLOT_INDEX && ShipValidation.isValidItem(parent.data, master, this.slotIndex, 10)) {\r\n                // 敗者復活\r\n                lackRemodel = true;\r\n              } else {\r\n                // 搭載不可、消す\r\n                continue;\r\n              }\r\n            }\r\n          }\r\n          viewItems.push({\r\n            item,\r\n            count: 1,\r\n            allCount: 99,\r\n            sumBonus: 0,\r\n            remodel: 0,\r\n            bonus: {},\r\n            text: bonus ? bonus.text : '',\r\n            dayBattleFirePower: item.dayBattleFirePower,\r\n            aircraftDayBattleFirePower: item.aircraftDayBattleFirePower,\r\n            batchListIndexes,\r\n            disabled,\r\n            lackRemodel,\r\n          });\r\n        }\r\n      }\r\n\r\n      if (this.isBatchMode && this.isCheckedOnly) {\r\n        this.viewItems = viewItems.filter((v) => !!v.batchListIndexes.length);\r\n      } else {\r\n        this.viewItems = viewItems;\r\n      }\r\n\r\n      // 装備フィットの可視化\r\n      if (this.itemParent instanceof Ship) {\r\n        let parent = this.itemParent;\r\n        if (this.isBatchMode && this.batchList.length) {\r\n          // 一括モード => 既に搭載されている装備を反映したものとする\r\n          const tempNewItems: Item[] = [];\r\n          for (let index = 0; index < parent.items.length; index += 1) {\r\n            const item = this.batchList[index];\r\n            if (item && item.item.data.id) {\r\n              tempNewItems.push(new Item({ item: item.item }));\r\n            } else {\r\n              tempNewItems.push(new Item());\r\n            }\r\n          }\r\n          // 補強増設\r\n          const exItem = this.batchList[parent.data.slotCount];\r\n          if (exItem) {\r\n            parent = new Ship({ ship: parent, items: tempNewItems, exItem: exItem.item });\r\n          } else {\r\n            parent = new Ship({ ship: parent, items: tempNewItems, exItem: new Item() });\r\n          }\r\n        }\r\n        // viewItem配列全てのviewItemに対し、装備シナジーボーナスを付与する\r\n        // => 変更対象のスロットが空の場合のボーナスと、それぞれの装備を搭載時に発生するボーナスの差分を採る\r\n        const baseItems = parent.items.concat();\r\n        baseItems.push(parent.exItem);\r\n\r\n        let targetSlot = this.slotIndex;\r\n        if (this.isBatchMode) {\r\n          // 一括モードの際は現在のインデックス\r\n          targetSlot = this.currentBatchIndex;\r\n        }\r\n        if (targetSlot === Const.EXPAND_SLOT_INDEX) {\r\n          targetSlot = baseItems.length - 1;\r\n        }\r\n\r\n        // 装備を入れ替えようとしているスロットが未装備だった状態のbonusを取得...(1)\r\n        const tempItems = cloneDeep(baseItems);\r\n        tempItems[targetSlot] = new Item();\r\n        const emptyBonus = Ship.getItemBonus(parent.data, tempItems);\r\n        const totalEmptyBonus = ItemBonus.getTotalBonus(emptyBonus);\r\n\r\n        for (let i = 0; i < this.viewItems.length; i += 1) {\r\n          const item = this.viewItems[i];\r\n          const items = cloneDeep(baseItems);\r\n          items[targetSlot] = item.item;\r\n          const bonuses = Ship.getItemBonus(parent.data, items);\r\n          // (1) とのボーナスの個数を比較し、多ければボーナスありとする\r\n          if (bonuses.length > emptyBonus.length) {\r\n            const totalBonus = ItemBonus.getTotalBonus(bonuses);\r\n            // ボーナスの差分を取る\r\n            let sumBonus = 0;\r\n            if (totalBonus.firePower !== undefined) {\r\n              totalBonus.firePower -= totalEmptyBonus.firePower ?? 0;\r\n              sumBonus += totalBonus.firePower;\r\n            }\r\n            if (totalBonus.torpedo !== undefined) {\r\n              totalBonus.torpedo -= totalEmptyBonus.torpedo ?? 0;\r\n              sumBonus += totalBonus.torpedo;\r\n            }\r\n            if (totalBonus.antiAir !== undefined) {\r\n              totalBonus.antiAir -= totalEmptyBonus.antiAir ?? 0;\r\n              sumBonus += totalBonus.antiAir;\r\n            }\r\n            if (totalBonus.armor !== undefined) {\r\n              totalBonus.armor -= totalEmptyBonus.armor ?? 0;\r\n              sumBonus += totalBonus.armor;\r\n            }\r\n            if (totalBonus.asw !== undefined) {\r\n              totalBonus.asw -= totalEmptyBonus.asw ?? 0;\r\n              sumBonus += totalBonus.asw;\r\n            }\r\n            if (totalBonus.avoid !== undefined) {\r\n              totalBonus.avoid -= totalEmptyBonus.avoid ?? 0;\r\n              sumBonus += totalBonus.avoid;\r\n            }\r\n            if (totalBonus.accuracy !== undefined) {\r\n              totalBonus.accuracy -= totalEmptyBonus.accuracy ?? 0;\r\n              sumBonus += totalBonus.accuracy;\r\n            }\r\n            if (totalBonus.range !== undefined) {\r\n              totalBonus.range -= totalEmptyBonus.range ?? 0;\r\n              sumBonus += totalBonus.range;\r\n            }\r\n            if (totalBonus.bomber !== undefined) {\r\n              totalBonus.bomber -= totalEmptyBonus.bomber ?? 0;\r\n              sumBonus += totalBonus.bomber;\r\n            }\r\n            if (totalBonus.scout !== undefined) {\r\n              totalBonus.scout -= totalEmptyBonus.scout ?? 0;\r\n              sumBonus += totalBonus.scout;\r\n            }\r\n\r\n            item.sumBonus = sumBonus;\r\n            item.bonus = totalBonus;\r\n\r\n            if (!withoutSynergy) {\r\n              // ボーナス(差分のみ)をパラメータに加算 対空はややこしいので指摘されるまではスルー\r\n              item.item.actualFire += totalBonus.firePower ?? 0;\r\n              item.item.actualTorpedo += totalBonus.torpedo ?? 0;\r\n              item.item.actualAsw += totalBonus.asw ?? 0;\r\n              item.item.actualArmor += totalBonus.armor ?? 0;\r\n              item.item.actualAccuracy += totalBonus.accuracy ?? 0;\r\n              item.item.actualScout += totalBonus.scout ?? 0;\r\n              item.item.actualAvoid += totalBonus.avoid ?? 0;\r\n              item.item.actualRange += totalBonus.range ?? 0;\r\n              item.item.nightBattleFirePower += (totalBonus.firePower ?? 0) + (totalBonus.torpedo ?? 0);\r\n\r\n              // 砲戦火力に加算\r\n              if (item.item.data.isPlane && !item.item.data.isSPPlane) {\r\n                item.dayBattleFirePower += totalBonus.firePower ?? 0;\r\n                item.aircraftDayBattleFirePower += ((totalBonus.firePower ?? 0) + (totalBonus.torpedo ?? 0) + (totalBonus.bomber ?? 0)) * 1.5;\r\n              } else {\r\n                item.dayBattleFirePower += totalBonus.firePower ?? 0;\r\n                item.aircraftDayBattleFirePower += totalBonus.firePower ?? 0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!this.disabledDetailFilter) {\r\n          // 射程変化フィルタ\r\n          const currentRange = parent.displayStatus.range;\r\n          if (this.onlyAffectingRange) {\r\n            this.viewItems = this.viewItems.filter((v) => v.bonus.range || currentRange < v.item.data.range);\r\n          } else if (this.onlyNotAffectingRange) {\r\n            this.viewItems = this.viewItems.filter((v) => !v.bonus.range && currentRange >= v.item.data.range);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this.disabledDetailFilter) {\r\n        // ステータスの数値によるフィルタ => 装備ボーナス分を考慮するため、最後にやる必要がある\r\n        const filterValue = this.filterStatusValue ? +this.filterStatusValue : 0;\r\n        if (this.filterStatus && filterValue) {\r\n          let filterKey = this.filterStatus;\r\n          if (withoutRemodel && filterKey.startsWith('actual')) {\r\n            filterKey = filterKey.replace('actual', '');\r\n            filterKey = filterKey[0].toLowerCase() + filterKey.slice(1);\r\n          }\r\n          const isActualFilterKey = filterKey.indexOf('actual') >= 0 || actualKey.includes(filterKey);\r\n          this.viewItems = (this.viewItems as []).filter((v: { item: sortItem }) => {\r\n            if (this.filterStatus === 'antiAirBonus') {\r\n              return (v.item.antiAirBonus as number) / 100 >= filterValue;\r\n            }\r\n            if (isActualFilterKey) {\r\n              return v.item[filterKey] >= filterValue;\r\n            }\r\n            if (this.isCostFilter) {\r\n              return (v.item.data as { [key: string]: number }).cost <= filterValue;\r\n            }\r\n            return (v.item.data as { [key: string]: number })[filterKey] >= filterValue;\r\n          });\r\n        }\r\n      }\r\n\r\n      // スマホ版は表示ステータスを3つ程度まで減らす デザインが無理すぎる\r\n      if (this.isMobile) {\r\n        this.viewStatus = this.viewStatus.splice(0, 4);\r\n      }\r\n\r\n      // ソートを行う\r\n      if (this.sortKey && !this.isCheckedOnly) {\r\n        this.sortItems();\r\n      } else if (this.isCheckedOnly) {\r\n        this.viewItems.sort((a, b) => (a.batchListIndexes[0] ?? 0) - (b.batchListIndexes[0] ?? 0));\r\n      }\r\n\r\n      if (this.isJapanese) {\r\n        this.itemListHeight = Math.floor(0.64 * window.innerHeight);\r\n      } else {\r\n        this.itemListHeight = Math.floor(0.6 * window.innerHeight);\r\n      }\r\n    },\r\n    clickedItem(data: viewItem, event: MouseEvent) {\r\n      if (event && event.ctrlKey && data && data.item && !data.item.data.isEnemyItem) {\r\n        this.openWiki(data.item.data);\r\n        return;\r\n      }\r\n\r\n      // 一括選択モードの処理\r\n      if (this.isBatchMode) {\r\n        this.clearTooltip();\r\n        if (this.isCheckedOnly || this.isBatchListMax || data.batchListIndexes.length >= data.allCount || (data.batchListIndexes.length && data.disabled)) {\r\n          // 選択済みのみモード || 選択装備数が配備可能数を上回っていたら || 選択装備数が在庫数を上回っていたら\r\n          // この装備を一括選択状態から解除する\r\n          this.batchList = this.batchList.filter((v) => !(v.item.data.id === data.item.data.id && v.remodel === data.remodel));\r\n        } else if (!data.disabled) {\r\n          // 選択不可(スロット位置の関係で装備できないとか)でないならば追加可能\r\n          this.batchList.push(data);\r\n        }\r\n        this.filter();\r\n        return;\r\n      }\r\n\r\n      if (this.decidedItem) {\r\n        return;\r\n      }\r\n      this.clearTooltip();\r\n\r\n      // 装備比較画面展開できるかどうか\r\n      if (this.setting.showItemCompareDialog && !this.compareDialog && (this.isAirbaseMode || this.isShipMode) && this.itemParent) {\r\n        // 元あった装備がないなら展開はしない\r\n        const baseItem = this.itemParent.items[this.slotIndex] || (this.itemParent instanceof Ship && this.itemParent.exItem);\r\n        if (baseItem && baseItem.data && baseItem.data.id) {\r\n          // 比較画面展開\r\n          this.menuItem = data;\r\n          this.compareItem();\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (data.count || this.confirmDialog) {\r\n        this.decidedItem = true;\r\n        this.confirmDialog = false;\r\n        this.handleEquipItem(new Item({ item: data.item, remodel: data.remodel }));\r\n      } else {\r\n        this.confirmItem = data;\r\n        this.confirmDialog = true;\r\n      }\r\n    },\r\n    changeMultiLine(isMulti: boolean) {\r\n      this.handleChangeWidth(isMulti ? 1200 : 940);\r\n      this.multiLine = isMulti;\r\n\r\n      // 設定書き換え\r\n      this.setting.isMultiLineForItemList = isMulti;\r\n      this.$store.dispatch('updateSetting', this.setting);\r\n    },\r\n    close() {\r\n      this.handleClose();\r\n    },\r\n    toggleSortKey(value: string) {\r\n      if (this.sortKey !== value) {\r\n        // 初回 降順\r\n        this.isDesc = true;\r\n        this.sortKey = value;\r\n        this.sortItems();\r\n      } else if (this.sortKey === value && this.isDesc) {\r\n        // 2回目 昇順\r\n        this.isDesc = false;\r\n        this.sortItems();\r\n      } else if (this.sortKey === value && !this.isDesc) {\r\n        // 3回目 ソート解除\r\n        this.sortKey = '';\r\n        this.filter();\r\n      }\r\n\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    selectSortKey(value: string) {\r\n      if (this.sortKey === value) {\r\n        // もうソートされてるので何もせず\r\n        return;\r\n      }\r\n      // 初回は基本的に降順\r\n      this.isDesc = value !== 'id' && value !== 'cost';\r\n\r\n      // ソート任意設定\r\n      this.sortKey = value;\r\n      this.handleSortItem();\r\n    },\r\n    handleSortItem() {\r\n      // 昇順降順変更\r\n      this.filter();\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    resetOrdering() {\r\n      this.sortKey = '';\r\n      this.filter();\r\n\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    sortItems() {\r\n      const key = this.sortKey;\r\n      const desc = this.isDesc ? 1 : -1;\r\n\r\n      if ((!this.multiLine || this.isMobile) && key !== 'name' && key !== 'id' && !this.viewStatus.includes(key)) {\r\n        // ソート対象が一覧になかった場合、ケツのviewStatusをソート項目に置き換え\r\n        this.viewStatus[this.viewStatus.length - 1] = key;\r\n      }\r\n\r\n      // 砲戦火力ソート時特別対応\r\n      if (key === 'dayBattleFirePower') {\r\n        if (this.isAircraftMode) {\r\n          this.viewItems.sort((a, b) => desc * (b.aircraftDayBattleFirePower - a.aircraftDayBattleFirePower));\r\n          return;\r\n        }\r\n        this.viewItems.sort((a, b) => desc * (b.dayBattleFirePower - a.dayBattleFirePower));\r\n        return;\r\n      }\r\n\r\n      const isNameSort = key === 'name';\r\n      // 装備マスタの値でソートできないものたち\r\n      const isActualValue = key.indexOf('actual') >= 0 || actualKey.includes(key);\r\n\r\n      (this.viewItems as []).sort((a: { item: sortItem }, b: { item: sortItem }) => {\r\n        if (isActualValue) {\r\n          return desc * ((b.item[key] as number) - (a.item[key] as number));\r\n        }\r\n        if (isNameSort) {\r\n          const sa = String((a.item.data as { name: number }).name).replace(/(\\d+)/g, (m) => m.padStart(10, '0'));\r\n          const sb = String((b.item.data as { name: number }).name).replace(/(\\d+)/g, (m) => m.padStart(10, '0'));\r\n          // eslint-disable-next-line no-nested-ternary\r\n          return -desc * (sa < sb ? -1 : sa > sb ? 1 : 0);\r\n        }\r\n        return desc * ((b.item.data as { [key: string]: number })[key] - (a.item.data as { [key: string]: number })[key]);\r\n      });\r\n    },\r\n    bootTooltip(item: Item, bonus: ItemBonusStatus, e: MouseEvent | FocusEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (setting.disabledItemTooltip || this.isMobile) {\r\n        return;\r\n      }\r\n      const div = e.target as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = div.getBoundingClientRect();\r\n\r\n        if (e instanceof FocusEvent) {\r\n          this.tooltipX = this.multiLine ? rect.x + rect.width / 3 : rect.left;\r\n        } else {\r\n          this.tooltipX = this.multiLine ? rect.x + rect.width / 3 : e.clientX;\r\n        }\r\n\r\n        this.tooltipY = rect.y + rect.height;\r\n        this.tooltipItem = item;\r\n        this.tooltipBonus = bonus ? JSON.stringify(bonus) : '';\r\n        this.enabledTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n    showBlacklist() {\r\n      this.blacklistDialog = true;\r\n    },\r\n    closeBlacklist() {\r\n      this.blacklistDialog = false;\r\n      this.toggleBlacklistDialog();\r\n    },\r\n    toggleBlacklistDialog() {\r\n      if (!this.blacklistDialog) {\r\n        this.filter();\r\n      }\r\n    },\r\n    closeFilterDialog() {\r\n      this.filterDialog = false;\r\n      this.toggleFilterDialog();\r\n    },\r\n    toggleFilterDialog() {\r\n      if (!this.filterDialog) {\r\n        this.changedFilter();\r\n      }\r\n    },\r\n    openWiki(item: ItemMaster) {\r\n      window.open(ItemMaster.getWikiURL(item));\r\n    },\r\n    showItemMenu(item: viewItem, e: MouseEvent) {\r\n      e.preventDefault();\r\n      this.menuItem = item;\r\n      this.showMenu = false;\r\n      this.menuX = e.clientX;\r\n      this.menuY = e.clientY;\r\n      this.clearTooltip();\r\n      this.$nextTick(() => {\r\n        this.showMenu = true;\r\n      });\r\n    },\r\n    copyItemName() {\r\n      const textToCopy = document.getElementById('item-name-box') as HTMLInputElement;\r\n      textToCopy.select();\r\n      document.execCommand('copy');\r\n    },\r\n    changeRemodel(item: Item, remodel: number) {\r\n      // 改修値変更\r\n      const stock = this.itemStock.find((v) => v.id === item.data.id);\r\n\r\n      // 必ずあるはずだが、念のためチェックして書き換え\r\n      if (stock && stock.num[item.remodel] > 0) {\r\n        stock.num[item.remodel] -= 1;\r\n        stock.num[remodel] += 1;\r\n        this.$store.dispatch('updateItemStock', this.itemStock);\r\n        this.showMenu = false;\r\n        this.filter();\r\n      }\r\n    },\r\n    compareItem() {\r\n      if (this.isShipMode || this.isAirbaseMode) {\r\n        this.compareDialog = true;\r\n      }\r\n    },\r\n    toggleCompareSetting() {\r\n      // 設定書き換え\r\n      this.$store.dispatch('updateSetting', this.setting);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=4771bf27&scoped=true\"\nimport script from \"./ItemList.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemList.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ItemList.vue?vue&type=style&index=0&id=4771bf27&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4771bf27\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',[_c('div',{staticClass:\"d-flex pt-2 pb-1 pr-2\"},[_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.装備プリセット\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.handleClose}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"px-3\"},[_c('div',{staticClass:\"d-flex flex-wrap\"},[_c('v-btn',{staticClass:\"my-2 mr-2\",attrs:{\"color\":\"teal\",\"dark\":!_vm.disabledCommit,\"disabled\":_vm.disabledCommit,\"block\":_vm.isMobile},on:{\"click\":function($event){return _vm.readyPreset()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.現在の装備構成で新規登録\"))+\" \")]),(!_vm.isMobile)?_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"primary\",\"disabled\":_vm.disabledCommit || _vm.isPresetItemEmpty || _vm.isAACIMode || _vm.selectedIndex < 0},on:{\"click\":function($event){return _vm.overwritePreset()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.現在の装備構成で上書き\"))+\" \")]):_vm._e()],1),_c('v-divider'),_c('div',{staticClass:\"preset-container py-1\"},[_c('div',{staticClass:\"preset-list\"},[_c('draggable',{attrs:{\"handle\":\".preset-id\",\"animation\":\"150\"},on:{\"end\":function($event){return _vm.sortEnd()}},model:{value:(_vm.presets),callback:function ($$v) {_vm.presets=$$v},expression:\"presets\"}},_vm._l((_vm.presets),function(preset,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:`preset${i}`,staticClass:\"preset-item\",class:{ selected: !_vm.isAACIMode && i === _vm.selectedIndex },on:{\"click\":function($event){return _vm.clickedPreset(preset.id)},\"dblclick\":function($event){return _vm.expandPreset()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.clickedPreset(preset.id)}}},[_c('div',{staticClass:\"preset-id primary--text\"},[_vm._v(_vm._s(preset.id)+\".\")]),_c('div',{staticClass:\"preset-name text-truncate\"},[_vm._v(_vm._s(preset.name))])])}),0),(_vm.uniquePresets.length)?_c('div',{staticClass:\"mt-2 d-flex ml-1\"},[_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.固有プリセット\")))]),_c('div',{staticClass:\"divider-line\"})]):_vm._e(),_vm._l((_vm.uniquePresets),function(preset,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:`preset${i}`,staticClass:\"preset-item\",class:{ selected: _vm.isAACIMode && i === _vm.selectedIndex },on:{\"click\":function($event){return _vm.clickedUniquePreset(i)},\"dblclick\":function($event){return _vm.expandPreset()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.clickedUniquePreset(i)}}},[_c('div',{staticClass:\"aaci-preset-id success--text\"},[_vm._v(\"AACI.\")]),_c('div',{staticClass:\"preset-name text-truncate\"},[_vm._v(_vm._s(preset.name))]),_c('div',{staticClass:\"text--secondary caption d-flex align-center mr-2\"},[_c('div',[_vm._v(\"(\")]),_c('div',{staticClass:\"mx-1\"},[_vm._v(_vm._s(preset.spec1))]),_c('div',[_vm._v(\",\")]),_c('div',{staticClass:\"mx-1\"},[_vm._v(_vm._s(preset.spec2))]),_c('div',[_vm._v(\")\")])]),_c('div',[(preset.isLack)?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")]):_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"transparent\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1)])})],2),(!_vm.isMobile)?_c('div',{staticClass:\"preset-view pl-2\"},[(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"mt-5 d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('ItemList.名称'),\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"maxlength\":\"100\",\"hide-details\":\"\"},model:{value:(_vm.selectedPreset.name),callback:function ($$v) {_vm.$set(_vm.selectedPreset, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"selectedPreset.name\"}}),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"success\",\"disabled\":!_vm.selectedPreset.name || _vm.isAACIMode},on:{\"click\":function($event){return _vm.savePreset()}}},[_vm._v(\" \"+_vm._s(_vm.selectedIndex >= 0 ? _vm.$t(\"Common.更新\") : _vm.$t(\"Common.保存\"))+\" \")])],1):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"items-container pa-2 mt-2\"},[_vm._l((_vm.itemView),function(item,i){return _c('div',{key:`view${i}`,staticClass:\"d-flex align-center py-1\"},[(item.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${item.data.iconTypeId}.png`,\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': item.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${item.data.name}`) : item.data.name)+\" \")]),(item.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(item.remodel))])],1):_vm._e(),(item.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()])}),(_vm.exItemView.data.id)?_c('div',{staticClass:\"mt-2 d-flex ml-1\"},[_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.補強増設\")))]),_c('div',{staticClass:\"divider-line\"})]):_vm._e(),(_vm.exItemView.data.id)?_c('div',{staticClass:\"d-flex align-center py-1\"},[(_vm.exItemView.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${_vm.exItemView.data.iconTypeId}.png`,\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': _vm.exItemView.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${_vm.exItemView.data.name}`) : _vm.exItemView.data.name)+\" \")]),(_vm.exItemView.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(_vm.exItemView.remodel))])],1):_vm._e(),(_vm.exItemView.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()]):_vm._e()],2):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"d-flex my-3 justify-end\"},[(_vm.selectedIndex >= 0)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.expandPreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.展開\")))]):_vm._e(),(_vm.selectedIndex >= 0 && _vm.selectedPreset.isLack)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"warning\"},on:{\"click\":function($event){return _vm.expandPreset(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.在庫がなくても展開\"))+\" \")]):_vm._e(),(!_vm.isAACIMode)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"error\",\"disabled\":_vm.selectedIndex < 0},on:{\"click\":function($event){return _vm.deletePreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.削除\")))]):_vm._e()],1):_vm._e()]):_vm._e(),_c('v-dialog',{attrs:{\"fullscreen\":\"\"},model:{value:(_vm.viewDialog),callback:function ($$v) {_vm.viewDialog=$$v},expression:\"viewDialog\"}},[_c('v-card',[_c('div',{staticClass:\"d-flex px-2 py-1 align-center\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.編集\")))]),_c('v-spacer'),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.viewDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"pa-2\"},[(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"mt-5 d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('ItemList.名称'),\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"maxlength\":\"100\",\"hide-details\":\"\"},model:{value:(_vm.selectedPreset.name),callback:function ($$v) {_vm.$set(_vm.selectedPreset, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"selectedPreset.name\"}}),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"success\",\"disabled\":!_vm.selectedPreset.name || _vm.isAACIMode},on:{\"click\":function($event){return _vm.savePreset()}}},[_vm._v(\" \"+_vm._s(_vm.selectedIndex >= 0 ? _vm.$t(\"Common.更新\") : _vm.$t(\"Common.保存\"))+\" \")])],1):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"items-container pa-2 mt-2\"},[_vm._l((_vm.itemView),function(item,i){return _c('div',{key:`view${i}`,staticClass:\"d-flex align-center py-1\"},[(item.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${item.data.iconTypeId}.png`,\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': item.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${item.data.name}`) : item.data.name)+\" \")]),(item.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(item.remodel))])],1):_vm._e(),(item.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()])}),(_vm.exItemView.data.id)?_c('div',{staticClass:\"mt-2 d-flex ml-1\"},[_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.補強増設\")))]),_c('div',{staticClass:\"divider-line\"})]):_vm._e(),(_vm.exItemView.data.id)?_c('div',{staticClass:\"d-flex align-center py-1\"},[(_vm.exItemView.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":`./img/type/icon${_vm.exItemView.data.iconTypeId}.png`,\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': _vm.exItemView.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t(`${_vm.exItemView.data.name}`) : _vm.exItemView.data.name)+\" \")]),(_vm.exItemView.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(_vm.exItemView.remodel))])],1):_vm._e(),(_vm.exItemView.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()]):_vm._e()],2):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"d-flex my-3 justify-end\"},[(_vm.selectedIndex >= 0)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.expandPreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.展開\")))]):_vm._e(),(_vm.selectedIndex >= 0 && _vm.selectedPreset.isLack)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"warning\"},on:{\"click\":function($event){return _vm.expandPreset(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.在庫がなくても展開\"))+\" \")]):_vm._e(),(!_vm.isAACIMode)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"error\",\"disabled\":_vm.selectedIndex < 0},on:{\"click\":function($event){return _vm.deletePreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.削除\")))]):_vm._e()],1):_vm._e()])],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"top\":_vm.snackbar},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.infoText ? _vm.$t(`ItemList.${_vm.infoText}`) : _vm.infoText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export interface PresetItem {\r\n  /** 装備id */\r\n  id: number;\r\n  /** 改修値 */\r\n  remodel: number;\r\n  /** 理想id */\r\n  assumedId?: number;\r\n}\r\n\r\n/**\r\n * 旧装備プリセットデータ構造\r\n * @interface OldItemPreset\r\n */\r\nexport interface OldItemPreset {\r\n  /** id */\r\n  id: number;\r\n\r\n  /** プリセット名称 */\r\n  name: string;\r\n\r\n  /** プリセット装備 */\r\n  itemIds: number[];\r\n\r\n  /** プリセット補強増設装備 */\r\n  exItemId: number;\r\n}\r\n\r\n/**\r\n * 装備プリセット\r\n * @export\r\n * @class ItemPreset\r\n */\r\nexport default class ItemPreset {\r\n  /** id */\r\n  public id = 0;\r\n\r\n  /** プリセット名称 */\r\n  public name = '';\r\n\r\n  /** プリセット装備 */\r\n  public items = [] as PresetItem[];\r\n\r\n  /** プリセット補強増設装備 */\r\n  public exItem: PresetItem = { id: 0, remodel: 0 };\r\n\r\n  /**\r\n   * 旧プリセデータを変換\r\n   * @static\r\n   * @param {OldItemPreset[]} oldPresets\r\n   * @return {*}  {ItemPreset[]}\r\n   * @memberof ItemPreset\r\n   */\r\n  public static convertOldItemPresets(oldPresets: (ItemPreset | OldItemPreset)[]): ItemPreset[] {\r\n    if (!oldPresets || !oldPresets.length) {\r\n      return [];\r\n    }\r\n    const presets: ItemPreset[] = [];\r\n    for (let i = 0; i < oldPresets.length; i += 1) {\r\n      const old = oldPresets[i];\r\n      if ('items' in old && 'exItem' in old) {\r\n        const preset = new ItemPreset();\r\n        preset.id = old.id;\r\n        preset.name = old.name;\r\n        preset.items = old.items;\r\n        preset.exItem = old.exItem;\r\n        presets.push(preset);\r\n      } else if ('itemIds' in old && 'exItemId' in old) {\r\n        const newPreset = new ItemPreset();\r\n        newPreset.id = old.id;\r\n        newPreset.name = old.name;\r\n        for (let j = 0; j < old.itemIds.length; j += 1) {\r\n          newPreset.items.push({ id: old.itemIds[j], remodel: 0 });\r\n        }\r\n        newPreset.exItem = { id: old.exItemId, remodel: 0 };\r\n        presets.push(newPreset);\r\n      }\r\n    }\r\n\r\n    return presets;\r\n  }\r\n}\r\n","\r\nimport Vue from 'vue';\r\nimport draggable from 'vuedraggable';\r\nimport max from 'lodash/max';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport ItemPreset, { OldItemPreset } from '@/classes/item/itemPreset';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Optimizer from '@/classes/fleet/optimizer';\r\nimport Airbase from '@/classes/airbase/airbase';\r\nimport Item from '@/classes/item/item';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ItemStock from '@/classes/item/itemStock';\r\nimport Const from '@/classes/const';\r\nimport SaveData from '@/classes/saveData/saveData';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemPreset',\r\n  components: { draggable },\r\n  props: {\r\n    value: {\r\n      type: [Ship, Airbase],\r\n      required: true,\r\n    },\r\n    handleExpandItemPreset: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    isMobile: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    items: [] as ItemMaster[],\r\n    presets: [] as ItemPreset[],\r\n    uniquePresets: [] as (ItemPreset & { isLack: boolean; spec1: string; spec2: string })[],\r\n    isAACIMode: false,\r\n    selectedIndex: -1,\r\n    selectedPreset: new ItemPreset(),\r\n    snackbar: false,\r\n    infoText: '',\r\n    viewDialog: false,\r\n  }),\r\n  mounted() {\r\n    this.items = this.$store.state.items as ItemMaster[];\r\n\r\n    this.presets = [];\r\n    const savedPresets = this.$store.state.itemPresets as (ItemPreset | OldItemPreset)[];\r\n    this.presets = ItemPreset.convertOldItemPresets(savedPresets);\r\n\r\n    // idズレを直す\r\n    if (this.presets.some((v) => v.id === 0)) {\r\n      for (let i = 0; i < this.presets.length; i += 1) {\r\n        this.presets[i].id = i + 1;\r\n      }\r\n    }\r\n\r\n    this.getAACIPreset();\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.getAACIPreset();\r\n    },\r\n  },\r\n  computed: {\r\n    needTrans() {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    disabledCommit(): boolean {\r\n      // 装備が空の場合判定\r\n      if (this.value instanceof Airbase) {\r\n        return this.value.items.filter((v) => v.data.id > 0).length === 0;\r\n      }\r\n      // 基地以外の時は補強増設まで見て判定\r\n      return this.value.items.concat(this.value.exItem).filter((v) => v.data.id > 0).length === 0;\r\n    },\r\n    itemView(): { data: ItemMaster; remodel: number; isLack?: boolean }[] {\r\n      const itemMasters: { data: ItemMaster; remodel: number; isLack?: boolean }[] = [];\r\n      for (let i = 0; i < this.selectedPreset.items.length; i += 1) {\r\n        const { id, remodel, assumedId } = this.selectedPreset.items[i];\r\n        const item = this.items.find((v) => v.id === id);\r\n        if (item) {\r\n          itemMasters.push({ data: item, remodel });\r\n        } else if (assumedId) {\r\n          const assumedItem = this.items.find((v) => v.id === assumedId);\r\n          if (assumedItem) itemMasters.push({ data: assumedItem, remodel: 0, isLack: true });\r\n          else itemMasters.push({ data: new ItemMaster(), remodel: 0 });\r\n        } else {\r\n          itemMasters.push({ data: new ItemMaster(), remodel: 0 });\r\n        }\r\n      }\r\n      return itemMasters;\r\n    },\r\n    exItemView(): { data: ItemMaster; remodel: number; isLack?: boolean } {\r\n      const item = this.items.find((v) => v.id === this.selectedPreset.exItem.id);\r\n      if (item) {\r\n        return { data: item, remodel: this.selectedPreset.exItem.remodel };\r\n      }\r\n      const assumedItem = this.items.find((v) => v.id === this.selectedPreset.exItem.assumedId);\r\n      return assumedItem ? { data: assumedItem, remodel: 0, isLack: true } : { data: new ItemMaster(), remodel: 0 };\r\n    },\r\n    isPresetItemEmpty(): boolean {\r\n      return !this.selectedPreset.items.some((v) => v.id || v.assumedId) && !this.selectedPreset.exItem.id && !this.selectedPreset.exItem.assumedId;\r\n    },\r\n  },\r\n  methods: {\r\n    clickedPreset(id: number) {\r\n      this.isAACIMode = false;\r\n      const index = this.presets.findIndex((v) => v.id === id);\r\n      if (index >= 0) {\r\n        this.selectedIndex = index;\r\n        this.selectedPreset = cloneDeep(this.presets[index]);\r\n      }\r\n\r\n      if (this.isMobile) {\r\n        this.viewDialog = true;\r\n      }\r\n    },\r\n    clickedUniquePreset(index: number) {\r\n      this.isAACIMode = true;\r\n      this.selectedIndex = index;\r\n      this.selectedPreset = cloneDeep(this.uniquePresets[index]);\r\n      if (this.isMobile) {\r\n        this.viewDialog = true;\r\n      }\r\n    },\r\n    readyPreset() {\r\n      this.isAACIMode = false;\r\n      const newPreset = new ItemPreset();\r\n      const maxId = max(this.presets.map((v) => v.id));\r\n      if (maxId) {\r\n        newPreset.id = maxId;\r\n      }\r\n      newPreset.id += 1;\r\n      if (this.$i18n.locale !== 'ja') {\r\n        newPreset.name = `${this.$t('ItemList.プリセット')} ${newPreset.id}`;\r\n      } else {\r\n        newPreset.name = `装備プリセット${newPreset.id}`;\r\n      }\r\n      // 装備id一覧\r\n      for (let i = 0; i < this.value.items.length; i += 1) {\r\n        const item = this.value.items[i];\r\n        newPreset.items.push({ id: item.data.id, remodel: item.remodel });\r\n      }\r\n      if (this.value instanceof Ship) {\r\n        newPreset.exItem = { id: this.value.exItem.data.id, remodel: this.value.exItem.remodel };\r\n      }\r\n\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = newPreset;\r\n\r\n      if (this.isMobile) {\r\n        this.viewDialog = true;\r\n      }\r\n    },\r\n    overwritePreset() {\r\n      const { id, name } = this.selectedPreset;\r\n      this.selectedPreset = new ItemPreset();\r\n      this.selectedPreset.id = id;\r\n      this.selectedPreset.name = name;\r\n      for (let i = 0; i < this.value.items.length; i += 1) {\r\n        const item = this.value.items[i];\r\n        this.selectedPreset.items.push({ id: item.data.id, remodel: item.remodel });\r\n      }\r\n      if (this.value instanceof Ship) {\r\n        this.selectedPreset.exItem = { id: this.value.exItem.data.id, remodel: this.value.exItem.remodel };\r\n      }\r\n    },\r\n    savePreset() {\r\n      if (this.selectedIndex >= 0) {\r\n        // 更新\r\n        this.presets[this.selectedIndex] = this.selectedPreset;\r\n      } else {\r\n        // 新規登録\r\n        this.presets.push(this.selectedPreset);\r\n      }\r\n      // ブラウザに保存\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n      this.infoText = '保存しました。';\r\n      this.snackbar = true;\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = new ItemPreset();\r\n      this.viewDialog = false;\r\n    },\r\n    deletePreset() {\r\n      this.presets = this.presets.filter((v, i) => i !== this.selectedIndex);\r\n      // ブラウザに保存\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n      this.snackbar = true;\r\n      this.infoText = '削除しました。';\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = new ItemPreset();\r\n      this.viewDialog = false;\r\n    },\r\n    expandPreset(isForce = false) {\r\n      if (this.selectedPreset) {\r\n        this.viewDialog = false;\r\n        this.handleExpandItemPreset(this.selectedPreset, isForce);\r\n        this.handleClose();\r\n      }\r\n    },\r\n    sortEnd() {\r\n      for (let i = 0; i < this.presets.length; i += 1) {\r\n        this.presets[i].id = i + 1;\r\n      }\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n    },\r\n    getAACIPreset() {\r\n      const parent = this.value;\r\n      if (!(parent instanceof Ship)) {\r\n        return;\r\n      }\r\n\r\n      // 今使える全装備を取得\r\n      const allItemMasters = this.items.filter((v) => !v.isEnemyItem);\r\n      const allItems = allItemMasters.map((v) => new Item({ master: v }));\r\n\r\n      const stocks = this.$store.state.itemStock as ItemStock[];\r\n\r\n      let items: Item[] = [];\r\n      const isStockMode = !!stocks.length && stocks.some((v) => v.num.some((remodel) => !!remodel));\r\n\r\n      if (isStockMode) {\r\n        // 所持装備情報がある場合\r\n        // 利用済み装備idと改修値を控えていく\r\n        let usedItems: { id: number; remodel: number; isChecked: boolean }[] = [];\r\n        // 現在の計算画面内で配備されている装備を列挙する\r\n        const mainData = this.$store.state.mainSaveData as SaveData;\r\n        if (mainData) {\r\n          const manager = mainData.tempData[mainData.tempIndex];\r\n          if (manager) {\r\n            // 艦隊データから装備全取得\r\n            for (let i = 0; i < manager.fleetInfo.fleets.length; i += 1) {\r\n              const { ships } = manager.fleetInfo.fleets[i];\r\n              for (let j = 0; j < ships.length; j += 1) {\r\n                const ship = ships[j];\r\n                const shipItems = ship.items.filter((v) => v.data.id);\r\n                if (shipItems.length) {\r\n                  usedItems = usedItems.concat(shipItems.map((v) => ({ id: v.data.id, remodel: v.remodel, isChecked: false })));\r\n                }\r\n                if (ship.exItem.data.id > 0) usedItems.push({ id: ship.exItem.data.id, remodel: ship.exItem.remodel, isChecked: false });\r\n              }\r\n            }\r\n            // 基地航空隊データから装備全取得\r\n            const { airbases } = manager.airbaseInfo;\r\n            for (let i = 0; i < airbases.length; i += 1) {\r\n              const airbaseItems = airbases[i].items.filter((v) => v.data.id);\r\n              if (airbaseItems.length) {\r\n                usedItems = usedItems.concat(airbaseItems.map((v) => ({ id: v.data.id, remodel: v.remodel, isChecked: false })));\r\n              }\r\n            }\r\n\r\n            const parentItems = parent.items.concat(parent.exItem).filter((v) => v.data.id);\r\n            for (let i = 0; i < parentItems.length; i += 1) {\r\n              // 自分が装備しているやつは対象外なので抜く\r\n              const item = parentItems[i];\r\n              const index = usedItems.findIndex((v) => v.id === item.data.id && v.remodel === item.remodel);\r\n              if (index >= 0) usedItems = usedItems.filter((v, idx) => idx !== index);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (let i = 0; i < stocks.length; i += 1) {\r\n          const stock = stocks[i];\r\n          const master = allItemMasters.find((v) => v.id === stock.id);\r\n          if (!master) continue;\r\n\r\n          // ★10からpushしていくことで、高改修のものを優先する\r\n          for (let remodel = 10; remodel >= 0; remodel -= 1) {\r\n            for (let j = 0; j < stock.num[remodel]; j += 1) {\r\n              // 利用済み装備に該当するかチェック\r\n              const uncheckedUsedItem = usedItems.find((v) => v.id === master.id && v.remodel === remodel && !v.isChecked);\r\n              if (uncheckedUsedItem) {\r\n                // 利用済みチェックだけしてスキップ\r\n                uncheckedUsedItem.isChecked = true;\r\n                continue;\r\n              }\r\n              items.push(new Item({ master, remodel }));\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        items = allItems.concat();\r\n      }\r\n\r\n      /** 対空CI用のプリセットを取得 */\r\n      const aaciItems = Optimizer.getShipAACITriggerItems(parent, items, isStockMode);\r\n      /** 全装備あり状態の対空CI装備取得 */\r\n      const assumedItems = Optimizer.getShipAACITriggerItems(parent, allItems);\r\n\r\n      this.uniquePresets = [];\r\n\r\n      for (let i = 0; i < assumedItems.length; i += 1) {\r\n        const assumedRow = assumedItems[i];\r\n        const cutIn = Const.ANTI_AIR_CUTIN.find((v) => v.id === assumedRow.id);\r\n        if (!cutIn) continue;\r\n        const row = aaciItems[i] ?? { id: assumedRow.id, items: [] };\r\n\r\n        const preset = new ItemPreset();\r\n        preset.id = cutIn.id;\r\n\r\n        // 理想装備をベースに、プリセット装備プロパティを埋める\r\n        preset.items = assumedRow.items.map((v, j) => {\r\n          // 所持装備あり設定から同一の装備情報を取得しようとする\r\n          const rowItem = row.items[j];\r\n          if (rowItem && rowItem.data.id) {\r\n            return { id: rowItem.data.id, remodel: rowItem.remodel };\r\n          }\r\n          return { id: 0, remodel: 0, assumedId: v.data.id };\r\n        });\r\n        preset.name = `${preset.id}種`;\r\n        // 理想の装備がない疑惑アリ\r\n        const isLack = preset.items.some((v) => !v.id);\r\n\r\n        // おケツの装備はなるべく増設にしたいのでそのチェック\r\n        const lastItem = assumedRow.items[assumedRow.items.length - 1];\r\n        if (ShipValidation.isValidItem(parent.data, lastItem.data, Const.EXPAND_SLOT_INDEX, lastItem.remodel)) {\r\n          const rowExItem = row.items[assumedRow.items.length - 1];\r\n          if (rowExItem && rowExItem.data.id) {\r\n            preset.exItem = { id: rowExItem.data.id, remodel: rowExItem.remodel };\r\n          } else if (!row.items[assumedRow.items.length - 1] || !row.items[assumedRow.items.length - 1].data.id) {\r\n            // 見つかってない場合は理想装備を搭載\r\n            preset.exItem = { id: 0, remodel: lastItem.remodel, assumedId: lastItem.data.id };\r\n          }\r\n          // ケツの装備を通常装備枠から消す\r\n          preset.items.splice(-1);\r\n        }\r\n\r\n        if (preset.items.length <= parent.data.slotCount) {\r\n          this.uniquePresets.push(Object.assign(preset, { isLack, spec1: `${cutIn.c1 + cutIn.c2}`, spec2: `x${cutIn.rateBonus.toFixed(2)}` }));\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPreset.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPreset.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ItemPreset.vue?vue&type=template&id=a664e786&scoped=true\"\nimport script from \"./ItemPreset.vue?vue&type=script&lang=ts\"\nexport * from \"./ItemPreset.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ItemPreset.vue?vue&type=style&index=0&id=a664e786&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a664e786\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mx-2 mb-2 mb-sm-0 mx-sm-0 mt-2\"},[_c('div',{staticClass:\"input-container\"},[_c('v-select',{attrs:{\"label\":_vm.$t('Common.陣形'),\"items\":_vm.formations,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.formation),callback:function ($$v) {_vm.formation=$$v},expression:\"formation\"}}),_c('v-select',{attrs:{\"label\":_vm.$t('Fleet.対空CI'),\"items\":_vm.antiAirItems,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.cutInId),callback:function ($$v) {_vm.cutInId=$$v},expression:\"cutInId\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"999\",\"label\":_vm.$t('Fleet.攻撃機搭載数'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"input\":_vm.updateTable},model:{value:(_vm.attackerSlot),callback:function ($$v) {_vm.attackerSlot=_vm._n($$v)},expression:\"attackerSlot\"}}),_c('v-select',{attrs:{\"label\":_vm.$t('Fleet.対空射撃回避'),\"items\":_vm.avoids,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.avoid),callback:function ($$v) {_vm.avoid=$$v},expression:\"avoid\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"2\",\"step\":\"0.1\",\"label\":_vm.$t('Fleet.加重対空補正'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"disabled\":!_vm.isManual || _vm.showAntiAirMode},on:{\"input\":_vm.updateTable},model:{value:(_vm.adj1),callback:function ($$v) {_vm.adj1=_vm._n($$v)},expression:\"adj1\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"2\",\"step\":\"0.1\",\"label\":_vm.$t('Fleet.艦隊防空補正'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"disabled\":!_vm.isManual || _vm.showAntiAirMode},on:{\"input\":_vm.updateTable},model:{value:(_vm.adj2),callback:function ($$v) {_vm.adj2=_vm._n($$v)},expression:\"adj2\"}})],1),_c('div',{staticClass:\"mb-1 d-flex flex-wrap px-1\"},[_c('div',{staticClass:\"align-self-end\"},[_c('span',{staticClass:\"body-2 text--secondary mr-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.艦隊防空値\")))]),_c('span',[_vm._v(_vm._s(_vm.fleetAntiAir))])]),_c('div',{staticClass:\"align-self-end\"},[_c('v-switch',{staticClass:\"mt-2 mb-0 ml-4\",attrs:{\"dense\":\"\",\"hide-details\":\"\",\"label\":_vm.$t('Result.対空CI一覧')},on:{\"change\":_vm.setAntiAirCutInTable},model:{value:(_vm.showAntiAirMode),callback:function ($$v) {_vm.showAntiAirMode=$$v},expression:\"showAntiAirMode\"}})],1),(!_vm.showAntiAirMode)?_c('div',{staticClass:\"ml-auto d-flex\"},[_c('v-checkbox',{staticClass:\"mr-3\",attrs:{\"label\":_vm.$t('Fleet.空襲マス'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.isAirRaid),callback:function ($$v) {_vm.isAirRaid=$$v},expression:\"isAirRaid\"}}),(!_vm.isEnemyMode && !_vm.fleet.isUnion)?_c('v-checkbox',{staticClass:\"mr-3\",attrs:{\"label\":_vm.$t('Result.対敵連合艦隊'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.isEnemyUnion),callback:function ($$v) {_vm.isEnemyUnion=$$v},expression:\"isEnemyUnion\"}}):_vm._e(),_c('v-checkbox',{attrs:{\"label\":_vm.$t('Fleet.敵側式'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.isEnemyFormula),callback:function ($$v) {_vm.isEnemyFormula=$$v},expression:\"isEnemyFormula\"}})],1):_vm._e()]),(!_vm.showAntiAirMode)?_c('div',[_c('v-divider'),_c('v-simple-table',{attrs:{\"fixed-header\":\"\",\"height\":\"54vh\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Common.加重対空\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.割合撃墜\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.固定撃墜\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.最低保証\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.両成功\")))])])]),_c('tbody',_vm._l((_vm.stage2Data),function(item,i){return _c('tr',{key:i,staticClass:\"stage2-row\",class:{ warn: item.sum >= _vm.attackerSlot / 2, danger: item.sum >= _vm.attackerSlot }},[_c('td',{staticClass:\"d-flex align-center text-left\"},[_c('div',{staticClass:\"mr-2\"},[_c('v-img',{attrs:{\"src\":`./img/ship/${item.id}.png`,\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"d-none d-sm-block flex-grow-1\"},[(item.isEnemy)?_c('div',{staticClass:\"stage2-id primary--text\"},[_vm._v(\"id \"+_vm._s(item.id))]):_vm._e(),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"stage2-name text-truncate\"},[_vm._v(_vm._s(_vm.getShipName(item.data)))])])])]),_c('td',[_vm._v(_vm._s(item.antiAirWeight))]),_c('td',[_vm._v(_vm._s(item.rate)+\" ( \"+_vm._s(_vm.$t(\"Common.x機\", { number: item.rateDown }))+\" )\")]),_c('td',[_vm._v(_vm._s(item.fix))]),_c('td',[_vm._v(_vm._s(item.min))]),_c('td',[_vm._v(_vm._s(item.sum))])])}),0)]},proxy:true}],null,false,2698091509)})],1):_c('div',{staticClass:\"d-flex flex-wrap justify-center\"},[_c('div',{staticClass:\"cutin-table\"},[_c('v-divider'),_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.種別id\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.固定\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.変動\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.発動率\")))]),_c('th')])]),_c('tbody',_vm._l((_vm.antiAirCutIns),function(item,i){return _c('tr',{key:i,staticClass:\"stage2-row\"},[_c('td',{staticClass:\"px-2 text-left\"},[(item.id)?_c('v-img',{attrs:{\"src\":`./img/ship/${item.id}.png`,\"height\":\"30\",\"width\":\"120\"}}):_c('span',{staticClass:\"no-cutin-span caption\"},[_vm._v(_vm._s(_vm.$t(\"Result.不発\")))])],1),_c('td',[_vm._v(_vm._s(item.cutInId ? item.cutInId : \"-\"))]),_c('td',[_vm._v(_vm._s(item.fix))]),_c('td',[_vm._v(_vm._s(item.variable))]),_c('td',[_vm._v(_vm._s(item.rate)+\" %\")]),_c('td',[_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\"mdi-square-rounded\")])],1)])}),0)]},proxy:true}])}),_c('v-divider')],1),(_vm.showAntiAirMode)?_c('div',{staticClass:\"graph-area\"},[_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.graphData,\"options\":_vm.options,\"title-text\":\"\",\"sp-normal\":true}})],1),_c('div',{staticClass:\"total-rate\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計発動率\")))]),_c('div',[_vm._v(_vm._s(_vm.totalCutInRate)+\" %\")])])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\r\nimport Const, { AvoidType, Formation } from '@/classes/const';\r\nimport ShootDownInfo from '@/classes/aerialCombat/shootDownInfo';\r\nimport AntiAirCutIn from '@/classes/aerialCombat/antiAirCutIn';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport Fleet from '@/classes/fleet/fleet';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport ShipMaster from '@/classes/fleet/shipMaster';\r\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport DoughnutChart, { DoughnutGraphOption, LabelCallbackArg } from '@/components/graph/Doughnut.vue';\r\n\r\ninterface Stage2Row {\r\n  id: number;\r\n  data: ShipMaster | EnemyMaster;\r\n  rate: string;\r\n  rateDown: number;\r\n  fix: number;\r\n  min: number;\r\n  sum: number;\r\n  antiAirWeight: number;\r\n  isEnemy: boolean;\r\n}\r\n\r\ninterface AntiAirCutInRow {\r\n  id: number;\r\n  cutInId: number;\r\n  fix: number;\r\n  variable: number;\r\n  rate: number;\r\n  color: string;\r\n}\r\n\r\nconst labelCallback = (c: LabelCallbackArg) => `${c.dataset.labels[c.dataIndex]}: ${c.parsed.toFixed(1)} %`;\r\n\r\nexport default Vue.extend({\r\n  name: 'AntiAirCalculator',\r\n  components: { DoughnutChart },\r\n  props: {\r\n    fleet: {\r\n      type: [Fleet, EnemyFleet],\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    formation: 1,\r\n    avoid: 0,\r\n    attackerSlot: 18,\r\n    adj1: 1,\r\n    adj2: 1,\r\n    fleetAntiAir: '0.00',\r\n    cutInId: 0,\r\n    isEnemyMode: false,\r\n    isEnemyFormula: false,\r\n    isAirRaid: false,\r\n    isEnemyUnion: false,\r\n    stage2Data: [] as Stage2Row[],\r\n    showAntiAirMode: false,\r\n    antiAirCutIns: [] as AntiAirCutInRow[],\r\n    totalCutInRate: 0,\r\n    graphData: {},\r\n    options: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n  }),\r\n  computed: {\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    ships(): Ship[] | Enemy[] {\r\n      if (this.fleet instanceof EnemyFleet) {\r\n        return this.fleet.enemies.filter((v) => v.data.id > 0);\r\n      }\r\n      return this.fleet.ships.filter((v) => v.isActive && !v.isEmpty);\r\n    },\r\n    formations(): Formation[] {\r\n      if (this.isNotJapanese) {\r\n        const items = [];\r\n        for (let i = 0; i < Const.FORMATIONS.length; i += 1) {\r\n          const { text, value, correction } = Const.FORMATIONS[i];\r\n          items.push({ text: `${this.$t(`Common.${text}`)}`, value, correction });\r\n        }\r\n        return items;\r\n      }\r\n      return Const.FORMATIONS;\r\n    },\r\n    avoids(): AvoidType[] {\r\n      if (this.isNotJapanese) {\r\n        const items = [];\r\n        for (let i = 0; i < Const.AVOID_TYPE.length; i += 1) {\r\n          const {\r\n            text, value, c1, c2, c3, c4,\r\n          } = Const.AVOID_TYPE[i];\r\n          items.push({\r\n            text: `${this.$t(`Common.回避性能.${text}`)}`,\r\n            value,\r\n            c1,\r\n            c2,\r\n            c3,\r\n            c4,\r\n          });\r\n        }\r\n        return items;\r\n      }\r\n      return Const.AVOID_TYPE;\r\n    },\r\n    isManual(): boolean {\r\n      return this.avoid === Const.MANUAL_AVOID;\r\n    },\r\n    antiAirItems(): { text: string; value: number }[] {\r\n      const items = [\r\n        {\r\n          text: `${this.$t('Result.不発')}`,\r\n          value: 0,\r\n          rate: 0,\r\n          detail: '',\r\n        },\r\n      ];\r\n      // 使えるCIだけ\r\n      const cutIns = this.fleet.allAntiAirCutIn;\r\n      const borders = this.fleet.shootDownList.map((v) => v.border);\r\n      let sumRate = 0;\r\n      for (let i = 0; i < borders.length; i += 1) {\r\n        const border = borders[i];\r\n        if (border === 1) {\r\n          break;\r\n        }\r\n\r\n        const { id } = cutIns[i];\r\n        // 何種CIかのテキストが欲しいがために\r\n        const cutin = Const.ANTI_AIR_CUTIN.find((v) => v.id === id);\r\n        const rate = 100 * border - sumRate;\r\n        sumRate += rate;\r\n\r\n        const item = items.find((v) => v.value === id);\r\n        if (cutin && item) {\r\n          item.rate += rate;\r\n        } else if (cutin) {\r\n          items.push({\r\n            text: cutin.text,\r\n            value: cutin.id,\r\n            rate,\r\n            detail: `[ ${cutin.remarks} ]`,\r\n          });\r\n        }\r\n      }\r\n\r\n      items[0].rate = 100 - sumRate;\r\n\r\n      const resultItems = [];\r\n      for (let i = 0; i < items.length; i += 1) {\r\n        const data = items[i];\r\n        resultItems.push({ text: `${data.text}(${Math.floor(10 * data.rate) / 10}%) ${data.detail}`, value: data.value });\r\n      }\r\n      return resultItems;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isEnemyMode = this.ships[0] instanceof Enemy;\r\n    this.isEnemyFormula = this.ships[0] instanceof Enemy;\r\n    this.formation = this.fleet.formation;\r\n    this.updateTable();\r\n  },\r\n  methods: {\r\n    updateTable(): void {\r\n      let adj3 = 1;\r\n      let adj4 = 1;\r\n      const avoid = Const.AVOID_TYPE.find((v) => v.value === this.avoid);\r\n      if (this.avoid !== Const.MANUAL_AVOID && avoid) {\r\n        this.adj1 = avoid.c1;\r\n        this.adj2 = avoid.c2;\r\n        adj3 = avoid.c3;\r\n        adj4 = avoid.c4;\r\n      } else {\r\n        this.adj1 = Math.min(Math.abs(this.adj1), 2);\r\n        this.adj2 = Math.min(Math.abs(this.adj2), 2);\r\n      }\r\n\r\n      let formation = Const.FORMATIONS.find((v) => v.value === this.formation) as Formation;\r\n      if (!formation) {\r\n        // 保険で単縦を入れる\r\n        formation = Const.FORMATIONS.find(() => true) as Formation;\r\n      }\r\n      const manualAvoid: AvoidType = {\r\n        text: '',\r\n        value: 0,\r\n        c1: this.adj1,\r\n        c2: this.adj2,\r\n        c3: adj3,\r\n        c4: adj4,\r\n      };\r\n\r\n      // 対空砲火テーブルを取得\r\n      let aaci = new AntiAirCutIn();\r\n      const cutIn = Const.ANTI_AIR_CUTIN.find((v) => v.id === this.cutInId);\r\n      if (cutIn) {\r\n        aaci = new AntiAirCutIn(cutIn.id, cutIn.rateBonus, cutIn.c1, cutIn.c2, cutIn.rate);\r\n      }\r\n      const stage2 = ShootDownInfo.getStage2(\r\n        this.ships,\r\n        this.isEnemyFormula,\r\n        this.fleet.isUnion || this.isEnemyUnion,\r\n        formation,\r\n        aaci,\r\n        this.isAirRaid,\r\n        manualAvoid,\r\n      );\r\n      const d = stage2[stage2.length - 1];\r\n      this.stage2Data = [];\r\n      for (let i = 0; i < this.ships.length; i += 1) {\r\n        const ship = this.ships[i];\r\n        const antiAirWeight = d.antiAirWeightList[i];\r\n        const rate = d.rateDownList[i];\r\n        const rateDown = Math.floor(this.attackerSlot * rate);\r\n        const fix = d.fixDownList[i];\r\n        const min = d.minimumDownList[i];\r\n        const isEnemy = ship instanceof Enemy;\r\n        this.stage2Data.push({\r\n          id: ship.data.id,\r\n          data: ship.data,\r\n          rate: `${(100 * rate).toFixed(2)}%`,\r\n          rateDown,\r\n          fix,\r\n          min,\r\n          sum: rateDown + fix + min,\r\n          antiAirWeight,\r\n          isEnemy,\r\n        });\r\n      }\r\n      // 現在選択されている条件での艦隊防空値\r\n      this.fleetAntiAir = this.fleet.getFleetAntiAir(formation, manualAvoid).toFixed(2);\r\n    },\r\n    getShipName(ship: ShipMaster | EnemyMaster) {\r\n      if (this.needTrans && ship instanceof ShipMaster) {\r\n        const shipName = ShipMaster.getSuffix(ship);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      if (this.needTrans && ship.name) {\r\n        const shipName = EnemyMaster.getSuffix(ship.name);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return ship.name || '';\r\n    },\r\n    setAntiAirCutInTable() {\r\n      // 対空CIチェックビュー作成\r\n      this.antiAirCutIns = [];\r\n\r\n      for (let i = 0; i < this.ships.length; i += 1) {\r\n        const ship = this.ships[i];\r\n        for (let j = 0; j < ship.antiAirCutIn.length; j += 1) {\r\n          const cutIn = ship.antiAirCutIn[j];\r\n          this.antiAirCutIns.push({\r\n            id: ship.data.id,\r\n            cutInId: cutIn.id,\r\n            fix: cutIn.fixCorrA + cutIn.fixCorrB,\r\n            variable: cutIn.rateCorr,\r\n            rate: 0,\r\n            color: '#000',\r\n          });\r\n        }\r\n      }\r\n\r\n      // 優先度順に並び替え\r\n      const priorities = Const.ANTI_AIR_CUT_IN_PRIORITIES;\r\n      this.antiAirCutIns.sort((a, b) => {\r\n        const indexA = priorities.indexOf(a.cutInId);\r\n        const indexB = priorities.indexOf(b.cutInId);\r\n        return (indexA >= 0 ? indexA : 99) - (indexB >= 0 ? indexB : 99);\r\n      });\r\n\r\n      // 各種発動率を変更\r\n      const cutIns = this.fleet.allAntiAirCutIn;\r\n      const borders = this.fleet.shootDownList.map((v) => v.border);\r\n      let sumRate = 0;\r\n      if (this.antiAirCutIns.length === cutIns.length) {\r\n        for (let i = 0; i < cutIns.length; i += 1) {\r\n          const border = borders[i];\r\n          const rate = 100 * border - sumRate;\r\n          sumRate += rate;\r\n          this.antiAirCutIns[i].rate = Math.floor(10 * rate) / 10 || Math.floor(100 * rate) / 100 || Math.floor(1000 * rate) / 1000;\r\n        }\r\n      }\r\n\r\n      // 必要な色の個数 => 発動する種別の数\r\n      const colorCount = this.antiAirItems.length;\r\n      // 対空CI種別ごとに色をランダム作成\r\n      const colors: string[] = ['rgba(164,164,164,0.7)'];\r\n      // 有効色(0 ～ 360)のなかから使う分だけ按分\r\n      const colorCorr = Math.floor(360 / colorCount);\r\n      // とりあえず全CI分用意\r\n      for (let i = 0; i < Const.ANTI_AIR_CUTIN.length; i += 1) {\r\n        colors.push('hsla(180,100%,60%,0.5)');\r\n      }\r\n\r\n      const doneColorIds: number[] = [];\r\n      for (let i = 0; i < this.antiAirCutIns.length; i += 1) {\r\n        const id = this.antiAirCutIns[i].cutInId;\r\n        if (!doneColorIds.includes(id)) {\r\n          // この色を書き換え！\r\n          colors[id] = `hsla(${218 - colorCorr * doneColorIds.length},85%,70%,0.7)`;\r\n          doneColorIds.push(id);\r\n        }\r\n      }\r\n\r\n      // 不発の行を追加\r\n      const noneRate = 100 - sumRate;\r\n      this.antiAirCutIns.push({\r\n        id: 0,\r\n        cutInId: 0,\r\n        fix: 1,\r\n        rate: Math.floor(10 * noneRate) / 10 || Math.floor(100 * noneRate) / 100 || Math.floor(1000 * noneRate) / 1000,\r\n        variable: 1,\r\n        color: '',\r\n      });\r\n\r\n      // テーブルの凡例行のための色設定\r\n      for (let i = 0; i < this.antiAirCutIns.length; i += 1) {\r\n        const row = this.antiAirCutIns[i];\r\n        if (colors[row.cutInId]) {\r\n          row.color = colors[row.cutInId];\r\n        }\r\n      }\r\n\r\n      const labels = this.antiAirCutIns.map((v) => (v.cutInId ? `${v.cutInId}種` : this.$t('Result.不発')));\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          {\r\n            data: [0, 0, 0, 100],\r\n            backgroundColor: this.antiAirCutIns.map((v) => colors[v.cutInId]),\r\n            borderColor: '#fff',\r\n            labels,\r\n          },\r\n        ],\r\n      };\r\n\r\n      data.datasets[0].data = this.antiAirCutIns.map((v) => +v.rate);\r\n      this.totalCutInRate = Math.floor(10 * sumRate) / 10;\r\n      this.graphData = data;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AntiAirCalculator.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AntiAirCalculator.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./AntiAirCalculator.vue?vue&type=template&id=70236b22&scoped=true\"\nimport script from \"./AntiAirCalculator.vue?vue&type=script&lang=ts\"\nexport * from \"./AntiAirCalculator.vue?vue&type=script&lang=ts\"\nimport style0 from \"./AntiAirCalculator.vue?vue&type=style&index=0&id=70236b22&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70236b22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"ma-2\"},[_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-radio-group',{attrs:{\"row\":\"\",\"dense\":_vm.isMobile},on:{\"change\":_vm.changeAirState},model:{value:(_vm.airState),callback:function ($$v) {_vm.airState=$$v},expression:\"airState\"}},[_c('v-radio',{attrs:{\"label\":_vm.$t('Common.制空権確保'),\"value\":0}}),_c('v-radio',{attrs:{\"label\":_vm.$t('Common.航空優勢'),\"value\":1}}),_c('v-radio',{attrs:{\"label\":_vm.$t('Common.航空劣勢'),\"value\":2}})],1)],1),_c('div',{staticClass:\"graph-area\"},[_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.graphData,\"options\":_vm.options,\"title-text\":_vm.$t('Result.対敵通常艦隊')}}),_c('div',{staticClass:\"total-contact\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.rates[_vm.airState].sumRate.toFixed(1))+\" %\")])])],1),_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.unionGraphData,\"options\":_vm.unionOptions,\"title-text\":_vm.$t('Result.対敵連合艦隊')}}),_c('div',{staticClass:\"total-contact\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.unionRates[_vm.airState].sumRate.toFixed(1))+\" %\")])])],1)]),_c('div',{staticClass:\"contact-legends\"},_vm._l((_vm.graphLegends),function(legend,i){return _c('div',{key:`legend${i}`,staticClass:\"d-flex\"},[_c('div',{staticClass:\"legend-color-label\",style:(`background-color: ${legend.color}`)}),_c('div',{staticClass:\"ml-2\"},[_vm._v(_vm._s(legend.text))])])}),0),_c('div',{staticClass:\"mt-2 mt-sm-0 text-caption text-sm-body-2\"},[_vm._v(_vm._s(_vm.$t(\"Result.対敵通常艦隊\")))]),_c('div',{staticClass:\"contact-row header-row\"},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(\"Result.制空状態\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.触接開始率\")))]),_c('div',[_vm._v(\"×1.2\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.17\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.12\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))])]),_vm._l((_vm.rates),function(data,i){return _c('div',{key:i,staticClass:\"contact-row\",class:{ selected: i === _vm.airState }},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(`Common.${_vm.airStatus[i]}`)))]),_c('div',[_vm._v(_vm._s(data.startRate.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact120.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact117.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact112.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.sumRate.toFixed(1))+\" %\")])])}),_c('div',{staticClass:\"mt-2 text-caption text-sm-body-2\"},[_vm._v(_vm._s(_vm.$t(\"Result.対敵連合艦隊\")))]),_c('div',{staticClass:\"contact-row header-row\"},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(\"Result.制空状態\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.触接開始率\")))]),_c('div',[_vm._v(\"×1.2\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.17\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.12\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))])]),_vm._l((_vm.unionRates),function(data,j){return _c('div',{key:'s' + j,staticClass:\"contact-row\",class:{ selected: j === _vm.airState }},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(`Common.${_vm.airStatus[j]}`)))]),_c('div',[_vm._v(_vm._s(data.startRate.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact120.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact117.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact112.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.sumRate.toFixed(1))+\" %\")])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport Fleet from '@/classes/fleet/fleet';\r\nimport { ContactRate } from '@/classes/interfaces/contactRate';\r\nimport DoughnutChart, { DoughnutGraphData, DoughnutGraphOption, LabelCallbackArg } from '@/components/graph/Doughnut.vue';\r\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\r\nimport Airbase from '@/classes/airbase/airbase';\r\n\r\nconst contactGraphLabels = ['x12触接', 'x117触接', 'x112触接', '触接不発'];\r\nconst contactGraphColors = ['rgba(100, 180, 255, 0.7)', 'rgba(80, 220, 120, 0.7)', 'rgba(255, 160, 100, 0.7)', 'rgba(128, 128, 128, 0.5)'];\r\nconst labelCallback = (c: LabelCallbackArg) => `${c.dataset.labels[c.dataIndex]}: ${c.parsed.toFixed(1)} %`;\r\n\r\nexport default Vue.extend({\r\n  name: 'ContactRates',\r\n  components: { DoughnutChart },\r\n  props: {\r\n    fleet: {\r\n      type: [Fleet, EnemyFleet, Airbase],\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    airState: 0,\r\n    airStatus: ['制空権確保', '航空優勢', '航空劣勢'],\r\n    graphData: {},\r\n    unionGraphData: {},\r\n    rates: [] as ContactRate[],\r\n    unionRates: [] as ContactRate[],\r\n    options: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n    unionOptions: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n    graphLegends: [] as { text: string; color: string }[],\r\n    isMobile: true,\r\n  }),\r\n  created() {\r\n    // 初期化はお早めに\r\n    this.calculate();\r\n  },\r\n  mounted() {\r\n    this.isMobile = window.innerWidth < 600;\r\n  },\r\n  methods: {\r\n    calculate() {\r\n      this.rates = this.fleet.getContactRates();\r\n      this.unionRates = this.fleet.getContactRates(true);\r\n\r\n      this.graphData = this.getGraphData(this.rates[this.airState]);\r\n      this.unionGraphData = this.getGraphData(this.unionRates[this.airState]);\r\n\r\n      this.graphLegends = [];\r\n      for (let i = 0; i < 4; i += 1) {\r\n        this.graphLegends.push({ text: `${this.$t(`Result.${contactGraphLabels[i]}`)}`, color: contactGraphColors[i] });\r\n      }\r\n      this.isMobile = window.innerWidth < 600;\r\n    },\r\n    changeAirState(): void {\r\n      this.graphData = this.getGraphData(this.rates[this.airState]);\r\n      this.unionGraphData = this.getGraphData(this.unionRates[this.airState]);\r\n    },\r\n    getGraphData(rate: ContactRate): DoughnutGraphData {\r\n      const data = {\r\n        labels: contactGraphLabels,\r\n        datasets: [\r\n          {\r\n            data: [0, 0, 0, 100],\r\n            backgroundColor: contactGraphColors,\r\n            borderColor: '#fff',\r\n            labels: contactGraphLabels,\r\n          },\r\n        ],\r\n      };\r\n      if (rate) {\r\n        data.datasets[0].data = [rate.contact120, rate.contact117, rate.contact112, 100 - rate.sumRate];\r\n      }\r\n      return data;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactRates.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactRates.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./ContactRates.vue?vue&type=template&id=1b243ede&scoped=true\"\nimport script from \"./ContactRates.vue?vue&type=script&lang=ts\"\nexport * from \"./ContactRates.vue?vue&type=script&lang=ts\"\nimport style0 from \"./ContactRates.vue?vue&type=style&index=0&id=1b243ede&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b243ede\",\n  null\n  \n)\n\nexport default component.exports","import { sum } from 'lodash';\r\nimport Item from '../item/item';\r\nimport Ship from './ship';\r\nimport ShipValidation from './shipValidation';\r\nimport Const from '../const';\r\nimport Fleet from './fleet';\r\nimport ShipStock from './shipStock';\r\nimport ItemStock from '../item/itemStock';\r\nimport CalcManager from '../calcManager';\r\nimport AirbaseInfo from '../airbase/airbaseInfo';\r\nimport FleetInfo from './fleetInfo';\r\nimport Airbase from '../airbase/airbase';\r\n\r\ninterface SearchCond {\r\n  apiTypeId?: number;\r\n  iconTypeId?: number;\r\n  maxAA?: number;\r\n  minAA?: number;\r\n  isSpecial?: boolean;\r\n}\r\n\r\n/**\r\n * 何もいい名前が思いつかなかった\r\n * @export\r\n * @class Optimizer\r\n */\r\nexport default class Optimizer {\r\n  /**\r\n   * 与えられた艦、装備からなるべく適切な対空CI用の装備配列を返却するつもりの関数\r\n   * @static\r\n   * @param {Ship} ship\r\n   * @param {Item[]} allItems\r\n   * @param {boolean} [isStockMode=false] 所持数制限モード ONなら2回同じ装備を使用しない処理が入る\r\n   * @memberof Optimizer\r\n   */\r\n  public static getShipAACITriggerItems(ship: Ship, allItems: Item[], isStockMode = false): { id: number, items: Item[] }[] {\r\n    // まず装備可能なものだけ取得\r\n    const items = allItems.filter((v) => ShipValidation.isValidItem(ship.data, v.data));\r\n    const gun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16 });\r\n    const antiAirRadar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11, minAA: 1 });\r\n    const specialMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, isSpecial: true });\r\n    const shipId = ship.data.id;\r\n\r\n    const cutInPreset = [];\r\n\r\n    if (ship.data.type2 === 54) {\r\n      // 秋月型 => 1種, 2種, 3種\r\n      const radar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11 });\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n\r\n      const HatsudukiGunIndex = items.findIndex((v) => v.data.id === 533) ?? new Item();\r\n      const HatsudukiGun = items[HatsudukiGunIndex] ?? new Item();\r\n      const HatsudukiGun2 = items.find((v, i) => v.data.id === 533 && (isStockMode ? i !== HatsudukiGunIndex : true)) ?? new Item();\r\n      const antiAirSPRadar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11, minAA: 4 });\r\n      return [\r\n        { id: 1, items: [gun, gun2, radar] },\r\n        { id: 2, items: [gun, radar] },\r\n        { id: 3, items: [gun, gun2] },\r\n        { id: 48, items: [HatsudukiGun, HatsudukiGun2, antiAirSPRadar] },\r\n      ];\r\n    }\r\n    if (shipId === 428) {\r\n      // 摩耶様改二 => 10種, 11種\r\n      return [\r\n        { id: 10, items: [gun, antiAirRadar, specialMachineGun] },\r\n        { id: 11, items: [gun, specialMachineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 141) {\r\n      // 五十鈴改二 => 14種, 15種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      return [\r\n        { id: 14, items: [gun, antiAirRadar, machineGun] },\r\n        { id: 15, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 622) {\r\n      // 夕張改二 => 16種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      cutInPreset.push({ id: 16, items: [gun, antiAirRadar, machineGun] });\r\n    }\r\n    if (shipId === 470) {\r\n      // 霞改二乙 => 16種, 17種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      return [\r\n        { id: 16, items: [gun, antiAirRadar, machineGun] },\r\n        { id: 17, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 470 || shipId === 979) {\r\n      // 霞改二乙 稲木改二 => 17種, 18種, 31種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      return [\r\n        { id: 17, items: [gun, machineGun] },\r\n        { id: 18, items: [specialMachineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 418) {\r\n      // 皐月改二 => 18種\r\n      cutInPreset.push({ id: 18, items: [specialMachineGun] });\r\n    }\r\n    if (shipId === 487) {\r\n      // 鬼怒改二 => 19種, 20種\r\n      const weakGun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16, maxAA: 7 });\r\n      return [\r\n        { id: 19, items: [weakGun, specialMachineGun] },\r\n        { id: 20, items: [specialMachineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 488) {\r\n      // 由良改二 => 21種\r\n      cutInPreset.push({ id: 21, items: [gun, antiAirRadar] });\r\n    }\r\n    if (shipId === 548) {\r\n      // 文月改二 => 22種\r\n      cutInPreset.push({ id: 22, items: [specialMachineGun] });\r\n    }\r\n    if (shipId === 530 || shipId === 539) {\r\n      // UIT-25 伊504 => 23種\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      return [{ id: 22, items: [weakMachineGun] }];\r\n    }\r\n    if (shipId === 478) {\r\n      // 龍田改二 => 24種\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      cutInPreset.push({ id: 22, items: [gun, weakMachineGun] });\r\n    }\r\n    if ([82, 88, 553, 554].includes(shipId)) {\r\n      // 伊勢型改 / 改二 => 25種, 28種\r\n      const hunshin = items.find((v) => v.data.id === 274) ?? new Item();\r\n      const sanshiki = Optimizer.getBestAAItem(ship, items, { apiTypeId: 18 });\r\n      return [\r\n        { id: 25, items: [antiAirRadar, sanshiki, hunshin] },\r\n        { id: 28, items: [antiAirRadar, hunshin] },\r\n      ];\r\n    }\r\n    if (shipId === 148) {\r\n      // 武蔵改 => 28種\r\n      const hunshin = items.find((v) => v.data.id === 274) ?? new Item();\r\n      cutInPreset.push({ id: 28, items: [antiAirRadar, hunshin] });\r\n    }\r\n    if (shipId === 557 || shipId === 558) {\r\n      // 磯風乙改 / 浜風乙改 => 29種\r\n      cutInPreset.push({ id: 29, items: [gun, antiAirRadar] });\r\n    }\r\n    if (shipId === 477) {\r\n      // 天龍改二 => 24種, 30種, 31種\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n      const gun2Index = items.findIndex((v, i) => i !== gun1Index && v.data.id === gun2.data.id && v.remodel === gun2.remodel);\r\n      // 3本目の高角砲探索(1, 2本目の高角砲を間引く)\r\n      const gun3 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index && i !== gun2Index) : items, { iconTypeId: 16 });\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      return [\r\n        { id: 24, items: [gun, weakMachineGun] },\r\n        { id: 30, items: [gun, gun2, gun3] },\r\n        { id: 31, items: [gun, gun2] },\r\n      ];\r\n    }\r\n    if (shipId === 579 || shipId === 630) {\r\n      // Gotland改以降 => 30種 (高角砲3), 33種 (高角砲, 素対空値4以上の機銃)\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n      const gun2Index = items.findIndex((v, i) => i !== gun1Index && v.data.id === gun2.data.id && v.remodel === gun2.remodel);\r\n      // 3本目の高角砲探索(1, 2本目の高角砲を間引く)\r\n      const gun3 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index && i !== gun2Index) : items, { iconTypeId: 16 });\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 4 });\r\n      return [\r\n        { id: 30, items: [gun, gun2, gun3] },\r\n        { id: 33, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (Const.GBR.includes(ship.data.type2) || (ship.data.type2 === 6 && ship.data.version >= 2)) {\r\n      // 英国艦艇 / 金剛型改二以降 => 32種\r\n      const mainGun = items.find((v) => v.data.id === 300) ?? new Item();\r\n      const ponpon = items.find((v) => v.data.id === 191) ?? new Item();\r\n      const rocketIndex = items.findIndex((v) => v.data.id === 301);\r\n      const rocketLauncher = items[rocketIndex] ?? new Item();\r\n      const rocketLauncher2 = items.find((v, i) => v.data.id === 301 && (isStockMode ? i !== rocketIndex : true)) ?? new Item();\r\n\r\n      // のちの条件分岐で榛名改二乙があるため return しない\r\n      if (ship.data.isBB) {\r\n        cutInPreset.push({ id: 32, items: [mainGun, ponpon] });\r\n      }\r\n      cutInPreset.push({ id: 32, items: [rocketLauncher, ponpon] });\r\n      cutInPreset.push({ id: 32, items: [rocketLauncher, rocketLauncher2] });\r\n    }\r\n    if (ship.data.type2 === 91) {\r\n      // Fletcher級 => 34種, 35種, 36種, 37種\r\n      const GFCSGunIndex = items.findIndex((v) => v.data.id === 308) ?? new Item();\r\n      const GFCSGun = items[GFCSGunIndex] ?? new Item();\r\n      const GFCSGun2 = items.find((v, i) => v.data.id === 308 && (isStockMode ? i !== GFCSGunIndex : true)) ?? new Item();\r\n\r\n      const gun5inchKaiIndex = items.findIndex((v) => v.data.id === 313) ?? new Item();\r\n      const gun5inchKai = items[gun5inchKaiIndex] ?? new Item();\r\n      const gun5inchKai2 = items.find((v, i) => v.data.id === 313 && (isStockMode ? i !== gun5inchKaiIndex : true)) ?? new Item();\r\n      const gun5inchIndex = items.findIndex((v) => v.data.id === 284) ?? new Item();\r\n      const gun5inch = items[gun5inchIndex] ?? new Item();\r\n      const gun5inch2 = items.find((v, i) => v.data.id === 284 && (isStockMode ? i !== gun5inchIndex : true)) ?? new Item();\r\n      const radarGFCSMk37 = items.find((v) => v.data.id === 307) ?? new Item();\r\n\r\n      // あるやつから詰め込む\r\n      const ci36Items = [];\r\n      if (gun5inchKai.data.id) ci36Items.push(gun5inchKai);\r\n      if (gun5inchKai2.data.id) ci36Items.push(gun5inchKai2);\r\n      if (ci36Items.length < 2 && gun5inch.data.id) ci36Items.push(gun5inch);\r\n      if (ci36Items.length < 2) ci36Items.push(gun5inch2);\r\n\r\n      return [\r\n        { id: 34, items: [GFCSGun, GFCSGun2] },\r\n        { id: 35, items: [GFCSGun, gun5inchKai] },\r\n        { id: 36, items: ci36Items.concat(radarGFCSMk37) },\r\n        { id: 37, items: [gun5inchKai, gun5inchKai2] },\r\n      ];\r\n    }\r\n    if (ship.data.type2 === 99) {\r\n      // Atlanta級 => 38種, 39種, 40種, 41種\r\n      const GFCS5inchIndex = items.findIndex((v) => v.data.id === 363) ?? new Item();\r\n      const GFCS5inchGun = items[GFCS5inchIndex] ?? new Item();\r\n      const GFCS5inchGun2 = items.find((v, i) => v.data.id === 363 && (isStockMode ? i !== GFCS5inchIndex : true)) ?? new Item();\r\n      const gun5inchIndex = items.findIndex((v) => v.data.id === 362) ?? new Item();\r\n      const gun5inch = items[gun5inchIndex] ?? new Item();\r\n      const gun5inch2 = items.find((v, i) => v.data.id === 362 && (isStockMode ? i !== gun5inchIndex : true)) ?? new Item();\r\n      const radarGFCSMk37 = items.find((v) => v.data.id === 307) ?? new Item();\r\n\r\n      // あるやつから詰め込む\r\n      const ci4041Items = [];\r\n      if (GFCS5inchGun.data.id) ci4041Items.push(GFCS5inchGun);\r\n      if (GFCS5inchGun2.data.id) ci4041Items.push(GFCS5inchGun2);\r\n      if (ci4041Items.length < 2 && gun5inch.data.id) ci4041Items.push(gun5inch);\r\n      if (ci4041Items.length < 2) ci4041Items.push(gun5inch2);\r\n\r\n      return [\r\n        { id: 38, items: [GFCS5inchGun, GFCS5inchGun2] },\r\n        { id: 39, items: [GFCS5inchGun, gun5inch] },\r\n        { id: 40, items: ci4041Items.concat(radarGFCSMk37) },\r\n        { id: 41, items: ci4041Items },\r\n      ];\r\n    }\r\n    if (shipId === 546 || shipId === 911 || shipId === 916) {\r\n      // 大和型改二 => 26種, 42種, 43種, 44種, 45種\r\n      const syuchu10cmIndex = items.findIndex((v) => v.data.id === 464) ?? new Item();\r\n      const syuchu10cm = items[syuchu10cmIndex] ?? new Item();\r\n      const syuchu10cm2 = items.find((v, i) => v.data.id === 464 && (isStockMode ? i !== syuchu10cmIndex : true)) ?? new Item();\r\n      const yamatoRadar = items.find((v) => v.data.id === 460) ?? new Item();\r\n      const yamatoRadar2 = items.find((v) => v.data.id === 142) ?? new Item();\r\n      const ex10cmSecGun = items.find((v) => v.data.id === 275) ?? new Item();\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 6 });\r\n      const ciItems = [syuchu10cm, yamatoRadar.data.id ? yamatoRadar : yamatoRadar2];\r\n      return [\r\n        { id: 26, items: [antiAirRadar, ex10cmSecGun] },\r\n        { id: 42, items: ciItems.concat([machineGun, syuchu10cm2]) },\r\n        { id: 43, items: ciItems.concat(syuchu10cm2) },\r\n        { id: 44, items: ciItems.concat(machineGun) },\r\n        { id: 45, items: ciItems },\r\n      ];\r\n    }\r\n    if (shipId === 593) {\r\n      // 榛名改二乙 => 46種 (35.6改三 or 改四, 対空電探, 特殊機銃)\r\n      const gun356Kai4 = items.find((v) => v.data.id === 503) ?? new Item();\r\n      const gun356Kai3 = items.find((v) => v.data.id === 502) ?? new Item();\r\n      cutInPreset.push({ id: 46, items: [gun356Kai4.data.id ? gun356Kai4 : gun356Kai3, antiAirRadar, specialMachineGun] });\r\n    }\r\n    if (ship.data.type2 === 23 && ship.data.antiAir >= 70) {\r\n      // 白露型対空70以上\r\n      // 春雨砲所持\r\n      const harusameGunIndex = items.findIndex((v) => v.data.id === 529) ?? new Item();\r\n      const harusameGun = items[harusameGunIndex] ?? new Item();\r\n      const harusameGun2 = items.find((v, i) => v.data.id === 529 && (isStockMode ? i !== harusameGunIndex : true)) ?? new Item();\r\n      // 25mm対空機銃増備\r\n      const add25mmAAGun = items.find((v) => v.data.id === 505) ?? new Item();\r\n      // 対空4以上の電探所持\r\n      const antiAirSPRadar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11, minAA: 4 });\r\n      cutInPreset.push({ id: 47, items: [harusameGun, harusameGun2] });\r\n      cutInPreset.push({ id: 47, items: [harusameGun, antiAirSPRadar] });\r\n      cutInPreset.push({ id: 47, items: [harusameGun, add25mmAAGun] });\r\n    }\r\n\r\n    if (cutInPreset.length < 2) {\r\n      // 汎用\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const specialGun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16, isSpecial: true });\r\n      const gun1Index = items.findIndex((v) => v.data.id === specialGun.data.id && v.remodel === specialGun.remodel);\r\n      const specialGun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16, isSpecial: true });\r\n      cutInPreset.push({ id: 5, items: [specialGun, specialGun2, antiAirRadar] });\r\n      const kosha = Optimizer.getBestAAItem(ship, items, { apiTypeId: 36 });\r\n      cutInPreset.push({ id: 7, items: [gun, antiAirRadar, kosha] });\r\n      cutInPreset.push({ id: 8, items: [specialGun, antiAirRadar] });\r\n      cutInPreset.push({ id: 9, items: [gun, kosha] });\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 3 });\r\n      cutInPreset.push({ id: 12, items: [specialMachineGun, antiAirRadar, machineGun] });\r\n      cutInPreset.push({ id: 13, items: [specialGun, antiAirRadar, specialMachineGun] });\r\n    }\r\n\r\n    return cutInPreset.sort((a, b) => a.id - b.id);\r\n  }\r\n\r\n  /**\r\n   * 条件に一致する装備可能な最高対空の装備を取得\r\n   * @private\r\n   * @static\r\n   * @param {Ship} ship\r\n   * @param {Item[]} allItems\r\n   * @param {SearchCond} cond\r\n   * @return {*}  {Item}\r\n   * @memberof Optimizer\r\n   */\r\n  private static getBestAAItem(ship: Ship, allItems: Item[], cond: SearchCond): Item {\r\n    // 種別で制限取得\r\n    const items = allItems.filter((v) => {\r\n      let value = true;\r\n      if (cond.apiTypeId) value &&= v.data.apiTypeId === cond.apiTypeId;\r\n      if (cond.iconTypeId) value &&= v.data.iconTypeId === cond.iconTypeId;\r\n      if (cond.minAA) value &&= v.data.antiAir >= cond.minAA;\r\n      if (cond.maxAA) value &&= v.data.antiAir <= cond.maxAA;\r\n      if (cond.isSpecial) value &&= v.data.isSpecial;\r\n      return value;\r\n    });\r\n\r\n    // このうち最も対空ボーナス合わせて性能が高いやつを取得\r\n    let maxAntiAirBonus = 0;\r\n    let maxAntiAirWeight = 0;\r\n    let subMaxScore = 0;\r\n    let returnItem = new Item();\r\n    for (let i = 0; i < items.length; i += 1) {\r\n      const item = items[i];\r\n      const bonuses = Ship.getItemBonus(ship.data, [item]);\r\n      // サブ性能 対空性能が同じだった場合はこっちで比較する用の保険\r\n      const sumAABonus = sum(bonuses.map((v) => v.antiAir ?? 0));\r\n      const score1 = item.antiAirBonus + (item.data.iconTypeId === 16 ? 50 : 10) * sumAABonus;\r\n      const score2 = item.antiAirWeight + sumAABonus;\r\n      const subScore = item.dayBattleFirePower + sum(bonuses.map((v) => v.firePower ?? 0));\r\n      let decideFlag = false;\r\n\r\n      if (score1 > maxAntiAirBonus) {\r\n        // 艦隊防空ボーナスが高いなら\r\n        decideFlag = true;\r\n      } else if (score1 === maxAntiAirBonus && score2 > maxAntiAirWeight) {\r\n        // 艦隊防空ボーナスは同じだけど加重対空が高いなら\r\n        decideFlag = true;\r\n      } else if (score1 === maxAntiAirBonus && score2 === maxAntiAirWeight && subScore > subMaxScore) {\r\n        // 艦隊防空ボーナスも加重対空も同じなら火力\r\n        decideFlag = true;\r\n      }\r\n\r\n      if (decideFlag) {\r\n        maxAntiAirBonus = score1;\r\n        maxAntiAirWeight = score2;\r\n        subMaxScore = subScore;\r\n        returnItem = item;\r\n      }\r\n    }\r\n\r\n    return returnItem;\r\n  }\r\n\r\n  /**\r\n   * 戦闘機を最適化した新しい艦隊データを返却\r\n   * @static\r\n   * @memberof Fleet\r\n   */\r\n  public static getOptimizedFighterFleet(ships: Ship[]): Ship[] {\r\n    // 戦闘機を抽出\r\n    const allFighterSlots: { shipIndex: number, slotIndex: number, slot: number }[] = [];\r\n    const allFighters: Item[] = [];\r\n    const allSPFighterSlots: { shipIndex: number, slotIndex: number, slot: number }[] = [];\r\n    const allSPFighters: Item[] = [];\r\n\r\n    for (let i = 0; i < ships.length; i += 1) {\r\n      const ship = ships[i];\r\n      if (ship.isEmpty || !ship.isActive) {\r\n        continue;\r\n      }\r\n      for (let j = 0; j < ship.items.length; j += 1) {\r\n        const item = ship.items[j];\r\n        if (item.data.isFighter) {\r\n          if (item.data.apiTypeId === 6) {\r\n            // 艦戦\r\n            allFighterSlots.push({ shipIndex: i, slotIndex: j, slot: item.fullSlot });\r\n            allFighters.push(item);\r\n          } else if (item.data.apiTypeId === 45) {\r\n            // 水戦\r\n            allSPFighterSlots.push({ shipIndex: i, slotIndex: j, slot: item.fullSlot });\r\n            allSPFighters.push(item);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // 搭載数の多い順にソート\r\n    allFighterSlots.sort((a, b) => b.slot - a.slot);\r\n    allSPFighterSlots.sort((a, b) => b.slot - a.slot);\r\n    // 対空の高い順にソート\r\n    allFighters.sort((a, b) => b.actualAntiAir - a.actualAntiAir);\r\n    allSPFighters.sort((a, b) => b.actualAntiAir - a.actualAntiAir);\r\n\r\n    // 艦戦 出撃対空順に、最大のスロットに埋めていく\r\n    for (let i = 0; i < allFighters.length; i += 1) {\r\n      const { shipIndex, slotIndex, slot } = allFighterSlots[i];\r\n      ships[shipIndex].items[slotIndex] = new Item({ item: allFighters[i], slot });\r\n    }\r\n    // 水戦 出撃対空順に、最大のスロットに埋めていく\r\n    for (let i = 0; i < allSPFighterSlots.length; i += 1) {\r\n      const { shipIndex, slotIndex, slot } = allSPFighterSlots[i];\r\n      ships[shipIndex].items[slotIndex] = new Item({ item: allSPFighters[i], slot });\r\n    }\r\n\r\n    // 装備群を再装備させる形で最インスタンス化\r\n    const resultShips = [];\r\n    for (let i = 0; i < ships.length; i += 1) {\r\n      const ship = ships[i];\r\n      resultShips.push(new Ship({ ship, items: ship.items }));\r\n    }\r\n\r\n    return resultShips;\r\n  }\r\n\r\n  /**\r\n   * 与えられた計算に対して、所持データを反映させたFleetを返却する\r\n   * @static\r\n   * @param {Fleet[]} fleets ベースとなるFleet\r\n   * @param {ShipStock[]} ships 在籍艦娘リスト\r\n   * @param {ItemStock[]} items 所持装備リスト(副作用あり)\r\n   * @param {boolean} toEmpty 置換モード trueなら、在庫がなかった場合にはずす\r\n   * @return {*}  {Fleet[]}\r\n   * @memberof Optimizer\r\n   */\r\n  public static reflectStockData(manager: CalcManager, ships: ShipStock[], items: ItemStock[], toEmpty: boolean): { airbaseInfo: AirbaseInfo, fleetInfo: FleetInfo } {\r\n    /** ======= 基地データの反映 ======= */\r\n    const { airbases } = manager.airbaseInfo;\r\n    const newAirbases: Airbase[] = [];\r\n    for (let i = 0; i < airbases.length; i += 1) {\r\n      const airbase = airbases[i];\r\n      // 装備のチェックをする\r\n      const newItems: Item[] = [];\r\n      for (let j = 0; j < airbase.items.length; j += 1) {\r\n        newItems.push(Optimizer.getReflectedItem(airbase.items[j], items, toEmpty));\r\n      }\r\n      // 装備の精査が終わったので置き換え\r\n      newAirbases.push(new Airbase({ airbase, items: newItems }));\r\n    }\r\n\r\n    /** ======= 艦隊データの反映 ======= */\r\n\r\n    const { fleets } = manager.fleetInfo;\r\n    const newFleets: Fleet[] = [];\r\n\r\n    // 配備済み艦隊ユニークidリスト\r\n    const usedShipUniqueIds: number[] = [];\r\n    for (let i = 0; i < fleets.length; i += 1) {\r\n      const fleet = fleets[i];\r\n      const newShips: Ship[] = [];\r\n      for (let j = 0; j < fleet.ships.length; j += 1) {\r\n        const ship = fleet.ships[j];\r\n        if (!ship.data.id) {\r\n          // なんも中身がないならそのまま突っ込んで次\r\n          newShips.push(ship);\r\n          continue;\r\n        }\r\n\r\n        let newShip: Ship;\r\n        // 現在の所持登録データから検索かつ、まだ配備されていないかどうかチェック\r\n        const stockShips = ships.filter((v) => v.id === ship.data.id && !usedShipUniqueIds.includes(v.uniqueId));\r\n        if (stockShips.length) {\r\n          stockShips.sort((a, b) => {\r\n            // ベースに海域がある場合\r\n            if (ship.area) {\r\n              // 札がそれぞれ違う\r\n              if (a.area !== b.area) {\r\n                // 一致していたものを優先\r\n                if (a.area === ship.area) return -1;\r\n                if (b.area === ship.area) return 1;\r\n                // 札がついていないもの優先\r\n                if (a.area === 0) return -1;\r\n                if (b.area === 0) return 1;\r\n              }\r\n            }\r\n            // レベルが高い順 => 運が高い順 => 札が若い順\r\n            if (a.level !== b.level) return b.level - a.level;\r\n            if (a.improvement.luck !== b.improvement.luck) return b.level - a.level;\r\n            return a.area - b.area;\r\n          });\r\n          const stock = stockShips[0];\r\n          // いたのでいったんステータス系を反映\r\n          newShip = new Ship({\r\n            ship,\r\n            level: stock.level,\r\n            hp: (stock.level > 99 ? ship.data.hp2 : ship.data.hp) + stock.improvement.hp,\r\n            asw: Ship.getStatusFromLevel(stock.level, ship.data.maxAsw, ship.data.minAsw) + stock.improvement.asw,\r\n            luck: ship.data.luck + stock.improvement.luck,\r\n            area: stock.area,\r\n            uniqueId: stock.uniqueId,\r\n            releaseExpand: stock.releaseExpand,\r\n          });\r\n          // 配備済みとして記録\r\n          usedShipUniqueIds.push(stock.uniqueId);\r\n        } else if (toEmpty) {\r\n          // いなかったら外す設定なので空データを突っ込む\r\n          newShip = new Ship();\r\n        } else {\r\n          // いなかったら引き継ぐ設定だが、在庫なしプロパティを起動\r\n          newShip = new Ship({ ship, noStock: true });\r\n        }\r\n\r\n        // 装備のチェックをする\r\n        const newItems: Item[] = [];\r\n        for (let k = 0; k < newShip.items.length; k += 1) {\r\n          newItems.push(Optimizer.getReflectedItem(newShip.items[k], items, toEmpty));\r\n        }\r\n        // 補強増設\r\n        const exItem = Optimizer.getReflectedItem(newShip.exItem, items, toEmpty, !newShip.releaseExpand);\r\n\r\n        // 装備の精査も終わったのでやっと置き換えられる\r\n        newShips.push(new Ship({\r\n          ship: newShip, items: newItems, exItem, noStock: newShip.noStock,\r\n        }));\r\n      }\r\n\r\n      // 艦隊再配備\r\n      newFleets.push(new Fleet({ fleet, ships: newShips }));\r\n    }\r\n\r\n    return {\r\n      airbaseInfo: new AirbaseInfo({ info: manager.airbaseInfo, airbases: newAirbases }),\r\n      fleetInfo: new FleetInfo({ info: manager.fleetInfo, fleets: newFleets }),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 装備在庫より、装備を置換したものを返却する。\r\n   * 在庫に存在すれば最も改修値の高いものを置き換える\r\n   * 在庫に存在しなければ外すかそのまま\r\n   * @private\r\n   * @static\r\n   * @param {Item} item ベース装備\r\n   * @param {ItemStock[]} stock 装備在庫\r\n   * @param {boolean} toEmpty trueならば存在しなかったときに空の装備を返却する\r\n   * @param {boolean} noStock 手動エラー\r\n   * @return {*}  {Item}\r\n   * @memberof Optimizer\r\n   */\r\n  private static getReflectedItem(item: Item, stock: ItemStock[], toEmpty: boolean, noStock = false): Item {\r\n    if (!item.data.id) {\r\n      // 空の装備はそのまま\r\n      return item;\r\n    }\r\n    const stockItem = stock.find((v) => v.id === item.data.id && v.num.some((remodel) => remodel > 0));\r\n    if (stockItem) {\r\n      let maxRemodel = 10;\r\n      // 新型缶★7未満は特別対応 => ここで★7以上を用いると高速+が解除されるおそれがある\r\n      // 実際は艦隊全体を俯瞰した、もう少しちゃんとした最適化処理がいる いつかやるかも\r\n      if (item.data.id === 87 && item.remodel < 7) {\r\n        maxRemodel = 6;\r\n      }\r\n      // 装備あった => 最も改修値が高いものをとってくる\r\n      for (let remodel = maxRemodel; remodel >= 0; remodel -= 1) {\r\n        if (stockItem.num[remodel]) {\r\n          // 装備置き換え\r\n          // 在庫から直で減らす concatしてるので大丈夫！\r\n          stockItem.num[remodel] -= 1;\r\n          return new Item({ item, remodel, noStock });\r\n        }\r\n      }\r\n    } else if (toEmpty) {\r\n      // なかったら外す設定なので空データ\r\n      return new Item();\r\n    }\r\n\r\n    // それ以外はそのままだけど在庫なしエラーだけ出す。在庫なしエラーが出るのはここだけの特別対応！\r\n    return new Item({ item, noStock: true });\r\n  }\r\n}\r\n"],"names":["attrs","close","_c","staticClass","model","value","_vm","_v","tab","$$v","expression","_s","fleet","fullBorders","fullAirbaseBorders","isUnion","number","enemy","showItemList","_e","ref","staticRenderFns","render","Vue","components","EnemyInput","AntiAirCalculator","ContactRates","name","props","handleShowItemList","type","Function","EnemyFleet","required","handleClose","data","mounted","contact","this","$refs","contactRates","calculate","antiAirCalculator","updateTable","methods","enemyIndex","slotIndex","component","fullAirPower","on","bootTooltip","item","$event","updateItem","callback","$set","enabledTooltip","ItemInput","ItemTooltip","Enemy","readonly","Boolean","default","tooltipTimer","undefined","tooltipItem","Item","tooltipX","tooltipY","computed","airPowerDetail","airPowers","items","map","v","isRecon","filter","length","join","airPowerDetailAB","sumSlot","sum","fullSlot","getEnemyName","setting","$store","state","siteSetting","$i18n","locale","nameIsNotTranslate","shipName","EnemyMaster","trans","$t","index","$emit","e","id","disabledItemTooltip","nameDiv","target","getElementsByClassName","window","clearTimeout","setTimeout","rect","getBoundingClientRect","x","width","y","height","Math","max","popUpCount","clearTooltip","keyword","isLandBase","directives","disabled","enemies","key","needTrans","rawName","j","hasRadar","class","isUnknown","tooltipEnemy","EnemyTooltip","handleDecideEnemy","all","types","existTypes","defaultEnemies","i","push","includes","Const","some","text","isNotJapanese","changeType","word","result","concat","t","indexOf","nameDividers","divName","substring","startsWith","clickedEnemy","clientX","manualEnemies","manualEnemy","find","_setup","hasOASW","hasOpeningTorpedo","antiAirCutIn","_l","nightSpecialAttacks","armor","apiTypeId","isSubmarine","level","specialAttacks","SpecialAttack","dragStart","dragEnter","dragLeave","stopPropagation","dragover","_b","scopedSlots","_u","isNoShip","showShipList","ship","onEditStatusMenuToggle","fn","editStatusMenu","hp","maxAsw","minAsw","asw","luck","antiAir","_n","closeEditStatusMenu","keypress","improveAsw","itemAsw","itemBonusStatus","displayStatus","missingAsw","enabledTSBK","noItem","bootShipTooltip","firePower","avoid","enabledConvert","_g","enabledShipTooltip","ShipTooltip","handleShowBatchItemList","handleShowShipList","handleCloseShip","handleShowTempShipList","handleShowItemPreset","handleCreateTray","Ship","Number","fixDown","rateDown","fleetRosCorr","isLine2","hideActiveButton","tooltipBonus","rangeText","maxLevel","ShipMaster","exItem","every","rateDownValue","floor","ships","master","isFinal","originalId","version","maxAreas","areaCount","minHP","hp2","watch","min","setShip","builder","changeActive","isActive","resetItems","removeShip","showBatchItemList","event","showTempShip","createTray","showItemPresets","toggleVersion","versions","sort","a","b","findIndex","newVersion","newItems","newExItem","slots","ShipValidation","slot","remodel","bonusHP","newHP","newAsw","originalLuck","improvementLuck","setDraggable","closest","parent","setAttribute","resetDraggable","draggingDiv","document","getElementById","isEmpty","isTray","classList","contains","draggable","style","opacity","dispatch","shipInputList","add","boxShadow","d","dropShip","preventDefault","moveData","draggingShipData","dragEnd","remove","innerWidth","JSON","stringify","getItemBonusDiff","disabledShipTooltip","clientY","_self","_setupProxy","spNormal","actualData","actualOptions","plugins","Chart","ChartDataLabels","registerables","vueCompositionApi","extend","DoughnutChart","Object","options","titleText","String","doughnutRef","$vuetify","theme","dark","datasets","borderColor","datalabels","color","title","itemClass","dropItem","slotMenu","slotValue","bonusText","setRemodel","levelAlt","getLevelValue","hover","removeItem","deathIndicatorColor","init","dragSlot","itemParent","handleDragStart","isEnemy","isReleased","dense","draggingNow","isExpandSlot","isNoItem","itemName","isDraggable","remodelIconColor","canRemodel","remodelLabelColor","classes","iconTypeId","isPlane","bonuses","displayBonusKey","bonus","deathRate","showDeathRateIndicator","isTriangleIcon","isGraphicModeDeathRateIndicator","setItem","onSlotMenuToggle","setLevel","transfer","dataTransfer","setData","dataset","itemId","apiType","itemInputs","backgroundColor","ItemMaster","Airbase","droppedData","getData","ctrlKey","prevData","parse","airbaseMaxSlot","elements1","elements2","itemData","isMobile","filterStatusItems","changedFilter","filterStatusValue","multiLine","secondary","isEnemyMode","primary","sortDialog","toggleAffectingRangeFilter","onlyAffectingRange","onlyEnabledLandBaseAttack","onlyNightAircraft","onlyAAResistAircraft","includeSonar","includeDepthCharge","includeDepthChargeLauncher","includeTorpedo","includeSPTorpedo","includeSVTorpedo","isSpecialOnly","sortExcludeRemodelStatus","sortExcludeSynergyStatus","isBatchListMax","active","isCheckedOnly","toggleCheckedOnly","desc","sortKey","toggleSortKey","itemHeaderClasses","isBatchMode","sumBonus","selected","batchListIndexes","clickedItem","count","viewStatus","mobile","isSpecial","showMenu","menuItem","remodelChangeMenu","isAirbaseMode","confirmDialog","closeBlacklist","selectSortKey","isDesc","resetOrdering","filterDialog","filterStatus","click","compareDialog","displayStatuses","row","hideDiff","before","diff","displayStatuses2","ItemStatusView","targetItem","exchangeParent","avoidTexts","originalItem","originalItemBonusString","itemBonusString","compareItem","getSpeedText","after","torpedo","LoS","range","speed","baseDayBattleFirePower","isCV","nightBattleFirePower","accuracy","supportFirePower","supportAccuracy","actualTorpedo","actualBomber","actualAntiAir","scout","antiBomber","interception","radius","cost","avoidId","newBase","airbase","defenseAirPower","getShipName","actualKey","BlacklistItemEdit","ItemCompare","handleEquipItem","handleChangeWidth","sortItemListIndex","baseItems","avoids","isStockOnly","isReadonlyMode","isEnabledLandBaseAttack","onlyDisabledLandBaseAttack","onlyNotAffectingRange","SiteSetting","viewItems","itemStock","usedItems","confirmItem","headerItems","sortKeyItems","blacklistDialog","blacklistItems","decidedItem","wikiDialog","menuX","menuY","batchMax","batchList","itemListHeight","changeMultiLine","isMultiLineForItemList","updateIsMobile","isShipMode","isAircraftMode","itemListData","targetItems","depthChargeLauncher","splice","resultItems","isStrictDepthCharge","typeName","enabledTypes","apis","enabledItems","api","selectedType","viewOrder","padding","mobileItemHeaderText","formatStatus","aircraftDayBattleFirePower","dayBattleFirePower","antiAirBonus","actualRange","isJapanese","enabledNightAircraftFilter","enabledAAResistFilter","disabledDetailFilter","currentBatchIndex","isCostFilter","clickedStockOnly","isStockOnlyForItemList","resetFilter","initialFilter","getters","getExistsTempStock","tempItemStock","isExpand","mainData","mainSaveData","manager","tempData","tempIndex","allItems","fleetInfo","fleets","airbases","airbaseInfo","filterData","savedItemListFilter","enemyItems","isEnemyItem","toggleLandBaseAttackFilter","toUpperCase","bonusKey","blacklistItemIds","list","isNightAircraftItem","usedItem","withoutRemodel","withoutSynergy","iniLevels","planeInitialLevels","stock","iniLevel","stockData","num","ignoreRemodelBonus","usedCount","allCount","el","lackRemodel","tempNewItems","slotCount","targetSlot","tempItems","cloneDeep","emptyBonus","totalEmptyBonus","ItemBonus","totalBonus","bomber","actualFire","actualAsw","actualArmor","actualAccuracy","actualScout","actualAvoid","isSPPlane","currentRange","filterValue","filterKey","replace","toLowerCase","slice","isActualFilterKey","sortItems","innerHeight","openWiki","showItemCompareDialog","baseItem","isMulti","handleSortItem","isNameSort","isActualValue","sa","m","padStart","sb","div","FocusEvent","left","showBlacklist","toggleBlacklistDialog","closeFilterDialog","toggleFilterDialog","open","showItemMenu","$nextTick","copyItemName","textToCopy","select","execCommand","changeRemodel","toggleCompareSetting","overwritePreset","sortEnd","presets","uniquePresets","spec1","isPresetItemEmpty","selectedPreset","savePreset","isLack","exItemView","selectedIndex","viewDialog","snackbar","ItemPreset","constructor","_defineProperty","static","oldPresets","old","preset","newPreset","itemIds","exItemId","handleExpandItemPreset","isAACIMode","infoText","savedPresets","itemPresets","convertOldItemPresets","getAACIPreset","disabledCommit","itemView","itemMasters","assumedId","assumedItem","clickedPreset","clickedUniquePreset","readyPreset","maxId","deletePreset","expandPreset","isForce","allItemMasters","stocks","isStockMode","shipItems","isChecked","airbaseItems","parentItems","idx","uncheckedUsedItem","aaciItems","Optimizer","assumedItems","assumedRow","cutIn","rowItem","lastItem","rowExItem","assign","c1","c2","spec2","rateBonus","toFixed","formations","formation","cutInId","attackerSlot","adj1","adj2","showAntiAirMode","isAirRaid","isEnemyUnion","isEnemyFormula","warn","labelCallback","c","labels","dataIndex","parsed","Fleet","fleetAntiAir","stage2Data","antiAirCutIns","totalCutInRate","graphData","legend","display","tooltip","callbacks","label","formatter","correction","c3","c4","isManual","antiAirItems","rate","detail","cutIns","allAntiAirCutIn","borders","shootDownList","border","sumRate","cutin","remarks","adj3","adj4","abs","manualAvoid","aaci","AntiAirCutIn","stage2","ShootDownInfo","antiAirWeight","antiAirWeightList","rateDownList","fix","fixDownList","minimumDownList","getFleetAntiAir","setAntiAirCutInTable","fixCorrA","fixCorrB","variable","rateCorr","priorities","indexA","indexB","colorCount","colors","colorCorr","doneColorIds","noneRate","airState","unionOptions","graphLegends","contactGraphLabels","contactGraphColors","airStatus","unionGraphData","rates","unionRates","created","getContactRates","getGraphData","changeAirState","contact120","contact117","contact112","gun","getBestAAItem","antiAirRadar","minAA","specialMachineGun","shipId","cutInPreset","type2","radar","gun1Index","gun2","HatsudukiGunIndex","HatsudukiGun","HatsudukiGun2","antiAirSPRadar","machineGun","weakGun","maxAA","weakMachineGun","hunshin","sanshiki","gun2Index","gun3","mainGun","ponpon","rocketIndex","rocketLauncher","rocketLauncher2","isBB","GFCSGunIndex","GFCSGun","GFCSGun2","gun5inchKaiIndex","gun5inchKai","gun5inchKai2","gun5inchIndex","gun5inch","gun5inch2","radarGFCSMk37","ci36Items","GFCS5inchIndex","GFCS5inchGun","GFCS5inchGun2","ci4041Items","syuchu10cmIndex","syuchu10cm","syuchu10cm2","yamatoRadar","yamatoRadar2","ex10cmSecGun","ciItems","gun356Kai4","gun356Kai3","harusameGunIndex","harusameGun","harusameGun2","add25mmAAGun","specialGun","specialGun2","kosha","cond","maxAntiAirBonus","maxAntiAirWeight","subMaxScore","returnItem","sumAABonus","score1","score2","subScore","decideFlag","allFighterSlots","allFighters","allSPFighterSlots","allSPFighters","isFighter","shipIndex","resultShips","toEmpty","newAirbases","getReflectedItem","newFleets","usedShipUniqueIds","newShips","newShip","stockShips","uniqueId","area","improvement","releaseExpand","noStock","k","AirbaseInfo","info","FleetInfo","stockItem","maxRemodel"],"sourceRoot":""}