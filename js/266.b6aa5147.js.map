{"version":3,"file":"js/266.b6aa5147.js","mappings":"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","sources":["webpack://kc-web/./src/classes/fleet/optimizer.ts","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?e44f","webpack://kc-web/./src/components/enemy/EnemyDetail.vue","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?c867","webpack://kc-web/./src/components/enemy/EnemyDetail.vue?e688","webpack://kc-web/./src/components/enemy/EnemyInput.vue?704e","webpack://kc-web/./src/components/enemy/EnemyInput.vue","webpack://kc-web/./src/components/enemy/EnemyInput.vue?10f4","webpack://kc-web/./src/components/enemy/EnemyInput.vue?1df7","webpack://kc-web/./src/components/enemy/EnemyList.vue?df2c","webpack://kc-web/./src/components/enemy/EnemyList.vue","webpack://kc-web/./src/components/enemy/EnemyList.vue?8456","webpack://kc-web/./src/components/enemy/EnemyList.vue?2fdb","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?4f36","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?3d27","webpack://kc-web/./src/components/enemy/EnemyTooltip.vue?0fbf","webpack://kc-web/./src/components/fleet/ShipInput.vue?c2cf","webpack://kc-web/./src/components/fleet/ShipInput.vue","webpack://kc-web/./src/components/fleet/ShipInput.vue?390a","webpack://kc-web/./src/components/fleet/ShipInput.vue?ecbb","webpack://kc-web/./src/components/graph/Doughnut.vue?6ee3","webpack://kc-web/./src/components/graph/Doughnut.vue","webpack://kc-web/./src/components/graph/Doughnut.vue?1346","webpack://kc-web/./src/components/graph/Doughnut.vue?d4d6","webpack://kc-web/./src/components/item/ItemInput.vue?189d","webpack://kc-web/./src/components/item/ItemInput.vue","webpack://kc-web/./src/components/item/ItemInput.vue?13d7","webpack://kc-web/./src/components/item/ItemInput.vue?82f0","webpack://kc-web/./src/components/item/ItemList.vue?48ef","webpack://kc-web/./src/components/item/ItemList.vue","webpack://kc-web/./src/components/item/ItemList.vue?60c8","webpack://kc-web/./src/components/item/ItemList.vue?169b","webpack://kc-web/./src/components/item/ItemPreset.vue?74d3","webpack://kc-web/./src/classes/item/itemPreset.ts","webpack://kc-web/./src/components/item/ItemPreset.vue","webpack://kc-web/./src/components/item/ItemPreset.vue?f3a1","webpack://kc-web/./src/components/item/ItemPreset.vue?0a21","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?002b","webpack://kc-web/./src/components/result/AntiAirCalculator.vue","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?b626","webpack://kc-web/./src/components/result/AntiAirCalculator.vue?1011","webpack://kc-web/./src/components/result/ContactRates.vue?ef24","webpack://kc-web/./src/components/result/ContactRates.vue","webpack://kc-web/./src/components/result/ContactRates.vue?268d","webpack://kc-web/./src/components/result/ContactRates.vue?394a"],"sourcesContent":["import { sum } from 'lodash';\r\nimport Item from '../item/item';\r\nimport Ship from './ship';\r\nimport ShipValidation from './shipValidation';\r\nimport Const from '../const';\r\n\r\ninterface SearchCond {\r\n  apiTypeId?: number;\r\n  iconTypeId?: number;\r\n  maxAA?: number;\r\n  minAA?: number;\r\n  isSpecial?: boolean;\r\n}\r\n\r\n/**\r\n * 何もいい名前が思いつかなかった\r\n * @export\r\n * @class Optimizer\r\n */\r\nexport default class Optimizer {\r\n  /**\r\n   * 与えられた艦、装備からなるべく適切な対空CI用の装備配列を返却するつもりの関数\r\n   * @static\r\n   * @param {Ship} ship\r\n   * @param {Item[]} allItems\r\n   * @param {boolean} [isStockMode=false] 所持数制限モード ONなら2回同じ装備を使用しない処理が入る\r\n   * @memberof Optimizer\r\n   */\r\n  public static getShipAACITriggerItems(ship: Ship, allItems: Item[], isStockMode = false): { id: number, items: Item[] }[] {\r\n    // まず装備可能なものだけ取得\r\n    const items = allItems.filter((v) => ShipValidation.isValidItem(ship.data, v.data));\r\n    const gun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16 });\r\n    const antiAirRadar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11, minAA: 1 });\r\n    const specialMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, isSpecial: true });\r\n    const shipId = ship.data.id;\r\n\r\n    const cutInPreset = [];\r\n\r\n    if (ship.data.type2 === 54) {\r\n      // 秋月型 => 1種, 2種, 3種\r\n      const radar = Optimizer.getBestAAItem(ship, items, { iconTypeId: 11 });\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n      return [\r\n        { id: 1, items: [gun, gun2, radar] },\r\n        { id: 2, items: [gun, radar] },\r\n        { id: 3, items: [gun, gun2] },\r\n      ];\r\n    }\r\n    if (shipId === 428) {\r\n      // 摩耶様改二 => 10種, 11種\r\n      return [\r\n        { id: 10, items: [gun, antiAirRadar, specialMachineGun] },\r\n        { id: 11, items: [gun, specialMachineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 141) {\r\n      // 五十鈴改二 => 14種, 15種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      return [\r\n        { id: 14, items: [gun, antiAirRadar, machineGun] },\r\n        { id: 15, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 470 || shipId === 622) {\r\n      // 霞改二乙 夕張改二 => 16種, 17種\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21 });\r\n      return [\r\n        { id: 16, items: [gun, antiAirRadar, machineGun] },\r\n        { id: 17, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 418) {\r\n      // 皐月改二 => 18種\r\n      cutInPreset.push({ id: 18, items: [specialMachineGun] });\r\n    }\r\n    if (shipId === 487) {\r\n      // 鬼怒改二 => 19種, 20種\r\n      const weakGun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16, maxAA: 7 });\r\n      return [\r\n        { id: 19, items: [weakGun, specialMachineGun] },\r\n        { id: 20, items: [specialMachineGun] },\r\n      ];\r\n    }\r\n    if (shipId === 488) {\r\n      // 由良改二 => 21種\r\n      cutInPreset.push({ id: 21, items: [gun, antiAirRadar] });\r\n    }\r\n    if (shipId === 548) {\r\n      // 文月改二 => 22種\r\n      cutInPreset.push({ id: 22, items: [specialMachineGun] });\r\n    }\r\n    if (shipId === 329 || shipId === 530) {\r\n      // UIT-25 伊504 => 23種\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      return [{ id: 22, items: [weakMachineGun] }];\r\n    }\r\n    if (shipId === 478) {\r\n      // 龍田改二 => 24種\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      cutInPreset.push({ id: 22, items: [gun, weakMachineGun] });\r\n    }\r\n    if ([82, 88, 553, 554].includes(shipId)) {\r\n      // 伊勢型改 / 改二 => 25種, 28種\r\n      const hunshin = items.find((v) => v.data.id === 274) ?? new Item();\r\n      const sanshiki = Optimizer.getBestAAItem(ship, items, { apiTypeId: 18 });\r\n      return [\r\n        { id: 25, items: [antiAirRadar, sanshiki, hunshin] },\r\n        { id: 28, items: [antiAirRadar, hunshin] },\r\n      ];\r\n    }\r\n    if (shipId === 148) {\r\n      // 武蔵改 => 28種\r\n      const hunshin = items.find((v) => v.data.id === 274) ?? new Item();\r\n      cutInPreset.push({ id: 28, items: [antiAirRadar, hunshin] });\r\n    }\r\n    if (shipId === 557 || shipId === 558) {\r\n      // 磯風乙改 / 浜風乙改 => 29種\r\n      cutInPreset.push({ id: 29, items: [gun, antiAirRadar] });\r\n    }\r\n    if (shipId === 477) {\r\n      // 天龍改二 => 24種, 30種, 31種\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n      const gun2Index = items.findIndex((v, i) => i !== gun1Index && v.data.id === gun2.data.id && v.remodel === gun2.remodel);\r\n      // 3本目の高角砲探索(1, 2本目の高角砲を間引く)\r\n      const gun3 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index && i !== gun2Index) : items, { iconTypeId: 16 });\r\n      const weakMachineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, maxAA: 8 });\r\n      return [\r\n        { id: 24, items: [gun, weakMachineGun] },\r\n        { id: 30, items: [gun, gun2, gun3] },\r\n        { id: 31, items: [gun, gun2] },\r\n      ];\r\n    }\r\n    if (shipId === 579 || shipId === 630) {\r\n      // Gotland改以降 => 30種 (高角砲3), 33種 (高角砲, 素対空値4以上の機銃)\r\n      const gun1Index = items.findIndex((v) => v.data.id === gun.data.id && v.remodel === gun.remodel);\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const gun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16 });\r\n      const gun2Index = items.findIndex((v, i) => i !== gun1Index && v.data.id === gun2.data.id && v.remodel === gun2.remodel);\r\n      // 3本目の高角砲探索(1, 2本目の高角砲を間引く)\r\n      const gun3 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index && i !== gun2Index) : items, { iconTypeId: 16 });\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 4 });\r\n      return [\r\n        { id: 30, items: [gun, gun2, gun3] },\r\n        { id: 33, items: [gun, machineGun] },\r\n      ];\r\n    }\r\n    if (Const.GBR.includes(ship.data.type2) || (ship.data.type2 === 6 && ship.data.version >= 2)) {\r\n      // 英国艦艇 / 金剛型改二以降 => 32種\r\n      const mainGun = items.find((v) => v.data.id === 300) ?? new Item();\r\n      const ponpon = items.find((v) => v.data.id === 191) ?? new Item();\r\n      const rocketIndex = items.findIndex((v) => v.data.id === 301);\r\n      const rocketLauncher = items[rocketIndex] ?? new Item();\r\n      const rocketLauncher2 = items.find((v, i) => v.data.id === 301 && (isStockMode ? i !== rocketIndex : true)) ?? new Item();\r\n\r\n      // のちの条件分岐で榛名改二乙があるため return しない\r\n      cutInPreset.push({ id: 32, items: [mainGun, ponpon] });\r\n      cutInPreset.push({ id: 32, items: [rocketLauncher, ponpon] });\r\n      cutInPreset.push({ id: 32, items: [rocketLauncher, rocketLauncher2] });\r\n    }\r\n    if (ship.data.type2 === 91) {\r\n      // Fletcher級 => 34種, 35種, 36種, 37種\r\n      const GFCSGunIndex = items.findIndex((v) => v.data.id === 308) ?? new Item();\r\n      const GFCSGun = items[GFCSGunIndex] ?? new Item();\r\n      const GFCSGun2 = items.find((v, i) => v.data.id === 308 && (isStockMode ? i !== GFCSGunIndex : true)) ?? new Item();\r\n\r\n      const gun5inchKaiIndex = items.findIndex((v) => v.data.id === 313) ?? new Item();\r\n      const gun5inchKai = items[gun5inchKaiIndex] ?? new Item();\r\n      const gun5inchKai2 = items.find((v, i) => v.data.id === 313 && (isStockMode ? i !== gun5inchKaiIndex : true)) ?? new Item();\r\n      const gun5inchIndex = items.findIndex((v) => v.data.id === 284) ?? new Item();\r\n      const gun5inch = items[gun5inchIndex] ?? new Item();\r\n      const gun5inch2 = items.find((v, i) => v.data.id === 284 && (isStockMode ? i !== gun5inchIndex : true)) ?? new Item();\r\n      const radarGFCSMk37 = items.find((v) => v.data.id === 307) ?? new Item();\r\n\r\n      // あるやつから詰め込む\r\n      const ci3637Items = [];\r\n      if (gun5inchKai.data.id) ci3637Items.push(gun5inchKai);\r\n      if (gun5inchKai2.data.id) ci3637Items.push(gun5inchKai2);\r\n      if (ci3637Items.length < 2 && gun5inch.data.id) ci3637Items.push(gun5inch);\r\n      if (ci3637Items.length < 2) ci3637Items.push(gun5inch2);\r\n\r\n      return [\r\n        { id: 34, items: [GFCSGun, GFCSGun2] },\r\n        { id: 35, items: [GFCSGun, gun5inchKai] },\r\n        { id: 36, items: ci3637Items.concat(radarGFCSMk37) },\r\n        { id: 37, items: ci3637Items },\r\n      ];\r\n    }\r\n    if (ship.data.type2 === 99) {\r\n      // Atlanta級 => 38種, 39種, 40種, 41種\r\n      const GFCS5inchIndex = items.findIndex((v) => v.data.id === 363) ?? new Item();\r\n      const GFCS5inchGun = items[GFCS5inchIndex] ?? new Item();\r\n      const GFCS5inchGun2 = items.find((v, i) => v.data.id === 363 && (isStockMode ? i !== GFCS5inchIndex : true)) ?? new Item();\r\n      const gun5inchIndex = items.findIndex((v) => v.data.id === 362) ?? new Item();\r\n      const gun5inch = items[gun5inchIndex] ?? new Item();\r\n      const gun5inch2 = items.find((v, i) => v.data.id === 362 && (isStockMode ? i !== gun5inchIndex : true)) ?? new Item();\r\n      const radarGFCSMk37 = items.find((v) => v.data.id === 307) ?? new Item();\r\n\r\n      // あるやつから詰め込む\r\n      const ci4041Items = [];\r\n      if (GFCS5inchGun.data.id) ci4041Items.push(GFCS5inchGun);\r\n      if (GFCS5inchGun2.data.id) ci4041Items.push(GFCS5inchGun2);\r\n      if (ci4041Items.length < 2 && gun5inch.data.id) ci4041Items.push(gun5inch);\r\n      if (ci4041Items.length < 2) ci4041Items.push(gun5inch2);\r\n\r\n      return [\r\n        { id: 38, items: [GFCS5inchGun, GFCS5inchGun2] },\r\n        { id: 39, items: [GFCS5inchGun, gun5inch] },\r\n        { id: 40, items: ci4041Items.concat(radarGFCSMk37) },\r\n        { id: 41, items: ci4041Items },\r\n      ];\r\n    }\r\n    if (shipId === 546 || shipId === 911 || shipId === 916) {\r\n      // 大和型改二 => 26種, 42種, 43種, 44種, 45種\r\n      const syuchu10cmIndex = items.findIndex((v) => v.data.id === 464) ?? new Item();\r\n      const syuchu10cm = items[syuchu10cmIndex] ?? new Item();\r\n      const syuchu10cm2 = items.find((v, i) => v.data.id === 464 && (isStockMode ? i !== syuchu10cmIndex : true)) ?? new Item();\r\n      const yamatoRadar = items.find((v) => v.data.id === 460) ?? new Item();\r\n      const yamatoRadar2 = items.find((v) => v.data.id === 142) ?? new Item();\r\n      const ex10cmSecGun = items.find((v) => v.data.id === 275) ?? new Item();\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 6 });\r\n      const ciItems = [syuchu10cm, yamatoRadar.data.id ? yamatoRadar : yamatoRadar2];\r\n      return [\r\n        { id: 26, items: [antiAirRadar, ex10cmSecGun] },\r\n        { id: 42, items: ciItems.concat([machineGun, syuchu10cm2]) },\r\n        { id: 43, items: ciItems.concat(syuchu10cm2) },\r\n        { id: 44, items: ciItems.concat(machineGun) },\r\n        { id: 45, items: ciItems },\r\n      ];\r\n    }\r\n    if (shipId === 593) {\r\n      // 榛名改二乙 => 46種 (35.6改三 or 改四, 対空電探, 特殊機銃)\r\n      const gun356Kai4 = items.find((v) => v.data.id === 503) ?? new Item();\r\n      const gun356Kai3 = items.find((v) => v.data.id === 502) ?? new Item();\r\n      cutInPreset.push({ id: 46, items: [gun356Kai4.data.id ? gun356Kai4 : gun356Kai3, antiAirRadar, specialMachineGun] });\r\n    }\r\n\r\n    if (cutInPreset.length < 2) {\r\n      // 汎用\r\n      // 2本目の高角砲探索(1本目の高角砲を間引く)\r\n      const specialGun = Optimizer.getBestAAItem(ship, items, { iconTypeId: 16, isSpecial: true });\r\n      const gun1Index = items.findIndex((v) => v.data.id === specialGun.data.id && v.remodel === specialGun.remodel);\r\n      const specialGun2 = Optimizer.getBestAAItem(ship, isStockMode ? items.filter((v, i) => i !== gun1Index) : items, { iconTypeId: 16, isSpecial: true });\r\n      cutInPreset.push({ id: 5, items: [specialGun, specialGun2, antiAirRadar] });\r\n      const kosha = Optimizer.getBestAAItem(ship, items, { apiTypeId: 36 });\r\n      cutInPreset.push({ id: 7, items: [gun, antiAirRadar, kosha] });\r\n      cutInPreset.push({ id: 8, items: [specialGun, antiAirRadar] });\r\n      cutInPreset.push({ id: 9, items: [gun, kosha] });\r\n      const machineGun = Optimizer.getBestAAItem(ship, items, { apiTypeId: 21, minAA: 3 });\r\n      cutInPreset.push({ id: 12, items: [specialMachineGun, antiAirRadar, machineGun] });\r\n      cutInPreset.push({ id: 13, items: [specialGun, antiAirRadar, specialMachineGun] });\r\n    }\r\n\r\n    return cutInPreset.filter((x) => x.items.some((y) => y.data.id));\r\n  }\r\n\r\n  /**\r\n   * 条件に一致する装備可能な最高対空の装備を取得\r\n   * @private\r\n   * @static\r\n   * @param {Ship} ship\r\n   * @param {Item[]} allItems\r\n   * @param {SearchCond} cond\r\n   * @return {*}  {Item}\r\n   * @memberof Optimizer\r\n   */\r\n  private static getBestAAItem(ship: Ship, allItems: Item[], cond: SearchCond): Item {\r\n    // 種別で制限取得\r\n    const items = allItems.filter((v) => {\r\n      let value = true;\r\n      if (cond.apiTypeId) value &&= v.data.apiTypeId === cond.apiTypeId;\r\n      if (cond.iconTypeId) value &&= v.data.iconTypeId === cond.iconTypeId;\r\n      if (cond.minAA) value &&= v.data.antiAir >= cond.minAA;\r\n      if (cond.maxAA) value &&= v.data.antiAir <= cond.maxAA;\r\n      if (cond.isSpecial) value &&= v.data.isSpecial;\r\n      return value;\r\n    });\r\n\r\n    // このうち最も対空ボーナス合わせて性能が高いやつを取得\r\n    let maxAntiAirBonus = 0;\r\n    let maxAntiAirWeight = 0;\r\n    let subMaxScore = 0;\r\n    let returnItem = new Item();\r\n    for (let i = 0; i < items.length; i += 1) {\r\n      const item = items[i];\r\n      const bonuses = Ship.getItemBonus(ship.data, [item]);\r\n      // サブ性能 対空性能が同じだった場合はこっちで比較する用の保険\r\n      const sumAABonus = sum(bonuses.map((v) => v.antiAir ?? 0));\r\n      const score1 = item.antiAirBonus + (item.data.iconTypeId === 16 ? 50 : 10) * sumAABonus;\r\n      const score2 = item.antiAirWeight + sumAABonus;\r\n      const subScore = item.dayBattleFirePower + sum(bonuses.map((v) => v.firePower ?? 0));\r\n      let decideFlag = false;\r\n\r\n      if (score1 > maxAntiAirBonus) {\r\n        // 艦隊防空ボーナスが高いなら\r\n        decideFlag = true;\r\n      } else if (score1 === maxAntiAirBonus && score2 > maxAntiAirWeight) {\r\n        // 艦隊防空ボーナスは同じだけど加重対空が高いなら\r\n        decideFlag = true;\r\n      } else if (score1 === maxAntiAirBonus && score2 === maxAntiAirWeight && subScore > subMaxScore) {\r\n        // 艦隊防空ボーナスも加重対空も同じなら火力\r\n        decideFlag = true;\r\n      }\r\n\r\n      if (decideFlag) {\r\n        maxAntiAirBonus = score1;\r\n        maxAntiAirWeight = score2;\r\n        subMaxScore = subScore;\r\n        returnItem = item;\r\n      }\r\n    }\r\n\r\n    return returnItem;\r\n  }\r\n\r\n  /**\r\n   * 戦闘機を最適化した新しい艦隊データを返却\r\n   * @static\r\n   * @memberof Fleet\r\n   */\r\n  public static getOptimizedFighterFleet(ships: Ship[]): Ship[] {\r\n    // 戦闘機を抽出\r\n    const allFighterSlots: { shipIndex: number, slotIndex: number, slot: number }[] = [];\r\n    const allFighters: Item[] = [];\r\n    const allSPFighterSlots: { shipIndex: number, slotIndex: number, slot: number }[] = [];\r\n    const allSPFighters: Item[] = [];\r\n\r\n    for (let i = 0; i < ships.length; i += 1) {\r\n      const ship = ships[i];\r\n      if (ship.isEmpty || !ship.isActive) {\r\n        continue;\r\n      }\r\n      for (let j = 0; j < ship.items.length; j += 1) {\r\n        const item = ship.items[j];\r\n        if (item.data.isFighter) {\r\n          if (item.data.apiTypeId === 6) {\r\n            // 艦戦\r\n            allFighterSlots.push({ shipIndex: i, slotIndex: j, slot: item.fullSlot });\r\n            allFighters.push(item);\r\n          } else if (item.data.apiTypeId === 45) {\r\n            // 水戦\r\n            allSPFighterSlots.push({ shipIndex: i, slotIndex: j, slot: item.fullSlot });\r\n            allSPFighters.push(item);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // 搭載数の多い順にソート\r\n    allFighterSlots.sort((a, b) => b.slot - a.slot);\r\n    allSPFighterSlots.sort((a, b) => b.slot - a.slot);\r\n    // 対空の高い順にソート\r\n    allFighters.sort((a, b) => b.actualAntiAir - a.actualAntiAir);\r\n    allSPFighters.sort((a, b) => b.actualAntiAir - a.actualAntiAir);\r\n\r\n    // 艦戦 出撃対空順に、最大のスロットに埋めていく\r\n    for (let i = 0; i < allFighters.length; i += 1) {\r\n      const { shipIndex, slotIndex, slot } = allFighterSlots[i];\r\n      ships[shipIndex].items[slotIndex] = new Item({ item: allFighters[i], slot });\r\n    }\r\n    // 水戦 出撃対空順に、最大のスロットに埋めていく\r\n    for (let i = 0; i < allSPFighterSlots.length; i += 1) {\r\n      const { shipIndex, slotIndex, slot } = allSPFighterSlots[i];\r\n      ships[shipIndex].items[slotIndex] = new Item({ item: allSPFighters[i], slot });\r\n    }\r\n\r\n    // 装備群を再装備させる形で最インスタンス化\r\n    const resultShips = [];\r\n    for (let i = 0; i < ships.length; i += 1) {\r\n      const ship = ships[i];\r\n      resultShips.push(new Ship({ ship, items: ship.items }));\r\n    }\r\n\r\n    return resultShips;\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-2 detail-card\"},[_c('div',{staticClass:\"d-flex pb-1\"},[_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦隊詳細\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider',{staticClass:\"mb-1\"}),_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{attrs:{\"href\":\"#fleet\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦隊情報\")))]),_c('v-tab',{attrs:{\"href\":\"#stage2\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.対空砲火\")))]),_c('v-tab',{attrs:{\"href\":\"#contact\"}},[_vm._v(_vm._s(_vm.$t(\"Fleet.触接\")))]),_c('v-tab-item',{staticClass:\"detail-fleet\",attrs:{\"value\":\"fleet\"}},[_c('v-divider'),_c('div',{staticClass:\"ma-1\"},[_c('div',{staticClass:\"d-flex air-power-info flex-wrap\"},[_c('div',{staticClass:\"text--secondary label-text body-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('div',{staticClass:\"value-text mr-3\"},[_vm._v(_vm._s(_vm.fleet.fullAirPower))]),_c('div',[_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.確保\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[0]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"light-green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.優勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[1]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.拮抗\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[2]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"deep-orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.劣勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullBorders[3]))])])],1)]),(_vm.fleet.fullAirPower !== _vm.fleet.fullAirbaseAirPower)?_c('div',{staticClass:\"mt-1 d-flex air-power-info flex-wrap\"},[_c('div',{staticClass:\"text--secondary label-text body-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"value-text mr-3\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseAirPower))]),_c('div',[_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.確保\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[0]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"light-green\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.優勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[1]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.拮抗\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[2]))])]),_c('v-chip',{staticClass:\"mr-1\",attrs:{\"color\":\"deep-orange\",\"label\":\"\",\"outlined\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Common.劣勢\")))]),_c('span',{staticClass:\"chip-value\"},[_vm._v(_vm._s(_vm.fleet.fullAirbaseBorders[3]))])])],1)]):_vm._e()]),_c('v-divider'),_c('div',[_c('div',{staticClass:\"mt-3 mb-5\"},[(_vm.fleet.isUnion)?_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center px-2 primary--text\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.第x艦隊\", { number: 1 })))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空値\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.mainAirPower))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.mainAirbaseAirPower))])]):_vm._e(),_c('div',{staticClass:\"enemy-inputs-container\"},_vm._l((_vm.fleet.mainEnemies),function(enemy,i){return _c('enemy-input',{key:i,attrs:{\"enemy\":enemy,\"handle-show-item-list\":_vm.showItemList}})}),1)]),(_vm.fleet.isUnion)?_c('v-divider'):_vm._e(),(_vm.fleet.isUnion)?_c('div',{staticClass:\"my-3\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center px-2 success--text\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.第x艦隊\", { number: 2 })))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空値\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.escortAirPower))]),_c('div',{staticClass:\"align-self-center body-2 ml-4 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('div',{staticClass:\"align-self-center body-2 ml-1\"},[_vm._v(_vm._s(_vm.fleet.escortAirbaseAirPower))])]),_c('div',{staticClass:\"enemy-inputs-container\"},_vm._l((_vm.fleet.escortEnemies),function(enemy,i){return _c('enemy-input',{key:i,attrs:{\"enemy\":enemy,\"handle-show-item-list\":_vm.showItemList}})}),1)]):_vm._e()],1)],1),_c('v-tab-item',{staticClass:\"detail-fleet\",attrs:{\"value\":\"stage2\"}},[_c('v-divider'),_c('anti-air-calculator',{ref:\"antiAirCalculator\",attrs:{\"fleet\":_vm.fleet}})],1),_c('v-tab-item',{staticClass:\"detail-fleet\",attrs:{\"value\":\"contact\"}},[_c('v-divider'),_c('contact-rates',{ref:\"contactRates\",attrs:{\"fleet\":_vm.fleet}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport AntiAirCalculator from '@/components/result/AntiAirCalculator.vue';\nimport ContactRates from '@/components/result/ContactRates.vue';\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\nimport EnemyInput from './EnemyInput.vue';\n\nexport default Vue.extend({\n  components: {\n    EnemyInput,\n    AntiAirCalculator,\n    ContactRates,\n  },\n  name: 'EnemyDetail',\n  props: {\n    handleShowItemList: {\n      type: Function,\n    },\n    fleet: {\n      type: EnemyFleet,\n      required: true,\n    },\n    handleClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data: () => ({\n    tab: 'stage2',\n  }),\n  mounted() {\n    const contact = this.$refs.contactRates as InstanceType<typeof ContactRates>;\n    if (contact) {\n      contact.calculate();\n    }\n    const antiAirCalculator = this.$refs.antiAirCalculator as InstanceType<typeof AntiAirCalculator>;\n    if (antiAirCalculator) {\n      antiAirCalculator.updateTable();\n    }\n  },\n  methods: {\n    showItemList(enemyIndex: number, slotIndex: number): void {\n      // 敵の装備変更\n      this.handleShowItemList(enemyIndex, slotIndex);\n    },\n    close() {\n      this.handleClose();\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EnemyDetail.vue?vue&type=template&id=21ee3be4&scoped=true&\"\nimport script from \"./EnemyDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./EnemyDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EnemyDetail.vue?vue&type=style&index=0&id=21ee3be4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21ee3be4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VBtn,VCard,VChip,VDivider,VIcon,VSpacer,VTab,VTabItem,VTabs})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"ma-1 pa-2 enemy-preview\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center\"},[_c('v-img',{attrs:{\"src\":(\"./img/ship/\" + (_vm.enemy.data.id) + \".png\"),\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"flex-grow-1\"},[_c('div',{staticClass:\"d-flex caption flex-wrap\"},[_c('div',{staticClass:\"enemy-id ml-2 primary--text\"},[_vm._v(\"id \"+_vm._s(_vm.enemy.data.id))]),_c('div',{staticClass:\"ml-2\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.耐久\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.data.hp))]),_c('span',{staticClass:\"ml-2 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.装甲\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.actualArmor))])])]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"enemy-name ml-2 text-truncate\"},[_vm._v(_vm._s(_vm.getEnemyName(_vm.enemy.data.name)))])])])]),_c('div',{staticClass:\"d-flex caption px-1 flex-wrap\"},[(_vm.enemy.fullAirPower > 0 || !_vm.enemy.fullLBAirPower)?_c('div',[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.fullAirPower))]),_c('span',{staticClass:\"ml-1 mr-2 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetail))])]):_vm._e(),(_vm.enemy.fullLBAirPower && _vm.enemy.fullLBAirPower !== _vm.enemy.fullAirPower)?_c('div',[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.基地制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.fullLBAirPower))]),_c('span',{staticClass:\"ml-1 mr-2 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetailAB))])]):_vm._e()]),_c('div',{staticClass:\"caption px-1\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.装備命中\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.enemy.sumItemAccuracy))]),_c('span',{staticClass:\"ml-3 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.総搭載数\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.sumSlot))])]),_c('v-divider',{staticClass:\"item-input-divider\"}),_c('div',_vm._l((_vm.enemy.items),function(item,j){return _c('div',{key:j,on:{\"mouseenter\":function($event){return _vm.bootTooltip(item, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":j,\"max\":999,\"init\":_vm.enemy.data.slots[j],\"handle-show-item-list\":_vm.showItemList,\"handle-drag-start\":_vm.clearTooltip,\"readonly\":_vm.readonly,\"is-enemy\":true},on:{\"input\":_vm.updateItem},model:{value:(_vm.enemy.items[j]),callback:function ($$v) {_vm.$set(_vm.enemy.items, j, $$v)},expression:\"enemy.items[j]\"}})],1)}),0),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport sum from 'lodash/sum';\nimport ItemInput from '@/components/item/ItemInput.vue';\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\nimport Enemy from '@/classes/enemy/enemy';\nimport Item from '@/classes/item/item';\nimport SiteSetting from '@/classes/siteSetting';\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\n\nexport default Vue.extend({\n  components: { ItemInput, ItemTooltip },\n  name: 'EnemyInput',\n  props: {\n    handleShowItemList: {\n      type: Function,\n    },\n    enemy: {\n      type: Enemy,\n      required: true,\n    },\n    readonly: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data: () => ({\n    enabledTooltip: false,\n    tooltipTimer: undefined as undefined | number,\n    tooltipItem: new Item(),\n    tooltipX: 0,\n    tooltipY: 0,\n  }),\n  computed: {\n    airPowerDetail() {\n      const airPowers = this.enemy.items.map((v) => (v.data.isRecon ? 0 : v.fullAirPower));\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\n    },\n    airPowerDetailAB() {\n      const airPowers = this.enemy.items.map((v) => v.fullAirPower);\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\n    },\n    sumSlot(): number {\n      return sum(this.enemy.items.map((v) => v.fullSlot));\n    },\n  },\n  methods: {\n    getEnemyName(name: string): string {\n      const setting = this.$store.state.siteSetting as SiteSetting;\n      if (name && this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate) {\n        const shipName = EnemyMaster.getSuffix(name);\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\n        return shipName.map((v) => trans(v)).join('');\n      }\n      return name || '';\n    },\n    showItemList(index: number): void {\n      if (!this.readonly) {\n        this.handleShowItemList(index);\n      }\n    },\n    updateItem() {\n      if (!this.readonly) {\n        this.$emit('input', this.enemy);\n      }\n    },\n    bootTooltip(item: Item, e: MouseEvent) {\n      const setting = this.$store.state.siteSetting as SiteSetting;\n      if (!item.data.id || setting.disabledItemTooltip) {\n        return;\n      }\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('item-name')[0] as HTMLDivElement;\n      window.clearTimeout(this.tooltipTimer);\n      this.tooltipTimer = window.setTimeout(() => {\n        const rect = nameDiv.getBoundingClientRect();\n        this.tooltipX = rect.x + rect.width / 3;\n        this.tooltipY = rect.y + rect.height;\n        this.tooltipItem = item;\n        this.enabledTooltip = true;\n      }, Math.max(setting.popUpCount, 10));\n    },\n    clearTooltip() {\n      this.enabledTooltip = false;\n      window.clearTimeout(this.tooltipTimer);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EnemyInput.vue?vue&type=template&id=05c69e76&scoped=true&\"\nimport script from \"./EnemyInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./EnemyInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EnemyInput.vue?vue&type=style&index=0&id=05c69e76&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05c69e76\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VCard,VDivider,VImg,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',[_c('div',{staticClass:\"d-flex pt-2 pb-1 pr-2\"},[_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(_vm.$t(\"Enemies.敵艦選択\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"d-flex px-2 pt-2\"},[_c('div',{staticClass:\"align-self-center\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('ItemList.図鑑id 名称検索'),\"clearable\":\"\",\"prepend-inner-icon\":\"mdi-magnify\"},on:{\"input\":function($event){return _vm.filter()}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('div',{staticClass:\"ml-5 align-self-center\"},[_c('v-checkbox',{attrs:{\"label\":_vm.$t('Enemies.地上施設')},on:{\"change\":function($event){return _vm.filter()}},model:{value:(_vm.isLandBase),callback:function ($$v) {_vm.isLandBase=$$v},expression:\"isLandBase\"}})],1),_c('v-spacer')],1),_c('div',{staticClass:\"d-flex flex-wrap mx-3\"},_vm._l((_vm.types),function(i,index){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:index,staticClass:\"type-selector\",class:{ active: index === _vm.type, disabled: _vm.keyword || _vm.isLandBase },on:{\"click\":function($event){return _vm.changeType(index)},\"keypress\":function($event){return _vm.changeType(index)}}},[_vm._v(\" \"+_vm._s(_vm.isNotJapanese ? _vm.$t((\"SType.\" + (i.text))) : i.text)+\" \")])}),0),_c('v-divider',{staticClass:\"mx-3\"}),_c('div',{staticClass:\"enemy-table-container pa-3\"},_vm._l((_vm.enemies),function(row,i){return _c('div',{key:(\"type\" + i)},[_c('div',{staticClass:\"type-divider\"},[_c('div',{staticClass:\"caption text--secondary\"},[_vm._v(_vm._s(_vm.needTrans ? _vm.$t(row.name) : row.name))]),_c('div',{staticClass:\"type-divider-border\"})]),_c('div',{staticClass:\"enemy-table-body\"},_vm._l((row.enemies),function(enemy,j){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:j,staticClass:\"enemy-list\",on:{\"click\":function($event){return _vm.clickedEnemy(enemy)},\"keypress\":function($event){return _vm.clickedEnemy(enemy)},\"mouseenter\":function($event){return _vm.bootTooltip(enemy, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(enemy, $event)},\"blur\":_vm.clearTooltip}},[_c('div',[_c('v-img',{attrs:{\"src\":(\"./img/ship/\" + (enemy.id) + \".png\"),\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"flex-grow-1 ml-1\"},[_c('div',{staticClass:\"d-flex align-center enemy-caption\"},[_c('div',{staticClass:\"enemy-id primary--text text-no-wrap\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.id))])]),_c('div',{staticClass:\"ml-1 text-no-wrap\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.耐久\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.hp))])]),_c('div',{staticClass:\"ml-1 text-no-wrap\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.装甲\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(enemy.armor))])])]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"enemy-name text-truncate\",class:{ 'orange--text text--darken-2': enemy.isUnknown }},[_vm._v(\" \"+_vm._s(_vm.getEnemyName(enemy.name))+\" \")])])])])}),0)])}),0)],1),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('enemy-tooltip',{model:{value:(_vm.tooltipEnemy),callback:function ($$v) {_vm.tooltipEnemy=$$v},expression:\"tooltipEnemy\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport EnemyTooltip from '@/components/enemy/EnemyTooltip.vue';\r\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\r\nimport Const from '@/classes/const';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport SiteSetting from '@/classes/siteSetting';\r\n\r\nexport default Vue.extend({\r\n  name: 'EnemyList',\r\n  components: {\r\n    EnemyTooltip,\r\n  },\r\n  props: {\r\n    handleDecideEnemy: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    all: [] as EnemyMaster[],\r\n    enemies: [] as { name: string; enemies: EnemyMaster[] }[],\r\n    types: [] as { text: string; types: number[] }[],\r\n    type: 0,\r\n    isLandBase: false,\r\n    keyword: '',\r\n    enabledTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipEnemy: new Enemy(),\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n  }),\r\n  mounted() {\r\n    const existTypes: number[] = [];\r\n    const enemies = this.$store.state.defaultEnemies as EnemyMaster[];\r\n    for (let i = 0; i < enemies.length; i += 1) {\r\n      const enemy = enemies[i];\r\n      this.all.push(enemy);\r\n      if (!existTypes.includes(enemy.type)) {\r\n        existTypes.push(enemy.type);\r\n      }\r\n    }\r\n    for (let i = 0; i < Const.SHIP_TYPES_ALT.length; i += 1) {\r\n      const data = Const.SHIP_TYPES_ALT[i];\r\n      if (data.types.some((v) => existTypes.includes(v))) {\r\n        this.types.push({ text: data.text, types: data.types });\r\n      }\r\n    }\r\n    this.filter();\r\n  },\r\n  computed: {\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n  },\r\n  methods: {\r\n    getEnemyName(name: string): string {\r\n      if (name && this.needTrans) {\r\n        const shipName = EnemyMaster.getSuffix(name);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return name || '';\r\n    },\r\n    changeType(index = 0) {\r\n      this.type = index;\r\n      this.filter();\r\n    },\r\n    filter() {\r\n      const word = this.keyword;\r\n      let result = this.all.concat();\r\n      const t = this.types[this.type];\r\n\r\n      // 検索語句あればこれ以外の検索はしない\r\n      if (word) {\r\n        result = result.filter((v) => v.id === +word || v.name.indexOf(word) >= 0);\r\n      } else if (this.isLandBase) {\r\n        // 地上施設ONLY\r\n        result = result.filter((v) => v.isLandBase);\r\n      } else if (t) {\r\n        // カテゴリ検索\r\n        result = result.filter((v) => !v.isLandBase && t.types.includes(v.type));\r\n      }\r\n\r\n      const nameDividers: string[] = [];\r\n      for (let i = 0; i < result.length; i += 1) {\r\n        // てっぺん4文字でだいたい判定できるのでてっぺん4文字を取得\r\n        const divName = result[i].name.substring(0, 4);\r\n        if (!nameDividers.includes(divName)) {\r\n          nameDividers.push(divName);\r\n        }\r\n      }\r\n\r\n      this.enemies = [];\r\n      for (let i = 0; i < nameDividers.length; i += 1) {\r\n        const nameDiv = nameDividers[i];\r\n        const enemies = result.filter((v) => v.name.startsWith(nameDiv));\r\n\r\n        if (enemies.length) {\r\n          const name = EnemyMaster.getSuffix(enemies[0].name)[0];\r\n          this.enemies.push({ name, enemies });\r\n        }\r\n      }\r\n    },\r\n    clickedEnemy(enemy: EnemyMaster) {\r\n      this.clearTooltip();\r\n      this.handleDecideEnemy(enemy);\r\n    },\r\n    close() {\r\n      this.handleClose();\r\n    },\r\n    bootTooltip(enemy: EnemyMaster, e: MouseEvent) {\r\n      if (!enemy.id) {\r\n        return;\r\n      }\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('enemy-id')[0] as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = nameDiv.getBoundingClientRect();\r\n        this.tooltipX = e.clientX;\r\n        this.tooltipY = rect.y + rect.height;\r\n        const manualEnemies = this.$store.state.manualEnemies as EnemyMaster[];\r\n        const manualEnemy = manualEnemies.find((v) => v.id === enemy.id);\r\n        if (manualEnemy) {\r\n          this.tooltipEnemy = Enemy.createEnemyFromMaster(manualEnemy, false, this.$store.state.items);\r\n        } else {\r\n          this.tooltipEnemy = Enemy.createEnemyFromMaster(enemy, false, this.$store.state.items);\r\n        }\r\n        this.enabledTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EnemyList.vue?vue&type=template&id=3dbde513&scoped=true&\"\nimport script from \"./EnemyList.vue?vue&type=script&lang=ts&\"\nexport * from \"./EnemyList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EnemyList.vue?vue&type=style&index=0&id=3dbde513&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dbde513\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCheckbox,VDivider,VIcon,VImg,VSpacer,VTextField,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-1\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"ml-1\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"tooltip-item-text id\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.id))])]),_c('div',{staticClass:\"ml-2 tooltip-item-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.耐久\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.hp))])]),_c('div',{staticClass:\"ml-2 tooltip-item-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.装甲\"))+\" \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.value.data.armor)+\" (\"+_vm._s(_vm.armor)+\")\")])])]),_c('div',{staticClass:\"d-flex my-1\"},[_c('div',[_vm._v(_vm._s(_vm.getEnemyName(_vm.value.data.name)))]),_c('v-spacer'),(_vm.value.antiAirCutIn.length)?_c('div',{staticClass:\"ml-3 anti-air-cutin\"},[_vm._v(\"対空CI発動可能\")]):_vm._e()],1)])]),_c('div',_vm._l((_vm.value.items),function(item,i){return _c('div',{key:i},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center item-slot\",class:{ 'orange--text text--darken-2': _vm.value.data.isUnknown }},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(item.fullSlot))]),_vm._v(_vm._s(_vm.value.data.isUnknown ? \"?\" : \"\")+\" \")]),_c('div',[_c('v-img',{attrs:{\"src\":(\"./img/type/icon\" + (item.data.iconTypeId) + \".png\"),\"height\":\"30\",\"width\":\"30\"}})],1),_c('div',{staticClass:\"ml-1 align-self-center tooltip-item-text id\"},[_vm._v(\" id \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(item.data.id))])]),_c('div',{staticClass:\"ml-1 align-self-center item-name\"},[_vm._v(_vm._s(_vm.needTrans ? _vm.$t((\"\" + (item.data.name))) : item.data.name))])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport Enemy from '@/classes/enemy/enemy';\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\nimport SiteSetting from '@/classes/siteSetting';\n\nexport default Vue.extend({\n  name: 'EnemyTooltip',\n  props: {\n    value: {\n      type: Enemy,\n      required: true,\n    },\n  },\n  computed: {\n    armor(): number {\n      let sum = 0;\n      for (let i = 0; i < this.value.items.length; i += 1) {\n        sum += this.value.items[i].data.armor;\n      }\n\n      return this.value.data.armor + sum;\n    },\n    needTrans(): boolean {\n      const setting = this.$store.state.siteSetting as SiteSetting;\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\n    },\n  },\n  methods: {\n    getEnemyName(name: string): string {\n      if (name && this.needTrans) {\n        const shipName = EnemyMaster.getSuffix(name);\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\n        return shipName.map((v) => trans(v)).join('');\n      }\n      return name || '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyTooltip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnemyTooltip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EnemyTooltip.vue?vue&type=template&id=0c60d440&scoped=true&\"\nimport script from \"./EnemyTooltip.vue?vue&type=script&lang=ts&\"\nexport * from \"./EnemyTooltip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EnemyTooltip.vue?vue&type=style&index=0&id=0c60d440&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c60d440\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VImg,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"ma-1 ship-input\",class:{ disabled: !_vm.ship.isActive, 'py-1': !_vm.ship.isEmpty },on:{\"mousedown\":_vm.setDraggable,\"mouseup\":_vm.resetDraggable,\"dragstart\":function($event){return _vm.dragStart($event)},\"dragend\":function($event){return _vm.dragEnd($event)},\"dragenter\":function($event){return _vm.dragEnter($event)},\"dragleave\":function($event){return _vm.dragLeave($event)},\"drop\":function($event){$event.stopPropagation();return _vm.dropShip($event)},\"dragover\":function($event){$event.preventDefault();}}},[(_vm.ship.isEmpty)?[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"empty-ship d-flex\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList.apply(null, arguments)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.showShipList.apply(null, arguments)}}},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(_vm.shipName))]),(_vm.handleShowTempShipList)?_c('div',{staticClass:\"empty-temp-list\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"orange lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showTempShip()}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-clipboard-arrow-down\")])],1)]}}],null,false,3999962373)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘クリップボード\")))])])],1):_vm._e()])]:[_c('div',{staticClass:\"d-flex px-2\"},[(!_vm.isNoShip)?_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"align-self-center ship-img-container\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList.apply(null, arguments)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.showShipList.apply(null, arguments)}}},[_c('div',{staticClass:\"ship-img\",on:{\"mouseenter\":function($event){return _vm.bootShipTooltip($event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootShipTooltip($event)},\"blur\":_vm.clearTooltip}},[_c('v-img',{attrs:{\"src\":(\"./img/ship/\" + (_vm.ship.data.id) + \".png\"),\"height\":\"30\",\"width\":\"120\"}})],1),(_vm.ship.area > 0 && _vm.ship.area <= _vm.maxAreas)?_c('div',{staticClass:\"area-banner\"},[_c('v-img',{attrs:{\"src\":(\"./img/tags/area\" + (_vm.ship.area) + \".webp\"),\"height\":\"40\",\"width\":\"29\"}})],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"flex-grow-1\"},[_c('div',{staticClass:\"caption\"},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"slide-y-transition\",\"max-width\":\"360\",\"min-width\":\"360\",\"bottom\":\"\",\"right\":\"\"},on:{\"input\":_vm.onEditStatusMenuToggle},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"pr-2 clickable-status d-flex flex-wrap\"},'div',attrs,false),on),[_c('div',{staticClass:\"pl-1 pr-1 primary--text\"},[_vm._v(\" Lv\"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.ship.level))])]),_c('div',{staticClass:\"pl-1 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.運\")))]),_c('div',{staticClass:\"pl-1 pr-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.luck))]),_c('div',{staticClass:\"pl-1 text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.対空\")))]),_c('div',{staticClass:\"pl-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.antiAir))])])]}}]),model:{value:(_vm.editStatusMenu),callback:function ($$v) {_vm.editStatusMenu=$$v},expression:\"editStatusMenu\"}},[_c('v-card',{staticClass:\"px-5 pt-5 pb-3\"},[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 1}}},[_vm._v(\"Lv1\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 50}}},[_vm._v(\"Lv50\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 80}}},[_vm._v(\"Lv80\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"teal\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = 99}}},[_vm._v(\"Lv99\")]),_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"red lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();_vm.level = _vm.maxLevel}}},[_vm._v(\"Lv\"+_vm._s(_vm.maxLevel))])],1),_c('div',{staticClass:\"d-flex mt-4 align-center\"},[_c('div',{staticClass:\"edit-status-menu-text\"},[_c('v-text-field',{staticClass:\"pt-0 mt-0\",attrs:{\"label\":\"Lv\",\"max\":_vm.maxLevel,\"min\":\"1\",\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.level),callback:function ($$v) {_vm.level=_vm._n($$v)},expression:\"level\"}})],1),_c('div',{staticClass:\"flex-grow-1\"},[_c('v-slider',{attrs:{\"max\":_vm.maxLevel,\"min\":\"1\",\"hide-details\":\"\"},model:{value:(_vm.level),callback:function ($$v) {_vm.level=$$v},expression:\"level\"}})],1)]),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"edit-status-container\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.耐久'),\"max\":_vm.value.data.maxHp,\"min\":_vm.minHP,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.hp),callback:function ($$v) {_vm.hp=_vm._n($$v)},expression:\"hp\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.対潜'),\"max\":_vm.maxAsw,\"min\":_vm.minAsw,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.asw),callback:function ($$v) {_vm.asw=_vm._n($$v)},expression:\"asw\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.運'),\"max\":_vm.ship.data.maxLuck,\"min\":_vm.ship.data.luck,\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.luck),callback:function ($$v) {_vm.luck=_vm._n($$v)},expression:\"luck\"}}),_c('v-text-field',{attrs:{\"label\":_vm.$t('Common.対空'),\"max\":_vm.ship.data.antiAir,\"min\":\"0\",\"hide-details\":\"\",\"type\":\"number\"},model:{value:(_vm.antiAir),callback:function ($$v) {_vm.antiAir=_vm._n($$v)},expression:\"antiAir\"}})],1),_c('v-divider',{staticClass:\"my-3\"}),_c('div',{staticClass:\"d-flex\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.closeEditStatusMenu()}}},[_vm._v(_vm._s(_vm.$t(\"Common.閉じる\")))])],1)],1)],1)],1),_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"d-flex pl-1 clickable-status\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showShipList.apply(null, arguments)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.showShipList.apply(null, arguments)}}},[_c('div',{staticClass:\"ship-name text-truncate\"},[_vm._v(_vm._s(_vm.shipName))])])]),_c('div',{staticClass:\"ship-remove mt-1\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeShip.apply(null, arguments)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)]),_c('div',{staticClass:\"ship-status-container caption pl-2\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.撃墜\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium mr-2\"},[_vm._v(_vm._s(_vm.rateDownValue)+\"%,\"+_vm._s(_vm.fixDown)+_vm._s(_vm.isNotJapanese ? \"\" : \"機\"))]),(_vm.ship.hunshinRate)?[_c('span',{staticClass:\"text--secondary text-no-wrap\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.噴進\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium mr-2\"},[_vm._v(_vm._s(_vm.ship.hunshinRate.toFixed(1))+\"%\")])]:_vm._e(),_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.射程\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.$t((\"Common.\" + (_vm.rangeText[_vm.ship.displayStatus.range])))))]),(_vm.ship.data.maxAsw || _vm.ship.enabledTSBK)?[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('span',_vm._g(_vm._b({staticClass:\"asw-view\"},'span',attrs,false),on),[_c('span',{staticClass:\"ml-2 text--secondary mr-1\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.先制対潜\")))]),(_vm.ship.enabledTSBK)?_c('span',[(!_vm.isNotJapanese)?[_vm._v(_vm._s(_vm.$t(\"Fleet.可\")))]:[_vm._v(\"✔\")]],2):_c('span',[_vm._v(\"×\")])])]}}],null,false,2584803573)},[_c('table',{staticClass:\"asw-table\"},[_c('tr',[_c('td',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.対潜先制爆雷攻撃\")))]),_c('td',{staticClass:\"text-right pl-2\"},[(_vm.ship.enabledTSBK)?_c('span',{staticClass:\"blue--text text--lighten-2\"},[(!_vm.isNotJapanese)?[_vm._v(\" \"+_vm._s(_vm.$t(\"Fleet.可\"))+\" \")]:[_vm._v(\"✔\")]],2):(!_vm.isNotJapanese)?_c('span',{staticClass:\"red--text text--lighten-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Fleet.不可\"))+\" \")]):_c('span',{staticClass:\"red--text text--lighten-1\"},[_vm._v(\"×\")])])]),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.asw - _vm.ship.improveAsw))])]),(_vm.ship.improveAsw)?_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Common.改修\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.improveAsw))])]):_vm._e(),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.装備\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.itemAsw))])]),(_vm.ship.itemBonusStatus.asw)?_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.装備ボーナス\")))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.itemBonusStatus.asw))])]):_vm._e(),_c('tr',{staticClass:\"border\"},[_c('td',{attrs:{\"colspan\":\"3\"}})]),_c('tr',[_c('td',{staticClass:\"body-2 grey--text text--lighten-2 pb-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"Common.対潜\"))),_c('span',{staticClass:\"ml-2 caption\"},[_vm._v(_vm._s(_vm.$t(\"Common.合計\")))])]),_c('td',{staticClass:\"text-right pb-1\"},[_vm._v(_vm._s(_vm.ship.displayStatus.asw))])]),(!_vm.ship.enabledTSBK && _vm.ship.missingAsw)?_c('tr',[_c('td',{staticClass:\"caption grey--text text--lighten-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.不足対潜値\")))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.missingAsw))])]):_vm._e(),(!_vm.ship.enabledTSBK && _vm.ship.needTSBKLevel)?_c('tr',[_c('td',{staticClass:\"caption grey--text text--lighten-2\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.必要艦娘Lv\")))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.ship.needTSBKLevel))])]):_vm._e()])])]:_vm._e()],2),_c('div',{staticClass:\"d-flex pr-1 pl-2 flex-wrap\"},[_c('div',{staticClass:\"align-self-center caption\"},[_c('span',{staticClass:\"text--secondary\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('span',{staticClass:\"ml-1 font-weight-medium\"},[_vm._v(_vm._s(_vm.ship.fullAirPower))]),_c('span',{staticClass:\"ml-1 text--secondary\"},[_vm._v(_vm._s(_vm.airPowerDetail))])]),_c('div',{staticClass:\"ml-auto ship-buttons\"},[(_vm.enabledConvert)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"blue lighten-1\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleVersion()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-sync\")])],1)]}}],null,false,3381741086)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.コンバート改造\")))])]):_vm._e(),(_vm.handleShowTempShipList)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"orange lighten-2\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showTempShip()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clipboard-arrow-up\")])],1)]}}],null,false,3338777121)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘クリップボード\")))])]):_vm._e(),(_vm.handleShowItemPreset)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"deep-orange lighten-1\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showItemPresets()}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-briefcase-variant\")])],1)]}}],null,false,3852360786)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.装備プリセット展開\")))])]):_vm._e(),(!_vm.hideActiveButton)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"black\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ship.isActive),expression:\"ship.isActive\"}],attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeActive(false)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-eye\")])],1)]}}],null,false,2150192410)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Fleet.計算対象から省く\")))])]):_vm._e(),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ship.isActive && !_vm.hideActiveButton),expression:\"!ship.isActive && !hideActiveButton\"}],attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeActive(true)}}},[_c('v-icon',[_vm._v(\"mdi-eye-off\")])],1),_c('div',{staticClass:\"btn-item-reset\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.resetItems()}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('div',{staticClass:\"close-bar\",class:(\"item-count-\" + (_vm.ship.items.length + 1))})],1)],1)]),_c('v-divider',{staticClass:\"mx-1 item-input-divider\"}),(!_vm.ship.isEmpty)?_c('div',{staticClass:\"px-1\"},[_vm._l((_vm.ship.items),function(item,j){return _c('div',{key:j,on:{\"mouseenter\":function($event){return _vm.bootTooltip(item, j, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(item, j, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":j,\"max\":99,\"drag-slot\":false,\"init\":_vm.ship.data.slots[j],\"handle-show-item-list\":_vm.showItemList,\"item-parent\":_vm.ship,\"handle-drag-start\":_vm.clearTooltip},on:{\"input\":_vm.updateItem},model:{value:(_vm.ship.items[j]),callback:function ($$v) {_vm.$set(_vm.ship.items, j, $$v)},expression:\"ship.items[j]\"}})],1)}),_c('div',{on:{\"mouseenter\":function($event){return _vm.bootTooltip(_vm.ship.exItem, -1, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(_vm.ship.exItem, -1, $event)},\"blur\":_vm.clearTooltip}},[_c('item-input',{attrs:{\"index\":99,\"max\":0,\"init\":0,\"drag-slot\":false,\"handle-show-item-list\":_vm.showItemList,\"item-parent\":_vm.ship,\"handle-drag-start\":_vm.clearTooltip,\"is-released\":_vm.ship.releaseExpand},on:{\"input\":_vm.updateItem},model:{value:(_vm.ship.exItem),callback:function ($$v) {_vm.$set(_vm.ship, \"exItem\", $$v)},expression:\"ship.exItem\"}})],1)],2):_vm._e()],_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{attrs:{\"bonus\":_vm.tooltipBonus},model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledShipTooltip),callback:function ($$v) {_vm.enabledShipTooltip=$$v},expression:\"enabledShipTooltip\"}},[_c('ship-tooltip',{attrs:{\"fleet-ros-corr\":_vm.fleetRosCorr,\"is-flagship\":_vm.index === 0},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport ItemInput from '@/components/item/ItemInput.vue';\r\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\r\nimport ShipTooltip from '@/components/fleet/ShipTooltip.vue';\r\nimport Ship, { ShipBuilder } from '@/classes/fleet/ship';\r\nimport Item from '@/classes/item/item';\r\nimport ShipMaster from '@/classes/fleet/shipMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport { cloneDeep } from 'lodash';\r\nimport ItemBonus from '@/classes/item/ItemBonus';\r\nimport Const from '@/classes/const';\r\n\r\nexport default Vue.extend({\r\n  components: { ItemInput, ItemTooltip, ShipTooltip },\r\n  name: 'ShipInput',\r\n  props: {\r\n    handleShowItemList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleShowShipList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleCloseShip: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleShowTempShipList: {\r\n      type: Function,\r\n    },\r\n    handleShowItemPreset: {\r\n      type: Function,\r\n    },\r\n    value: {\r\n      type: Ship,\r\n      required: true,\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    fixDown: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    rateDown: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    fleetRosCorr: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    isLine2: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    hideActiveButton: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    level: 99,\r\n    luck: 0,\r\n    antiAir: 0,\r\n    asw: 0,\r\n    hp: 1,\r\n    editStatusMenu: false,\r\n    enabledTooltip: false,\r\n    enabledShipTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipItem: new Item(),\r\n    tooltipBonus: '',\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n    rangeText: ['', '短', '中', '長', '超長', '超長+', '極', '極+', '極長', '極長+'],\r\n    maxLevel: Const.MAX_LEVEL,\r\n  }),\r\n  computed: {\r\n    ship(): Ship {\r\n      return this.value;\r\n    },\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return !setting.nameIsNotTranslate;\r\n    },\r\n    shipName() {\r\n      if (this.isNotJapanese) {\r\n        if (!this.value.data.name) {\r\n          return this.$t('Fleet.艦娘選択');\r\n        }\r\n        if (this.needTrans) {\r\n          const shipName = ShipMaster.getSuffix(this.value.data);\r\n          const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n          return shipName.map((v) => trans(v)).join('');\r\n        }\r\n      }\r\n      return this.value.data.name ? this.value.data.name : '艦娘選択';\r\n    },\r\n    airPowerDetail(): string {\r\n      const airPowers = this.ship.items.map((v) => (v.fullAirPower && !v.data.isRecon ? v.fullAirPower : 0));\r\n      return airPowers.filter((v) => v > 0).length ? `( ${airPowers.join(' | ')} )` : '';\r\n    },\r\n    isNoShip(): boolean {\r\n      return this.value.data.id === 0;\r\n    },\r\n    rateDownValue(): number {\r\n      return Math.floor(this.rateDown * 100);\r\n    },\r\n    enabledConvert(): boolean {\r\n      const ships = this.$store.state.ships as ShipMaster[];\r\n      const master = this.value.data;\r\n      if (master.name === '宗谷') {\r\n        return true;\r\n      }\r\n      return this.value.data.isFinal && ships.filter((v) => v.originalId === master.originalId && v.isFinal && v.version > 1).length >= 2;\r\n    },\r\n    maxAreas(): number {\r\n      return this.$store.state.areaCount as number;\r\n    },\r\n    minHP(): number {\r\n      return this.level > 99 ? this.value.data.hp2 : this.value.data.hp;\r\n    },\r\n    minAsw(): number {\r\n      // 未設定(まだわかってない)なら0\r\n      if (!this.value.data.minAsw || !this.value.data.maxAsw) return 0;\r\n      const asw = Ship.getStatusFromLevel(this.level, this.value.data.maxAsw, this.value.data.minAsw);\r\n      return asw;\r\n    },\r\n    maxAsw(): number {\r\n      // 未設定(まだわかってない)なら青天井\r\n      if (!this.value.data.minAsw || !this.value.data.maxAsw) return 200;\r\n      return this.minAsw + 9;\r\n    },\r\n  },\r\n  watch: {\r\n    level(v: number) {\r\n      // 未改修時の対潜値\r\n      const asw = Ship.getStatusFromLevel(v, this.ship.data.maxAsw, this.value.data.minAsw);\r\n      // セットされている対潜改修値を加算\r\n      this.asw = asw + this.value.improveAsw;\r\n      // HP最小値を変更\r\n      this.hp = Math.max(this.hp, v > 99 ? this.value.data.hp2 : this.value.data.hp);\r\n      this.hp = Math.min(this.hp, v <= 99 ? this.value.data.hp : 999);\r\n    },\r\n  },\r\n  methods: {\r\n    updateItem() {\r\n      this.setShip();\r\n    },\r\n    setShip(value?: Ship) {\r\n      this.clearTooltip();\r\n      if (value === undefined) {\r\n        this.$emit('input', new Ship({ ship: this.ship }));\r\n      } else {\r\n        this.$emit('input', value);\r\n      }\r\n    },\r\n    onEditStatusMenuToggle() {\r\n      if (this.editStatusMenu) {\r\n        this.hp = this.ship.hp;\r\n        this.level = this.ship.level;\r\n        this.luck = this.ship.luck;\r\n        this.asw = this.ship.asw;\r\n        this.antiAir = this.ship.antiAir;\r\n      } else {\r\n        // 閉じられる際にステータス反映\r\n        const builder: ShipBuilder = {\r\n          ship: this.ship,\r\n          level: this.level,\r\n          hp: this.hp,\r\n          luck: this.luck,\r\n          antiAir: this.antiAir,\r\n          asw: this.asw,\r\n        };\r\n\r\n        this.setShip(new Ship(builder));\r\n      }\r\n    },\r\n    closeEditStatusMenu() {\r\n      this.editStatusMenu = false;\r\n      this.onEditStatusMenuToggle();\r\n    },\r\n    changeActive(value: boolean) {\r\n      this.setShip(new Ship({ ship: this.ship, isActive: value }));\r\n    },\r\n    resetItems() {\r\n      this.setShip(new Ship({ ship: this.value, items: [], exItem: new Item() }));\r\n    },\r\n    removeShip() {\r\n      this.handleCloseShip(this.index);\r\n    },\r\n    showItemList(slotIndex: number): void {\r\n      this.clearTooltip();\r\n      // 艦娘indexを付与してFleet.vueへスルーパス\r\n      this.handleShowItemList(this.index, slotIndex);\r\n    },\r\n    showShipList(): void {\r\n      // 艦娘indexを付与してFleet.vueへスルーパス\r\n      this.clearTooltip();\r\n      this.handleShowShipList(this.index);\r\n    },\r\n    showTempShip() {\r\n      // 一時保存領域の展開\r\n      this.handleShowTempShipList(this.index);\r\n    },\r\n    showItemPresets() {\r\n      // 装備プリセット画面\r\n      this.handleShowItemPreset(this.index);\r\n    },\r\n    toggleVersion() {\r\n      const ships = this.$store.state.ships as ShipMaster[];\r\n      const master = this.value.data;\r\n      // コンバート候補取得\r\n      let versions = ships.filter((v) => v.originalId === master.originalId && v.isFinal && v.version > 1).sort((a, b) => a.version - b.version);\r\n      if (master.name === '宗谷') {\r\n        versions = ships.filter((v) => v.name === '宗谷');\r\n      }\r\n      // 現在のver\r\n      const index = versions.findIndex((v) => v.id === master.id);\r\n      let newVersion: ShipMaster;\r\n      if (index < versions.length - 1) {\r\n        // 一段階改装を進めたバージョンを設置\r\n        newVersion = versions[index + 1];\r\n      } else {\r\n        // コンバート最初期状態へ\r\n        newVersion = versions[index - index];\r\n      }\r\n\r\n      // 装備検証\r\n      const { items, exItem } = this.value;\r\n      const newItems = [];\r\n      let newExItem: Item;\r\n      for (let i = 0; i < newVersion.slots.length; i += 1) {\r\n        const item = items[i];\r\n        if (item && ShipValidation.isValidItem(newVersion, item.data, i)) {\r\n          newItems.push(new Item({ item, slot: newVersion.slots[i] }));\r\n        } else {\r\n          newItems.push(new Item());\r\n        }\r\n      }\r\n      if (ShipValidation.isValidItem(newVersion, exItem.data)) {\r\n        newExItem = new Item({ item: exItem });\r\n      } else {\r\n        newExItem = new Item();\r\n      }\r\n\r\n      // コンバート時に対潜/耐久改修分を引き継ぐ\r\n      const bonusHP = this.value.hp - (this.value.level > 99 ? this.value.data.hp2 : this.value.data.hp);\r\n      const newHP = (this.value.level > 99 ? newVersion.hp2 : newVersion.hp) + bonusHP;\r\n      const newAsw = Ship.getStatusFromLevel(this.value.level, newVersion.maxAsw, newVersion.minAsw) + this.value.improveAsw;\r\n\r\n      let { luck } = this.value;\r\n      const originalLuck = master.luck;\r\n      const improvementLuck = luck - originalLuck;\r\n      if (!improvementLuck) {\r\n        // 運改修なしなら次改装の運に合わせる\r\n        luck = newVersion.luck;\r\n      } else {\r\n        // ありなら次改装の運に、改修分を加算\r\n        luck = newVersion.luck + improvementLuck;\r\n      }\r\n      this.setShip(\r\n        new Ship({\r\n          master: newVersion,\r\n          level: this.value.level,\r\n          hp: newHP,\r\n          luck,\r\n          asw: newAsw,\r\n          items: newItems,\r\n          exItem: newExItem,\r\n        }),\r\n      );\r\n    },\r\n    setDraggable(e: MouseEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      if (target.closest('.item-input')) {\r\n        // 装備上である場合はキャンセル\r\n        return;\r\n      }\r\n      const parent = target.closest('.ship-input') as HTMLDivElement;\r\n      parent.setAttribute('draggable', 'true');\r\n    },\r\n    resetDraggable(e: MouseEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      const parent = target.closest('.ship-input') as HTMLDivElement;\r\n      parent.setAttribute('draggable', 'false');\r\n    },\r\n    dragStart(e: DragEvent) {\r\n      // 子要素(item)のドラッグイベントが先におこっているならキャンセル\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      if (draggingDiv) {\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      if (this.value.isEmpty || !target || !target.classList || !target.classList.contains('ship-input') || !target.draggable) {\r\n        return;\r\n      }\r\n      target.style.opacity = '0.6';\r\n      target.id = 'dragging-item';\r\n\r\n      // ドラッグ中セーブデータを一時保持\r\n      this.$store.dispatch('setDraggingShipData', this.value);\r\n\r\n      // 一時的に全てのship-inputの子要素マウスイベントを消す\r\n      const shipInputList = document.getElementsByClassName('ship-input');\r\n      for (let i = 0; i < shipInputList.length; i += 1) {\r\n        shipInputList[i].classList.add('dragging');\r\n      }\r\n    },\r\n    dragLeave(e: DragEvent) {\r\n      (e.target as HTMLDivElement).style.boxShadow = '';\r\n    },\r\n    dragEnter(e: DragEvent): void {\r\n      const d = document.getElementById('dragging-item');\r\n      const t = e.target as HTMLDivElement;\r\n      if (!d || !d.classList.contains('ship-input') || !t || !t.classList.contains('ship-input')) {\r\n        return;\r\n      }\r\n      // 受け入れ可能 背景色を青っぽく\r\n      t.style.boxShadow = 'inset 0 0 80px rgba(20, 160, 255, 0.6)';\r\n    },\r\n    dropShip(e: DragEvent) {\r\n      e.preventDefault();\r\n      // 受け渡されたデータ\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      // そもそもドラッグ開始が正常になされているか\r\n      if (!draggingDiv || !draggingDiv.classList.contains('ship-input')) {\r\n        return;\r\n      }\r\n\r\n      // ドロップされる要素\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.boxShadow = '';\r\n      if (target.id) {\r\n        // 自身へのドロップ禁止\r\n        return;\r\n      }\r\n      // 一時退避していたデータをセット\r\n      const moveData = this.$store.state.draggingShipData as Ship;\r\n      // 自身をドラッグ元に受け渡すためセット\r\n      this.$store.dispatch('setDraggingShipData', this.value);\r\n\r\n      // インスタンスにセット\r\n      this.setShip(moveData);\r\n\r\n      draggingDiv.classList.add('move-ok');\r\n    },\r\n    dragEnd(e: DragEvent) {\r\n      // まずは一時的に消していた全てのship-inputの子要素マウスイベントを復活\r\n      const shipInputList = document.getElementsByClassName('ship-input');\r\n      for (let i = 0; i < shipInputList.length; i += 1) {\r\n        shipInputList[i].classList.remove('dragging');\r\n      }\r\n\r\n      const draggingDiv = document.getElementById('dragging-item') as HTMLDivElement;\r\n      if (!draggingDiv || !draggingDiv.draggable || !draggingDiv.classList.contains('ship-input')) {\r\n        // ドラッグ不可だったり、そもそもship-inputじゃなかったら以降受け入れない\r\n\r\n        // Firefox なんかおかしくなるので再チェック\r\n        const target = e.target as HTMLDivElement;\r\n        if (target && target.classList.contains('ship-input')) {\r\n          target.style.opacity = '1';\r\n          target.id = '';\r\n          target.draggable = false;\r\n        }\r\n\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.opacity = '1';\r\n      target.id = '';\r\n      target.draggable = false;\r\n      if (target.classList.contains('move-ok')) {\r\n        target.classList.remove('move-ok');\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      // 受け渡された対象の装備データと交換！\r\n      const moveData = this.$store.state.draggingShipData as Ship;\r\n      if (moveData) {\r\n        // インスタンスにセット\r\n        this.setShip(moveData);\r\n      }\r\n    },\r\n    bootTooltip(item: Item, index: number, e: MouseEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (!item.data.id || setting.disabledItemTooltip) {\r\n        return;\r\n      }\r\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('item-name')[0] as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = nameDiv.getBoundingClientRect();\r\n        this.tooltipX = rect.x + rect.width / 3;\r\n        this.tooltipY = rect.y + rect.height;\r\n        this.tooltipItem = item;\r\n        this.enabledTooltip = true;\r\n\r\n        // この装備がなかった場合のボーナスと比較した分をこの装備のボーナスとする\r\n        const baseItems = this.value.items.concat();\r\n        baseItems.push(this.value.exItem);\r\n        const tempItems = cloneDeep(baseItems);\r\n        tempItems[index < 0 ? tempItems.length - 1 : index] = new Item();\r\n\r\n        const emptyBonus = Ship.getItemBonus(this.value.data, tempItems);\r\n        // 未装備時のボーナス合計\r\n        const totalEmptyBonus = ItemBonus.getTotalBonus(emptyBonus);\r\n        // 現在のボーナス\r\n        const totalBonus = ItemBonus.getTotalBonus(this.value.itemBonuses);\r\n        // ボーナスの差分を取る\r\n        if (totalBonus.firePower) {\r\n          totalBonus.firePower -= totalEmptyBonus.firePower ?? 0;\r\n        }\r\n        if (totalBonus.torpedo) {\r\n          totalBonus.torpedo -= totalEmptyBonus.torpedo ?? 0;\r\n        }\r\n        if (totalBonus.antiAir) {\r\n          totalBonus.antiAir -= totalEmptyBonus.antiAir ?? 0;\r\n        }\r\n        if (totalBonus.armor) {\r\n          totalBonus.armor -= totalEmptyBonus.armor ?? 0;\r\n        }\r\n        if (totalBonus.asw) {\r\n          totalBonus.asw -= totalEmptyBonus.asw ?? 0;\r\n        }\r\n        if (totalBonus.avoid) {\r\n          totalBonus.avoid -= totalEmptyBonus.avoid ?? 0;\r\n        }\r\n        if (totalBonus.accuracy) {\r\n          totalBonus.accuracy -= totalEmptyBonus.accuracy ?? 0;\r\n        }\r\n        if (totalBonus.range) {\r\n          totalBonus.range -= totalEmptyBonus.range ?? 0;\r\n        }\r\n        if (totalBonus.bomber) {\r\n          totalBonus.bomber -= totalEmptyBonus.bomber ?? 0;\r\n        }\r\n        if (totalBonus.scout) {\r\n          totalBonus.scout -= totalEmptyBonus.scout ?? 0;\r\n        }\r\n\r\n        this.tooltipBonus = JSON.stringify(totalBonus);\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    bootShipTooltip(e: MouseEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (setting.disabledShipTooltip) {\r\n        return;\r\n      }\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        this.tooltipX = e.clientX;\r\n        this.tooltipY = e.clientY;\r\n        this.enabledShipTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      this.enabledShipTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShipInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShipInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShipInput.vue?vue&type=template&id=850476a0&scoped=true&\"\nimport script from \"./ShipInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShipInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShipInput.vue?vue&type=style&index=0&id=850476a0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"850476a0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VDivider,VIcon,VImg,VMenu,VSlider,VSpacer,VTextField,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart-container\"},[_c('DoughnutChart',{ref:\"doughnutRef\",attrs:{\"chart-data\":_vm.actualData,\"options\":_vm.actualOptions,\"plugins\":_vm.plugins}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport vueCompositionApi from '@vue/composition-api';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { DoughnutChart } from 'vue-chart-3';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nChart.register(ChartDataLabels, ...registerables);\r\n\r\nexport interface LabelCallbackArg {\r\n  parsed: number;\r\n  dataset: { labels: string[] };\r\n  dataIndex: number;\r\n}\r\n\r\nexport interface DoughnutGraphData {\r\n  labels: string[];\r\n  datasets: {\r\n    data: number[];\r\n    backgroundColor: string[];\r\n    borderColor: string;\r\n  }[];\r\n}\r\n\r\nexport interface DoughnutGraphOption {\r\n  plugins: {\r\n    legend: {\r\n      display: boolean;\r\n    };\r\n    title: {\r\n      display: boolean;\r\n      text: string;\r\n      color: string;\r\n    };\r\n    tooltip: {\r\n      callbacks: {\r\n        label: (c: LabelCallbackArg) => string;\r\n      };\r\n    };\r\n    datalabels: {\r\n      color: string;\r\n      formatter: (v: number) => string;\r\n    };\r\n  };\r\n}\r\n\r\nexport default Vue.use(vueCompositionApi).extend({\r\n  components: {\r\n    DoughnutChart,\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    options: {\r\n      type: Object,\r\n    },\r\n    titleText: {\r\n      type: String,\r\n    },\r\n  },\r\n  data: () => ({\r\n    doughnutRef: {},\r\n    plugins: [ChartDataLabels],\r\n  }),\r\n  computed: {\r\n    actualData(): DoughnutGraphData {\r\n      if (this.$vuetify.theme.dark) {\r\n        // ダークテーマにより文字色や線の色を書き換え\r\n        this.data.datasets[0].borderColor = '#222';\r\n      }\r\n\r\n      return this.data;\r\n    },\r\n    actualOptions(): DoughnutGraphOption {\r\n      if (this.$vuetify.theme.dark) {\r\n        // ダークテーマにより文字色や線の色を書き換え\r\n        this.options.plugins.datalabels.color = '#fff';\r\n        this.options.plugins.title.color = '#ccc';\r\n      }\r\n      // タイトル修正\r\n      if (this.titleText) {\r\n        this.options.plugins.title.text = this.titleText;\r\n      }\r\n\r\n      return this.options;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doughnut.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Doughnut.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Doughnut.vue?vue&type=template&id=6bb4af6a&scoped=true&\"\nimport script from \"./Doughnut.vue?vue&type=script&lang=ts&\"\nexport * from \"./Doughnut.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Doughnut.vue?vue&type=style&index=0&id=6bb4af6a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bb4af6a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],class:_vm.itemClass,attrs:{\"draggable\":_vm.isDraggable},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.dragStart(_vm.item, $event)},\"dragenter\":function($event){return _vm.dragEnter($event)},\"dragleave\":function($event){return _vm.dragLeave($event)},\"drop\":function($event){$event.stopPropagation();return _vm.dropItem($event)},\"dragend\":function($event){return _vm.dragEnd($event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"transition\":\"slide-y-transition\",\"bottom\":\"\",\"right\":\"\",\"disabled\":!_vm.item.data.isPlane || _vm.isExpandSlot || _vm.readonly || _vm.draggingNow},on:{\"input\":_vm.onSlotMenuToggle},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"item-slot\"},'div',attrs,false),on),[(!_vm.isExpandSlot)?_c('span',[_vm._v(_vm._s(_vm.item.fullSlot))]):(!_vm.isReleased && _vm.isNoItem)?_c('v-icon',[_vm._v(\"mdi-cancel\")]):_c('v-icon',[_vm._v(\"mdi-wrench\")])],1)]}}]),model:{value:(_vm.slotMenu),callback:function ($$v) {_vm.slotMenu=$$v},expression:\"slotMenu\"}},[_c('v-card',{staticClass:\"px-2\"},[_c('div',{staticClass:\"d-flex px-2\"},[_c('v-text-field',{staticClass:\"slot-input\",attrs:{\"type\":\"number\",\"max\":_vm.max,\"min\":\"0\"},model:{value:(_vm.slotValue),callback:function ($$v) {_vm.slotValue=_vm._n($$v)},expression:\"slotValue\"}}),_c('v-btn',{staticClass:\"ml-2 align-self-center\",attrs:{\"depressed\":\"\"},on:{\"click\":function($event){_vm.slotValue = _vm.init}}},[_vm._v(_vm._s(_vm.$t(\"Common.初期値\")))])],1),_c('v-slider',{attrs:{\"max\":_vm.max,\"min\":\"0\"},model:{value:(_vm.slotValue),callback:function ($$v) {_vm.slotValue=$$v},expression:\"slotValue\"}})],1)],1),_c('div',{staticClass:\"mx-1 item-icon\",class:{ draggable: _vm.isDraggable }},[(_vm.item.data.iconTypeId > 0)?_c('img',{attrs:{\"src\":(\"./img/type/icon\" + (_vm.item.data.iconTypeId) + \".png\"),\"alt\":\"item-icon\"}}):_vm._e()]),_c('div',{staticClass:\"item-name text-truncate\",class:{ 'text--secondary': _vm.isNoItem, 'is-special': _vm.item.data.isSpecial },on:{\"click\":function($event){$event.stopPropagation();return _vm.showItemList()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.showItemList()}}},[_vm._v(\" \"+_vm._s(_vm.itemName)+\" \"),(_vm.bonusText === 'Saury')?_c('div',{staticClass:\"saury-bonus\"},[(_vm.$vuetify.theme.dark)?_c('v-icon',{attrs:{\"color\":\"light-blue lighten-3\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")]):_c('v-icon',{attrs:{\"color\":\"light-blue lighten-2\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")])],1):(_vm.bonusText)?_c('div',{staticClass:\"item-special-text\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(_vm.bonusText))])]):_vm._e()]),(!_vm.isNoItem && (!_vm.readonly || _vm.item.remodel > 0 || _vm.item.level > 0))?[_c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\",\"left\":\"\",\"disabled\":_vm.readonly || _vm.draggingNow || _vm.isEnemy},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"item-remodel\",class:{ 'no-remodel': !_vm.item.data.canRemodel, 'value-0': _vm.item.remodel === 0 }},'div',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.remodelIconColor}},[_vm._v(\"mdi-star\")]),_c('span',{class:_vm.remodelLabelColor},[_vm._v(_vm._s(_vm.item.remodel))])],1)]}}],null,false,3381853348)},[_c('v-card',[_c('div',{staticClass:\"d-flex\"},_vm._l((11),function(i){return _c('div',{key:i,staticClass:\"remodel-list-item\",on:{\"click\":function($event){return _vm.setRemodel(i - 1)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setRemodel(i - 1)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('span',{staticClass:\"teal--text text--accent-4\"},[_vm._v(_vm._s(i - 1))])],1)}),0)])],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"transition\":\"slide-y-transition\",\"left\":\"\",\"disabled\":!_vm.item.data.isPlane || _vm.isExpandSlot || _vm.readonly || _vm.draggingNow || _vm.isEnemy},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"item-level\"},'div',attrs,false),on),[_c('v-img',{attrs:{\"src\":(\"./img/util/prof\" + (_vm.item.levelAlt) + \".png\"),\"height\":\"24\",\"width\":\"18\"}}),_c('span',{staticClass:\"level-value\"},[_vm._v(_vm._s(_vm.item.level))])],1)]}}],null,false,806240560)},[_c('v-card',[_c('div',{staticClass:\"d-flex\"},_vm._l((9),function(i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:i - 1,staticClass:\"level-list-item\",on:{\"click\":function($event){return _vm.setLevel(i - 1)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setLevel(i - 1)}}},[_c('v-img',{attrs:{\"src\":(\"./img/util/prof\" + (i - 1) + \".png\"),\"width\":\"18\",\"height\":\"24\"}}),_c('span',{staticClass:\"level-list-value\"},[_vm._v(_vm._s(_vm.getLevelValue(i - 1)))])],1)}),0)])],1),_c('div',{staticClass:\"ml-1 item-remove align-self-center\"},[_c('v-tooltip',{attrs:{\"top\":\"\",\"color\":\"black\",\"open-delay\":200,\"disabled\":!_vm.deathIndicatorColor},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDraggable),expression:\"isDraggable\"}],attrs:{\"icon\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.removeItem()}}},'v-btn',attrs,false),on),[(hover)?_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-close\")]):(_vm.deathIndicatorColor)?[(_vm.isTriangleIcon)?_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-triangle\")]):_c('v-icon',{attrs:{\"small\":\"\",\"color\":_vm.deathIndicatorColor}},[_vm._v(\"mdi-record\")])]:_vm._e()],2)]}}],null,true)})]}}],null,false,2297147381)},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Result.全滅率\"))+\" \"+_vm._s(_vm.item.deathRate)+\" %\")])])],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Item, { ItemBuilder } from '@/classes/item/item';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport Const from '@/classes/const';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport Airbase from '@/classes/airbase/airbase';\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemInput',\r\n  props: {\r\n    handleShowItemList: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    value: {\r\n      type: Item,\r\n      required: true,\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n    },\r\n    max: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    init: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    dragSlot: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    itemParent: {\r\n      type: Ship,\r\n      default: undefined,\r\n    },\r\n    handleDragStart: {\r\n      type: Function,\r\n    },\r\n    isEnemy: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isReleased: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    slotMenu: false,\r\n    slotValue: 0,\r\n    draggingNow: false,\r\n  }),\r\n  computed: {\r\n    item(): Item {\r\n      return this.value;\r\n    },\r\n    isExpandSlot() {\r\n      return this.index === Const.EXPAND_SLOT_INDEX;\r\n    },\r\n    isNoItem() {\r\n      return this.value.data.id === 0;\r\n    },\r\n    setting(): SiteSetting {\r\n      return this.$store.state.siteSetting as SiteSetting;\r\n    },\r\n    needTrans(): boolean {\r\n      return this.$i18n.locale !== 'ja' && !this.setting.nameIsNotTranslate;\r\n    },\r\n    itemName() {\r\n      if (this.needTrans && this.value.data.name) {\r\n        return this.$t(`${this.value.data.name}`);\r\n      }\r\n      if (this.isExpandSlot && !this.isReleased && this.isNoItem) {\r\n        return this.$t('Fleet.補強増設未開放');\r\n      }\r\n      return this.value.data.name || this.$t('Fleet.未装備');\r\n    },\r\n    isDraggable() {\r\n      return this.value.data.id > 0 && !this.readonly;\r\n    },\r\n    remodelIconColor(): string {\r\n      if (this.item.data.canRemodel) {\r\n        if (this.$vuetify.theme.dark) {\r\n          return this.item.remodel > 0 ? 'teal accent-4' : 'grey';\r\n        }\r\n        return this.item.remodel > 0 ? 'teal accent-4' : 'grey lighten-1';\r\n      }\r\n      return 'red lighten-2';\r\n    },\r\n    remodelLabelColor(): string {\r\n      if (this.item.data.canRemodel) {\r\n        return this.item.remodel > 0 ? 'teal--text text--accent-4' : 'grey--text text-lighten-1';\r\n      }\r\n      return 'red--text text--lighten-2';\r\n    },\r\n    itemClass() {\r\n      const classes = ['item-input', `type-${this.value.data.iconTypeId}`];\r\n      if (this.readonly) {\r\n        classes.push('readonly');\r\n      }\r\n      if (this.isExpandSlot) {\r\n        classes.push('expand');\r\n        if (!this.isReleased) {\r\n          classes.push('disabled-expand');\r\n        }\r\n      }\r\n      if (this.isNoItem) {\r\n        classes.push('no-item');\r\n      }\r\n      if (!this.value.data.isPlane) {\r\n        classes.push('not-plane');\r\n      }\r\n      if (!this.isDraggable) {\r\n        classes.push('disabled-draggable');\r\n      }\r\n      return classes.join(' ');\r\n    },\r\n    bonusText(): string {\r\n      if (!this.value.data.id || !this.value.data.bonuses.length) {\r\n        return '';\r\n      }\r\n      const key = this.setting.displayBonusKey;\r\n      const bonus = this.value.data.bonuses.find((v) => v.key === key);\r\n      return bonus ? bonus.text : '';\r\n    },\r\n    deathIndicatorColor(): string {\r\n      // 全滅率インジケーターのカラー設定 表示有無もこれの返り値で判定\r\n      if (!this.value.data.isPlane || !this.value.deathRate || !this.setting.showDeathRateIndicator) {\r\n        return '';\r\n      }\r\n\r\n      if (this.value.deathRate < 10) {\r\n        return 'amber';\r\n      }\r\n      if (this.value.deathRate < 20) {\r\n        return 'orange darken-3';\r\n      }\r\n      return 'red darken-2';\r\n    },\r\n    isTriangleIcon(): boolean {\r\n      // 全滅率インジケーターを三角表示にするかどうか\r\n      return this.setting.isGraphicModeDeathRateIndicator && this.value.deathRate >= 10;\r\n    },\r\n  },\r\n  methods: {\r\n    setItem(value: Item) {\r\n      this.$emit('input', value);\r\n    },\r\n    onSlotMenuToggle() {\r\n      if (!this.slotMenu) {\r\n        // 搭載数メニューCloseイベント\r\n        const builder: ItemBuilder = { item: this.item, slot: Math.floor(this.slotValue) };\r\n        this.setItem(new Item(builder));\r\n      } else {\r\n        // 搭載数メニューOpenイベント\r\n        this.slotValue = this.item.fullSlot;\r\n      }\r\n    },\r\n    removeItem() {\r\n      this.setItem(new Item());\r\n    },\r\n    setLevel(value: number) {\r\n      const builder: ItemBuilder = { item: this.item, level: Const.PROF_LEVEL_BORDER[value] };\r\n      this.setItem(new Item(builder));\r\n    },\r\n    setRemodel(value: number) {\r\n      const builder: ItemBuilder = { item: this.item, remodel: value };\r\n      this.setItem(new Item(builder));\r\n    },\r\n    getLevelValue(value: number) {\r\n      return Const.PROF_LEVEL_BORDER[value];\r\n    },\r\n    showItemList() {\r\n      this.handleShowItemList(this.index);\r\n    },\r\n    dragStart(item: Item, e: DragEvent) {\r\n      const target = e.target as HTMLDivElement;\r\n      // ドラッグ開始条件 item-inputクラスがなかったりしたらドラッグ開始させない\r\n      if (!this.isDraggable || !target || !target.classList || !target.classList.contains('item-input') || !target.draggable) {\r\n        return;\r\n      }\r\n      const transfer = e.dataTransfer as DataTransfer;\r\n      transfer.setData('text/plain', JSON.stringify(item));\r\n      // ドラッグ元を一意識別するためのclassを追加\r\n      target.id = 'dragging-item';\r\n      target.dataset.itemId = `${this.value.data.id}`;\r\n      target.dataset.apiType = `${this.value.data.apiTypeId}`;\r\n      target.dataset.isPlane = `${this.value.data.isPlane ? 'true' : ''}`;\r\n\r\n      // 一時的に全てのitem inputの子要素マウスイベントを消す\r\n      const itemInputs = document.getElementsByClassName('item-input');\r\n      for (let i = 0; i < itemInputs.length; i += 1) {\r\n        itemInputs[i].classList.add('dragging');\r\n      }\r\n\r\n      this.draggingNow = true;\r\n      this.handleDragStart();\r\n    },\r\n    dragEnter(e: DragEvent): void {\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      const target = e.target as HTMLDivElement;\r\n      if (!draggingDiv || !target || !target.classList || !target.classList.contains('item-input')) {\r\n        return;\r\n      }\r\n      if (target.classList.contains('disabled-drop')) {\r\n        // 判定済み -搭載不可\r\n        target.style.backgroundColor = 'rgba(255, 128, 128, 0.6)';\r\n        return;\r\n      }\r\n      if (target.classList.contains('enabled-drop')) {\r\n        // 判定済み -搭載可\r\n        target.style.backgroundColor = 'rgba(80, 160, 255, 0.6)';\r\n        return;\r\n      }\r\n      // 装備搭載可能チェック\r\n      if (!draggingDiv || !draggingDiv.dataset.itemId || !draggingDiv.dataset.apiType) {\r\n        return;\r\n      }\r\n      const item = new ItemMaster();\r\n      item.id = +draggingDiv.dataset.itemId;\r\n      item.apiTypeId = +draggingDiv.dataset.apiType;\r\n      if (\r\n        (this.itemParent instanceof Ship && !ShipValidation.isValidItem(this.itemParent.data, item, this.index))\r\n        || (this.itemParent instanceof Airbase && !draggingDiv.dataset.isPlane)\r\n      ) {\r\n        // 搭載不可なので背景色を変な色にする\r\n        target.style.backgroundColor = 'rgba(255, 128, 128, 0.6)';\r\n        // 毎回判定していたらダルいので2回目以降判定しないフラグ持たせておく\r\n        target.classList.add('disabled-drop');\r\n      } else {\r\n        // 受け入れ可能 背景色を青っぽく\r\n        target.style.backgroundColor = 'rgba(80, 160, 255, 0.6)';\r\n        // 毎回判定していたらダルいので2回目以降判定しないフラグ持たせておく\r\n        target.classList.add('enabled-drop');\r\n      }\r\n    },\r\n    dragLeave(e: DragEvent) {\r\n      (e.target as HTMLDivElement).style.backgroundColor = '';\r\n    },\r\n    dropItem(e: DragEvent) {\r\n      const draggingDiv = document.getElementById('dragging-item');\r\n      // そもそもドラッグ開始が正常になされているか？\r\n      if (!draggingDiv || !draggingDiv.classList.contains('item-input')) {\r\n        return;\r\n      }\r\n      const target = e.target as HTMLDivElement;\r\n      target.style.backgroundColor = '';\r\n\r\n      if (!target.classList.contains('enabled-drop')) {\r\n        // ここにはドロップ不可なのでやめやめ！\r\n        return;\r\n      }\r\n      // 受け渡されたデータ\r\n      const droppedData = (e.dataTransfer as DataTransfer).getData('text/plain');\r\n      // 元々あったitem情報があれば、ドロップ元のdataに一時保管\r\n      if (!this.isNoItem && !e.ctrlKey && draggingDiv) {\r\n        const prevData = JSON.stringify(this.item);\r\n        draggingDiv.dataset.item = prevData;\r\n      }\r\n      if (!e.ctrlKey && draggingDiv) {\r\n        // ドロップ成功したならドラッグ元を消すつもりでIKEYA！\r\n        draggingDiv.classList.add('delete-flg');\r\n      }\r\n\r\n      // ドロップされたデータで上書きする\r\n      if (droppedData) {\r\n        const builder: ItemBuilder = { item: JSON.parse(droppedData) as Item };\r\n        if (!this.dragSlot) {\r\n          // 搭載数変更しないオプションがついている => 専ら艦娘画面でのドラッグ操作\r\n          if (builder.item && builder.item.data.apiTypeId === 41) {\r\n            // 大型飛行艇で上書きする => 搭載数を1に減少させる\r\n            builder.slot = 1;\r\n          } else if (this.value.data.apiTypeId === 41) {\r\n            // もともと大型飛行艇が入っていた => 搭載数を引き継がず、初期搭載にする\r\n            builder.slot = this.init;\r\n          } else {\r\n            // 元々入っていた装備の搭載数を引き継ぐ\r\n            builder.slot = this.value.fullSlot;\r\n          }\r\n        }\r\n\r\n        if (this.itemParent instanceof Airbase && builder.item) {\r\n          // 基地航空隊の場合 => 既定搭載数より大きかったら戻す\r\n          builder.slot = Math.min(builder.slot ?? builder.item.slot, builder.item.data.airbaseMaxSlot);\r\n        }\r\n        this.setItem(new Item(builder));\r\n      }\r\n    },\r\n    dragEnd() {\r\n      // まずはいままで消していたマウスイベントを復帰させる\r\n      const itemInputs = document.getElementsByClassName('item-input');\r\n      for (let i = 0; i < itemInputs.length; i += 1) {\r\n        itemInputs[i].classList.remove('dragging');\r\n      }\r\n\r\n      // 判定されていた全てのitem-input情報から判定を解除\r\n      const elements1 = document.getElementsByClassName('enabled-drop');\r\n      while (elements1.length > 0) {\r\n        elements1[0].classList.remove('enabled-drop');\r\n      }\r\n      const elements2 = document.getElementsByClassName('disabled-drop');\r\n      while (elements2.length > 0) {\r\n        elements2[0].classList.remove('disabled-drop');\r\n      }\r\n\r\n      const draggingDiv = document.getElementById('dragging-item') as HTMLDivElement;\r\n      if (!draggingDiv || !draggingDiv.draggable) {\r\n        // そもそもドラッグ不可ならなんもせず終わる\r\n        return;\r\n      }\r\n      // ドラッグ元を一意識別するためのidを削除\r\n      draggingDiv.id = '';\r\n      delete draggingDiv.dataset.itemId;\r\n      delete draggingDiv.dataset.apiType;\r\n      delete draggingDiv.dataset.isPlane;\r\n\r\n      const builder: ItemBuilder = {};\r\n      if (!this.dragSlot) {\r\n        // 搭載数変更しないオプションがついているなら搭載数は据え置く\r\n        builder.slot = this.value.fullSlot;\r\n      }\r\n\r\n      // 受け渡された対象の装備データ あれば。\r\n      const itemData = draggingDiv.dataset.item;\r\n      if (itemData) {\r\n        // 交換\r\n        builder.item = JSON.parse(itemData) as Item;\r\n        // 交換前にチェック\r\n        if (this.itemParent instanceof Ship) {\r\n          if (!ShipValidation.isValidItem(this.itemParent.data, builder.item.data, this.index)) {\r\n            // 搭載不可なので外す\r\n            builder.item = undefined;\r\n            this.setItem(new Item(builder));\r\n            delete draggingDiv.dataset.item;\r\n          } else {\r\n            // 日進 & 大型飛行艇調整\r\n            if (builder.item.data.apiTypeId === 41) {\r\n              // 交換として受け渡されてきた装備が大型飛行艇 => 搭載数を1に矯正\r\n              builder.slot = 1;\r\n            } else if (this.value.data.apiTypeId === 41) {\r\n              // 元々ここにあった装備が大型飛行艇 => 搭載数をいったん初期値に矯正\r\n              builder.slot = this.init;\r\n            }\r\n            this.setItem(new Item(builder));\r\n            delete draggingDiv.dataset.item;\r\n          }\r\n        } else if (builder.item && builder.item.data.isPlane) {\r\n          this.setItem(new Item(builder));\r\n          delete draggingDiv.dataset.item;\r\n        } else {\r\n          // 搭載不可なので外す\r\n          builder.item = undefined;\r\n          this.setItem(new Item(builder));\r\n          delete draggingDiv.dataset.item;\r\n        }\r\n      } else if (draggingDiv.classList.contains('delete-flg')) {\r\n        // 外す処理\r\n        draggingDiv.classList.remove('delete-flg');\r\n        this.setItem(new Item(builder));\r\n      } else {\r\n        // 計算を発火\r\n        this.setItem(new Item({ item: this.value }));\r\n      }\r\n\r\n      // drag処理の終了\r\n      this.draggingNow = false;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemInput.vue?vue&type=template&id=2822ff98&scoped=true&\"\nimport script from \"./ItemInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemInput.vue?vue&type=style&index=0&id=2822ff98&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2822ff98\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VHover,VIcon,VImg,VMenu,VSlider,VTextField,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"list-card\"},[_c('div',{staticClass:\"d-flex py-2 pr-2 align-center\"},[_c('div',{staticClass:\"item-search-text ml-5\"},[_c('v-text-field',{attrs:{\"placeholder\":_vm.$t('ItemList.図鑑id 名称検索'),\"clearable\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"prepend-inner-icon\":\"mdi-magnify\"},on:{\"input\":function($event){return _vm.filter()}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('div',{staticClass:\"ml-5 filter-select\"},[_c('v-select',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"items\":_vm.filterStatusItems},on:{\"change\":function($event){return _vm.changedFilter()}},model:{value:(_vm.filterStatus),callback:function ($$v) {_vm.filterStatus=$$v},expression:\"filterStatus\"}})],1),_c('div',{staticClass:\"filter-value-input\"},[_c('v-text-field',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"type\":\"number\",\"max\":\"30\",\"min\":\"0\"},on:{\"input\":function($event){return _vm.changedFilter()}},model:{value:(_vm.filterStatusValue),callback:function ($$v) {_vm.filterStatusValue=$$v},expression:\"filterStatusValue\"}})],1),_c('div',{staticClass:\"align-self-end caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.以上\")))]),_c('div',{staticClass:\"ml-3\"},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.resetFilter()}}},[_vm._v(_vm._s(_vm.$t(\"Common.リセット\")))])],1),_c('v-spacer'),_c('div',{staticClass:\"d-none d-sm-block mr-5\"},[_c('v-btn-toggle',{attrs:{\"dense\":\"\",\"borderless\":\"\",\"mandatory\":\"\"},model:{value:(_vm.multiLine),callback:function ($$v) {_vm.multiLine=$$v},expression:\"multiLine\"}},[_c('v-btn',{class:{ primary: !_vm.multiLine, secondary: _vm.multiLine },attrs:{\"value\":false},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeMultiLine(false)}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-view-headline\")]),_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.一列\")))])],1),_c('v-btn',{class:{ primary: _vm.multiLine, secondary: !_vm.multiLine },attrs:{\"value\":true},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeMultiLine(true)}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-view-comfy\")]),_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.複数列\")))])],1)],1)],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"item-filter-container px-3 py-1\"},[_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.敵装備')},on:{\"change\":function($event){return _vm.filter()}},model:{value:(_vm.isEnemyMode),callback:function ($$v) {_vm.isEnemyMode=$$v},expression:\"isEnemyMode\"}})],1),(!_vm.isAirbaseMode)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-btn',{staticClass:\"manual-checkbox-button\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleAffectingRangeFilter()}}},[(_vm.onlyAffectingRange)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyNotAffectingRange)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',{staticClass:\"manual-icon\"},[_vm._v(\"mdi-minus-box-outline\")])],1),_c('span',{on:{\"click\":function($event){return _vm.toggleAffectingRangeFilter()},\"keypress\":function($event){return _vm.toggleAffectingRangeFilter()}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.射程増加\")))])],1):_vm._e(),(_vm.type === 7 && !_vm.isEnemyMode)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-btn',{staticClass:\"manual-checkbox-button\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleLandBaseAttackFilter()}}},[(_vm.onlyEnabledLandBaseAttack)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-checkbox-marked\")]):(_vm.onlyDisabledLandBaseAttack)?_c('v-icon',{staticClass:\"manual-icon\",attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-close-box\")]):_c('v-icon',{staticClass:\"manual-icon\"},[_vm._v(\"mdi-minus-box-outline\")])],1),_c('span',{on:{\"click\":function($event){return _vm.toggleLandBaseAttackFilter()},\"keypress\":function($event){return _vm.toggleLandBaseAttackFilter()}}},[_vm._v(_vm._s(_vm.$t(\"ItemList.対地攻撃\")))])],1):_vm._e(),(_vm.enabledNightAircraftFilter)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.夜間機')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.onlyNightAircraft),callback:function ($$v) {_vm.onlyNightAircraft=$$v},expression:\"onlyNightAircraft\"}})],1):_vm._e(),(_vm.enabledAAResistFilter)?_c('div',{staticClass:\"d-flex manual-checkbox\"},[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.射撃回避')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.onlyAAResistAircraft),callback:function ($$v) {_vm.onlyAAResistAircraft=$$v},expression:\"onlyAAResistAircraft\"}})],1):_vm._e(),(_vm.type === 14)?[_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.ソナー')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeSonar),callback:function ($$v) {_vm.includeSonar=$$v},expression:\"includeSonar\"}})],1),_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.爆雷')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeDepthCharge),callback:function ($$v) {_vm.includeDepthCharge=$$v},expression:\"includeDepthCharge\"}})],1),_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('EType.爆雷投射機')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.includeDepthChargeLauncher),callback:function ($$v) {_vm.includeDepthChargeLauncher=$$v},expression:\"includeDepthChargeLauncher\"}})],1)]:_vm._e(),(!_vm.isEnemyMode && _vm.setting.displayBonusKey)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.特効装備')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.isSpecialOnly),callback:function ($$v) {_vm.isSpecialOnly=$$v},expression:\"isSpecialOnly\"}})],1):_vm._e(),(_vm.isStockOnly && !_vm.multiLine)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.改修値無効')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.sortExcludeRemodelStatus),callback:function ($$v) {_vm.sortExcludeRemodelStatus=$$v},expression:\"sortExcludeRemodelStatus\"}})],1):_vm._e(),(!_vm.multiLine && !_vm.isAirbaseMode)?_c('div',[_c('v-checkbox',{attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":_vm.$t('ItemList.装備シナジー無効')},on:{\"click\":function($event){return _vm.filter()}},model:{value:(_vm.sortExcludeSynergyStatus),callback:function ($$v) {_vm.sortExcludeSynergyStatus=$$v},expression:\"sortExcludeSynergyStatus\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-auto mt-1 d-flex align-center\"},[(_vm.itemStock.length && !_vm.isEnemyMode)?_c('v-switch',{staticClass:\"mt-0 mr-2\",attrs:{\"label\":_vm.$t('ItemList.所持装備反映'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"click\":_vm.clickedStockOnly},model:{value:(_vm.isStockOnly),callback:function ($$v) {_vm.isStockOnly=$$v},expression:\"isStockOnly\"}}):_vm._e(),_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.showBlacklist()}}},[_c('v-icon',[_vm._v(\"mdi-eye-off\")]),_vm._v(\"(\"+_vm._s(_vm.setting.blacklistItemIds.length)+\")\")],1)],1)],2),_c('div',{staticClass:\"d-flex flex-wrap\",class:{ 'ml-3': _vm.multiLine, 'ml-1': !_vm.multiLine }},[_c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],staticClass:\"type-selector d-flex\",class:{ active: _vm.type === -1, disabled: _vm.keyword },on:{\"click\":function($event){return _vm.changeType(-1)},\"keypress\":function($event){return _vm.changeType(-1)}}},[_c('div',{staticClass:\"type-all-text\"},[_vm._v(\"ALL\")])]),_vm._l((_vm.enabledTypes),function(i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:i.id,staticClass:\"type-selector\",class:{ active: _vm.type === i.id, disabled: _vm.keyword },on:{\"click\":function($event){return _vm.changeType(i.id)},\"keypress\":function($event){return _vm.changeType(i.id)}}},[_c('v-img',{attrs:{\"src\":(\"./img/type/type\" + (_vm.isAirbaseMode && i.id === 17 ? 26 : i.id) + \".png\"),\"height\":\"32\",\"width\":\"32\"}})],1)})],2),_c('v-divider',{class:{ 'mx-3': _vm.multiLine }}),_c('div',{staticClass:\"pb-2\",class:{ 'ml-3': _vm.multiLine },attrs:{\"id\":\"item-table-body\"}},[(!_vm.multiLine && _vm.viewItems.length)?_c('div',{staticClass:\"item-status-header\"},[_c('div',{staticClass:\"pl-1\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.sortDialog = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-sort\")])],1)],1),_c('div',{staticClass:\"item-status text-left flex-grow-1\",class:{ desc: _vm.sortKey === 'name' && _vm.isDesc, asc: _vm.sortKey === 'name' && !_vm.isDesc },on:{\"click\":function($event){return _vm.toggleSortKey('name')},\"keypress\":function($event){return _vm.toggleSortKey('name')}}},[_c('div',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")]),_vm._v(_vm._s(_vm.$t(\"Common.装備名称\")))],1)]),_vm._l((_vm.headerItems),function(data,i){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow(data.key, _vm.viewStatus)),expression:\"isShow(data.key, viewStatus)\"}],key:(\"item\" + i),staticClass:\"item-status\",class:{ desc: _vm.sortKey === data.key && _vm.isDesc, asc: _vm.sortKey === data.key && !_vm.isDesc },on:{\"click\":function($event){return _vm.toggleSortKey(data.key)},\"keypress\":function($event){return _vm.toggleSortKey(data.key)}}},[_c('div',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")]),_vm._v(_vm._s(_vm.$t((\"Common.\" + (data.text)))))],1)])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow('airPower', _vm.viewStatus)),expression:\"isShow('airPower', viewStatus)\"}],staticClass:\"item-status\",class:{ desc: _vm.sortKey === 'airPower' && _vm.isDesc, asc: _vm.sortKey === 'airPower' && !_vm.isDesc },on:{\"click\":function($event){return _vm.toggleSortKey('airPower')},\"keypress\":function($event){return _vm.toggleSortKey('airPower')}}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center ml-auto\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1),_c('div',[_c('div',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.$t(\"Common.制空\")))]),_c('div',[_vm._v(\"(\"+_vm._s(_vm.$t(\"Common.x機\", { number: _vm.slot }))+\")\")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow('defenseAirPower', _vm.viewStatus)),expression:\"isShow('defenseAirPower', viewStatus)\"}],staticClass:\"item-status\",class:{ desc: _vm.sortKey === 'defenseAirPower' && _vm.isDesc, asc: _vm.sortKey === 'defenseAirPower' && !_vm.isDesc },on:{\"click\":function($event){return _vm.toggleSortKey('defenseAirPower')},\"keypress\":function($event){return _vm.toggleSortKey('defenseAirPower')}}},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"align-self-center ml-auto\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.防空制空\")))]),_c('div',[_vm._v(\"(\"+_vm._s(_vm.$t(\"Common.x機\", { number: _vm.slot }))+\")\")])])])])],2):_vm._e(),_vm._l((_vm.itemListData),function(data,i){return _c('div',{key:i},[(_vm.multiLine)?_c('div',{staticClass:\"type-divider\"},[_c('div',{staticClass:\"caption text--secondary\"},[_vm._v(_vm._s(_vm.$t((\"EType.\" + (data.typeName)))))]),_c('div',{staticClass:\"type-divider-border\"})]):_vm._e(),_c('div',{staticClass:\"type-item-container\",class:{ multi: _vm.multiLine }},_vm._l((data.items),function(v,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: v.count ? 'info--text' : 'red--text' }),expression:\"{ class: v.count ? 'info--text' : 'red--text' }\"}],key:i,staticClass:\"list-item\",class:{\n            single: !_vm.multiLine,\n            'no-stock': !v.count,\n            'has-bonus': v.sumBonus,\n            'has-bad-bonus': v.sumBonus < 0,\n            'ignore-bonus': _vm.sortExcludeSynergyStatus,\n          },on:{\"click\":function($event){return _vm.clickedItem(v, $event)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickedItem(v, $event)},\"mouseenter\":function($event){return _vm.bootTooltip(v.item, v.bonus, $event)},\"mouseleave\":_vm.clearTooltip,\"focus\":function($event){return _vm.bootTooltip(v.item, v.bonus, $event)},\"blur\":_vm.clearTooltip}},[_c('div',[_c('v-img',{attrs:{\"src\":(\"./img/type/icon\" + (v.item.data.iconTypeId) + \".png\"),\"height\":\"30\",\"width\":\"30\"}})],1),_c('div',{staticClass:\"item-name text-truncate\",class:{ 'is-special': v.item.data.isSpecial }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t((\"\" + (v.item.data.name))) : v.item.data.name)+\" \")]),(v.text === 'Saury')?_c('div',{staticClass:\"saury-bonus\"},[(_vm.$vuetify.theme.dark)?_c('v-icon',{attrs:{\"color\":\"light-blue lighten-3\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")]):_c('v-icon',{attrs:{\"color\":\"light-blue lighten-2\"}},[_vm._v(\"mdi-fish mdi-rotate-315\")])],1):(v.text)?_c('div',{staticClass:\"item-special-text\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(_vm._s(v.text))])]):_vm._e(),(v.sumBonus)?_c('div',{staticClass:\"bonus-icon\"},[(v.sumBonus < 0)?_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-chevron-double-down\")]):(v.sumBonus <= 2)?_c('v-icon',{staticClass:\"pt-1\",attrs:{\"color\":\"light-blue\"}},[_vm._v(\"mdi-chevron-up\")]):(v.sumBonus <= 5)?_c('v-icon',{attrs:{\"color\":\"light-blue\"}},[_vm._v(\"mdi-chevron-double-up\")]):_c('v-icon',{attrs:{\"color\":\"light-blue\"}},[_vm._v(\"mdi-chevron-triple-up\")])],1):_vm._e(),(_vm.isStockOnly && v.remodel > 0)?_c('div',{staticClass:\"item-remodel caption mr-1\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('span',{staticClass:\"teal--text text--accent-4\"},[_vm._v(_vm._s(v.remodel))])],1):_vm._e(),(_vm.isStockOnly && !_vm.isEnemyMode)?_c('div',{staticClass:\"item-count caption\"},[_c('span',[_vm._v(\"×\")]),_c('span',[_vm._v(_vm._s(v.count))])]):_vm._e(),(!_vm.multiLine)?[(_vm.isShowFire)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualFire)))]):_vm._e(),(_vm.isShowDayBattleFire && _vm.isAircraftMode)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.aircraftDayBattleFirePower)))]):(_vm.isShowDayBattleFire)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.dayBattleFirePower)))]):_vm._e(),(_vm.isShowTorpedo)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualTorpedo)))]):_vm._e(),(_vm.isShowNightBattleFire)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.nightBattleFirePower)))]):_vm._e(),(_vm.isShowBomber)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualBomber)))]):_vm._e(),(_vm.isShowAntiAir)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.data.antiAir ? v.item.data.antiAir : \"\"))]):_vm._e(),(_vm.isShowActAntiAir)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualAntiAir)))]):_vm._e(),(_vm.isShowDefAntiAir)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualDefenseAntiAir)))]):_vm._e(),(_vm.isShowArmor)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.data.armor ? v.item.data.armor : \"\"))]):_vm._e(),(_vm.isShowAsw)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.data.asw)))]):_vm._e(),(_vm.isShowActualAsw)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualAsw)))]):_vm._e(),(_vm.isShowAvoid)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualAvoid)))]):_vm._e(),(_vm.isShowScout)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualScout)))]):_vm._e(),(_vm.isShowAccuracy)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.actualAccuracy)))]):_vm._e(),(_vm.isShowAntiBomber)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.data.antiBomber ? v.item.data.antiBomber : \"\"))]):_vm._e(),(_vm.isShowAntiAirWeight)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.antiAirWeight)))]):_vm._e(),(_vm.isShowAntiAirBonus)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(_vm.formatStatus(v.item.antiAirBonus / 100)))]):_vm._e(),(_vm.isAirbaseMode && _vm.isShowRadius)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.data.radius ? v.item.data.radius : \"\"))]):_vm._e(),(_vm.isShowCost)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.data.cost ? v.item.data.cost : \"\"))]):_vm._e(),(_vm.isShowTP)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.tp ? v.item.tp : \"\"))]):_vm._e(),(_vm.isShowAvoidText)?_c('div',{staticClass:\"item-status\"},[_vm._v(\" \"+_vm._s(_vm.avoidTexts[v.item.data.avoidId] ? _vm.$t((\"Common.回避性能.\" + (_vm.avoidTexts[v.item.data.avoidId]))) : \"\")+\" \")]):_vm._e(),(_vm.isShowAirPower)?_c('div',{staticClass:\"item-status\"},[_vm._v(_vm._s(v.item.fullAirPower ? v.item.fullAirPower : \"\"))]):_vm._e(),(_vm.isShowDefAirPower)?_c('div',{staticClass:\"item-status\"},[_vm._v(\" \"+_vm._s(v.item.defenseAirPower ? v.item.defenseAirPower : \"\")+\" \")]):_vm._e()]:_vm._e()],2)}),0)])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewItems.length === 0),expression:\"viewItems.length === 0\"}],staticClass:\"body-2 text-center mt-10\"},[_vm._v(_vm._s(_vm.$t(\"Common.探したけど見つからなかったよ\"))+\"😢\")])],2),_c('v-tooltip',{attrs:{\"color\":\"black\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-transition\",\"position-x\":_vm.tooltipX,\"position-y\":_vm.tooltipY},model:{value:(_vm.enabledTooltip),callback:function ($$v) {_vm.enabledTooltip=$$v},expression:\"enabledTooltip\"}},[_c('item-tooltip',{attrs:{\"bonus\":_vm.tooltipBonus},model:{value:(_vm.tooltipItem),callback:function ($$v) {_vm.tooltipItem=$$v},expression:\"tooltipItem\"}})],1),_c('v-dialog',{attrs:{\"transition\":\"scroll-x-transition\",\"width\":\"400\"},model:{value:(_vm.confirmDialog),callback:function ($$v) {_vm.confirmDialog=$$v},expression:\"confirmDialog\"}},[_c('v-card',{staticClass:\"pa-3\"},[_c('div',{staticClass:\"ma-4\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.既に配備されています。\")))]),_c('div',{staticClass:\"caption mt-2\"},[_vm._v(\"※ \"+_vm._s(_vm.$t(\"Common.配備を押せば無視して配備できます。\")))])]),_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"d-flex\"},[_c('v-btn',{staticClass:\"ml-auto\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickedItem(_vm.confirmItem, $event)}}},[_vm._v(_vm._s(_vm.$t(\"Common.配備\")))]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.confirmDialog = false}}},[_vm._v(_vm._s(_vm.$t(\"Common.戻る\")))])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"660\"},on:{\"input\":_vm.toggleBlacklistDialog},model:{value:(_vm.blacklistDialog),callback:function ($$v) {_vm.blacklistDialog=$$v},expression:\"blacklistDialog\"}},[_c('blacklist-item-edit',{attrs:{\"handle-close\":_vm.closeBlacklist}})],1),_c('v-dialog',{attrs:{\"width\":\"600\"},model:{value:(_vm.sortDialog),callback:function ($$v) {_vm.sortDialog=$$v},expression:\"sortDialog\"}},[_c('v-card',{staticClass:\"px-3 py-3\"},[_c('div',{staticClass:\"d-flex px-2 align-center\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Common.ソート\")))]),_c('v-btn',{staticClass:\"ml-auto\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.sortDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider',{staticClass:\"mt-2 mb-3\"}),_c('div',{staticClass:\"sort-selector px-2\"},_vm._l((_vm.sortKeyItems),function(item,j){return _c('div',{key:(\"key\" + j),staticClass:\"sort-key\"},[_c('v-btn',{class:{ primary: item.value === _vm.sortKey },attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.selectSortKey(item.value)}}},[_vm._v(\" \"+_vm._s(_vm.$t((\"Common.\" + (item.text))))+\" \")])],1)}),0),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-radio-group',{attrs:{\"row\":\"\",\"hide-detail\":\"\"},on:{\"change\":_vm.handleSortItem},model:{value:(_vm.isDesc),callback:function ($$v) {_vm.isDesc=$$v},expression:\"isDesc\"}},[_c('v-radio',{staticClass:\"mx-10\",attrs:{\"label\":_vm.$t('Common.昇順'),\"value\":false}}),_c('v-radio',{staticClass:\"mx-10\",attrs:{\"label\":_vm.$t('Common.降順'),\"value\":true}})],1)],1),_c('v-divider'),_c('div',{staticClass:\"d-flex mt-3 justify-end\"},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.resetOrdering}},[_vm._v(_vm._s(_vm.$t(\"Common.リセット\")))])],1)],1)],1),(!_vm.isEnemyMode && _vm.isJapanese)?_c('div',{staticClass:\"hint-footer\"},[_c('div',{staticClass:\"caption d-none d-md-block text--secondary\"},[_vm._v(\"Ctrlキー + 装備をクリックでwikiを展開します。\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport ItemTooltip from '@/components/item/ItemTooltip.vue';\r\nimport BlacklistItemEdit from '@/components/item/BlacklistItemEdit.vue';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Airbase from '@/classes/airbase/airbase';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport Const from '@/classes/const';\r\nimport Item from '@/classes/item/item';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ItemStock from '@/classes/item/itemStock';\r\nimport SaveData from '@/classes/saveData/saveData';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\nimport { cloneDeep } from 'lodash';\r\nimport ItemBonus, { ItemBonusStatus } from '@/classes/item/ItemBonus';\r\n\r\ntype sortItem = { [key: string]: number | { [key: string]: number } };\r\ntype viewItem = {\r\n  item: Item;\r\n  count: number;\r\n  remodel: number;\r\n  sumBonus: number;\r\n  bonus: ItemBonusStatus;\r\n  text: string;\r\n  dayBattleFirePower: number;\r\n  aircraftDayBattleFirePower: number;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemList',\r\n  components: { ItemTooltip, BlacklistItemEdit },\r\n  props: {\r\n    handleEquipItem: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleChangeWidth: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    itemParent: undefined as undefined | Ship | Airbase | Enemy,\r\n    slotIndex: -1,\r\n    all: [] as ItemMaster[],\r\n    baseItems: [] as ItemMaster[],\r\n    types: [] as { id: number; text: string; viewStatus: string[]; types: number[]; sortKey: string; isDesc: boolean }[],\r\n    avoids: Const.AVOID_TYPE,\r\n    type: 0,\r\n    multiLine: true,\r\n    keyword: '' as string | undefined,\r\n    isEnemyMode: false,\r\n    isStockOnly: false,\r\n    isEnabledLandBaseAttack: false,\r\n    includeSonar: true,\r\n    includeDepthCharge: true,\r\n    includeDepthChargeLauncher: true,\r\n    onlyEnabledLandBaseAttack: false,\r\n    onlyDisabledLandBaseAttack: false,\r\n    onlyAffectingRange: false,\r\n    onlyNotAffectingRange: false,\r\n    onlyNightAircraft: false,\r\n    onlyAAResistAircraft: false,\r\n    isSpecialOnly: false,\r\n    sortExcludeRemodelStatus: false,\r\n    sortExcludeSynergyStatus: false,\r\n    slot: 0,\r\n    avoidTexts: Const.AVOID_TYPE.map((v) => v.text),\r\n    viewStatus: Const.ITEM_TYPES_ALT[0].viewStatus,\r\n    setting: new SiteSetting(),\r\n    sortKey: '',\r\n    isDesc: false,\r\n    viewItems: [] as viewItem[],\r\n    itemStock: [] as ItemStock[],\r\n    usedItems: [] as Item[],\r\n    confirmDialog: false,\r\n    confirmItem: { item: new Item(), count: 0 },\r\n    headerItems: [\r\n      { text: '火力', key: 'actualFire' },\r\n      { text: '砲戦火力', key: 'dayBattleFirePower' },\r\n      { text: '雷装', key: 'actualTorpedo' },\r\n      { text: '夜戦火力', key: 'nightBattleFirePower' },\r\n      { text: '爆装', key: 'actualBomber' },\r\n      { text: '対空', key: 'antiAir' },\r\n      { text: '出撃対空', key: 'actualAntiAir' },\r\n      { text: '防空対空', key: 'actualDefenseAntiAir' },\r\n      { text: '装甲', key: 'armor' },\r\n      { text: '対潜', key: 'asw' },\r\n      { text: '対潜', key: 'actualAsw' },\r\n      { text: '回避', key: 'actualAvoid' },\r\n      { text: '索敵', key: 'actualScout' },\r\n      { text: '命中', key: 'actualAccuracy' },\r\n      { text: '対爆', key: 'antiBomber' },\r\n      { text: '加重対空', key: 'antiAirWeight' },\r\n      { text: '艦隊防空', key: 'antiAirBonus' },\r\n      { text: '半径', key: 'radius' },\r\n      { text: 'コスト', key: 'cost' },\r\n      { text: 'TP', key: 'tp' },\r\n      { text: '射撃回避', key: 'avoidId' },\r\n      { text: '射程', key: 'range' },\r\n    ],\r\n    enabledTooltip: false,\r\n    tooltipTimer: undefined as undefined | number,\r\n    tooltipItem: new Item(),\r\n    tooltipBonus: '',\r\n    tooltipX: 0,\r\n    tooltipY: 0,\r\n    filterStatus: 'radius',\r\n    filterStatusItems: [] as { text: string; value: string }[],\r\n    filterStatusValue: 0,\r\n    sortKeyItems: [] as { text: string; value: string }[],\r\n    blacklistDialog: false,\r\n    blacklistItems: [] as number[],\r\n    sortDialog: false,\r\n    decidedItem: false,\r\n    wikiDialog: false,\r\n  }),\r\n  mounted() {\r\n    this.types = [];\r\n    for (let i = 0; i < Const.ITEM_TYPES_ALT.length; i += 1) {\r\n      const type = Const.ITEM_TYPES_ALT[i];\r\n      this.types.push({\r\n        id: type.id,\r\n        text: type.text,\r\n        viewStatus: type.viewStatus,\r\n        types: type.types,\r\n        sortKey: '',\r\n        isDesc: false,\r\n      });\r\n    }\r\n\r\n    const items = this.$store.state.items as ItemMaster[];\r\n    for (let i = 0; i < items.length; i += 1) {\r\n      this.all.push(items[i]);\r\n    }\r\n    this.all.sort((a, b) => a.apiTypeId - b.apiTypeId);\r\n    this.avoidTexts[0] = '';\r\n    this.setting = this.$store.state.siteSetting as SiteSetting;\r\n    this.changeMultiLine(this.setting.isMultiLineForItemList);\r\n\r\n    this.sortKeyItems.push({ text: '図鑑ID', value: 'id' });\r\n    for (let i = 0; i < this.headerItems.length; i += 1) {\r\n      const { text, key } = this.headerItems[i];\r\n      if (text === '対潜' && this.filterStatusItems.find((v) => v.text === this.$t('Common.対潜'))) {\r\n        continue;\r\n      }\r\n      this.filterStatusItems.push({ text: `${this.$t(`Common.${text}`)}`, value: key });\r\n      this.sortKeyItems.push({ text, value: key });\r\n    }\r\n  },\r\n  computed: {\r\n    isAirbaseMode(): boolean {\r\n      return this.itemParent instanceof Airbase;\r\n    },\r\n    isAircraftMode(): boolean {\r\n      return this.itemParent instanceof Ship && (this.itemParent.data.isCV || [352, 717].includes(this.itemParent.data.id));\r\n    },\r\n    itemListData(): { typeName: string; items: { item: Item; count: number; text: string }[] }[] {\r\n      const targetItems = this.viewItems;\r\n      if (this.multiLine) {\r\n        const depthChargeLauncher = { id: 1700, name: '爆雷投射機', sortKey: [] };\r\n        // 種別に応じて分けたい\r\n        const types = Const.ITEM_API_TYPE.concat();\r\n        types.splice(22, 0, depthChargeLauncher);\r\n        const resultItems = [];\r\n        for (let i = 0; i < types.length; i += 1) {\r\n          const type = types[i];\r\n          let items = [];\r\n\r\n          // 爆雷関係でちょっと分ける\r\n          if (type.id === 15) {\r\n            items = targetItems.filter((v) => v.item.data.isStrictDepthCharge);\r\n          } else if (type.id === depthChargeLauncher.id) {\r\n            items = targetItems.filter((v) => v.item.data.apiTypeId === 15 && !v.item.data.isStrictDepthCharge);\r\n          } else {\r\n            items = targetItems.filter((v) => v.item.data.apiTypeId === type.id);\r\n          }\r\n          if (items.length) {\r\n            // 存在する種別を生成\r\n            resultItems.push({ typeName: type.name, items });\r\n          }\r\n        }\r\n        return resultItems;\r\n      }\r\n\r\n      // 複数列モードじゃないならなかよし\r\n      return [{ typeName: '', items: targetItems }];\r\n    },\r\n    enabledTypes() {\r\n      const apis = this.baseItems.map((v) => v.apiTypeId);\r\n      const enabledItems = [];\r\n      for (let i = 0; i < this.types.length; i += 1) {\r\n        const d = this.types[i].types;\r\n        if (apis.find((api) => d.includes(api))) {\r\n          enabledItems.push(this.types[i]);\r\n        }\r\n      }\r\n      return enabledItems;\r\n    },\r\n    selectedType(): { id: number; text: string; viewStatus: string[]; types: number[]; sortKey: string; isDesc: boolean } | undefined {\r\n      const selected = this.types.find((v) => v.id === this.type);\r\n      if (selected) {\r\n        return selected;\r\n      }\r\n      return undefined;\r\n    },\r\n    isShow() {\r\n      return (key: string, items: string[]) => items.includes(key);\r\n    },\r\n    isShowFire(): boolean {\r\n      return this.viewStatus.includes('actualFire');\r\n    },\r\n    isShowDayBattleFire(): boolean {\r\n      return this.viewStatus.includes('dayBattleFirePower');\r\n    },\r\n    isShowNightBattleFire(): boolean {\r\n      return this.viewStatus.includes('nightBattleFirePower');\r\n    },\r\n    isShowTorpedo(): boolean {\r\n      return this.viewStatus.includes('actualTorpedo');\r\n    },\r\n    isShowBomber(): boolean {\r\n      return this.viewStatus.includes('actualBomber');\r\n    },\r\n    isShowAntiAir(): boolean {\r\n      return this.viewStatus.includes('antiAir');\r\n    },\r\n    isShowActAntiAir(): boolean {\r\n      return this.viewStatus.includes('actualAntiAir');\r\n    },\r\n    isShowDefAntiAir(): boolean {\r\n      return this.viewStatus.includes('actualDefenseAntiAir');\r\n    },\r\n    isShowArmor(): boolean {\r\n      return this.viewStatus.includes('armor');\r\n    },\r\n    isShowAsw(): boolean {\r\n      return this.viewStatus.includes('asw');\r\n    },\r\n    isShowActualAsw(): boolean {\r\n      return this.viewStatus.includes('actualAsw');\r\n    },\r\n    isShowAvoid(): boolean {\r\n      return this.viewStatus.includes('actualAvoid');\r\n    },\r\n    isShowScout(): boolean {\r\n      return this.viewStatus.includes('actualScout');\r\n    },\r\n    isShowAccuracy(): boolean {\r\n      return this.viewStatus.includes('actualAccuracy');\r\n    },\r\n    isShowAntiBomber(): boolean {\r\n      return this.viewStatus.includes('antiBomber');\r\n    },\r\n    isShowAntiAirWeight(): boolean {\r\n      return this.viewStatus.includes('antiAirWeight');\r\n    },\r\n    isShowAntiAirBonus(): boolean {\r\n      return this.viewStatus.includes('antiAirBonus');\r\n    },\r\n    isShowRadius(): boolean {\r\n      return this.viewStatus.includes('radius');\r\n    },\r\n    isShowCost(): boolean {\r\n      return this.viewStatus.includes('cost');\r\n    },\r\n    isShowTP(): boolean {\r\n      return this.viewStatus.includes('tp');\r\n    },\r\n    isShowAvoidText(): boolean {\r\n      return this.viewStatus.includes('avoidId');\r\n    },\r\n    isShowAirPower(): boolean {\r\n      return this.viewStatus.includes('airPower');\r\n    },\r\n    isShowDefAirPower(): boolean {\r\n      return this.viewStatus.includes('defenseAirPower');\r\n    },\r\n    formatStatus() {\r\n      return (value: number) => (value ? `${Math.floor(10 * value) / 10}` : '');\r\n    },\r\n    isJapanese() {\r\n      return this.$i18n.locale === 'ja';\r\n    },\r\n    needTrans() {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    enabledNightAircraftFilter() {\r\n      return this.type === -1 || this.type === 6 || this.type === 7 || this.type === 8;\r\n    },\r\n    enabledAAResistFilter() {\r\n      return Const.ATTACKERS.includes(this.type) || this.type === -1 || this.type === 1100;\r\n    },\r\n  },\r\n  methods: {\r\n    changeType(type = 0): void {\r\n      this.type = type;\r\n\r\n      if (this.selectedType && this.selectedType.sortKey) {\r\n        // 選択したカテゴリにソート値が保存されていたら呼び出し\r\n        this.isDesc = this.selectedType.isDesc;\r\n        this.sortKey = this.selectedType.sortKey;\r\n      } else {\r\n        this.sortKey = '';\r\n        this.isDesc = false;\r\n      }\r\n      this.filter();\r\n    },\r\n    clickedStockOnly() {\r\n      this.setting.isStockOnlyForItemList = this.isStockOnly;\r\n      this.$store.dispatch('updateSetting', this.setting);\r\n      this.filter();\r\n    },\r\n    resetFilter() {\r\n      this.keyword = '';\r\n      this.filterStatusValue = 0;\r\n      this.changedFilter();\r\n    },\r\n    initialFilter(parent: Ship | Enemy | Airbase, slotIndex = 0, usedItems: Item[] = []) {\r\n      this.decidedItem = false;\r\n      this.itemParent = parent;\r\n      this.slotIndex = slotIndex;\r\n      this.isEnemyMode = false;\r\n\r\n      this.filterStatus = 'radius';\r\n      this.filterStatusValue = 0;\r\n\r\n      // 現行の所持装備情報を更新\r\n      this.itemStock = this.$store.state.itemStock as ItemStock[];\r\n      this.setting = this.$store.state.siteSetting as SiteSetting;\r\n      this.isStockOnly = this.setting.isStockOnlyForItemList;\r\n\r\n      // 一時所持情報データがあるなら\r\n      if (this.$store.getters.getExistsTempStock) {\r\n        this.itemStock = this.$store.state.tempItemStock as ItemStock[];\r\n        this.isStockOnly = true;\r\n      }\r\n\r\n      // 搭載数情報を格納\r\n      const isExpand = slotIndex === Const.EXPAND_SLOT_INDEX;\r\n      if (isExpand) {\r\n        this.slot = 0;\r\n      } else {\r\n        this.slot = parent.items[slotIndex] ? parent.items[slotIndex].fullSlot : 0;\r\n      }\r\n\r\n      this.usedItems = [];\r\n\r\n      // 利用済み装備(直接指定)\r\n      if (usedItems.length) {\r\n        this.usedItems = usedItems;\r\n      } else {\r\n        // 現在の計算画面内で配備されている装備を列挙する\r\n        const mainData = this.$store.state.mainSaveData as SaveData;\r\n        if (mainData) {\r\n          const manager = mainData.tempData[mainData.tempIndex];\r\n          if (manager) {\r\n            let allItems: Item[] = [];\r\n            // 艦隊データから装備全取得\r\n            for (let i = 0; i < manager.fleetInfo.fleets.length; i += 1) {\r\n              const { ships } = manager.fleetInfo.fleets[i];\r\n              for (let j = 0; j < ships.length; j += 1) {\r\n                allItems = allItems.concat(ships[j].items.filter((v) => v.data.id > 0));\r\n                if (ships[j].exItem.data.id > 0) allItems.push(ships[j].exItem);\r\n              }\r\n            }\r\n\r\n            // 基地航空隊データから装備全取得\r\n            const { airbases } = manager.airbaseInfo;\r\n            for (let i = 0; i < airbases.length; i += 1) {\r\n              allItems = allItems.concat(airbases[i].items.filter((v) => v.data.id > 0));\r\n            }\r\n\r\n            this.usedItems = allItems;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 装備可能フィルタ\r\n      let types: number[] = [];\r\n      if (parent instanceof Ship && parent.data.id) {\r\n        // 渡された艦娘情報より装備可能種別を取得\r\n        this.baseItems = this.all.filter((item) => ShipValidation.isValidItem(parent.data, item, slotIndex));\r\n        if (this.enabledTypes.length && this.type !== -1 && !this.enabledTypes.find((v) => v.id === this.type)) {\r\n          // カテゴリがおかしかったら最初のカテゴリにする\r\n          this.type = this.enabledTypes[0].id;\r\n        }\r\n\r\n        const filterData = this.setting.savedItemListFilter.find((v) => v.parent === 'ship');\r\n        if (filterData && filterData.key) {\r\n          this.filterStatus = filterData.key;\r\n        }\r\n        if (filterData && filterData.value) {\r\n          this.filterStatusValue = filterData.value;\r\n        }\r\n\r\n        this.filter();\r\n        return;\r\n      }\r\n      if (parent instanceof Ship) {\r\n        // 空の艦娘 全部盛り\r\n        for (let i = 1; i <= 60; i += 1) {\r\n          if (Const.AB_PLANE_TYPES.includes(i)) {\r\n            continue;\r\n          }\r\n          types.push(i);\r\n        }\r\n      } else if (parent instanceof Airbase) {\r\n        // 基地航空隊 全艦載機装備可能\r\n        types = Const.PLANE_TYPES.concat();\r\n        if (this.type !== -1 && !types.includes(this.type)) {\r\n          // なんか変だったら陸攻を初期位置に\r\n          this.type = 47;\r\n        }\r\n        this.slot = 18;\r\n\r\n        const filterData = this.setting.savedItemListFilter.find((v) => v.parent === 'airbase');\r\n        if (filterData && filterData.key) {\r\n          this.filterStatus = filterData.key;\r\n        }\r\n        if (filterData && filterData.value) {\r\n          this.filterStatusValue = filterData.value;\r\n        }\r\n      } else if (parent instanceof Enemy) {\r\n        // 基本は全装備\r\n        types = Const.ITEM_API_TYPE.map((v) => v.id);\r\n        // 敵装備マスタに存在しない装備カテゴリは抜いておく\r\n        const enemyItems = this.all.filter((v) => v.isEnemyItem);\r\n        types = types.filter((v) => enemyItems.some((x) => x.apiTypeId === v));\r\n\r\n        // 敵装備フラグ強制ON\r\n        this.isEnemyMode = true;\r\n\r\n        // 初手フィルタ\r\n        if (!types.includes(this.type)) {\r\n          this.type = +types[0];\r\n        }\r\n      }\r\n\r\n      if (isExpand) {\r\n        // 補強増設枠フィルタ\r\n        const enabledItems = Const.EXPANDED_ITEM_TYPE;\r\n        types = types.filter((v) => enabledItems.includes(v));\r\n      }\r\n\r\n      this.baseItems = this.all.filter((v) => types.includes(v.apiTypeId));\r\n      this.filter();\r\n    },\r\n    changedFilter() {\r\n      const filterData = { parent: 'ship' as 'ship' | 'airbase', key: this.filterStatus, value: this.filterStatusValue };\r\n      if (this.itemParent instanceof Ship) {\r\n        filterData.parent = 'ship';\r\n      } else if (this.isAirbaseMode) {\r\n        filterData.parent = 'airbase';\r\n      } else {\r\n        this.filter();\r\n        return;\r\n      }\r\n\r\n      if (!this.setting.savedItemListFilter) {\r\n        this.filter();\r\n        return;\r\n      }\r\n\r\n      const index = this.setting.savedItemListFilter.findIndex((v) => v.parent === filterData.parent);\r\n      if (index >= 0) {\r\n        this.setting.savedItemListFilter[index] = filterData;\r\n        this.$store.dispatch('updateSetting', this.setting);\r\n      }\r\n      this.filter();\r\n    },\r\n    toggleAffectingRangeFilter() {\r\n      if (this.onlyAffectingRange) {\r\n        this.onlyAffectingRange = false;\r\n        this.onlyNotAffectingRange = true;\r\n      } else if (this.onlyNotAffectingRange) {\r\n        this.onlyNotAffectingRange = false;\r\n      } else {\r\n        this.onlyAffectingRange = true;\r\n      }\r\n      this.filter();\r\n    },\r\n    toggleLandBaseAttackFilter() {\r\n      if (this.onlyEnabledLandBaseAttack) {\r\n        this.onlyEnabledLandBaseAttack = false;\r\n        this.onlyDisabledLandBaseAttack = true;\r\n      } else if (this.onlyDisabledLandBaseAttack) {\r\n        this.onlyDisabledLandBaseAttack = false;\r\n      } else {\r\n        this.onlyEnabledLandBaseAttack = true;\r\n      }\r\n      this.filter();\r\n    },\r\n    filter() {\r\n      const word = this.keyword ? this.keyword.toUpperCase() : '';\r\n      let result = this.baseItems.concat();\r\n      const bonusKey = this.setting.displayBonusKey;\r\n\r\n      if (this.isEnemyMode) {\r\n        // 敵装備\r\n        result = result.filter((v) => v.isEnemyItem);\r\n      } else {\r\n        result = result.filter((v) => !v.isEnemyItem);\r\n      }\r\n      if (this.type === 7) {\r\n        if (this.onlyEnabledLandBaseAttack) {\r\n          result = result.filter((v) => Const.ENABLED_LAND_BASE_ATTACK.includes(v.id));\r\n        } else if (this.onlyDisabledLandBaseAttack) {\r\n          result = result.filter((v) => !Const.ENABLED_LAND_BASE_ATTACK.includes(v.id));\r\n        }\r\n      }\r\n\r\n      if (this.type === 14) {\r\n        // ソ爆投フィルタ\r\n        if (!this.includeSonar) {\r\n          result = result.filter((v) => v.apiTypeId !== 14);\r\n        }\r\n        if (!this.includeDepthCharge) {\r\n          result = result.filter((v) => v.iconTypeId !== 1700);\r\n        }\r\n        if (!this.includeDepthChargeLauncher) {\r\n          result = result.filter((v) => v.iconTypeId !== 17);\r\n        }\r\n      }\r\n      if (this.enabledNightAircraftFilter && this.onlyNightAircraft) {\r\n        // 夜間機フィルタ\r\n        result = result.filter((v) => v.isNightAircraftItem);\r\n      }\r\n      if (this.enabledAAResistFilter && this.onlyAAResistAircraft) {\r\n        // 射撃回避フィルタ\r\n        result = result.filter((v) => v.avoidId);\r\n      }\r\n      if (this.isSpecialOnly && bonusKey) {\r\n        // 特効フィルタ\r\n        result = result.filter((v) => v.bonuses.find((x) => x.key === bonusKey));\r\n      }\r\n\r\n      // ブラックリスト\r\n      if (this.setting.blacklistItemIds.length) {\r\n        const list = this.setting.blacklistItemIds;\r\n        result = result.filter((v) => !list.includes(v.id));\r\n      }\r\n\r\n      // 検索語句あれば最優先 カテゴリ検索を飛ばす\r\n      if (word) {\r\n        result = result.filter((v) => v.id === +word || v.name.toUpperCase().indexOf(word) >= 0);\r\n      }\r\n\r\n      // カテゴリ検索\r\n      const t = this.types.find((v) => v.id === this.type);\r\n      if (!word && this.type && t) {\r\n        this.viewStatus = t.viewStatus.concat();\r\n\r\n        if (!this.isAirbaseMode) {\r\n          // 基地じゃない場合\r\n          if (this.viewStatus.includes('radius')) {\r\n            // 半径が含まれていたら、砲撃戦火力に置換\r\n            this.viewStatus[this.viewStatus.indexOf('radius')] = 'dayBattleFirePower';\r\n          }\r\n          if (this.viewStatus.includes('cost')) {\r\n            // コストが含まれていたら、回避に置換\r\n            this.viewStatus[this.viewStatus.indexOf('cost')] = 'actualAvoid';\r\n          }\r\n        } else if (this.viewStatus.includes('nightBattleFirePower')) {\r\n          // 基地の場合 夜戦火力が含まれていたら、対空に置換\r\n          this.viewStatus[this.viewStatus.indexOf('nightBattleFirePower')] = 'antiAir';\r\n        }\r\n        result = result.filter((v) => t.types.includes(v.apiTypeId));\r\n      } else if (!word && this.type === -1) {\r\n        // カテゴリ全て検索\r\n        if (this.itemParent instanceof Ship) {\r\n          // 艦娘 -全て\r\n          this.viewStatus = ['dayBattleFirePower', 'antiAir', 'actualAccuracy', 'actualScout', 'nightBattleFirePower', 'actualAsw'];\r\n        } else if (this.isAirbaseMode) {\r\n          // 基地 -全て\r\n          this.viewStatus = ['actualTorpedo', 'actualBomber', 'actualAntiAir', 'radius', 'airPower', 'defenseAirPower'];\r\n        } else {\r\n          this.viewStatus = ['actualFire', 'actualAntiAir', 'actualAccuracy', 'actualScout', 'actualAvoid', 'armor'];\r\n        }\r\n      }\r\n\r\n      let usedItem = this.usedItems.concat();\r\n      const withoutRemodel = this.sortExcludeRemodelStatus && this.isStockOnly;\r\n      const withoutSynergy = this.sortExcludeSynergyStatus;\r\n      const viewItems = [];\r\n      const iniLevels = this.setting.planeInitialLevels;\r\n      const { slot } = this;\r\n      if (!this.isEnemyMode && this.isStockOnly) {\r\n        // 所持装備考慮\r\n        const stock = this.itemStock;\r\n        for (let i = 0; i < result.length; i += 1) {\r\n          const master = result[i];\r\n          const iniLevel = iniLevels.find((v) => v.id === master.apiTypeId);\r\n          const stockData = stock.find((v) => v.id === master.id);\r\n          if (!stockData) {\r\n            // 未所持 出さない\r\n            continue;\r\n          }\r\n\r\n          // 熟練度 設定値より\r\n          const level = iniLevel ? iniLevel.level : 0;\r\n          const bonus = bonusKey ? master.bonuses.find((v) => v.key === bonusKey) : null;\r\n\r\n          // 改修値★10～0 だけ回す\r\n          for (let remodel = 10; remodel >= 0; remodel -= 1) {\r\n            let count = stockData.num[remodel];\r\n            if (!count) continue;\r\n            const item = new Item({\r\n              master,\r\n              slot,\r\n              remodel,\r\n              level,\r\n              ignoreRemodelBonus: withoutRemodel,\r\n            });\r\n\r\n            // id 改修値を見て配備済みかどうか判定\r\n            const usedCount = usedItem.filter((v) => v.data.id === master.id && v.remodel === remodel).length;\r\n            // 減らす\r\n            count -= usedCount;\r\n            usedItem = usedItem.filter((v) => v.data.id !== master.id || v.remodel !== remodel);\r\n            viewItems.push({\r\n              item,\r\n              count: Math.max(count, 0),\r\n              remodel,\r\n              sumBonus: 0,\r\n              bonus: {},\r\n              text: bonus ? bonus.text : '',\r\n              dayBattleFirePower: item.dayBattleFirePower,\r\n              aircraftDayBattleFirePower: item.aircraftDayBattleFirePower,\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        // 所持装備考慮なし 愚直に追加\r\n        for (let i = 0; i < result.length; i += 1) {\r\n          const master = result[i];\r\n          const iniLevel = iniLevels.find((v) => v.id === master.apiTypeId);\r\n          const level = iniLevel ? iniLevel.level : 0;\r\n          const bonus = bonusKey ? master.bonuses.find((v) => v.key === bonusKey) : null;\r\n          const item = new Item({\r\n            master,\r\n            slot,\r\n            level,\r\n          });\r\n          viewItems.push({\r\n            item,\r\n            count: 1,\r\n            sumBonus: 0,\r\n            remodel: 0,\r\n            bonus: {},\r\n            text: bonus ? bonus.text : '',\r\n            dayBattleFirePower: item.dayBattleFirePower,\r\n            aircraftDayBattleFirePower: item.aircraftDayBattleFirePower,\r\n          });\r\n        }\r\n      }\r\n\r\n      this.viewItems = viewItems;\r\n\r\n      // 装備フィットの可視化\r\n      if (this.itemParent instanceof Ship) {\r\n        const baseItems = this.itemParent.items.concat();\r\n        baseItems.push(this.itemParent.exItem);\r\n\r\n        if (this.slotIndex === Const.EXPAND_SLOT_INDEX) {\r\n          this.slotIndex = baseItems.length - 1;\r\n        }\r\n\r\n        // 装備を入れ替えようとしているスロットが未装備だった状態のbonusを取得...(1)\r\n        const tempItems = cloneDeep(baseItems);\r\n        tempItems[this.slotIndex] = new Item();\r\n        const emptyBonus = Ship.getItemBonus(this.itemParent.data, tempItems);\r\n        const totalEmptyBonus = ItemBonus.getTotalBonus(emptyBonus);\r\n\r\n        for (let i = 0; i < viewItems.length; i += 1) {\r\n          const item = viewItems[i];\r\n          const items = cloneDeep(baseItems);\r\n          items[this.slotIndex] = item.item;\r\n          const bonuses = Ship.getItemBonus(this.itemParent.data, items);\r\n          // (1) とのボーナスの個数を比較し、多ければボーナスありとする\r\n          if (bonuses.length > emptyBonus.length) {\r\n            const totalBonus = ItemBonus.getTotalBonus(bonuses);\r\n            // ボーナスの差分を取る\r\n            let sumBonus = 0;\r\n            if (totalBonus.firePower) {\r\n              totalBonus.firePower -= totalEmptyBonus.firePower ?? 0;\r\n              sumBonus += totalBonus.firePower;\r\n            }\r\n            if (totalBonus.torpedo) {\r\n              totalBonus.torpedo -= totalEmptyBonus.torpedo ?? 0;\r\n              sumBonus += totalBonus.torpedo;\r\n            }\r\n            if (totalBonus.antiAir) {\r\n              totalBonus.antiAir -= totalEmptyBonus.antiAir ?? 0;\r\n              sumBonus += totalBonus.antiAir;\r\n            }\r\n            if (totalBonus.armor) {\r\n              totalBonus.armor -= totalEmptyBonus.armor ?? 0;\r\n              sumBonus += totalBonus.armor;\r\n            }\r\n            if (totalBonus.asw) {\r\n              totalBonus.asw -= totalEmptyBonus.asw ?? 0;\r\n              sumBonus += totalBonus.asw;\r\n            }\r\n            if (totalBonus.avoid) {\r\n              totalBonus.avoid -= totalEmptyBonus.avoid ?? 0;\r\n              sumBonus += totalBonus.avoid;\r\n            }\r\n            if (totalBonus.accuracy) {\r\n              totalBonus.accuracy -= totalEmptyBonus.accuracy ?? 0;\r\n              sumBonus += totalBonus.accuracy;\r\n            }\r\n            if (totalBonus.range) {\r\n              totalBonus.range -= totalEmptyBonus.range ?? 0;\r\n              sumBonus += totalBonus.range;\r\n            }\r\n            if (totalBonus.bomber) {\r\n              totalBonus.bomber -= totalEmptyBonus.bomber ?? 0;\r\n              sumBonus += totalBonus.bomber;\r\n            }\r\n            if (totalBonus.scout) {\r\n              totalBonus.scout -= totalEmptyBonus.scout ?? 0;\r\n              sumBonus += totalBonus.scout;\r\n            }\r\n\r\n            item.sumBonus = sumBonus;\r\n            item.bonus = totalBonus;\r\n\r\n            if (!withoutSynergy) {\r\n              // ボーナス(差分のみ)をパラメータに加算 対空はややこしいので指摘されるまではスルー\r\n              item.item.actualFire += totalBonus.firePower ?? 0;\r\n              item.item.actualTorpedo += totalBonus.torpedo ?? 0;\r\n              item.item.actualAsw += totalBonus.asw ?? 0;\r\n              item.item.actualAccuracy += totalBonus.accuracy ?? 0;\r\n              item.item.actualScout += totalBonus.scout ?? 0;\r\n              item.item.actualAvoid += totalBonus.avoid ?? 0;\r\n              item.item.nightBattleFirePower += (totalBonus.firePower ?? 0) + (totalBonus.torpedo ?? 0);\r\n\r\n              // 砲戦火力に加算\r\n              if (item.item.data.isPlane && !item.item.data.isSPPlane) {\r\n                item.dayBattleFirePower += totalBonus.firePower ?? 0;\r\n                item.aircraftDayBattleFirePower += ((totalBonus.firePower ?? 0) + (totalBonus.torpedo ?? 0) + (totalBonus.bomber ?? 0)) * 1.5;\r\n              } else {\r\n                item.dayBattleFirePower += totalBonus.firePower ?? 0;\r\n                item.aircraftDayBattleFirePower += totalBonus.firePower ?? 0;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // 射程変化フィルタ\r\n        const currentRange = this.itemParent.displayStatus.range;\r\n        if (this.onlyAffectingRange) {\r\n          this.viewItems = this.viewItems.filter((v) => v.bonus.range || currentRange < v.item.data.range);\r\n        } else if (this.onlyNotAffectingRange) {\r\n          this.viewItems = this.viewItems.filter((v) => !v.bonus.range && currentRange >= v.item.data.range);\r\n        }\r\n      }\r\n\r\n      const filterValue = this.filterStatusValue ? +this.filterStatusValue : 0;\r\n      if (this.filterStatus && filterValue) {\r\n        let filterKey = this.filterStatus;\r\n        if (withoutRemodel && filterKey.startsWith('actual')) {\r\n          filterKey = filterKey.replace('actual', '');\r\n        }\r\n        const isActualFilterKey = filterKey.indexOf('actual') >= 0\r\n          || filterKey === 'tp'\r\n          || filterKey === 'airPower'\r\n          || filterKey === 'defenseAirPower'\r\n          || filterKey === 'antiAirWeight'\r\n          || filterKey === 'antiAirBonus';\r\n        this.viewItems = (this.viewItems as []).filter((v: { item: sortItem }) => {\r\n          if (isActualFilterKey) {\r\n            return v.item[filterKey] >= filterValue;\r\n          }\r\n          return (v.item.data as { [key: string]: number })[filterKey] >= filterValue;\r\n        });\r\n      }\r\n\r\n      // ソートを行う\r\n      if (this.sortKey) {\r\n        this.sortItems();\r\n      }\r\n    },\r\n    clickedItem(data: viewItem, event: MouseEvent) {\r\n      if (event && event.ctrlKey && data && data.item && !data.item.data.isEnemyItem) {\r\n        let wikiURL = `https://wikiwiki.jp/kancolle/${encodeURI(data.item.data.name.replaceAll('/', '／').replaceAll('+', '＋').replaceAll('&', '＆'))}`;\r\n        if (data.item.data.id === 144) {\r\n          wikiURL = `https://wikiwiki.jp/kancolle/${encodeURI('天山(村田隊)')}`;\r\n        }\r\n        if (data.item.data.id === 303) {\r\n          wikiURL = `https://wikiwiki.jp/kancolle/${encodeURI('Bofors15.2cm連装砲 Model1930')}`;\r\n        }\r\n        window.open(wikiURL);\r\n        return;\r\n      }\r\n\r\n      if (this.decidedItem) {\r\n        return;\r\n      }\r\n      this.clearTooltip();\r\n      if (data.count || this.confirmDialog) {\r\n        this.decidedItem = true;\r\n        this.confirmDialog = false;\r\n        this.handleEquipItem(new Item({ item: data.item, remodel: data.remodel }));\r\n      } else {\r\n        this.confirmItem = data;\r\n        this.confirmDialog = true;\r\n      }\r\n    },\r\n    changeMultiLine(isMulti: boolean) {\r\n      this.handleChangeWidth(isMulti ? 1200 : 900);\r\n      this.multiLine = isMulti;\r\n\r\n      // 設定書き換え\r\n      this.setting.isMultiLineForItemList = isMulti;\r\n      this.$store.dispatch('updateSetting', this.setting);\r\n    },\r\n    close() {\r\n      this.handleClose();\r\n    },\r\n    toggleSortKey(value: string) {\r\n      if (this.sortKey !== value) {\r\n        // 初回 降順\r\n        this.isDesc = true;\r\n        this.sortKey = value;\r\n        this.sortItems();\r\n      } else if (this.sortKey === value && this.isDesc) {\r\n        // 2回目 昇順\r\n        this.isDesc = false;\r\n        this.sortItems();\r\n      } else if (this.sortKey === value && !this.isDesc) {\r\n        // 3回目 ソート解除\r\n        this.sortKey = '';\r\n        this.filter();\r\n      }\r\n\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    selectSortKey(value: string) {\r\n      if (this.sortKey === value) {\r\n        // もうソートされてるので何もせず\r\n        return;\r\n      }\r\n      // 初回は基本的に降順\r\n      this.isDesc = value !== 'id';\r\n\r\n      // ソート任意設定\r\n      this.sortKey = value;\r\n      this.handleSortItem();\r\n    },\r\n    handleSortItem() {\r\n      // 昇順降順変更\r\n      this.sortItems();\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    resetOrdering() {\r\n      this.sortKey = '';\r\n      this.filter();\r\n\r\n      // 選択中のカテゴリにソートを記憶\r\n      if (this.selectedType) {\r\n        this.selectedType.isDesc = this.isDesc;\r\n        this.selectedType.sortKey = this.sortKey;\r\n      }\r\n    },\r\n    sortItems() {\r\n      const key = this.sortKey;\r\n      const desc = this.isDesc ? 1 : -1;\r\n\r\n      // 砲戦火力ソート時特別対応\r\n      if (key === 'dayBattleFirePower') {\r\n        if (this.isAircraftMode) {\r\n          this.viewItems.sort((a, b) => desc * (b.aircraftDayBattleFirePower - a.aircraftDayBattleFirePower));\r\n          return;\r\n        }\r\n        this.viewItems.sort((a, b) => desc * (b.dayBattleFirePower - a.dayBattleFirePower));\r\n        return;\r\n      }\r\n\r\n      const isNameSort = key === 'name';\r\n      // 装備マスタの値でソートできないものたち\r\n      const isActualValue = key.indexOf('actual') >= 0\r\n        || key === 'tp'\r\n        || key === 'airPower'\r\n        || key === 'defenseAirPower'\r\n        || key === 'antiAirWeight'\r\n        || key === 'antiAirBonus'\r\n        || key === 'nightBattleFirePower';\r\n\r\n      (this.viewItems as []).sort((a: { item: sortItem }, b: { item: sortItem }) => {\r\n        if (isActualValue) {\r\n          return desc * ((b.item[key] as number) - (a.item[key] as number));\r\n        }\r\n        if (isNameSort) {\r\n          const sa = String((a.item.data as { name: number }).name).replace(/(\\d+)/g, (m) => m.padStart(10, '0'));\r\n          const sb = String((b.item.data as { name: number }).name).replace(/(\\d+)/g, (m) => m.padStart(10, '0'));\r\n          // eslint-disable-next-line no-nested-ternary\r\n          return -desc * (sa < sb ? -1 : sa > sb ? 1 : 0);\r\n        }\r\n        return desc * ((b.item.data as { [key: string]: number })[key] - (a.item.data as { [key: string]: number })[key]);\r\n      });\r\n    },\r\n    bootTooltip(item: Item, bonus: ItemBonusStatus, e: MouseEvent | FocusEvent) {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      if (setting.disabledItemTooltip) {\r\n        return;\r\n      }\r\n      const nameDiv = (e.target as HTMLDivElement).getElementsByClassName('item-name')[0] as HTMLDivElement;\r\n      window.clearTimeout(this.tooltipTimer);\r\n      this.tooltipTimer = window.setTimeout(() => {\r\n        const rect = nameDiv.getBoundingClientRect();\r\n\r\n        if (e instanceof FocusEvent) {\r\n          this.tooltipX = this.multiLine ? rect.x + rect.width / 3 : rect.left;\r\n        } else {\r\n          this.tooltipX = this.multiLine ? rect.x + rect.width / 3 : e.clientX;\r\n        }\r\n\r\n        this.tooltipY = rect.y + rect.height;\r\n        this.tooltipItem = item;\r\n        this.tooltipBonus = bonus ? JSON.stringify(bonus) : '';\r\n        this.enabledTooltip = true;\r\n      }, Math.max(setting.popUpCount, 10));\r\n    },\r\n    clearTooltip() {\r\n      this.enabledTooltip = false;\r\n      window.clearTimeout(this.tooltipTimer);\r\n    },\r\n    showBlacklist() {\r\n      this.blacklistDialog = true;\r\n    },\r\n    closeBlacklist() {\r\n      this.blacklistDialog = false;\r\n      this.toggleBlacklistDialog();\r\n    },\r\n    toggleBlacklistDialog() {\r\n      if (!this.blacklistDialog) {\r\n        this.filter();\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=04ccf542&scoped=true&\"\nimport script from \"./ItemList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemList.vue?vue&type=style&index=0&id=04ccf542&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04ccf542\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VCheckbox,VDialog,VDivider,VIcon,VImg,VRadio,VRadioGroup,VSelect,VSpacer,VSwitch,VTextField,VTooltip})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('div',{staticClass:\"d-flex pt-2 pb-1 pr-2\"},[_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.装備プリセット\")))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.handleClose}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('div',{staticClass:\"px-3\"},[_c('div',{staticClass:\"d-flex flex-wrap\"},[_c('v-btn',{staticClass:\"my-2 mr-2\",attrs:{\"color\":\"teal\",\"dark\":!_vm.disabledCommit,\"disabled\":_vm.disabledCommit},on:{\"click\":function($event){return _vm.readyPreset()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.現在の装備構成で新規登録\"))+\" \")]),_c('v-btn',{staticClass:\"my-2\",attrs:{\"color\":\"primary\",\"disabled\":_vm.disabledCommit || _vm.isPresetItemEmpty || _vm.isAACIMode || _vm.selectedIndex < 0},on:{\"click\":function($event){return _vm.overwritePreset()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.現在の装備構成で上書き\"))+\" \")])],1),_c('v-divider'),_c('div',{staticClass:\"preset-container py-1\"},[_c('div',{staticClass:\"preset-list\"},[_c('draggable',{attrs:{\"handle\":\".preset-id\",\"animation\":\"150\"},on:{\"end\":function($event){return _vm.sortEnd()}},model:{value:(_vm.presets),callback:function ($$v) {_vm.presets=$$v},expression:\"presets\"}},_vm._l((_vm.presets),function(preset,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:(\"preset\" + i),staticClass:\"preset-item\",class:{ selected: !_vm.isAACIMode && i === _vm.selectedIndex },on:{\"click\":function($event){return _vm.clickedPreset(preset.id)},\"dblclick\":function($event){return _vm.expandPreset()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickedPreset(preset.id)}}},[_c('div',{staticClass:\"preset-id primary--text\"},[_vm._v(_vm._s(preset.id)+\".\")]),_c('div',{staticClass:\"preset-name text-truncate\"},[_vm._v(_vm._s(preset.name))])])}),0),(_vm.uniquePresets.length)?_c('div',{staticClass:\"mt-2 d-flex ml-1\"},[_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.固有プリセット\")))]),_c('div',{staticClass:\"divider-line\"})]):_vm._e(),_vm._l((_vm.uniquePresets),function(preset,i){return _c('div',{directives:[{name:\"ripple\",rawName:\"v-ripple\",value:({ class: 'info--text' }),expression:\"{ class: 'info--text' }\"}],key:(\"preset\" + i),staticClass:\"preset-item\",class:{ selected: _vm.isAACIMode && i === _vm.selectedIndex },on:{\"click\":function($event){return _vm.clickedUniquePreset(i)},\"dblclick\":function($event){return _vm.expandPreset()},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickedUniquePreset(i)}}},[_c('div',{staticClass:\"aaci-preset-id success--text\"},[_vm._v(\"AACI.\")]),_c('div',{staticClass:\"preset-name text-truncate\"},[_vm._v(_vm._s(preset.name))]),_c('div',{staticClass:\"text--secondary caption d-flex align-center mr-2\"},[_c('div',[_vm._v(\"(\")]),_c('div',{staticClass:\"mx-1\"},[_vm._v(_vm._s(preset.spec1))]),_c('div',[_vm._v(\",\")]),_c('div',{staticClass:\"mx-1\"},[_vm._v(_vm._s(preset.spec2))]),_c('div',[_vm._v(\")\")])]),_c('div',[(preset.isLack)?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")]):_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"transparent\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1)])})],2),_c('div',{staticClass:\"preset-view pl-2\"},[(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"mt-5 d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":_vm.$t('ItemList.名称'),\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"maxlength\":\"100\",\"hide-details\":\"\"},model:{value:(_vm.selectedPreset.name),callback:function ($$v) {_vm.$set(_vm.selectedPreset, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"selectedPreset.name\"}}),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"success\",\"disabled\":!_vm.selectedPreset.name || _vm.isAACIMode},on:{\"click\":function($event){return _vm.savePreset()}}},[_vm._v(\" \"+_vm._s(_vm.selectedIndex >= 0 ? _vm.$t(\"Common.更新\") : _vm.$t(\"Common.保存\"))+\" \")])],1):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"items-container pa-2 mt-2\"},[_vm._l((_vm.itemView),function(item,i){return _c('div',{key:(\"view\" + i),staticClass:\"d-flex align-center py-1\"},[(item.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":(\"./img/type/icon\" + (item.data.iconTypeId) + \".png\"),\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': item.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t((\"\" + (item.data.name))) : item.data.name)+\" \")]),(item.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(item.remodel))])],1):_vm._e(),(item.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()])}),(_vm.exItemView.data.id)?_c('div',{staticClass:\"mt-2 d-flex ml-1\"},[_c('div',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.$t(\"ItemList.補強増設\")))]),_c('div',{staticClass:\"divider-line\"})]):_vm._e(),(_vm.exItemView.data.id)?_c('div',{staticClass:\"d-flex align-center py-1\"},[(_vm.exItemView.data.iconTypeId)?_c('div',[_c('v-img',{attrs:{\"src\":(\"./img/type/icon\" + (_vm.exItemView.data.iconTypeId) + \".png\"),\"width\":\"30\",\"height\":\"30\"}})],1):_vm._e(),_c('div',{staticClass:\"ml-1 text-truncate preset-item-name\",class:{ 'is-lack': _vm.exItemView.isLack }},[_vm._v(\" \"+_vm._s(_vm.needTrans ? _vm.$t((\"\" + (_vm.exItemView.data.name))) : _vm.exItemView.data.name)+\" \")]),(_vm.exItemView.remodel)?_c('div',{staticClass:\"ml-1 d-flex align-center\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal accent-4\"}},[_vm._v(\"mdi-star\")]),_c('div',{staticClass:\"remodel-text\"},[_vm._v(_vm._s(_vm.exItemView.remodel))])],1):_vm._e(),(_vm.exItemView.isLack)?_c('div',{staticClass:\"ml-auto\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"small\":\"\"}},[_vm._v(\"mdi-alert-outline\")])],1):_vm._e()]):_vm._e()],2):_vm._e(),(!_vm.isPresetItemEmpty)?_c('div',{staticClass:\"d-flex my-3 justify-end\"},[(_vm.selectedIndex >= 0)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.expandPreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.展開\")))]):_vm._e(),(_vm.selectedIndex >= 0 && _vm.selectedPreset.isLack)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"warning\"},on:{\"click\":function($event){return _vm.expandPreset(true)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"ItemList.在庫がなくても展開\"))+\" \")]):_vm._e(),(!_vm.isAACIMode)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"color\":\"error\",\"disabled\":_vm.selectedIndex < 0},on:{\"click\":function($event){return _vm.deletePreset()}}},[_vm._v(_vm._s(_vm.$t(\"Common.削除\")))]):_vm._e()],1):_vm._e()])])],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"top\":_vm.snackbar},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.infoText ? _vm.$t((\"ItemList.\" + _vm.infoText)) : _vm.infoText)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export interface PresetItem {\r\n  /** 装備id */\r\n  id: number;\r\n  /** 改修値 */\r\n  remodel: number;\r\n  /** 理想id */\r\n  assumedId?: number;\r\n}\r\n\r\n/**\r\n * 旧装備プリセットデータ構造\r\n * @interface OldItemPreset\r\n */\r\nexport interface OldItemPreset {\r\n  /** id */\r\n  id: number;\r\n\r\n  /** プリセット名称 */\r\n  name: string;\r\n\r\n  /** プリセット装備 */\r\n  itemIds: number[];\r\n\r\n  /** プリセット補強増設装備 */\r\n  exItemId: number;\r\n}\r\n\r\n/**\r\n * 装備プリセット\r\n * @export\r\n * @class ItemPreset\r\n */\r\nexport default class ItemPreset {\r\n  /** id */\r\n  public id = 0;\r\n\r\n  /** プリセット名称 */\r\n  public name = '';\r\n\r\n  /** プリセット装備 */\r\n  public items = [] as PresetItem[];\r\n\r\n  /** プリセット補強増設装備 */\r\n  public exItem: PresetItem = { id: 0, remodel: 0 };\r\n\r\n  /**\r\n   * 旧プリセデータを変換\r\n   * @static\r\n   * @param {OldItemPreset[]} oldPresets\r\n   * @return {*}  {ItemPreset[]}\r\n   * @memberof ItemPreset\r\n   */\r\n  public static convertOldItemPresets(oldPresets: (ItemPreset | OldItemPreset)[]): ItemPreset[] {\r\n    if (!oldPresets || !oldPresets.length) {\r\n      return [];\r\n    }\r\n    const presets: ItemPreset[] = [];\r\n    for (let i = 0; i < oldPresets.length; i += 1) {\r\n      const old = oldPresets[i];\r\n      if ('items' in old && 'exItem' in old) {\r\n        const preset = new ItemPreset();\r\n        preset.id = old.id;\r\n        preset.name = old.name;\r\n        preset.items = old.items;\r\n        preset.exItem = old.exItem;\r\n        presets.push(preset);\r\n      } else if ('itemIds' in old && 'exItemId' in old) {\r\n        const newPreset = new ItemPreset();\r\n        newPreset.id = old.id;\r\n        newPreset.name = old.name;\r\n        for (let j = 0; j < old.itemIds.length; j += 1) {\r\n          newPreset.items.push({ id: old.itemIds[j], remodel: 0 });\r\n        }\r\n        newPreset.exItem = { id: old.exItemId, remodel: 0 };\r\n        presets.push(newPreset);\r\n      }\r\n    }\r\n\r\n    return presets;\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport draggable from 'vuedraggable';\r\nimport max from 'lodash/max';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport ItemPreset, { OldItemPreset } from '@/classes/item/itemPreset';\r\nimport ItemMaster from '@/classes/item/itemMaster';\r\nimport Optimizer from '@/classes/fleet/optimizer';\r\nimport Airbase from '@/classes/airbase/airbase';\r\nimport Item from '@/classes/item/item';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport ItemStock from '@/classes/item/itemStock';\r\nimport Const from '@/classes/const';\r\nimport SaveData from '@/classes/saveData/saveData';\r\nimport ShipValidation from '@/classes/fleet/shipValidation';\r\n\r\nexport default Vue.extend({\r\n  name: 'ItemPreset',\r\n  components: { draggable },\r\n  props: {\r\n    value: {\r\n      type: [Ship, Airbase],\r\n      required: true,\r\n    },\r\n    handleExpandItemPreset: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    handleClose: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    items: [] as ItemMaster[],\r\n    presets: [] as ItemPreset[],\r\n    uniquePresets: [] as (ItemPreset & { isLack: boolean; spec1: string; spec2: string })[],\r\n    isAACIMode: false,\r\n    selectedIndex: -1,\r\n    selectedPreset: new ItemPreset(),\r\n    snackbar: false,\r\n    infoText: '',\r\n  }),\r\n  mounted() {\r\n    this.items = this.$store.state.items as ItemMaster[];\r\n\r\n    this.presets = [];\r\n    const savedPresets = this.$store.state.itemPresets as (ItemPreset | OldItemPreset)[];\r\n    this.presets = ItemPreset.convertOldItemPresets(savedPresets);\r\n\r\n    this.getAACIPreset();\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.getAACIPreset();\r\n    },\r\n  },\r\n  computed: {\r\n    needTrans() {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    disabledCommit(): boolean {\r\n      // 装備が空の場合判定\r\n      if (this.value instanceof Airbase) {\r\n        return this.value.items.filter((v) => v.data.id > 0).length === 0;\r\n      }\r\n      // 基地以外の時は補強増設まで見て判定\r\n      return this.value.items.concat(this.value.exItem).filter((v) => v.data.id > 0).length === 0;\r\n    },\r\n    itemView(): { data: ItemMaster; remodel: number; isLack?: boolean }[] {\r\n      const itemMasters: { data: ItemMaster; remodel: number; isLack?: boolean }[] = [];\r\n      for (let i = 0; i < this.selectedPreset.items.length; i += 1) {\r\n        const { id, remodel, assumedId } = this.selectedPreset.items[i];\r\n        const item = this.items.find((v) => v.id === id);\r\n        if (item) {\r\n          itemMasters.push({ data: item, remodel });\r\n        } else if (assumedId) {\r\n          const assumedItem = this.items.find((v) => v.id === assumedId);\r\n          if (assumedItem) itemMasters.push({ data: assumedItem, remodel: 0, isLack: true });\r\n          else itemMasters.push({ data: new ItemMaster(), remodel: 0 });\r\n        } else {\r\n          itemMasters.push({ data: new ItemMaster(), remodel: 0 });\r\n        }\r\n      }\r\n      return itemMasters;\r\n    },\r\n    exItemView(): { data: ItemMaster; remodel: number; isLack?: boolean } {\r\n      const item = this.items.find((v) => v.id === this.selectedPreset.exItem.id);\r\n      if (item) {\r\n        return { data: item, remodel: this.selectedPreset.exItem.remodel };\r\n      }\r\n      const assumedItem = this.items.find((v) => v.id === this.selectedPreset.exItem.assumedId);\r\n      return assumedItem ? { data: assumedItem, remodel: 0, isLack: true } : { data: new ItemMaster(), remodel: 0 };\r\n    },\r\n    isPresetItemEmpty(): boolean {\r\n      return !this.selectedPreset.items.some((v) => v.id || v.assumedId) && !this.selectedPreset.exItem.id && !this.selectedPreset.exItem.assumedId;\r\n    },\r\n  },\r\n  methods: {\r\n    clickedPreset(id: number) {\r\n      this.isAACIMode = false;\r\n      const index = this.presets.findIndex((v) => v.id === id);\r\n      if (index >= 0) {\r\n        this.selectedIndex = index;\r\n        this.selectedPreset = cloneDeep(this.presets[index]);\r\n      }\r\n    },\r\n    clickedUniquePreset(index: number) {\r\n      this.isAACIMode = true;\r\n      this.selectedIndex = index;\r\n      this.selectedPreset = cloneDeep(this.uniquePresets[index]);\r\n    },\r\n    readyPreset() {\r\n      this.isAACIMode = false;\r\n      const newPreset = new ItemPreset();\r\n      const maxId = max(this.presets.map((v) => v.id));\r\n      if (maxId) {\r\n        newPreset.id = maxId;\r\n      }\r\n      newPreset.id += 1;\r\n      if (this.$i18n.locale !== 'ja') {\r\n        newPreset.name = `${this.$t('ItemList.プリセット')} ${newPreset.id}`;\r\n      } else {\r\n        newPreset.name = `装備プリセット${newPreset.id}`;\r\n      }\r\n      // 装備id一覧\r\n      for (let i = 0; i < this.value.items.length; i += 1) {\r\n        const item = this.value.items[i];\r\n        newPreset.items.push({ id: item.data.id, remodel: item.remodel });\r\n      }\r\n      if (this.value instanceof Ship) {\r\n        newPreset.exItem = { id: this.value.exItem.data.id, remodel: this.value.exItem.remodel };\r\n      }\r\n\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = newPreset;\r\n    },\r\n    overwritePreset() {\r\n      const { name } = this.selectedPreset;\r\n      this.selectedPreset = new ItemPreset();\r\n      this.selectedPreset.name = name;\r\n      for (let i = 0; i < this.value.items.length; i += 1) {\r\n        const item = this.value.items[i];\r\n        this.selectedPreset.items.push({ id: item.data.id, remodel: item.remodel });\r\n      }\r\n      if (this.value instanceof Ship) {\r\n        this.selectedPreset.exItem = { id: this.value.exItem.data.id, remodel: this.value.exItem.remodel };\r\n      }\r\n    },\r\n    savePreset() {\r\n      if (this.selectedIndex >= 0) {\r\n        // 更新\r\n        this.presets[this.selectedIndex] = this.selectedPreset;\r\n      } else {\r\n        // 新規登録\r\n        this.presets.push(this.selectedPreset);\r\n      }\r\n      // ブラウザに保存\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n      this.infoText = '保存しました。';\r\n      this.snackbar = true;\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = new ItemPreset();\r\n    },\r\n    deletePreset() {\r\n      this.presets = this.presets.filter((v, i) => i !== this.selectedIndex);\r\n      // ブラウザに保存\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n      this.snackbar = true;\r\n      this.infoText = '削除しました。';\r\n      this.selectedIndex = -1;\r\n      this.selectedPreset = new ItemPreset();\r\n    },\r\n    expandPreset(isForce = false) {\r\n      if (this.selectedPreset) {\r\n        this.handleExpandItemPreset(this.selectedPreset, isForce);\r\n        this.handleClose();\r\n      }\r\n    },\r\n    sortEnd() {\r\n      const baseIds = this.presets.map((v) => v.id);\r\n      for (let i = 0; i < this.presets.length; i += 1) {\r\n        this.presets[i].id = baseIds[i];\r\n      }\r\n      this.$store.dispatch('updateItemPresets', this.presets);\r\n    },\r\n    getAACIPreset() {\r\n      const parent = this.value;\r\n      if (!(parent instanceof Ship)) {\r\n        return;\r\n      }\r\n\r\n      // 今使える全装備を取得\r\n      const allItemMasters = this.items.filter((v) => !v.isEnemyItem);\r\n      const allItems = allItemMasters.map((v) => new Item({ master: v }));\r\n\r\n      const stocks = this.$store.state.itemStock as ItemStock[];\r\n\r\n      let items: Item[] = [];\r\n      const isStockMode = !!stocks.length && stocks.some((v) => v.num.some((remodel) => !!remodel));\r\n\r\n      if (isStockMode) {\r\n        // 所持装備情報がある場合\r\n        // 利用済み装備idと改修値を控えていく\r\n        let usedItems: { id: number; remodel: number; isChecked: boolean }[] = [];\r\n        // 現在の計算画面内で配備されている装備を列挙する\r\n        const mainData = this.$store.state.mainSaveData as SaveData;\r\n        if (mainData) {\r\n          const manager = mainData.tempData[mainData.tempIndex];\r\n          if (manager) {\r\n            // 艦隊データから装備全取得\r\n            for (let i = 0; i < manager.fleetInfo.fleets.length; i += 1) {\r\n              const { ships } = manager.fleetInfo.fleets[i];\r\n              for (let j = 0; j < ships.length; j += 1) {\r\n                const ship = ships[j];\r\n                const shipItems = ship.items.filter((v) => v.data.id);\r\n                if (shipItems.length) {\r\n                  usedItems = usedItems.concat(shipItems.map((v) => ({ id: v.data.id, remodel: v.remodel, isChecked: false })));\r\n                }\r\n                if (ship.exItem.data.id > 0) usedItems.push({ id: ship.exItem.data.id, remodel: ship.exItem.remodel, isChecked: false });\r\n              }\r\n            }\r\n            // 基地航空隊データから装備全取得\r\n            const { airbases } = manager.airbaseInfo;\r\n            for (let i = 0; i < airbases.length; i += 1) {\r\n              const airbaseItems = airbases[i].items.filter((v) => v.data.id);\r\n              if (airbaseItems.length) {\r\n                usedItems = usedItems.concat(airbaseItems.map((v) => ({ id: v.data.id, remodel: v.remodel, isChecked: false })));\r\n              }\r\n            }\r\n\r\n            const parentItems = parent.items.concat(parent.exItem).filter((v) => v.data.id);\r\n            for (let i = 0; i < parentItems.length; i += 1) {\r\n              // 自分が装備しているやつは対象外なので抜く\r\n              const item = parentItems[i];\r\n              const index = usedItems.findIndex((v) => v.id === item.data.id && v.remodel === item.remodel);\r\n              if (index >= 0) usedItems = usedItems.filter((v, idx) => idx !== index);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (let i = 0; i < stocks.length; i += 1) {\r\n          const stock = stocks[i];\r\n          const master = allItemMasters.find((v) => v.id === stock.id);\r\n          if (!master) continue;\r\n\r\n          // ★10からpushしていくことで、高改修のものを優先する\r\n          for (let remodel = 10; remodel >= 0; remodel -= 1) {\r\n            for (let j = 0; j < stock.num[remodel]; j += 1) {\r\n              // 利用済み装備に該当するかチェック\r\n              const uncheckedUsedItem = usedItems.find((v) => v.id === master.id && v.remodel === remodel && !v.isChecked);\r\n              if (uncheckedUsedItem) {\r\n                // 利用済みチェックだけしてスキップ\r\n                uncheckedUsedItem.isChecked = true;\r\n                continue;\r\n              }\r\n              items.push(new Item({ master, remodel }));\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        items = allItems.concat();\r\n      }\r\n\r\n      // 対空CI用のプリセットを取得\r\n      const aaciItems = Optimizer.getShipAACITriggerItems(parent, items, isStockMode);\r\n      // 全装備あり状態の対空CI装備取得\r\n      const assumedItems = Optimizer.getShipAACITriggerItems(parent, allItems);\r\n\r\n      this.uniquePresets = [];\r\n\r\n      for (let i = 0; i < aaciItems.length; i += 1) {\r\n        const row = aaciItems[i];\r\n        const cutIn = Const.ANTI_AIR_CUTIN.find((v) => v.id === row.id);\r\n        if (!cutIn) continue;\r\n\r\n        const preset = new ItemPreset();\r\n        preset.id = cutIn.id;\r\n        preset.items = row.items.map((v, j) => {\r\n          const item = { id: v.data.id, remodel: v.remodel, assumedId: 0 };\r\n          // 見つかってない場合は理想装備を搭載\r\n          if (!item.id) item.assumedId = assumedItems[i].items[j].data.id;\r\n          return item;\r\n        });\r\n        preset.name = `${preset.id}種`;\r\n        // 理想の装備がない疑惑アリ\r\n        const isLack = row.items.some((v) => !v.data.id);\r\n\r\n        // おケツの装備はなるべく増設にしたいのでそのチェック\r\n        let lastItem = row.items[row.items.length - 1];\r\n        const isAssumeExItem = !lastItem.data.id;\r\n        if (isAssumeExItem) {\r\n          // おケツの理想装備\r\n          const assumedItem = allItemMasters.find((v) => v.id === preset.items[preset.items.length - 1].assumedId);\r\n          lastItem = assumedItem ? new Item({ master: assumedItem }) : new Item();\r\n        }\r\n\r\n        if (ShipValidation.isValidItem(parent.data, lastItem.data, Const.EXPAND_SLOT_INDEX)) {\r\n          // 増設にのりそうなので、ケツの装備を通常装備枠から消す\r\n          preset.exItem = { id: lastItem.data.id, remodel: lastItem.remodel };\r\n          // 見つかってない場合は理想装備を搭載\r\n          if (isAssumeExItem) {\r\n            preset.exItem = { id: 0, remodel: lastItem.remodel, assumedId: lastItem.data.id };\r\n          }\r\n          preset.items.splice(-1);\r\n        }\r\n\r\n        if (preset.items.length <= parent.data.slotCount) {\r\n          this.uniquePresets.push(Object.assign(preset, { isLack, spec1: `${cutIn.c1 + cutIn.c2}`, spec2: `x${cutIn.rateBonus.toFixed(2)}` }));\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPreset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPreset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemPreset.vue?vue&type=template&id=3602db4f&scoped=true&\"\nimport script from \"./ItemPreset.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemPreset.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemPreset.vue?vue&type=style&index=0&id=3602db4f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3602db4f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VDivider,VIcon,VImg,VSnackbar,VSpacer,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"input-container\"},[_c('div',[_c('v-select',{attrs:{\"label\":_vm.$t('Common.陣形'),\"items\":_vm.formations,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.formation),callback:function ($$v) {_vm.formation=$$v},expression:\"formation\"}})],1),_c('div',[_c('v-select',{attrs:{\"label\":_vm.$t('Fleet.対空CI'),\"items\":_vm.antiAirItems,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.cutInId),callback:function ($$v) {_vm.cutInId=$$v},expression:\"cutInId\"}})],1),_c('div',[_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"999\",\"label\":_vm.$t('Fleet.攻撃機搭載数'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"input\":_vm.updateTable},model:{value:(_vm.attackerSlot),callback:function ($$v) {_vm.attackerSlot=_vm._n($$v)},expression:\"attackerSlot\"}})],1),_c('div',[_c('v-select',{attrs:{\"label\":_vm.$t('Fleet.対空射撃回避'),\"items\":_vm.avoids,\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.avoid),callback:function ($$v) {_vm.avoid=$$v},expression:\"avoid\"}})],1),_c('div',[_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"2\",\"step\":\"0.1\",\"label\":_vm.$t('Fleet.加重対空補正'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"disabled\":!_vm.isManual || _vm.showAntiAirMode},on:{\"input\":_vm.updateTable},model:{value:(_vm.adj1),callback:function ($$v) {_vm.adj1=_vm._n($$v)},expression:\"adj1\"}})],1),_c('div',[_c('v-text-field',{attrs:{\"type\":\"number\",\"min\":\"0\",\"max\":\"2\",\"step\":\"0.1\",\"label\":_vm.$t('Fleet.艦隊防空補正'),\"hide-details\":\"\",\"outlined\":\"\",\"dense\":\"\",\"disabled\":!_vm.isManual || _vm.showAntiAirMode},on:{\"input\":_vm.updateTable},model:{value:(_vm.adj2),callback:function ($$v) {_vm.adj2=_vm._n($$v)},expression:\"adj2\"}})],1)]),_c('div',{staticClass:\"mb-1 d-flex px-1\"},[_c('div',{staticClass:\"align-self-end\"},[_c('span',{staticClass:\"body-2 text--secondary mr-2\"},[_vm._v(_vm._s(_vm.$t(\"Common.艦隊防空値\")))]),_c('span',[_vm._v(_vm._s(_vm.fleetAntiAir))])]),_c('div',{staticClass:\"align-self-end\"},[_c('v-switch',{staticClass:\"mt-2 mb-0 ml-4\",attrs:{\"dense\":\"\",\"hide-details\":\"\",\"label\":_vm.$t('Result.対空CI一覧')},on:{\"change\":_vm.setAntiAirCutInTable},model:{value:(_vm.showAntiAirMode),callback:function ($$v) {_vm.showAntiAirMode=$$v},expression:\"showAntiAirMode\"}})],1),(!_vm.showAntiAirMode)?_c('div',{staticClass:\"ml-auto d-flex\"},[_c('v-checkbox',{staticClass:\"mr-3\",attrs:{\"label\":_vm.$t('Fleet.空襲マス'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.isAirRaid),callback:function ($$v) {_vm.isAirRaid=$$v},expression:\"isAirRaid\"}}),_c('v-checkbox',{attrs:{\"label\":_vm.$t('Fleet.敵側式'),\"dense\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.updateTable},model:{value:(_vm.isEnemy),callback:function ($$v) {_vm.isEnemy=$$v},expression:\"isEnemy\"}})],1):_vm._e()]),(!_vm.showAntiAirMode)?_c('div',[_c('v-divider'),_c('v-simple-table',{attrs:{\"fixed-header\":\"\",\"height\":\"54vh\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Common.加重対空\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.割合撃墜\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.固定撃墜\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.最低保証\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Fleet.両成功\")))])])]),_c('tbody',_vm._l((_vm.stage2Data),function(item,i){return _c('tr',{key:i,staticClass:\"stage2-row\",class:{ warn: item.sum >= _vm.attackerSlot / 2, danger: item.sum >= _vm.attackerSlot }},[_c('td',{staticClass:\"d-flex align-center text-left\"},[_c('div',{staticClass:\"mr-2\"},[_c('v-img',{attrs:{\"src\":(\"./img/ship/\" + (item.id) + \".png\"),\"height\":\"30\",\"width\":\"120\"}})],1),_c('div',{staticClass:\"d-none d-sm-block flex-grow-1\"},[(item.isEnemy)?_c('div',{staticClass:\"stage2-id primary--text\"},[_vm._v(\"id \"+_vm._s(item.id))]):_vm._e(),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"stage2-name text-truncate\"},[_vm._v(_vm._s(_vm.getShipName(item.data)))])])])]),_c('td',[_vm._v(_vm._s(item.antiAirWeight))]),_c('td',[_vm._v(_vm._s(item.rate)+\" ( \"+_vm._s(_vm.$t(\"Common.x機\", { number: item.rateDown }))+\" )\")]),_c('td',[_vm._v(_vm._s(item.fix))]),_c('td',[_vm._v(_vm._s(item.min))]),_c('td',[_vm._v(_vm._s(item.sum))])])}),0)]},proxy:true}],null,false,2698091509)})],1):_c('div',{staticClass:\"d-flex flex-wrap justify-center\"},[_c('div',{staticClass:\"flex-grow-1\"},[_c('v-divider'),_c('v-simple-table',{attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Fleet.艦娘\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.種別id\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.固定\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.変動\")))]),_c('th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t(\"Result.発動率\")))]),_c('th')])]),_c('tbody',_vm._l((_vm.antiAirCutIns),function(item,i){return _c('tr',{key:i,staticClass:\"stage2-row\"},[_c('td',{staticClass:\"px-2 text-left\"},[(item.id)?_c('v-img',{attrs:{\"src\":(\"./img/ship/\" + (item.id) + \".png\"),\"height\":\"30\",\"width\":\"120\"}}):_c('span',{staticClass:\"no-cutin-span caption\"},[_vm._v(_vm._s(_vm.$t(\"Result.不発\")))])],1),_c('td',[_vm._v(_vm._s(item.cutInId ? item.cutInId : \"-\"))]),_c('td',[_vm._v(_vm._s(item.fix))]),_c('td',[_vm._v(_vm._s(item.variable))]),_c('td',[_vm._v(_vm._s(item.rate)+\" %\")]),_c('td',[_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\"mdi-square-rounded\")])],1)])}),0)]},proxy:true}])}),_c('v-divider')],1),(_vm.showAntiAirMode)?_c('div',{staticClass:\"graph-area\"},[_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.graphData,\"options\":_vm.options,\"title-text\":\"\"}})],1),_c('div',{staticClass:\"total-rate\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計発動率\")))]),_c('div',[_vm._v(_vm._s(_vm.totalCutInRate)+\" %\")])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\r\nimport Const, { AvoidType, Formation } from '@/classes/const';\r\nimport ShootDownInfo from '@/classes/aerialCombat/shootDownInfo';\r\nimport AntiAirCutIn from '@/classes/aerialCombat/antiAirCutIn';\r\nimport Enemy from '@/classes/enemy/enemy';\r\nimport Fleet from '@/classes/fleet/fleet';\r\nimport Ship from '@/classes/fleet/ship';\r\nimport ShipMaster from '@/classes/fleet/shipMaster';\r\nimport EnemyMaster from '@/classes/enemy/enemyMaster';\r\nimport SiteSetting from '@/classes/siteSetting';\r\nimport DoughnutChart, { DoughnutGraphOption, LabelCallbackArg } from '@/components/graph/Doughnut.vue';\r\n\r\ninterface Stage2Row {\r\n  id: number;\r\n  data: ShipMaster | EnemyMaster;\r\n  rate: string;\r\n  rateDown: number;\r\n  fix: number;\r\n  min: number;\r\n  sum: number;\r\n  antiAirWeight: number;\r\n  isEnemy: boolean;\r\n}\r\n\r\ninterface AntiAirCutInRow {\r\n  id: number;\r\n  cutInId: number;\r\n  fix: number;\r\n  variable: number;\r\n  rate: number;\r\n  color: string;\r\n}\r\n\r\nconst labelCallback = (c: LabelCallbackArg) => `${c.dataset.labels[c.dataIndex]}: ${c.parsed.toFixed(1)} %`;\r\n\r\nexport default Vue.extend({\r\n  name: 'AntiAirCalculator',\r\n  components: { DoughnutChart },\r\n  props: {\r\n    fleet: {\r\n      type: [Fleet, EnemyFleet],\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    formation: 1,\r\n    avoid: 0,\r\n    attackerSlot: 18,\r\n    adj1: 1,\r\n    adj2: 1,\r\n    fleetAntiAir: '0.00',\r\n    cutInId: 0,\r\n    isEnemy: false,\r\n    isAirRaid: false,\r\n    stage2Data: [] as Stage2Row[],\r\n    showAntiAirMode: false,\r\n    antiAirCutIns: [] as AntiAirCutInRow[],\r\n    totalCutInRate: 0,\r\n    graphData: {},\r\n    options: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n  }),\r\n  computed: {\r\n    isNotJapanese(): boolean {\r\n      return this.$i18n.locale !== 'ja';\r\n    },\r\n    needTrans(): boolean {\r\n      const setting = this.$store.state.siteSetting as SiteSetting;\r\n      return this.$i18n.locale !== 'ja' && !setting.nameIsNotTranslate;\r\n    },\r\n    ships(): Ship[] | Enemy[] {\r\n      if (this.fleet instanceof EnemyFleet) {\r\n        return this.fleet.enemies.filter((v) => v.data.id > 0);\r\n      }\r\n      return this.fleet.ships.filter((v) => v.isActive && !v.isEmpty);\r\n    },\r\n    formations(): Formation[] {\r\n      if (this.isNotJapanese) {\r\n        const items = [];\r\n        for (let i = 0; i < Const.FORMATIONS.length; i += 1) {\r\n          const { text, value, correction } = Const.FORMATIONS[i];\r\n          items.push({ text: `${this.$t(`Common.${text}`)}`, value, correction });\r\n        }\r\n        return items;\r\n      }\r\n      return Const.FORMATIONS;\r\n    },\r\n    avoids(): AvoidType[] {\r\n      if (this.isNotJapanese) {\r\n        const items = [];\r\n        for (let i = 0; i < Const.AVOID_TYPE.length; i += 1) {\r\n          const {\r\n            text, value, c1, c2, c3, c4,\r\n          } = Const.AVOID_TYPE[i];\r\n          items.push({\r\n            text: `${this.$t(`Common.回避性能.${text}`)}`,\r\n            value,\r\n            c1,\r\n            c2,\r\n            c3,\r\n            c4,\r\n          });\r\n        }\r\n        return items;\r\n      }\r\n      return Const.AVOID_TYPE;\r\n    },\r\n    isManual(): boolean {\r\n      return this.avoid === Const.MANUAL_AVOID;\r\n    },\r\n    antiAirItems(): { text: string; value: number }[] {\r\n      const items = [\r\n        {\r\n          text: `${this.$t('Result.不発')}`,\r\n          value: 0,\r\n          rate: 0,\r\n          detail: '',\r\n        },\r\n      ];\r\n      // 使えるCIだけ\r\n      const cutIns = this.fleet.allAntiAirCutIn;\r\n      const borders = this.fleet.shootDownList.map((v) => v.border);\r\n      let sumRate = 0;\r\n      for (let i = 0; i < borders.length; i += 1) {\r\n        const border = borders[i];\r\n        if (border === 1) {\r\n          break;\r\n        }\r\n\r\n        const { id } = cutIns[i];\r\n        // 何種CIかのテキストが欲しいがために\r\n        const cutin = Const.ANTI_AIR_CUTIN.find((v) => v.id === id);\r\n        const rate = 100 * border - sumRate;\r\n        sumRate += rate;\r\n\r\n        const item = items.find((v) => v.value === id);\r\n        if (cutin && item) {\r\n          item.rate += rate;\r\n        } else if (cutin) {\r\n          items.push({\r\n            text: cutin.text,\r\n            value: cutin.id,\r\n            rate,\r\n            detail: `[ ${cutin.remarks} ]`,\r\n          });\r\n        }\r\n      }\r\n\r\n      items[0].rate = 100 - sumRate;\r\n\r\n      const resultItems = [];\r\n      for (let i = 0; i < items.length; i += 1) {\r\n        const data = items[i];\r\n        resultItems.push({ text: `${data.text}(${Math.floor(10 * data.rate) / 10}%) ${data.detail}`, value: data.value });\r\n      }\r\n      return resultItems;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isEnemy = this.ships[0] instanceof Enemy;\r\n    this.formation = this.fleet.formation;\r\n    this.updateTable();\r\n  },\r\n  methods: {\r\n    updateTable(): void {\r\n      let adj3 = 1;\r\n      let adj4 = 1;\r\n      const avoid = Const.AVOID_TYPE.find((v) => v.value === this.avoid);\r\n      if (this.avoid !== Const.MANUAL_AVOID && avoid) {\r\n        this.adj1 = avoid.c1;\r\n        this.adj2 = avoid.c2;\r\n        adj3 = avoid.c3;\r\n        adj4 = avoid.c4;\r\n      } else {\r\n        this.adj1 = Math.min(Math.abs(this.adj1), 2);\r\n        this.adj2 = Math.min(Math.abs(this.adj2), 2);\r\n      }\r\n\r\n      let formation = Const.FORMATIONS.find((v) => v.value === this.formation) as Formation;\r\n      if (!formation) {\r\n        // 保険で単縦を入れる\r\n        formation = Const.FORMATIONS.find(() => true) as Formation;\r\n      }\r\n      const manualAvoid: AvoidType = {\r\n        text: '',\r\n        value: 0,\r\n        c1: this.adj1,\r\n        c2: this.adj2,\r\n        c3: adj3,\r\n        c4: adj4,\r\n      };\r\n\r\n      // 対空砲火テーブルを取得\r\n      let aaci = new AntiAirCutIn();\r\n      const cutIn = Const.ANTI_AIR_CUTIN.find((v) => v.id === this.cutInId);\r\n      if (cutIn) {\r\n        aaci = new AntiAirCutIn(cutIn.id, cutIn.rateBonus, cutIn.c1, cutIn.c2, cutIn.rate);\r\n      }\r\n      const stage2 = ShootDownInfo.getStage2(this.ships, this.isEnemy, this.fleet.isUnion, formation, aaci, this.isAirRaid, manualAvoid);\r\n      const d = stage2[stage2.length - 1];\r\n      this.stage2Data = [];\r\n      for (let i = 0; i < this.ships.length; i += 1) {\r\n        const ship = this.ships[i];\r\n        const antiAirWeight = d.antiAirWeightList[i];\r\n        const rate = d.rateDownList[i];\r\n        const rateDown = Math.floor(this.attackerSlot * rate);\r\n        const fix = d.fixDownList[i];\r\n        const min = d.minimumDownList[i];\r\n        const isEnemy = ship instanceof Enemy;\r\n        this.stage2Data.push({\r\n          id: ship.data.id,\r\n          data: ship.data,\r\n          rate: `${(100 * rate).toFixed(2)}%`,\r\n          rateDown,\r\n          fix,\r\n          min,\r\n          sum: rateDown + fix + min,\r\n          antiAirWeight,\r\n          isEnemy,\r\n        });\r\n      }\r\n      // 現在選択されている条件での艦隊防空値\r\n      this.fleetAntiAir = this.fleet.getFleetAntiAir(formation, manualAvoid).toFixed(2);\r\n    },\r\n    getShipName(ship: ShipMaster | EnemyMaster) {\r\n      if (this.needTrans && ship instanceof ShipMaster) {\r\n        const shipName = ShipMaster.getSuffix(ship);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      if (this.needTrans && ship.name) {\r\n        const shipName = EnemyMaster.getSuffix(ship.name);\r\n        const trans = (v: string) => (v ? `${this.$t(v)}` : '');\r\n        return shipName.map((v) => trans(v)).join('');\r\n      }\r\n      return ship.name || '';\r\n    },\r\n    setAntiAirCutInTable() {\r\n      // 対空CIチェックビュー作成\r\n      this.antiAirCutIns = [];\r\n\r\n      for (let i = 0; i < this.ships.length; i += 1) {\r\n        const ship = this.ships[i];\r\n        for (let j = 0; j < ship.antiAirCutIn.length; j += 1) {\r\n          const cutIn = ship.antiAirCutIn[j];\r\n          this.antiAirCutIns.push({\r\n            id: ship.data.id,\r\n            cutInId: cutIn.id,\r\n            fix: cutIn.fixCorrA + cutIn.fixCorrB,\r\n            variable: cutIn.rateCorr,\r\n            rate: 0,\r\n            color: '#000',\r\n          });\r\n        }\r\n      }\r\n\r\n      // 優先度順に並び替え\r\n      const priorities = Const.ANTI_AIR_CUT_IN_PRIORITIES;\r\n      this.antiAirCutIns.sort((a, b) => {\r\n        const indexA = priorities.indexOf(a.cutInId);\r\n        const indexB = priorities.indexOf(b.cutInId);\r\n        return (indexA >= 0 ? indexA : 99) - (indexB >= 0 ? indexB : 99);\r\n      });\r\n\r\n      // 各種発動率を変更\r\n      const cutIns = this.fleet.allAntiAirCutIn;\r\n      const borders = this.fleet.shootDownList.map((v) => v.border);\r\n      let sumRate = 0;\r\n      if (this.antiAirCutIns.length === cutIns.length) {\r\n        for (let i = 0; i < cutIns.length; i += 1) {\r\n          const border = borders[i];\r\n          const rate = 100 * border - sumRate;\r\n          sumRate += rate;\r\n          this.antiAirCutIns[i].rate = Math.floor(10 * rate) / 10 || Math.floor(100 * rate) / 100 || Math.floor(1000 * rate) / 1000;\r\n        }\r\n      }\r\n\r\n      // 必要な色の個数 => 発動する種別の数\r\n      const colorCount = this.antiAirItems.length;\r\n      // 対空CI種別ごとに色をランダム作成\r\n      const colors: string[] = ['rgba(164,164,164,0.7)'];\r\n      // 有効色(0 ～ 360)のなかから使う分だけ按分\r\n      const colorCorr = Math.floor(360 / colorCount);\r\n      // とりあえず全CI分用意\r\n      for (let i = 0; i < Const.ANTI_AIR_CUTIN.length; i += 1) {\r\n        colors.push('hsla(180,100%,60%,0.5)');\r\n      }\r\n\r\n      const doneColorIds: number[] = [];\r\n      for (let i = 0; i < this.antiAirCutIns.length; i += 1) {\r\n        const id = this.antiAirCutIns[i].cutInId;\r\n        if (!doneColorIds.includes(id)) {\r\n          // この色を書き換え！\r\n          colors[id] = `hsla(${218 - colorCorr * doneColorIds.length},85%,70%,0.7)`;\r\n          doneColorIds.push(id);\r\n        }\r\n      }\r\n\r\n      // 不発の行を追加\r\n      const noneRate = 100 - sumRate;\r\n      this.antiAirCutIns.push({\r\n        id: 0,\r\n        cutInId: 0,\r\n        fix: 1,\r\n        rate: Math.floor(10 * noneRate) / 10 || Math.floor(100 * noneRate) / 100 || Math.floor(1000 * noneRate) / 1000,\r\n        variable: 1,\r\n        color: '',\r\n      });\r\n\r\n      // テーブルの凡例行のための色設定\r\n      for (let i = 0; i < this.antiAirCutIns.length; i += 1) {\r\n        const row = this.antiAirCutIns[i];\r\n        if (colors[row.cutInId]) {\r\n          row.color = colors[row.cutInId];\r\n        }\r\n      }\r\n\r\n      const labels = this.antiAirCutIns.map((v) => (v.cutInId ? `${v.cutInId}種` : this.$t('Result.不発')));\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          {\r\n            data: [0, 0, 0, 100],\r\n            backgroundColor: this.antiAirCutIns.map((v) => colors[v.cutInId]),\r\n            borderColor: '#fff',\r\n            labels,\r\n          },\r\n        ],\r\n      };\r\n\r\n      data.datasets[0].data = this.antiAirCutIns.map((v) => +v.rate);\r\n      this.totalCutInRate = Math.floor(10 * sumRate) / 10;\r\n      this.graphData = data;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AntiAirCalculator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AntiAirCalculator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AntiAirCalculator.vue?vue&type=template&id=8a170848&scoped=true&\"\nimport script from \"./AntiAirCalculator.vue?vue&type=script&lang=ts&\"\nexport * from \"./AntiAirCalculator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AntiAirCalculator.vue?vue&type=style&index=0&id=8a170848&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a170848\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCheckbox,VDivider,VIcon,VImg,VSelect,VSimpleTable,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ma-2\"},[_c('div',{staticClass:\"d-flex ml-5 align-center\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.制空状態\")))]),_c('div',{staticClass:\"ml-5\"},[_c('v-radio-group',{attrs:{\"row\":\"\"},on:{\"change\":_vm.changeAirState},model:{value:(_vm.airState),callback:function ($$v) {_vm.airState=$$v},expression:\"airState\"}},[_c('v-radio',{attrs:{\"label\":_vm.$t('Common.制空権確保'),\"value\":0}}),_c('v-radio',{attrs:{\"label\":_vm.$t('Common.航空優勢'),\"value\":1}}),_c('v-radio',{attrs:{\"label\":_vm.$t('Common.航空劣勢'),\"value\":2}})],1)],1)]),_c('div',{staticClass:\"graph-area\"},[_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.graphData,\"options\":_vm.options,\"title-text\":_vm.$t('Result.対敵通常艦隊')}})],1),_c('div',{staticClass:\"contact-graph\"},[_c('doughnut-chart',{attrs:{\"data\":_vm.unionGraphData,\"options\":_vm.unionOptions,\"title-text\":_vm.$t('Result.対敵連合艦隊')}})],1),_c('div',{staticClass:\"total-contact\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.rates[_vm.airState].sumRate.toFixed(1))+\" %\")])]),_c('div',{staticClass:\"total-contact-union\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.unionRates[_vm.airState].sumRate.toFixed(1))+\" %\")])])]),_c('div',{staticClass:\"contact-legends\"},_vm._l((_vm.graphLegends),function(legend,i){return _c('div',{key:(\"legend\" + i),staticClass:\"d-flex\"},[_c('div',{staticClass:\"legend-color-label\",style:((\"background-color: \" + (legend.color)))}),_c('div',{staticClass:\"ml-2\"},[_vm._v(_vm._s(legend.text))])])}),0),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.対敵通常艦隊\")))]),_c('div',{staticClass:\"contact-row header-row\"},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(\"Result.制空状態\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.触接開始率\")))]),_c('div',[_vm._v(\"×1.2\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.17\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.12\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))])]),_vm._l((_vm.rates),function(data,i){return _c('div',{key:i,staticClass:\"contact-row\",class:{ selected: i === _vm.airState }},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t((\"Common.\" + (_vm.airStatus[i])))))]),_c('div',[_vm._v(_vm._s(data.startRate.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact120.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact117.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact112.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.sumRate.toFixed(1))+\" %\")])])}),_c('div',{staticClass:\"mt-2\"},[_vm._v(_vm._s(_vm.$t(\"Result.対敵連合艦隊\")))]),_c('div',{staticClass:\"contact-row header-row\"},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t(\"Result.制空状態\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.触接開始率\")))]),_c('div',[_vm._v(\"×1.2\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.17\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(\"×1.12\"+_vm._s(_vm.$t(\"Result.触接率\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"Result.合計触接率\")))])]),_vm._l((_vm.unionRates),function(data,j){return _c('div',{key:'s' + j,staticClass:\"contact-row\",class:{ selected: j === _vm.airState }},[_c('div',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.$t((\"Common.\" + (_vm.airStatus[j])))))]),_c('div',[_vm._v(_vm._s(data.startRate.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact120.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact117.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.contact112.toFixed(1))+\" %\")]),_c('div',[_vm._v(_vm._s(data.sumRate.toFixed(1))+\" %\")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport Fleet from '@/classes/fleet/fleet';\r\nimport { ContactRate } from '@/classes/interfaces/contactRate';\r\nimport DoughnutChart, { DoughnutGraphData, DoughnutGraphOption, LabelCallbackArg } from '@/components/graph/Doughnut.vue';\r\nimport EnemyFleet from '@/classes/enemy/enemyFleet';\r\nimport Airbase from '@/classes/airbase/airbase';\r\n\r\nconst contactGraphLabels = ['x12触接', 'x117触接', 'x112触接', '触接不発'];\r\nconst contactGraphColors = ['rgba(100, 180, 255, 0.7)', 'rgba(80, 220, 120, 0.7)', 'rgba(255, 160, 100, 0.7)', 'rgba(128, 128, 128, 0.5)'];\r\nconst labelCallback = (c: LabelCallbackArg) => `${c.dataset.labels[c.dataIndex]}: ${c.parsed.toFixed(1)} %`;\r\n\r\nexport default Vue.extend({\r\n  name: 'ContactRates',\r\n  components: { DoughnutChart },\r\n  props: {\r\n    fleet: {\r\n      type: [Fleet, EnemyFleet, Airbase],\r\n      required: true,\r\n    },\r\n  },\r\n  data: () => ({\r\n    airState: 0,\r\n    airStatus: ['制空権確保', '航空優勢', '航空劣勢'],\r\n    graphData: {},\r\n    unionGraphData: {},\r\n    rates: [] as ContactRate[],\r\n    unionRates: [] as ContactRate[],\r\n    options: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n    unionOptions: {\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: '' },\r\n        tooltip: { callbacks: { label: labelCallback } },\r\n        datalabels: { formatter: (v: number) => (v > 0 ? `${v.toFixed(1)}%` : '') },\r\n      },\r\n    } as DoughnutGraphOption,\r\n    graphLegends: [] as { text: string; color: string }[],\r\n  }),\r\n  created() {\r\n    // 初期化はお早めに\r\n    this.calculate();\r\n  },\r\n  methods: {\r\n    calculate() {\r\n      this.rates = this.fleet.getContactRates();\r\n      this.unionRates = this.fleet.getContactRates(true);\r\n\r\n      this.graphData = this.getGraphData(this.rates[this.airState]);\r\n      this.unionGraphData = this.getGraphData(this.unionRates[this.airState]);\r\n\r\n      this.graphLegends = [];\r\n      for (let i = 0; i < 4; i += 1) {\r\n        this.graphLegends.push({ text: `${this.$t(`Result.${contactGraphLabels[i]}`)}`, color: contactGraphColors[i] });\r\n      }\r\n    },\r\n    changeAirState(): void {\r\n      this.graphData = this.getGraphData(this.rates[this.airState]);\r\n      this.unionGraphData = this.getGraphData(this.unionRates[this.airState]);\r\n    },\r\n    getGraphData(rate: ContactRate): DoughnutGraphData {\r\n      const data = {\r\n        labels: contactGraphLabels,\r\n        datasets: [\r\n          {\r\n            data: [0, 0, 0, 100],\r\n            backgroundColor: contactGraphColors,\r\n            borderColor: '#fff',\r\n            labels: contactGraphLabels,\r\n          },\r\n        ],\r\n      };\r\n      if (rate) {\r\n        data.datasets[0].data = [rate.contact120, rate.contact117, rate.contact112, 100 - rate.sumRate];\r\n      }\r\n      return data;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactRates.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContactRates.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContactRates.vue?vue&type=template&id=68c3a088&scoped=true&\"\nimport script from \"./ContactRates.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContactRates.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ContactRates.vue?vue&type=style&index=0&id=68c3a088&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68c3a088\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VRadio,VRadioGroup})\n"],"names":["Optimizer","static","ship","allItems","isStockMode","items","filter","v","ShipValidation","data","gun","getBestAAItem","iconTypeId","antiAirRadar","minAA","specialMachineGun","apiTypeId","isSpecial","shipId","id","cutInPreset","type2","radar","gun1Index","findIndex","remodel","gun2","i","machineGun","push","weakGun","maxAA","weakMachineGun","includes","hunshin","find","Item","sanshiki","gun2Index","gun3","Const","version","mainGun","ponpon","rocketIndex","rocketLauncher","rocketLauncher2","GFCSGunIndex","GFCSGun","GFCSGun2","gun5inchKaiIndex","gun5inchKai","gun5inchKai2","gun5inchIndex","gun5inch","gun5inch2","radarGFCSMk37","ci3637Items","length","concat","GFCS5inchIndex","GFCS5inchGun","GFCS5inchGun2","ci4041Items","syuchu10cmIndex","syuchu10cm","syuchu10cm2","yamatoRadar","yamatoRadar2","ex10cmSecGun","ciItems","gun356Kai4","gun356Kai3","specialGun","specialGun2","kosha","x","some","y","cond","value","antiAir","maxAntiAirBonus","maxAntiAirWeight","subMaxScore","returnItem","item","bonuses","Ship","sumAABonus","sum","map","score1","antiAirBonus","score2","antiAirWeight","subScore","dayBattleFirePower","firePower","decideFlag","ships","allFighterSlots","allFighters","allSPFighterSlots","allSPFighters","isEmpty","isActive","j","isFighter","shipIndex","slotIndex","slot","fullSlot","sort","a","b","actualAntiAir","resultShips","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","on","close","model","callback","$$v","tab","expression","fleet","fullAirPower","fullBorders","fullAirbaseAirPower","fullAirbaseBorders","_e","number","mainAirPower","mainAirbaseAirPower","_l","enemy","key","showItemList","escortAirPower","escortAirbaseAirPower","ref","staticRenderFns","Vue","components","EnemyInput","AntiAirCalculator","ContactRates","name","props","handleShowItemList","type","Function","EnemyFleet","required","handleClose","mounted","contact","$refs","contactRates","calculate","antiAirCalculator","updateTable","methods","enemyIndex","component","VBtn","hp","actualArmor","getEnemyName","fullLBAirPower","airPowerDetail","airPowerDetailAB","sumItemAccuracy","sumSlot","$event","bootTooltip","clearTooltip","slots","readonly","updateItem","$set","tooltipX","tooltipY","enabledTooltip","tooltipItem","ItemInput","ItemTooltip","Enemy","Boolean","default","tooltipTimer","undefined","computed","airPowers","isRecon","join","setting","$store","state","siteSetting","$i18n","locale","nameIsNotTranslate","shipName","EnemyMaster","trans","index","$emit","e","disabledItemTooltip","nameDiv","target","getElementsByClassName","window","clearTimeout","setTimeout","rect","getBoundingClientRect","width","height","Math","max","popUpCount","VCard","keyword","isLandBase","directives","rawName","class","active","disabled","changeType","isNotJapanese","text","row","needTrans","clickedEnemy","armor","isUnknown","tooltipEnemy","EnemyTooltip","handleDecideEnemy","all","enemies","types","existTypes","defaultEnemies","word","result","t","indexOf","nameDividers","divName","substring","startsWith","clientX","manualEnemies","manualEnemy","Ripple","antiAirCutIn","VImg","setDraggable","resetDraggable","dragStart","dragEnd","dragEnter","dragLeave","stopPropagation","dropShip","preventDefault","showShipList","apply","arguments","_k","keyCode","scopedSlots","_u","fn","_g","_b","showTempShip","isNoShip","bootShipTooltip","area","maxAreas","onEditStatusMenuToggle","level","luck","editStatusMenu","maxLevel","_n","maxHp","minHP","maxAsw","minAsw","asw","maxLuck","closeEditStatusMenu","removeShip","rateDownValue","fixDown","hunshinRate","toFixed","rangeText","displayStatus","range","enabledTSBK","improveAsw","itemAsw","itemBonusStatus","missingAsw","needTSBKLevel","toggleVersion","showItemPresets","hideActiveButton","changeActive","resetItems","exItem","releaseExpand","tooltipBonus","enabledShipTooltip","fleetRosCorr","ShipTooltip","handleShowShipList","handleCloseShip","handleShowTempShipList","handleShowItemPreset","Number","rateDown","isLine2","ShipMaster","floor","enabledConvert","master","isFinal","originalId","areaCount","hp2","watch","min","setShip","builder","versions","newVersion","newItems","newExItem","bonusHP","newHP","newAsw","originalLuck","improvementLuck","closest","parent","setAttribute","draggingDiv","document","getElementById","classList","contains","draggable","style","opacity","dispatch","shipInputList","add","boxShadow","d","moveData","draggingShipData","remove","baseItems","tempItems","cloneDeep","emptyBonus","totalEmptyBonus","ItemBonus","totalBonus","itemBonuses","torpedo","avoid","accuracy","bomber","scout","JSON","stringify","disabledShipTooltip","clientY","actualData","actualOptions","plugins","Chart","ChartDataLabels","registerables","vueCompositionApi","extend","DoughnutChart","Object","options","titleText","String","doughnutRef","$vuetify","theme","dark","datasets","borderColor","datalabels","color","title","itemClass","isDraggable","dropItem","isPlane","isExpandSlot","draggingNow","onSlotMenuToggle","isReleased","isNoItem","slotMenu","slotValue","init","itemName","bonusText","isEnemy","canRemodel","remodelIconColor","remodelLabelColor","setRemodel","setLevel","getLevelValue","deathIndicatorColor","hover","removeItem","deathRate","dragSlot","itemParent","handleDragStart","classes","displayBonusKey","bonus","showDeathRateIndicator","isTriangleIcon","isGraphicModeDeathRateIndicator","setItem","transfer","dataTransfer","setData","dataset","itemId","apiType","itemInputs","backgroundColor","ItemMaster","Airbase","droppedData","getData","ctrlKey","prevData","parse","airbaseMaxSlot","elements1","elements2","itemData","filterStatusItems","changedFilter","filterStatus","filterStatusValue","resetFilter","multiLine","primary","secondary","changeMultiLine","isEnemyMode","isAirbaseMode","toggleAffectingRangeFilter","toggleLandBaseAttackFilter","onlyNightAircraft","onlyAAResistAircraft","includeSonar","includeDepthCharge","includeDepthChargeLauncher","isSpecialOnly","isStockOnly","sortExcludeRemodelStatus","sortExcludeSynergyStatus","itemStock","clickedStockOnly","showBlacklist","blacklistItemIds","viewItems","sortDialog","desc","sortKey","isDesc","asc","toggleSortKey","isShow","viewStatus","multi","count","single","sumBonus","clickedItem","formatStatus","actualFire","isShowDayBattleFire","isAircraftMode","aircraftDayBattleFirePower","actualTorpedo","nightBattleFirePower","actualBomber","actualDefenseAntiAir","actualAsw","actualAvoid","actualScout","actualAccuracy","antiBomber","isShowRadius","radius","cost","tp","avoidTexts","avoidId","defenseAirPower","confirmDialog","confirmItem","toggleBlacklistDialog","blacklistDialog","closeBlacklist","selectSortKey","handleSortItem","resetOrdering","isJapanese","BlacklistItemEdit","handleEquipItem","handleChangeWidth","avoids","isEnabledLandBaseAttack","onlyEnabledLandBaseAttack","onlyDisabledLandBaseAttack","onlyAffectingRange","onlyNotAffectingRange","SiteSetting","usedItems","headerItems","sortKeyItems","blacklistItems","decidedItem","wikiDialog","isMultiLineForItemList","isCV","itemListData","targetItems","depthChargeLauncher","splice","resultItems","isStrictDepthCharge","typeName","enabledTypes","apis","enabledItems","api","selectedType","selected","isShowFire","isShowNightBattleFire","isShowTorpedo","isShowBomber","isShowAntiAir","isShowActAntiAir","isShowDefAntiAir","isShowArmor","isShowAsw","isShowActualAsw","isShowAvoid","isShowScout","isShowAccuracy","isShowAntiBomber","isShowAntiAirWeight","isShowAntiAirBonus","isShowCost","isShowTP","isShowAvoidText","isShowAirPower","isShowDefAirPower","enabledNightAircraftFilter","enabledAAResistFilter","isStockOnlyForItemList","initialFilter","getters","getExistsTempStock","tempItemStock","isExpand","mainData","mainSaveData","manager","tempData","tempIndex","fleetInfo","fleets","airbases","airbaseInfo","filterData","savedItemListFilter","enemyItems","isEnemyItem","toUpperCase","bonusKey","isNightAircraftItem","list","usedItem","withoutRemodel","withoutSynergy","iniLevels","planeInitialLevels","stock","iniLevel","stockData","num","ignoreRemodelBonus","usedCount","isSPPlane","currentRange","filterValue","filterKey","replace","isActualFilterKey","sortItems","event","wikiURL","encodeURI","replaceAll","open","isMulti","isNameSort","isActualValue","sa","m","padStart","sb","FocusEvent","left","disabledCommit","readyPreset","isPresetItemEmpty","isAACIMode","selectedIndex","overwritePreset","sortEnd","presets","preset","clickedPreset","expandPreset","uniquePresets","clickedUniquePreset","spec1","spec2","selectedPreset","trim","savePreset","isLack","exItemView","deletePreset","snackbar","infoText","ItemPreset","oldPresets","old","newPreset","itemIds","exItemId","handleExpandItemPreset","savedPresets","itemPresets","convertOldItemPresets","getAACIPreset","itemView","itemMasters","assumedId","assumedItem","maxId","isForce","baseIds","allItemMasters","stocks","shipItems","isChecked","airbaseItems","parentItems","idx","uncheckedUsedItem","aaciItems","assumedItems","cutIn","lastItem","isAssumeExItem","slotCount","assign","c1","c2","rateBonus","formations","formation","antiAirItems","cutInId","attackerSlot","isManual","showAntiAirMode","adj1","adj2","fleetAntiAir","setAntiAirCutInTable","isAirRaid","fix","variable","rate","proxy","graphData","totalCutInRate","warn","danger","getShipName","labelCallback","c","labels","dataIndex","parsed","Fleet","stage2Data","antiAirCutIns","legend","display","tooltip","callbacks","label","formatter","correction","c3","c4","detail","cutIns","allAntiAirCutIn","borders","shootDownList","border","sumRate","cutin","remarks","adj3","adj4","abs","manualAvoid","aaci","AntiAirCutIn","stage2","ShootDownInfo","isUnion","antiAirWeightList","rateDownList","fixDownList","minimumDownList","getFleetAntiAir","fixCorrA","fixCorrB","rateCorr","priorities","indexA","indexB","colorCount","colors","colorCorr","doneColorIds","noneRate","VCheckbox","changeAirState","airState","unionGraphData","unionOptions","rates","unionRates","airStatus","startRate","contact120","contact117","contact112","contactGraphLabels","contactGraphColors","graphLegends","created","getContactRates","getGraphData","VRadio"],"sourceRoot":""}