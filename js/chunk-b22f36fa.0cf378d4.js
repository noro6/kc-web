(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b22f36fa"],{1568:function(t,e,i){},1700:function(t,e,i){"use strict";i("c98e")},"17b3":function(t,e,i){},"1af3":function(t,e,i){},"210b":function(t,e,i){},"33e9":function(t,e,i){},"3d95":function(t,e,i){var a=i("a243"),s=i("cd9d");function n(t){return a(t,s)}t.exports=n},"4c53":function(t,e,i){"use strict";var a=i("23e7"),s=i("857a"),n=i("af03");a({target:"String",proto:!0,forced:n("sub")},{sub:function(){return s(this,"sub","","")}})},"5a36":function(t,e,i){"use strict";i("af0a")},"81eb":function(t,e,i){"use strict";i("1568")},"8e03":function(t,e,i){"use strict";i("d3bc")},"8ee7":function(t,e,i){},"9a18":function(t,e,i){"use strict";var a=i("ba0d");e["a"]=a["a"]},a243:function(t,e,i){var a=i("ecf6"),s=NaN;function n(t,e){var i=null==t?0:t.length;return i?a(t,e)/i:s}t.exports=n},af0a:function(t,e,i){},c0e6:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ma-4"},[i("div",{staticClass:"mb-3"},[i("v-icon",{attrs:{"x-large":""}},[t._v("mdi-database-cog")]),i("span",{staticClass:"ml-1"},[t._v("艦娘 / 装備管理")])],1),i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",{attrs:{href:"#ships"}},[t._v("艦娘")]),i("v-tab",{attrs:{href:"#items",disabled:t.loading}},[t._v("装備")]),i("v-tab",{attrs:{href:"#read",disabled:t.readOnlyMode||t.loading}},[t._v("反映")]),i("v-tab",{attrs:{href:"#share",disabled:t.loading}},[t._v("共有")])],1),i("v-divider"),i("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{attrs:{value:"ships"}},[i("ships")],1),i("v-tab-item",{attrs:{value:"items"}},[i("items")],1),i("v-tab-item",{attrs:{value:"read"}},[i("div",{staticClass:"general-container pa-4 my-2"},[i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("1. 艦これにログイン後、艦これ画面上で右クリックし、コンテキストメニューから「検証」を選択")]),i("div",[t._v("※ 以降、反映手順については、PC版ブラウザ『Google Chrome』における説明となっています。")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial1.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("2. ウインドウが開くので、「Console」タブを開き、「Clear console」ボタンを押下")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial2.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("3. consoleに「this.KCS」と入力してEnterを押下、表示されたオブジェクトについて矢印を選択して内容を展開")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial3.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("4. 4つあるオブジェクトのなかで、内容が「{__esModule: true, default: ƒ}」となっているオブジェクトを探す")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial4.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("5. 4で見つけたオブジェクトのうち、「default」まで展開したときに中に「model」が存在するものを探す")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial5.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v(" 6. 「model」が存在する方の「default」の上で右クリックし、「Store function as global variable」（なければ「Store as global variable」）を選択 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial6.jpg"}})],1),i("div",[t._v(" 選択すると、下記のように「temp1」と出てきます。もし、temp2など数字が違っている場合、次の手順7.の注意事項欄を見てください。 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial6_2.jpg"}})],1)]),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v(" 7. 下記のJavaScriptコードをconsoleに貼り付け、Enterを押下。※ 押下後、『undefined』と表示されれば、クリップボードに自動コピーされており、そのまま手順8の入力欄に貼り付けることができます。 ")]),i("div",{staticClass:"d-flex"},[i("v-radio-group",{staticClass:"py-0",attrs:{row:"","hide-details":""},model:{value:t.includeUnLocked,callback:function(e){t.includeUnLocked=e},expression:"includeUnLocked"}},[i("v-radio",{attrs:{label:"未ロックも含める",value:!0}}),i("v-radio",{attrs:{label:"ロック済みのみ",value:!1}})],1)],1),i("div",[i("v-tabs",{model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[i("v-tab",{attrs:{href:"#ship_code"}},[t._v("艦娘")]),i("v-tab",{attrs:{href:"#item_code"}},[t._v("装備")])],1)],1),i("v-tabs-items",{attrs:{touchless:!0},model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[i("v-tab-item",{attrs:{value:"ship_code"}},[i("v-card",{staticClass:"copy_code"},[t._v(" copy(JSON.stringify(Object.entries("),i("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.ship._map).map(([,v])=>{return{'id': v._o.api_ship_id,'lv': v._o.api_lv,'locked': v._o.api_locked,'st': v._o.api_kyouka,'exp':v._o.api_exp,'ex':v._o.api_slot_ex,'area':v._o.api_sally_area}})"),t.includeUnLocked?t._e():i("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv','st','exp','ex','area'])) ")])],1),i("v-tab-item",{attrs:{value:"item_code"}},[i("v-card",{staticClass:"copy_code"},[t._v(" copy(JSON.stringify(Object.entries("),i("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.slot._map).map(([,v])=>{return {'id':v._o.api_slotitem_id,'lv': v._o.api_level,'locked':v._o.api_locked}})"),t.includeUnLocked?t._e():i("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv'])) ")])],1)],1),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial7.jpg"}})],1),i("div",{staticClass:"warning_box mt-3"},[i("div",[t._v("注意事項")]),i("div",{staticClass:"mt-1"},[t._v(" 手順6.「Store function as global variable」を選択した際に出てくる「"),i("span",{staticClass:"red--text"},[t._v("temp○○")]),t._v("」と、 上記JavaScript内の「"),i("span",{staticClass:"red--text"},[t._v("temp○○")]),t._v("」は一致させる必要があります。 ")]),i("div",[t._v(" 手順通りやるとtemp1となりますが、手順6.で例えば「temp2」と出てきていたら、JavaScriptコードの「temp1」の部分を「temp2」と自分で書き換えて実行してください。 ")]),i("div",{staticClass:"tutorial_img"},[i("v-img",{attrs:{src:"./img/tutorial/tutorial7_2.jpg"}})],1)])],1),i("v-card",{staticClass:"tutorial_box"},[i("div",[t._v("8. 下記の反映エリアに、手順7.でコピーされた文字列を貼り付けて「反映」を押下")]),i("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:"反映エリア"},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),i("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v("反映")])],1)],1)]),i("v-tab-item",{attrs:{value:"share"}},[i("v-card",{staticClass:"my-3 pa-2"},[i("div",{staticClass:"d-flex pt-3 pb-4"},[i("div",{staticClass:"align-self-center ml-3"},[t._v("共有URL発行機能")])]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("URL発行")]),i("div",{staticClass:"body-2"},[t._v("自分の艦隊、装備情報を他の人に見てもらうためのURLを発行します。")]),i("div",{staticClass:"body-2"},[t._v(" 発行された情報は閲覧専用です。発行されたURLを他人に公開しても、自分の艦娘や装備情報が書き換えられてしまうことはありません。 ")]),i("div",{staticClass:"body-2 mb-3"},[t._v("閲覧する側は、共有された艦娘や装備情報を元に編成を作成することができます。")]),i("div",{staticClass:"shared-url-container"},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.createdURL,expression:"!createdURL"}],attrs:{color:"primary",loading:t.loadingURL,disabled:t.loadingURL||t.readOnlyMode},on:{click:function(e){return t.requestURLKey()}}},[t._v("共有URL作成")]),i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.createdURL,expression:"createdURL"}],attrs:{id:"created-url",readonly:"","append-icon":"mdi-content-copy",hint:t.copiedURLHint},on:{"click:append":t.copyURL,blur:t.clearURLHint},model:{value:t.createdURL,callback:function(e){t.createdURL=e},expression:"createdURL"}})],1)]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("発行履歴")]),t._l(t.outputHistories,(function(e,a){return i("v-card",{key:"history_"+a,staticClass:"ma-2 pa-3"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"mr-2 align-self-center caption"},[i("div",[t._v("発行日:")]),i("div",[t._v(t._s(e.createdAt))])]),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"info",disabled:t.expandBtnClicked||t.readOnlyMode},on:{click:function(e){return t.expandHistory(a)}}},[t._v("展開")])],1),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.clickedDeleteHistory(a)}}},[t._v("削除")])],1),i("div",{staticClass:"mr-2 align-self-center"},[i("v-btn",{attrs:{color:"success",disabled:!e.remarks||!e.remarks.length},on:{click:function(e){return t.updateHistory(a)}}},[t._v("更新")])],1),i("div",{staticClass:"align-self-center flex-grow-1"},[i("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",label:"Memo"},model:{value:e.remarks,callback:function(i){t.$set(e,"remarks",i)},expression:"data.remarks"}})],1)])])}))],2)],1),i("v-card",{staticClass:"my-3 pa-2"},[i("div",{staticClass:"d-flex pt-3 pb-4"},[i("div",{staticClass:"align-self-center ml-3"},[t._v("他サイト連携")])]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("艦隊分析コード")]),i("div",{staticClass:"body-2"},[i("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1NuLlff6EXM0XQ_qNHP9lEOosbwHXamaVNJb72M7ZLoY",target:"_blank"}},[t._v("艦隊分析スプレッドシート")]),t._v("等で読み込めるコードです。現在閲覧中の情報が出力されています。 ")]),i("div",{staticClass:"mt-4"},[i("v-text-field",{attrs:{id:"analytics-ship-code",outlined:"",readonly:"",dense:"",label:"艦隊コード","append-icon":"mdi-content-copy",hint:t.copiedShipCodeHint},on:{"click:append":t.copyShipCode,blur:t.clearShipCodeHint},model:{value:t.kantaiAnalyticsShipsCode,callback:function(e){t.kantaiAnalyticsShipsCode=e},expression:"kantaiAnalyticsShipsCode"}})],1),i("div",[i("v-text-field",{attrs:{id:"analytics-item-code",outlined:"",readonly:"",dense:"",label:"装備コード","append-icon":"mdi-content-copy",hint:t.copiedItemCodeHint},on:{"click:append":t.copyItemCode,blur:t.clearItemCodeHint},model:{value:t.kantaiAnalyticsItemsCode,callback:function(e){t.kantaiAnalyticsItemsCode=e},expression:"kantaiAnalyticsItemsCode"}})],1)]),i("v-divider"),i("div",{staticClass:"pa-4"},[i("div",{staticClass:"mb-2"},[t._v("艦隊晒しページ(仮)")]),i("div",{staticClass:"body-2"},[i("a",{attrs:{href:t.kantaiSarashiURL,target:"_blank"}},[t._v("艦隊晒しページ(仮)で展開する場合はこちらから")])])])],1)],1)],1),i("div",{staticClass:"info-area"},[i("v-divider",{staticClass:"mb-2"}),i("div",{staticClass:"caption"},[t._v(" 著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。 ")]),i("div",{staticClass:"caption"},[t._v("また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。")])],1),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"ma-4"},[i("div",[t._v("本当に削除しますか？")])]),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"info",dark:"",disabled:!t.confirmDialog},on:{click:function(e){return e.stopPropagation(),t.deleteHistory()}}},[t._v("削除")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v("戻る")])],1)],1)],1),i("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("v-card",{attrs:{dark:""}},[i("v-card-text",[i("div",{staticClass:"pt-2"},[t._v("在籍艦娘 / 所持装備データ読込中...")]),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},s=[],n=i("1da1"),o=(i("96cf"),i("99af"),i("d81d"),i("4de4"),i("d3b7"),i("e9c4"),i("7db0"),i("a15b"),i("caad"),i("2532"),i("4e827"),i("2b0e")),l=i("abdd"),r=i.n(l),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",{attrs:{href:"#list"}},[t._v("一覧")]),t.shipStock.length?i("v-tab",{attrs:{href:"#group"}},[t._v("札管理")]):t._e(),i("v-tab",{attrs:{href:"#analytics"}},[t._v("経験値")]),t.readOnly?i("v-tab",{attrs:{href:"#compare"}},[t._v("比較")]):t._e()],1),i("v-divider",{staticClass:"mb-2"}),i("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{attrs:{value:"list"}},[i("v-expansion-panels",[i("v-expansion-panel",[i("v-expansion-panel-header",{staticClass:"px-4"},[i("div",[i("v-icon",[t._v("mdi-filter")]),t._v("フィルタ "),i("span",{staticClass:"caption"},[t._v("("+t._s(t.viewShips.length)+"隻 / "+t._s(t.allCount)+"隻)")])],1)]),i("v-expansion-panel-content",[i("v-divider",{staticClass:"mb-6"}),i("div",{staticClass:"d-flex flex-wrap my-2"},[i("v-text-field",{staticClass:"search-input",attrs:{label:"名称検索",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.masterFilter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未着任艦非表示"},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未着任艦のみ"},on:{change:t.filter},model:{value:t.onlyNoStock,callback:function(e){t.onlyNoStock=e},expression:"onlyNoStock"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"耐久値4n"},on:{change:t.filter},model:{value:t.is4n,callback:function(e){t.is4n=e},expression:"is4n"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"大発搭載可"},on:{change:t.filter},model:{value:t.isDiahatsu,callback:function(e){t.isDiahatsu=e},expression:"isDiahatsu"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"内火艇搭載可"},on:{change:t.filter},model:{value:t.isKamisha,callback:function(e){t.isKamisha=e},expression:"isKamisha"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"補強増設開放済"},on:{change:t.filter},model:{value:t.onlyReleaseExSlot,callback:function(e){t.onlyReleaseExSlot=e},expression:"onlyReleaseExSlot"}})],1),i("div",{staticClass:"my-5 range-inputs"},[i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"Lv下限",type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:t.filter},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"Lv上限",type:"number",max:"200",min:t.levelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運下限",type:"number",max:t.luckRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,"string"===typeof e?e.trim():e)},expression:"luckRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},on:{change:t.filter},model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運上限",type:"number",max:"200",min:t.luckRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,"string"===typeof e?e.trim():e)},expression:"luckRange[1]"}})],1)],1)]),i("div",{staticClass:"my-5 range-inputs"},[i("v-select",{staticClass:"mt-2 py-5",attrs:{items:t.hpItems,dense:"",attach:"",chips:"","deletable-chips":"","hide-details":"",label:"耐久改修",multiple:""},on:{change:t.filter},model:{value:t.addHP,callback:function(e){t.addHP=e},expression:"addHP"}}),i("div",{staticClass:"d-flex py-5"},[i("div",{staticClass:"range-input align-self-end"},[i("v-text-field",{attrs:{label:"対潜改修下限",type:"number",max:t.aswRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[0],callback:function(e){t.$set(t.aswRange,0,"string"===typeof e?e.trim():e)},expression:"aswRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"9","hide-details":""},on:{change:t.filter},model:{value:t.aswRange,callback:function(e){t.aswRange=e},expression:"aswRange"}}),i("div",{staticClass:"range-input align-self-end"},[i("v-text-field",{attrs:{label:"対潜改修上限",type:"number",max:"9",min:t.aswRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[1],callback:function(e){t.$set(t.aswRange,1,"string"===typeof e?e.trim():e)},expression:"aswRange[1]"}})],1)],1)],1),i("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:"艦種",multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[i("v-list-item-action",[i("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("全選択")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),i("div",{staticClass:"d-flex"},[t._l(t.maxAreas,(function(e){return i("div",{key:"area"+e,staticClass:"selected-area-btn align-self-center",class:{selected:t.selectedArea.includes(e)},on:{click:function(i){return t.clickedArea(e)}}},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e+".png",height:"68",width:"47"}})],1)})),i("div",{staticClass:"selected-area-btn no-area align-self-center",class:{selected:t.visibleNoArea},on:{click:function(e){return t.clickedArea(-1)}}},[t._v(" 札なし ")])],2)],1)],1)],1),i("v-card",{staticClass:"ship-list-body my-3 pa-4"},[t.viewShips.length?i("div",{staticClass:"d-flex"},[t.modeTable&&t.viewShips.length?i("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),i("v-btn-toggle",{staticClass:"ml-auto",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.modeTable,callback:function(e){t.modeTable=e},expression:"modeTable"}},[i("v-btn",{class:{"blue darken-2 white--text":t.modeTable},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!0)}}},[i("v-icon",[t._v("mdi-view-headline")]),i("span",[t._v("一覧表示")])],1),i("v-btn",{class:{"blue darken-2 white--text":!t.modeTable},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!1)}}},[i("v-icon",[t._v("mdi-view-comfy")]),i("span",[t._v("艦隊分析表示")])],1)],1)],1):i("div",{staticClass:"text-center my-10"},[i("div",[t._v("みつからないよ")])]),t.modeTable?i("div",{staticClass:"ship-table"},[t.viewShips.length?i("div",{staticClass:"ship-tr header",class:{asc:!t.isDesc}},[i("v-spacer"),i("div",{staticClass:"status-td",class:{sorted:"level"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("level")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" Lv ")]),i("div",{staticClass:"status-td",class:{sorted:"hp"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("hp")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 耐久 ")]),i("div",{staticClass:"status-td",class:{sorted:"luck"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("luck")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 運 ")]),i("div",{staticClass:"status-td",class:{sorted:"asw"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("asw")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 対潜 ")]),i("div",{staticClass:"status-td",class:{sorted:"scout"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("scout")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 索敵 ")]),i("div",{staticClass:"status-td",class:{sorted:"acurracy"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("acurracy")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 命中項 ")]),i("div",{staticClass:"status-td",class:{sorted:"avoid"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("avoid")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" 回避項 ")]),i("div",{staticClass:"status-td",class:{sorted:"ci"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("ci")}}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" CI項 ")])],1):t._e(),t._l(t.shipList,(function(e,a){return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"row_"+a,staticClass:"ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(i){return i.stopPropagation(),t.showEditDialog(e)},mouseenter:function(i){return t.bootTooltip(e,i)},mouseleave:t.clearTooltip}},[i("div",{staticClass:"edit-stock-img"},[i("v-img",{attrs:{src:"./img/ship/"+e.ship.id+".png",height:"50",width:"200"}}),e.stockData.area>0&&e.stockData.area<=t.maxAreas?i("div",{staticClass:"area-banner mt-1"},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e.stockData.area+".png",height:"60",width:"42"}})],1):t._e(),e.stockData.releaseExpand?i("div",{staticClass:"slot-ex-img"},[i("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"36",width:"36"}})],1):t._e()],1),i("div",{staticClass:"ml-1 td-name text-truncate"},[t._v(t._s(e.ship.name))]),i("div",{staticClass:"status-td"},[t._v(t._s(e.stockData.level))]),i("div",{staticClass:"status-td td-relative",class:{bold:e.impHP}},[t._v(" "+t._s(e.hp)+" "),e.impHP?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impHP))]):t._e()]),i("div",{staticClass:"status-td td-relative",class:{bold:e.impLuck}},[t._v(" "+t._s(e.luck)+" "),e.impLuck?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impLuck))]):t._e()]),e.count?i("div",{staticClass:"status-td td-relative",class:{bold:e.impAsw}},[t._v(" "+t._s(e.asw)+" "),e.impAsw?i("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impAsw))]):t._e()]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.scout))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.acurracy))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.avoid))]):t._e(),e.count?i("div",{staticClass:"status-td"},[t._v(t._s(e.ci))]):i("div",{staticClass:"status-td no-status d-flex"},[i("div",{staticClass:"line"}),i("div",[t._v("未着任")]),i("div",{staticClass:"line"})])])})),i("div",{staticClass:"d-flex"},[t.viewShips.length?i("v-pagination",{staticClass:"my-4",attrs:{length:t.pageLength},on:{input:t.scrollTop},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),i("v-spacer")],1)],2):[i("div",{staticClass:"d-flex flex-wrap"},t._l(t.altViewShips,(function(e,a){return i("div",{key:"type_row"+a,staticClass:"type-container"},[i("div",{staticClass:"ma-2"},[t._v(t._s(e.typeName))]),i("div",{staticClass:"type-divider"}),i("div",{staticClass:"d-flex flex-wrap"},t._l(e.rows,(function(e,a){return i("div",{key:"outer_row_"+a,staticClass:"ship-card ma-1 px-2 pt-2"},t._l(e,(function(e,a){return i("div",{key:"row_"+a,staticClass:"mt-1 mb-2"},[i("div",{staticClass:"d-flex"},[i("div",[t._v(t._s(e.master.name))]),i("v-spacer"),i("div",{staticClass:"caption align-self-end"},[t._v("在籍: "+t._s(e.count))])],1),i("div",{staticClass:"status-img",class:{no_ship:0===e.count}},[i("img",{staticClass:"status-img",attrs:{src:"./img/ship/"+e.master.id+".png"}})]),t._l(e.detail,(function(e,a){return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"detail_"+a,staticClass:"detail-row ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(i){return i.stopPropagation(),t.showEditDialog(e)},mouseenter:function(i){return t.bootTooltip(e,i)},mouseleave:t.clearTooltip}},[e.count?[i("div",{staticClass:"status-col sm"},[i("div",[t._v(t._s(e.level))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_hp.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impHP}},[t._v(t._s(e.hp))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_asw.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impAsw}},[t._v(t._s(e.asw))])]),i("div",{staticClass:"status-col"},[i("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_luck.png",height:"16"}}),i("div",{staticClass:"align-self-center",class:{bold:e.impLuck}},[t._v(t._s(e.luck))])]),i("div",{staticClass:"status-area-img",class:{"exist-img":e.stockData.area>0}},[e.stockData.area>0?i("img",{staticClass:"status-area-img",attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e.stockData.area+"_min.png"}}):t._e()]),i("div",{staticClass:"status-ex-img"},[e.stockData.releaseExpand?i("img",{staticClass:"status-ex-img",attrs:{src:"./img/util/slot_ex.png",height:"24",width:"24"}}):t._e()])]:[i("div",{staticClass:"mx-auto text-center no_ship"},[t._v("新規登録")])]],2)}))],2)})),0)})),0)])})),0)]],2)],1),i("v-tab-item",{attrs:{value:"group"}},[i("area-manager",{attrs:{readonly:t.readOnly}})],1),i("v-tab-item",{attrs:{value:"analytics"}},[i("analytics")],1),i("v-tab-item",{attrs:{value:"compare"}},[i("compare")],1)],1),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editRow&&t.versionButtons.length?i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"mx-2 mt-2"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"align-self-center edit-stock-img"},[i("v-img",{attrs:{src:"./img/ship/"+t.versionButtons[t.version].id+".png",height:"50",width:"200"}}),t.editRow.stockData.area>0&&t.editRow.stockData.area<=t.maxAreas?i("div",{staticClass:"area-banner"},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+t.editRow.stockData.area+".png",height:"68",width:"47"}})],1):t._e()],1),i("div",{staticClass:"align-self-center ml-2"},[i("v-btn-toggle",{staticClass:"flex-wrap",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versionButtons,(function(e,a){return i("v-btn",{key:"ver"+a,attrs:{value:a},on:{click:function(e){return e.stopPropagation(),t.changeVersion(a)}}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(e.name))])])})),1)],1)]),i("v-divider",{staticClass:"mt-3"}),i("div",{staticClass:"d-flex mt-3"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"練度(Lv)",type:"number",max:"175",min:"1","hide-details":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}})],1),i("v-slider",{staticClass:"mx-5 align-self-center",attrs:{"hide-details":"",max:"175",min:"1","thumb-label":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}}),i("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"teal",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=99}}},[t._v("LV99")])],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"運",type:"number",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"hide-details":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"thumb-label":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"耐久改修",type:"number",max:"2",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"2",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),i("div",{staticClass:"d-flex mt-8"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"対潜改修",type:"number",max:"9",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),i("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"9",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),i("div",{staticClass:"mt-4 d-flex"},[i("v-checkbox",{attrs:{label:"補強増設開放済み"},model:{value:t.editRow.stockData.releaseExpand,callback:function(e){t.$set(t.editRow.stockData,"releaseExpand",e)},expression:"editRow.stockData.releaseExpand"}}),i("v-spacer"),t._l(t.maxAreas,(function(e){return i("div",{key:"area"+e,staticClass:"selected-area-btn",class:{selected:t.editRow.stockData.area===e},on:{click:function(i){return i.stopPropagation(),t.toggleArea(e)}}},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e+".png",height:"68",width:"47"}})],1)}))],2),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{disabled:t.btnPushed||t.readOnly,color:"info"},on:{click:function(e){return e.stopPropagation(),t.registStock.apply(null,arguments)}}},[t._v("着任")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:t.btnPushed||!t.editRow.stockData.uniqueId||t.readOnly,color:"success"},on:{click:function(e){return e.stopPropagation(),t.updateStock.apply(null,arguments)}}},[t._v(" 更新 ")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.editRow.stockData.uniqueId||t.readOnly,color:"error"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!0}}},[t._v("除籍")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v("戻る")])],1)],1)]):t._e()],1),i("v-dialog",{attrs:{width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"ma-4"},[i("div",[t._v("本当に除籍しますか？")])]),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"error",disabled:t.btnPushed,dark:""},on:{click:function(e){return e.stopPropagation(),t.deleteStock.apply(null,arguments)}}},[t._v("除籍")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v("やっぱやめとく")])],1)],1)],1),i("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[i("ship-tooltip",{attrs:{value:t.tooltipShip}})],1)],1)},d=[],u=(i("fb6a"),i("b0c0"),i("159b"),i("b64b"),i("498a"),i("0481"),i("4069"),i("c740"),i("004e")),p=i.n(u),h=i("6edf"),v=i.n(h),m=i("0644"),f=i.n(m),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("v-card",{staticClass:"my-2 pa-4"},[i("div",{staticClass:"d-flex mt-3"},[i("div",{staticClass:"align-self-center mr-5"},[t._v("集計対象Lv")]),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"下限",type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:function(e){return t.analyze()}},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"上限",type:"number",max:"175",min:t.levelRange[0],dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),i("v-card",{staticClass:"my-3"},[i("table",[i("thead",[i("tr",[i("td",{staticClass:"text-left"},[t._v("艦種")]),i("td",[t._v("隻数")]),i("td",[t._v("最大Lv")]),i("td",[t._v("最小Lv")]),i("td",[t._v("中央Lv")]),i("td",[t._v("平均Lv")]),i("td",[t._v("総経験値")]),i("td",[t._v("1隻平均")]),i("td",[t._v("経験値割合")])])]),i("tbody",t._l(t.summaryTable,(function(e,a){return i("tr",{key:"summary_row"+a},[i("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.data.count))]),i("td",[t._v(t._s(e.data.maxLevel))]),i("td",[t._v(t._s(e.data.minLevel))]),i("td",[t._v(t._s(e.data.midLevel))]),i("td",[t._v(t._s(e.data.avgLevel))]),i("td",[t._v(t._s(e.data.sumExp))]),i("td",[t._v(t._s(e.data.avgExp))]),i("td",[t._v(t._s(e.data.expRate)+" %")])])})),0)])]),i("div",{staticClass:"graph-area"},[i("v-card",{staticClass:"py-4 exp-card"},[i("div",{staticClass:"d-flex justify-center"},[i("div",{staticClass:"body-2"},[t._v("艦種別Lv帯分析")])]),i("radar-chart",{attrs:{data:t.radarGraphData,options:t.radarOptions}})],1),i("v-card",{staticClass:"py-4 exp-card"},[i("div",{staticClass:"d-flex justify-center"},[i("div",{staticClass:"body-2"},[t._v("艦娘別経験値ランキング")])]),i("table",[i("thead",[i("tr",[i("td"),i("td",{staticClass:"text-left"}),i("td",[t._v("総経験値")]),i("td",[t._v("経験値割合")])])]),i("tbody",t._l(t.expRankTable,(function(e,a){return i("tr",{key:"exp_rank_row"+a},[i("td",[t._v(t._s(e.rank))]),i("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.exp))]),i("td",[t._v(t._s(e.rate)+" %")])])})),0)])])],1),i("v-card",{staticClass:"my-4 pa-4"},[i("div",{staticClass:"d-flex justify-center"},[i("div",{staticClass:"body-2"},[t._v("Lv帯別艦娘数")])]),i("div",[i("stacked-bar",{attrs:{data:t.stackedBarData,options:t.stackedBarOption}})],1)])],1)],1)},b=[],k=(i("b680"),i("a434"),i("d180")),x=i.n(k),y=i("3d95"),C=i.n(y),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("RadarChart",{style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},S=[],w=i("2909"),T=(i("a9e3"),i("ed09")),L=i("9b4a"),R=i("b48c"),D=i("d9fa");L["Chart"].register.apply(L["Chart"],[D["a"]].concat(Object(w["a"])(L["registerables"])));var $=o["default"].use(T["default"]).extend({components:{RadarChart:R["RadarChart"]},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String},height:{type:Number,default:1200}},data:function(){return{plugins:[D["a"]]}},computed:{actualData:function(){return this.$vuetify.theme.dark,this.data},actualOptions:function(){if(this.$vuetify.theme.dark){var t="rgb(200, 200, 200)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(0, 0, 0, 0.1)"}else{var e="rgb(64, 64, 64)";this.options.plugins.title.color=e,this.options.plugins.legend.labels.color=e,this.options.scales.r.pointLabels.color=e,this.options.scales.r.ticks.color=e,this.options.scales.r.ticks.backdropColor="rgba(255, 255, 255, 0.9)"}return this.titleText&&(this.options.plugins.title.text=this.titleText),this.options},styles:function(){return{height:"60vh",position:"relative"}}}}),I=$,A=i("2877"),V=Object(A["a"])(I,_,S,!1,null,null,null),O=V.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BarChart",{ref:"stackedBarRef",style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},P=[],M=["rgba(224, 0, 0, 0.5)","rgba(128, 0, 224, 0.5)","rgba(0, 0, 224, 0.5)","rgba(0, 128, 224, 0.5)","rgba(0, 224, 224, 0.5)","rgba(0, 224, 0, 0.5)","rgba(224, 224, 0, 0.5)","rgba(224, 128, 0, 0.5)","rgba(0, 0, 0, 0.25)"],j=["rgba(255, 80, 80, 0.5)","rgba(170, 80, 255, 0.5)","rgba(80, 80, 255, 0.5)","rgba(80, 180, 255, 0.5)","rgba(80, 255, 255, 0.5)","rgba(80, 255, 80, 0.5)","rgba(255, 255, 80, 0.5)","rgba(255, 180, 80, 0.5)","rgba(255, 255, 255, 0.25)"];L["Chart"].register.apply(L["Chart"],[D["a"]].concat(Object(w["a"])(L["registerables"])));var H=o["default"].use(T["default"]).extend({components:{BarChart:R["BarChart"]},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String}},data:function(){return{stackedBarRef:{},plugins:[D["a"]]}},computed:{actualData:function(){for(var t=this.$vuetify.theme.dark?j:M,e=this.data.datasets,i=0;i<e.length;i+=1)e[i].backgroundColor=t[i];return this.data},actualOptions:function(){var t="rgb(64, 64, 64)";return this.$vuetify.theme.dark&&(t="rgb(200, 200, 200)"),this.options.plugins.legend.labels.color=t,this.options.scales.x.ticks.color=t,this.options.scales.x.title.color=t,this.options.scales.y.ticks.color=t,this.options},styles:function(){return{height:"70vh",position:"relative"}}}}),B=H,U=Object(A["a"])(B,E,P,!1,null,null,null),K=U.exports,N=i("522d"),W=["最大Lv","最小Lv","中央Lv","平均Lv"],F=o["default"].extend({name:"Analytics",components:{RadarChart:O,StackedBar:K},data:function(){return{levelRange:[1,175],summaryTable:[],expRankTable:[],unsbscribe:void 0,readOnly:!1,radarGraphData:{labels:[],datasets:[{label:W[0],data:[],fill:!1,backgroundColor:"rgba(64, 164, 255, 0.1)",borderColor:"rgb(64, 164, 255)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:W[1],data:[],backgroundColor:"rgba(255, 64, 64, 0.1)",borderColor:"rgb(255, 64, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1},hidden:!0},{label:W[2],data:[],fill:!1,backgroundColor:"rgba(255, 128, 64, 0.1)",borderColor:"rgb(255, 128, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:W[3],data:[],fill:!1,backgroundColor:"rgba(0, 200, 0, 0.1)",borderColor:"rgb(0, 200, 0)",borderWidth:2,pointRadius:3,datalabels:{display:!1}}]},radarOptions:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:175,ticks:{stepSize:25,color:"rgb(64, 64, 64)",backdropColor:"rgba(255, 255, 255, 0.7)"},angleLines:{color:"rgba(128, 128, 128, 0.4)"},pointLabels:{color:"rgb(64, 64, 64)"},grid:{color:"rgba(128, 128, 128, 0.4)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}},title:{display:!0}}},stackedBarData:{labels:[],datasets:[]},stackedBarOption:{responsive:!0,indexAxis:"y",scales:{x:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!0,text:"艦娘数[隻]"},ticks:{color:"rgb(64, 64, 64)"}},y:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!1},ticks:{color:"rgb(64, 64, 64)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}}}}}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.analyze(),this.unsbscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&t.analyze()}));for(var e=17;e>0;e-=1)this.stackedBarData.labels.push("".concat(10*e,"～"));this.stackedBarData.labels.push("1～")},watch:{isTempStockMode:function(t){this.readOnly=!!t,this.analyze()}},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{analyze:function(){var t=this,e=this.$store.state.ships,i=this.$store.state.shipStock;this.readOnly&&(i=this.$store.state.tempShipStock);var a=N["i"].SHIP_TYPES_ALT2,s=[],n=0,o=[],l=[];this.radarGraphData.labels=[],this.stackedBarData.datasets=[];for(var c=function(c){var d=a[c];t.radarGraphData.labels.push(d.text);var u=e.filter((function(t){return d.types.includes(t.type)})),h=u.map((function(t){return t.id})),v={label:d.text,borderWidth:0,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],stack:"stack-1",datalabels:{display:!1}},m=i.filter((function(e){return h.includes(e.id)&&e.level>=t.levelRange[0]&&e.level<=t.levelRange[1]}));if(m.length){for(var f=[],g=[],b=function(t){var i,a=m[t];f.push(a.level),g.push(a.exp),v.data[17-Math.floor(a.level/10)]+=1;var s=null===(i=e.find((function(t){return t.id===a.id})))||void 0===i?void 0:i.originalId,n=l.find((function(t){return t.id===s}));n?n.exp+=a.exp:s&&l.push({id:s,name:"",exp:a.exp,rate:0})},k=0;k<m.length;k+=1)b(k);var y=x()(g);n+=y,o=o.concat(f);var _={count:m.length,maxLevel:r()(f),minLevel:p()(f),midLevel:t.getMidValue(f),avgLevel:C()(f),sumExp:y,avgExp:C()(g),expRate:0};s.push({name:d.text,data:_}),t.radarGraphData.datasets[0].data[c]=_.maxLevel?_.maxLevel:0,t.radarGraphData.datasets[1].data[c]=_.minLevel?_.minLevel:0,t.radarGraphData.datasets[2].data[c]=_.midLevel?_.midLevel:0,t.radarGraphData.datasets[3].data[c]=_.avgLevel?Math.floor(_.avgLevel):0}else{var S={count:0,maxLevel:0,minLevel:0,midLevel:0,avgLevel:0,sumExp:0,avgExp:0,expRate:0};s.push({name:d.text,data:S}),t.radarGraphData.datasets[0].data[c]=0,t.radarGraphData.datasets[1].data[c]=0,t.radarGraphData.datasets[2].data[c]=0,t.radarGraphData.datasets[3].data[c]=0}t.stackedBarData.datasets.push(v)},d=0;d<a.length;d+=1)c(d);this.summaryTable=[];for(var u=0;u<s.length;u+=1){var h=s[u];this.summaryTable.push({name:h.name,data:{count:h.data.count,maxLevel:h.data.maxLevel,minLevel:h.data.minLevel,midLevel:h.data.midLevel,avgLevel:h.data.avgLevel?h.data.avgLevel.toFixed(1):0,sumExp:h.data.sumExp.toLocaleString(),avgExp:Math.floor(h.data.avgExp).toLocaleString(),expRate:n?Math.floor(1e3*h.data.sumExp/n)/10:0}})}var v=x()(o),m=o.length;this.summaryTable.push({name:"合計",data:{count:m,maxLevel:r()(s.map((function(t){return t.data.maxLevel}))),minLevel:p()(s.map((function(t){return t.data.minLevel}))),midLevel:this.getMidValue(o),avgLevel:m?(v/m).toFixed(1):"0",sumExp:n.toLocaleString(),avgExp:m?Math.floor(n/m).toLocaleString():"0",expRate:m?100:0}}),l=l.sort((function(t,e){return e.exp!==t.exp?e.exp-t.exp:t.id-e.id})).splice(0,50),this.expRankTable=[];for(var f=function(i){var a,s=l[i],o=null===(a=e.find((function(t){return t.albumId===s.id})))||void 0===a?void 0:a.name;o&&(s.name=o),n&&(s.rate=100*s.exp/n),t.expRankTable.push({rank:i+1,name:s.name,exp:s.exp.toLocaleString(),rate:s.rate.toFixed(2)})},g=0;g<l.length;g+=1)f(g)},getMidValue:function(t){if(t.length){var e=t.length;t.sort((function(t,e){return t-e}));var i=Math.floor(t.length/2);return e%2?t[i]:Math.floor((t[i-1]+t[i])/2)}return 0}}}),z=F,Y=(i("5a36"),i("6544")),q=i.n(Y),X=i("b0af"),G=i("ade3"),J=i("5530"),Q=(i("33e9"),i("9a18")),Z=i("80d2"),tt=Q["a"].extend({name:"v-range-slider",props:{value:{type:Array,default:function(){return[0,0]}}},data:function(){return{activeThumb:null,lazyValue:this.value}},computed:{classes:function(){return Object(J["a"])(Object(J["a"])({},Q["a"].options.computed.classes.call(this)),{},{"v-input--range-slider":!0})},internalValue:{get:function(){return this.lazyValue},set:function(t){var e=this,i=t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.roundValue(Math.min(Math.max(t,e.minValue),e.maxValue))}));if(i[0]>i[1]||i[1]<i[0]){if(null!==this.activeThumb){var a=1===this.activeThumb?0:1,s=this.$refs["thumb_".concat(a)];s.focus()}i=[i[1],i[0]]}this.lazyValue=i,Object(Z["j"])(i,this.value)||this.$emit("input",i),this.validate()}},inputWidth:function(){var t=this;return this.internalValue.map((function(e){return(t.roundValue(e)-t.minValue)/(t.maxValue-t.minValue)*100}))}},methods:{getTrackStyle:function(t,e){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",o=this.vertical?"height":"width",l="calc(".concat(t,"% + ").concat(a,"px)"),r="calc(".concat(e,"% + ").concat(s,"px)");return i={transition:this.trackTransition},Object(G["a"])(i,n,l),Object(G["a"])(i,o,r),i},getIndexOfClosestValue:function(t,e){return Math.abs(t[0]-e)<Math.abs(t[1]-e)?0:1},genInput:function(){var t=this;return Object(Z["h"])(2).map((function(e){var i=Q["a"].options.methods.genInput.call(t);return i.data=i.data||{},i.data.attrs=i.data.attrs||{},i.data.attrs.value=t.internalValue[e],i.data.attrs.id="input-".concat(e?"max":"min","-").concat(t._uid),i}))},genTrackContainer:function(){var t=this,e=[],i=this.isDisabled?10:0,a=[{class:"v-slider__track-background",color:this.computedTrackColor,styles:[0,this.inputWidth[0],0,-i]},{class:this.isDisabled?"v-slider__track-background":"v-slider__track-fill",color:this.isDisabled?this.computedTrackColor:this.computedTrackFillColor,styles:[this.inputWidth[0],Math.abs(this.inputWidth[1]-this.inputWidth[0]),i,-2*i]},{class:"v-slider__track-background",color:this.computedTrackColor,styles:[this.inputWidth[1],Math.abs(100-this.inputWidth[1]),i,-i]}];return this.$vuetify.rtl&&a.reverse(),e.push.apply(e,Object(w["a"])(a.map((function(e){return t.$createElement("div",t.setBackgroundColor(e.color,{staticClass:e.class,style:t.getTrackStyle.apply(t,Object(w["a"])(e.styles))}))})))),this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genChildren:function(){var t=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(Z["h"])(2).map((function(e){var i=t.internalValue[e],a=function(i){t.isFocused=!0,t.activeThumb=e,t.$emit("focus",i)},s=function(e){t.isFocused=!1,t.activeThumb=null,t.$emit("blur",e)},n=t.inputWidth[e],o=t.isActive&&t.activeThumb===e,l=t.isFocused&&t.activeThumb===e;return t.genThumbContainer(i,n,o,l,a,s,"thumb_".concat(e))}))]},reevaluateSelected:function(t){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,t);var e="thumb_".concat(this.activeThumb),i=this.$refs[e];i.focus()},onSliderMouseDown:function(t){var e,i=this,a=this.parseMouseMove(t);if(this.reevaluateSelected(a),this.oldValue=this.internalValue,this.isActive=!0,null!=(e=t.target)&&e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;var s=t.target.getBoundingClientRect(),n="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?n.clientY-(s.top+s.height/2):n.clientX-(s.left+s.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((function(){i.thumbPressed=!0}),300);var o=!Z["y"]||{passive:!0,capture:!0},l=!!Z["y"]&&{passive:!0},r="touches"in t;this.onMouseMove(t),this.app.addEventListener(r?"touchmove":"mousemove",this.onMouseMove,l),Object(Z["a"])(this.app,r?"touchend":"mouseup",this.onSliderMouseUp,o),this.$emit("start",this.internalValue)},onSliderClick:function(t){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);var e=this.parseMouseMove(t);this.reevaluateSelected(e),this.setInternalValue(e),this.$emit("change",this.internalValue)}},onMouseMove:function(t){var e=this.parseMouseMove(t);"mousemove"===t.type&&(this.thumbPressed=!0),null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,e)),this.setInternalValue(e)},onKeyDown:function(t){if(null!==this.activeThumb){var e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null!=e&&(this.setInternalValue(e),this.$emit("change",this.internalValue))}},setInternalValue:function(t){var e=this;this.internalValue=this.internalValue.map((function(i,a){return a===e.activeThumb?t:Number(i)}))}}}),et=i("8654"),it=Object(A["a"])(z,g,b,!1,null,"6507fe04",null),at=it.exports;q()(it,{VCard:X["a"],VRangeSlider:tt,VTextField:et["a"]});var st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3"},[i("v-card",{staticClass:"my-2 pa-4"},[i("v-card",{staticClass:"my-3"},[i("table",[i("thead",[i("tr",[i("td",{staticClass:"text-left"},[t._v("艦種")]),i("td",[t._v("登録艦隊")]),i("td",[t._v("現在閲覧中の艦隊")]),i("td",[t._v("差")])])]),i("tbody",t._l(t.summaryTable,(function(e,a){return i("tr",{key:"summary_row"+a},[i("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),i("td",{class:{"win-td":e.isWin}},[t._v(t._s(e.data.sumExp))]),i("td",{class:{"win-td":e.isLose}},[t._v(t._s(e.data.tempSumExp))]),i("td",{class:{"win-sub":e.isWin,"lose-sub":e.isLose}},[t._v(t._s(e.data.sub))])])})),0)])])],1)],1)},nt=[],ot=(i("4c53"),o["default"].extend({name:"Compare",data:function(){return{summaryTable:[],unsbscribe:void 0}},mounted:function(){var t=this;this.analyze(),this.unsbscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&t.analyze()}))},watch:{isTempStockMode:function(t){t&&this.analyze()}},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{analyze:function(){for(var t=this.$store.state.ships,e=this.$store.state.shipStock,i=this.$store.state.tempShipStock,a=N["i"].SHIP_TYPES_ALT2,s=[],n=0,o=0,l=function(l){for(var r=a[l],c=t.filter((function(t){return r.types.includes(t.type)})),d=c.map((function(t){return t.id})),u=e.filter((function(t){return d.includes(t.id)})),p=[],h=0;h<u.length;h+=1)p.push(u[h].exp);var v=x()(p);n+=v;for(var m=i.filter((function(t){return d.includes(t.id)})),f=[],g=0;g<m.length;g+=1)f.push(m[g].exp);var b=x()(f);o+=b;var k=v-b;s.push({name:r.text,data:{sumExp:v,sub:k,tempSumExp:b}})},r=0;r<a.length;r+=1)l(r);this.summaryTable=[];for(var c=0;c<s.length;c+=1){var d=s[c];this.summaryTable.push({name:d.name,data:{sumExp:d.data.sumExp.toLocaleString(),sub:d.data.sub.toLocaleString(),tempSumExp:d.data.tempSumExp.toLocaleString()},isWin:d.data.sub>0,isLose:d.data.sub<0})}var u=n-o;this.summaryTable.push({name:"合計",data:{sumExp:n.toLocaleString(),sub:u.toLocaleString(),tempSumExp:o.toLocaleString()},isWin:u>0,isLose:u<0})}}})),lt=ot,rt=(i("1700"),Object(A["a"])(lt,st,nt,!1,null,"de49f25c",null)),ct=rt.exports;q()(rt,{VCard:X["a"]});var dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area-manager-container mt-3"},[i("div",{staticClass:"align-self-center pl-2 d-flex"},[i("v-checkbox",{attrs:{dense:"",label:"艦娘名表示"},model:{value:t.visibleShipName,callback:function(e){t.visibleShipName=e},expression:"visibleShipName"}}),i("v-text-field",{staticClass:"search-input ml-5",attrs:{label:"名称検索",dense:"",clearable:"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}})],1),i("div",[t.readonly?t._e():i("div",{staticClass:"d-flex my-2"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.resetAreaHuda()}}},[t._v("お札一斉解除")])],1)]),t._l(t.filteredAreaShipList,(function(e){return i("v-card",{key:"area_"+e.area,staticClass:"mb-2 px-2 py-3 area-card"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"area-banner"},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e.area+".png",height:"55",width:"38"}})],1),i("v-btn",{staticClass:"ml-12",attrs:{color:"primary",disabled:t.disabledEdit},on:{click:function(i){return i.stopPropagation(),t.showShipList(e.area)}}},[t._v(" 配備 ")]),i("v-btn",{staticClass:"ml-3",attrs:{color:"secondary",disabled:t.disabledEdit},on:{click:function(i){return i.stopPropagation(),t.resetShipsClicked(e.area)}}},[t._v(" 解散 ")])],1),e.headers.length>0?i("div",{staticClass:"py-1"}):t._e(),t._l(e.headers,(function(a){return i("div",{key:"type_"+a.text},[i("div",{staticClass:"type-divider mt-1"},[i("div",{staticClass:"caption"},[t._v(t._s(a.text))]),i("div",{staticClass:"type-divider-border"})]),i("div",{staticClass:"d-flex flex-wrap"},t._l(a.ships,(function(a,s){return i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"area_"+e.area+"_ship"+s,staticClass:"ship-container",class:{clickable:!t.disabledEdit},on:{click:function(i){return i.stopPropagation(),t.clickedShip(e.area,a)},mouseenter:function(e){return t.bootTooltip(a,e)},mouseleave:t.clearTooltip}},[i("div",{staticClass:"ship-img"},[i("div",[i("v-img",{attrs:{src:"./img/ship/"+a.data.id+".png",height:"30",width:"120"}})],1),i("div",{staticClass:"ship-area-banner"},[i("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/area/area"+e.area+"_min.png",height:"33",width:"30"}})],1),a.expand?i("div",{staticClass:"slot-ex-img"},[i("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"27",width:"27"}})],1):t._e()]),t.visibleShipName?i("div",{staticClass:"caption"},[i("div",{staticClass:"ship-status"},[i("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(a.level))]),i("div",{staticClass:"ml-1 align-self-center"},[t._v("運:"+t._s(a.luck))])]),i("div",{staticClass:"ml-1 text-truncate ship-name"},[t._v(t._s(a.data.name))])]):t._e()])})),0)])}))],2)})),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[i("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"ma-4"},[t.confirmShip?i("div",{staticClass:"d-flex mb-3"},[i("div",[i("v-img",{attrs:{src:"./img/ship/"+t.confirmShip.data.id+".png",height:"30",width:"120"}})],1),i("div",{staticClass:"caption"},[i("div",{staticClass:"ship-status"},[i("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(t.confirmShip.level))]),i("div",{staticClass:"ml-1 align-self-center"},[t._v("運:"+t._s(t.confirmShip.luck))])]),i("div",{staticClass:"ml-1 text-truncate ship-name"},[t._v(t._s(t.confirmShip.data.name))])])]):t._e(),t.confirmShip?i("div",[t._v("札を解除します。よろしいですか？")]):i("div",[t._v("解散します。よろしいですか？")])]),i("v-divider",{staticClass:"my-2"}),i("div",{staticClass:"d-flex"},[t.confirmShip?i("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.removeShip()}}},[t._v("解除")]):i("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetShips()}}},[t._v("解散")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v("戻る")])],1)],1)],1),i("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[i("ship-tooltip",{model:{value:t.tooltipShip,callback:function(e){t.tooltipShip=e},expression:"tooltipShip"}})],1)],2)},ut=[],pt=i("53ca"),ht=i("689a"),vt=i("c6cf"),mt=i("c3af"),ft=o["default"].extend({name:"AreaManager",components:{ShipList:ht["a"],ShipTooltip:vt["a"]},props:{readonly:{type:Boolean,required:!0}},data:function(){return{searchWord:"",visibleShipName:!1,existStock:!1,areaShipList:[],unsbscribe:void 0,shipListDialog:!1,shipDialogWidth:1200,selectedArea:0,confirmDialog:!1,confirmShip:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new mt["a"],tooltipX:0,tooltipY:0}},mounted:function(){var t=this;this.unsbscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&t.loadShipStock()})),this.loadShipStock()},watch:{isTempStockMode:function(){this.loadShipStock()}},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock},filteredAreaShipList:function(){var t=this;if(this.searchWord){var e=function(){for(var e=t.searchWord,i=f()(t.areaShipList),a=0;a<i.length;a+=1){for(var s=i[a].headers,n=0;n<s.length;n+=1){var o=s[n];o.ships=o.ships.filter((function(t){return t.data.name.includes(e)}))}i[a].headers=s.filter((function(t){return t.ships.length}))}return{v:i}}();if("object"===Object(pt["a"])(e))return e.v}return this.areaShipList},disabledEdit:function(){return!(this.existStock&&!this.readonly&&!this.searchWord)}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{loadShipStock:function(){var t=this;this.areaShipList=[];for(var e=this.$store.state.areaCount,i=0;i<e;i+=1){for(var a=[],s=N["i"].SHIP_TYPES_ALT,n=0;n<s.length;n+=1){var o=s[n];a.push({text:o.text,types:o.types,ships:[]})}this.areaShipList.push({area:i+1,headers:a})}var l=this.$store.state.ships,r=this.$store.state.shipStock;this.existStock=r.length>0,this.readonly&&(r=this.$store.state.tempShipStock);for(var c=function(e){var i=r[e];if(i.area<=0)return"continue";var a=l.find((function(t){return t.id===i.id}));if(!a)return"continue";var s=t.areaShipList[i.area-1];if(s){var n=s.headers.find((function(t){return t.types.includes(a.type)}));if(n){var o={data:a,hp:(i.level>99?a.hp2:a.hp)+i.improvement.hp,level:i.level,luck:a.luck+i.improvement.luck,expand:i.releaseExpand,impHP:i.improvement.hp,impASW:i.improvement.asw,impLuck:i.improvement.luck};n.ships.push(o)}}},d=0;d<r.length;d+=1)c(d);for(var u=0;u<this.areaShipList.length;u+=1){for(var p=this.areaShipList[u].headers.filter((function(t){return t.ships.length})),h=0;h<p.length;h+=1)p[h].ships.sort((function(t,e){return t.data.sort-e.data.sort}));this.areaShipList[u].headers=p}},showShipList:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.selectedArea=t,i.next=3,e.shipListDialog=!0;case 3:a=e.$refs.shipList,a.disabledStockOnlyChange=!0,a.isStockOnly=!0,a.initialize(!1);case 7:case"end":return i.stop()}}),i)})))()},putShip:function(t){var e=this.$store.state.shipStock,i={hp:t.hp-(t.level>99?t.ship.hp2:t.ship.hp),asw:t.asw,luck:t.luck-t.ship.luck},a=e.filter((function(e){return e.id===t.ship.id&&e.level===t.level&&e.area===t.area&&e.releaseExpand===t.expanded&&e.improvement.hp===i.hp&&e.improvement.asw===i.asw&&e.improvement.luck===i.luck}));a.length&&(a.sort((function(t,e){return t.area-e.area})),a[0].area=this.selectedArea,this.$store.dispatch("updateShipStock",e)),this.shipListDialog=!1},changeShipWidth:function(t){this.shipDialogWidth=t},closeDialog:function(){this.shipListDialog=!1},clickedShip:function(t,e){this.disabledEdit||(this.clearTooltip(),this.confirmShip=e,this.selectedArea=t,this.confirmDialog=!0)},removeShip:function(){var t=this.selectedArea,e=this.confirmShip;if(!(t<=0)&&e){var i=this.$store.state.shipStock,a=i.find((function(i){return i.id===e.data.id&&i.level===e.level&&i.area===t&&i.releaseExpand===e.expand&&i.improvement.hp===e.impHP&&i.improvement.asw===e.impASW&&i.improvement.luck===e.impLuck}));a&&(a.area=0,this.$store.dispatch("updateShipStock",i)),this.confirmDialog=!1}},resetShipsClicked:function(t){this.confirmShip=void 0,this.selectedArea=t,this.confirmDialog=!0},resetShips:function(){for(var t=this.selectedArea,e=this.$store.state.shipStock,i=e.filter((function(e){return e.area===t})),a=0;a<i.length;a+=1)i[a].area=0;this.$store.dispatch("updateShipStock",e),this.confirmDialog=!1},resetAreaHuda:function(){for(var t=this.$store.state.shipStock,e=0;e<t.length;e+=1)t[e].area=0;this.$store.dispatch("updateShipStock",t)},bootTooltip:function(t,e){var i=this;this.tooltipTimer=window.setTimeout((function(){i.tooltipX=e.clientX,i.tooltipY=e.clientY;var a=new mt["a"]({master:t.data,level:t.level,hp:t.hp,luck:t.luck,asw:t.impASW});i.tooltipShip=a,i.enabledTooltip=!0}),400)},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),gt=ft,bt=(i("8e03"),i("8336")),kt=i("ac7c"),xt=i("169a"),yt=i("ce7e"),Ct=i("adda"),_t=i("3a2f"),St=i("269a"),wt=i.n(St),Tt=i("5607"),Lt=Object(A["a"])(gt,dt,ut,!1,null,"2ec618bc",null),Rt=Lt.exports;q()(Lt,{VBtn:bt["a"],VCard:X["a"],VCheckbox:kt["a"],VDialog:xt["a"],VDivider:yt["a"],VImg:Ct["a"],VTextField:et["a"],VTooltip:_t["a"]}),wt()(Lt,{Ripple:Tt["a"]});var Dt=i("331b"),$t=o["default"].extend({name:"Ships",components:{Analytics:at,Compare:ct,ShipTooltip:vt["a"],AreaManager:Rt},data:function(){return{all:[],filteredShips:[],viewShips:[],shipStock:[],page:1,searchWord:"",onlyStock:!1,onlyNoStock:!1,onlyReleaseExSlot:!1,is4n:!1,isDiahatsu:!1,isKamisha:!1,luckRange:[1,200],levelRange:[1,175],aswRange:[0,9],okDaihatsu:[],okKamisha:[],hpItems:[],addHP:[],aswItems:[],addASW:[],types:[],selectedTypes:[],editDialog:!1,editRow:{},versionButtons:[],version:0,editLuck:0,sortKey:"",isDesc:!1,maxAreas:0,confirmDialog:!1,unsbscribe:void 0,btnPushed:!1,allCount:0,modeTable:!0,selectedArea:[],visibleNoArea:!0,readOnly:!1,tab:"list",enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new mt["a"],tooltipX:0,tooltipY:0}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsbscribe=this.$store.subscribe((function(e,i){"setShipStock"===e.type&&(t.shipStock=i.shipStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&(this.all=this.$store.state.ships,this.initialize())},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},shipList:function(){var t=100*(this.page-1);return this.viewShips.slice(t,t+100)},pageLength:function(){return Math.ceil(this.viewShips.length/100)},minLevel:function(){var t=this.versionButtons[this.version];if(!t||t.beforId<=0||"山城改二"===t.name)return 1;var e=this.all.find((function(e){return e.id===t.beforId}));return e?e.nextLv:1},altViewShips:function(){var t=this.viewShips;if(!t.length)return[];for(var e=[],i=function(i){var a=t[i],s=e.find((function(t){return t.master.id===a.ship.id}));s?(s.count+=1,s.detail.push(a)):e.push({master:a.ship,count:a.count,detail:[a]})},a=0;a<t.length;a+=1)i(a);for(var s=N["i"].SHIP_TYPES_ALT_INFO,n=[],o=function(t){var i=s[t],a=e.filter((function(t){return t.master.type2===i.id}));if(a.length){var o=v()(a,(function(t){return t.master.originalId})),l=[];Object.keys(o).forEach((function(t){var e=o[t];e.sort((function(t,e){return e.master.version-t.master.version})),l.push(e)})),l.sort((function(t,e){var i=p()(t.map((function(t){return t.master.sort}))),a=p()(e.map((function(t){return t.master.sort})));return(i||0)-(a||0)})),n.push({typeName:i.name,rows:l})}},l=0;l<s.length;l+=1)o(l);return n}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{initialize:function(){var t=this;this.all=this.$store.state.ships,this.shipStock=this.$store.state.shipStock,this.maxAreas=this.$store.state.areaCount,this.readOnly&&(this.shipStock=this.$store.state.tempShipStock),this.shipStock.length&&(this.onlyStock=!0);for(var e=function(e){var i=t.all[e],a=i.id,s=i.type,n=t.$store.state.equipShips,o=n.find((function(t){return t.api_ship_id===a})),l=N["i"].SHIP_TYPES_INFO.find((function(t){return t.id===s}));(o&&o.api_equip_type.includes(24)||l&&l.itemType.includes(24))&&t.okDaihatsu.push(a),(o&&o.api_equip_type.includes(46)||l&&l.itemType.includes(46))&&t.okKamisha.push(a)},i=0;i<this.all.length;i+=1)e(i);var a=N["i"].SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var s=0;s<a.length;s+=1)this.types.push({text:a[s].text,value:s}),this.selectedTypes.push(s);this.addHP=[];for(var n=0;n<=2;n+=1)this.hpItems.push({text:"+".concat(n),value:n}),this.addHP.push(n);if(this.completed){var o=this.$store.state.siteSetting;this.changeViewMode(o.viewTableMode)}this.selectedArea=[];for(var l=0;l<=this.maxAreas;l+=1)this.selectedArea.push(l);this.masterFilter()},filter:function(){for(var t=this,e=this.filteredShips,i=this.shipStock,a=[],s=this.levelRange[1],n=this.levelRange[0],o=this.luckRange[1],l=this.luckRange[0],r=this.aswRange[1],c=this.aswRange[0],d=this.addHP,u=this.searchWord?this.searchWord.trim():"",p=this.selectedTypes,h=N["i"].SHIP_TYPES_ALT.filter((function(t,e){return p.includes(e)})).map((function(t){return t.types})).flat(),v=0,m=e.filter((function(t){return 0===t.version})),f=function(p){var f=m[p],g=e.filter((function(t){return t.originalId===f.albumId}));if(u&&!g.some((function(t){return t.name.indexOf(u)>=0})))return"continue";var b=g.map((function(t){return t.id})),k=i.filter((function(t){return b.includes(t.id)})),x=[];if(k.length){if(!t.onlyNoStock){for(var y=function(e){var i=k[e];if(v+=1,i.level<n||i.level>s)return"continue";if(i.improvement.asw<c||i.improvement.asw>r)return"continue";if(!d.includes(i.improvement.hp))return"continue";var a=g.find((function(t){return t.id===i.id})),u=i.improvement.hp+(i.level>99?a.hp2:a.hp),p=i.improvement.luck+a.luck;if(!h.includes(a.type))return"continue";if(p<l||p>o)return"continue";if(t.is4n&&u%4>0)return"continue";if(t.isDiahatsu&&!t.okDaihatsu.includes(a.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(a.id))return"continue";if(t.onlyReleaseExSlot&&!i.releaseExpand)return"continue";if(!t.visibleNoArea&&i.area<1)return"continue";if(t.selectedArea.length&&!t.selectedArea.includes(i.area))return"continue";var m=mt["a"].getStatusFromLevel(i.level,a.maxAvoid,a.minAvoid);x.push({count:1,ship:a,stockData:i,level:i.level,hp:u,luck:p,impHP:i.improvement.hp,impLuck:i.improvement.luck,impAsw:i.improvement.asw,asw:mt["a"].getStatusFromLevel(i.level,a.maxAsw,a.minAsw)+i.improvement.asw,scout:mt["a"].getStatusFromLevel(i.level,a.maxScout,a.minScout),acurracy:mt["a"].getAccuracyValue(i.level,p),avoid:mt["a"].getAvoidValue(m,p),ci:mt["a"].getCIValue(i.level,p)})},C=0;C<k.length;C+=1)y(C);x.sort((function(t,e){return t.ship.version===e.ship.version?e.stockData.level-t.stockData.level:e.ship.version-t.ship.version}))}}else{if(v+=1,!h.includes(f.type))return"continue";if(t.onlyStock)return"continue";if(t.is4n&&f.hp%4>0)return"continue";if(t.isDiahatsu&&!t.okDaihatsu.includes(f.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(f.id))return"continue";if(t.onlyReleaseExSlot)return"continue";if(!t.visibleNoArea)return"continue";x.push({count:0,ship:f,stockData:new Dt["a"],hp:f.hp,luck:f.luck,impHP:0,impLuck:0,impAsw:0,level:0,asw:-1,scout:-1,acurracy:-1,avoid:-1,ci:-1})}a=a.concat(x)},g=0;g<m.length;g+=1)f(g);this.allCount=v,this.sortRowData(a);var b=Math.ceil(a.length/100);this.page=this.page>b?b:this.page,this.page=this.page<1&&b>0?1:this.page,this.viewShips=a},masterFilter:function(){this.filteredShips=this.all.filter((function(t){return t.id>0})),this.filter()},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?t.selectedTypes=[]:t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter()}))},clickedArea:function(t){-1===t?this.visibleNoArea=!this.visibleNoArea:this.selectedArea.includes(t)?this.selectedArea=this.selectedArea.filter((function(e){return e!==t})):this.selectedArea.push(t),this.filter()},scrollTop:function(){var t=document.getElementsByClassName("v-pagination")[0];window.scrollTo(0,t.getBoundingClientRect().y+window.pageYOffset-80)},changeVersion:function(t){this.version=t},showEditDialog:function(t){this.editRow=f()(t);var e=this.all.filter((function(e){return e.originalId===t.ship.originalId})).sort((function(t,e){return t.version-e.version}));this.version=e.findIndex((function(e){return e.id===t.ship.id})),this.versionButtons=e,this.editLuck=t.luck,this.editDialog=!0,this.btnPushed=!1},toggleArea:function(t){this.editRow.stockData.area=this.editRow.stockData.area!==t?t:0},getNewStock:function(){var t=this.editRow.stockData,e=this.versionButtons[this.version];t.id=e.id,t.improvement.luck=this.editLuck-e.luck;var i=N["i"].LEVEL_BORDERS.find((function(e){return e.lv===t.level}));return t.exp=i?i.req:0,f()(t)},registStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=r()(t.map((function(t){return t.uniqueId})));void 0===e&&(e=1);var i=this.getNewStock();i.uniqueId=e+1,t.push(i),this.$store.dispatch("updateShipStock",t),this.shipStock=t},updateStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=this.getNewStock(),i=t.findIndex((function(t){return t.uniqueId===e.uniqueId}));i>=0&&(t[i]=e,this.$store.dispatch("updateShipStock",t),this.shipStock=t)},deleteStock:function(){this.btnPushed=!0,this.confirmDialog=!1;var t=this.editRow.stockData.uniqueId,e=this.$store.state.shipStock,i=e.filter((function(e){return e.uniqueId!==t}));this.$store.dispatch("updateShipStock",i),this.shipStock=i},toggleSortKey:function(t){this.sortKey!==t?(this.isDesc=!0,this.sortKey=t):this.sortKey===t&&this.isDesc?this.isDesc=!1:this.sortKey!==t||this.isDesc||(this.sortKey=""),this.sortRowData(this.viewShips)},sortRowData:function(t){var e=this.isDesc,i=this.sortKey;this.sortKey?t.sort((function(t,a){return(e?-1:1)*(t[i]-a[i])})):t.sort((function(t,e){return t.ship.originalId!==e.ship.originalId?t.ship.sort-e.ship.sort:e.ship.version-t.ship.version}))},changeViewMode:function(t){this.modeTable=t;var e=this.$store.state.siteSetting;e.viewTableMode=t,this.$store.dispatch("updateSetting",e)},bootTooltip:function(t,e){var i=this;this.tooltipTimer=window.setTimeout((function(){i.tooltipX=e.clientX,i.tooltipY=e.clientY;var a=new mt["a"]({master:t.ship,level:t.level,hp:t.hp,luck:t.luck,asw:t.asw});i.tooltipShip=a,i.enabledTooltip=!0}),400)},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),It=$t,At=(i("e9c1"),i("a609")),Vt=i("4e82"),Ot=i("3206"),Et=i("58df"),Pt=Object(Et["a"])(Object(Vt["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(Ot["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(J["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(Z["p"])(this))}}),Mt=i("0789"),jt=i("9d65"),Ht=i("a9ad"),Bt=Object(Et["a"])(jt["a"],Ht["a"],Object(Ot["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")),Ut=Bt.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(t,e){var i=this;t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick((function(){return i.isActive=t}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(Mt["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(Z["p"])(e))])]})))}}),Kt=i("9d26"),Nt=Object(Et["a"])(Ht["a"],Object(Ot["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel")),Wt=Nt.extend().extend({name:"v-expansion-panel-header",directives:{ripple:Tt["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(Z["p"])(this,"actions")||[this.$createElement(Kt["a"],this.expandIcon)];return this.$createElement(Mt["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(J["a"])(Object(J["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(Z["p"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),Ft=(i("210b"),i("604c")),zt=i("d9bd"),Yt=Ft["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(J["a"])(Object(J["a"])({},Ft["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(zt["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(zt["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var i=this.getValue(t,e),a=this.getValue(t,e+1);t.isActive=this.toggleMethod(i),t.nextIsActive=this.toggleMethod(a)}}}),qt=i("132d"),Xt=i("da13"),Gt=i("1800"),Jt=i("5d23"),Qt=(i("25f0"),i("17b3"),i("dc22")),Zt=i("de2c"),te=i("7560"),ee=Object(Et["a"])(Ht["a"],Object(Zt["a"])({onVisible:["init"]}),te["a"]).extend({name:"v-pagination",directives:{Resize:Qt["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(J["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var i=e%2===0?1:0,a=Math.floor(e/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){var n=1,o=this.length,l=this.value-a+2,r=this.value+a-2-i,c=l-1===n+1?2:"...",d=r+1===o-1?r+1:"...";return[1,c].concat(Object(w["a"])(this.range(l,r)),[d,this.length])}if(this.value===a){var u=this.value+a-1-i;return[].concat(Object(w["a"])(this.range(1,u)),["...",this.length])}if(this.value===s){var p=this.value-a+1;return[1,"..."].concat(Object(w["a"])(this.range(p,this.length)))}return[].concat(Object(w["a"])(this.range(1,a)),["..."],Object(w["a"])(this.range(s,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var i=[];t=t>0?t:1;for(var a=t;a<=e;a++)i.push(a);return i},genIcon:function(t,e,i,a,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":s},on:i?{}:{click:a}},[t(Kt["a"],[e])])])},genItem:function(t,e){var i=this,a=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:function(){return i.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,a){return t("li",{key:a},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),ie=i("b974"),ae=i("ba0d"),se=i("2fa4"),ne=i("71a3"),oe=i("c671"),le=i("fe57"),re=i("aac8"),ce=Object(A["a"])(It,c,d,!1,null,"0da3a559",null),de=ce.exports;q()(ce,{VBtn:bt["a"],VBtnToggle:At["a"],VCard:X["a"],VCheckbox:kt["a"],VDialog:xt["a"],VDivider:yt["a"],VExpansionPanel:Pt,VExpansionPanelContent:Ut,VExpansionPanelHeader:Wt,VExpansionPanels:Yt,VIcon:qt["a"],VImg:Ct["a"],VListItem:Xt["a"],VListItemAction:Gt["a"],VListItemContent:Jt["a"],VListItemTitle:Jt["b"],VPagination:ee,VRangeSlider:tt,VSelect:ie["a"],VSlider:ae["a"],VSpacer:se["a"],VTab:ne["a"],VTabItem:oe["a"],VTabs:le["a"],VTabsItems:re["a"],VTextField:et["a"],VTooltip:_t["a"]}),wt()(ce,{Ripple:Tt["a"]});var ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3 ships-page"},[i("v-expansion-panels",[i("v-expansion-panel",[i("v-expansion-panel-header",{staticClass:"px-4"},[i("div",[i("v-icon",[t._v("mdi-filter")]),t._v("フィルタ")],1)]),i("v-expansion-panel-content",[i("v-divider",{staticClass:"mb-3"}),i("div",{staticClass:"range-inputs"},[i("div",{staticClass:"d-flex my-4"},[i("v-text-field",{staticClass:"search-input",attrs:{label:"id 名称検索",dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.filter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"未所持装備非表示"},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}})],1),i("div",{staticClass:"d-flex my-4"},[i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"改修下限",type:"number",max:t.remodelRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[0],callback:function(e){t.$set(t.remodelRange,0,"string"===typeof e?e.trim():e)},expression:"remodelRange[0]"}})],1),i("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"10","hide-details":""},on:{change:t.filter},model:{value:t.remodelRange,callback:function(e){t.remodelRange=e},expression:"remodelRange"}}),i("div",{staticClass:"range-input"},[i("v-text-field",{attrs:{label:"改修上限",type:"number",max:"10",min:t.remodelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[1],callback:function(e){t.$set(t.remodelRange,1,"string"===typeof e?e.trim():e)},expression:"remodelRange[1]"}})],1)],1)]),i("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:"カテゴリ",multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[i("v-list-item-action",[i("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("全選択")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),i("div",[i("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:"総所持数表示"},on:{change:function(e){return t.changeVisibleAllCount()}},model:{value:t.visibleAllCount,callback:function(e){t.visibleAllCount=e},expression:"visibleAllCount"}})],1)],1)],1)],1),t.viewItems.length?i("div",{staticClass:"item-all-container mt-3"},t._l(t.viewItems,(function(e,a){return i("v-card",{key:a,staticClass:"py-1"},[i("div",{staticClass:"ma-1 d-flex"},[i("div",{staticClass:"type-img"},[i("img",{attrs:{src:"./img/type/type"+e.type.id+".png"}})]),i("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(e.type.name))]),i("v-spacer"),e.type.sortKey?i("div",[i("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-sort")])],1)]}}],null,!0)},[i("v-card",[i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"sort-key",on:{click:function(i){return t.sortItems(e.items,"id")}}},[t._v("図鑑ID")]),t._l(e.type.sortKey,(function(s,n){return i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"type"+a+"Key"+n,staticClass:"sort-key",on:{click:function(i){return t.sortItems(e.items,s)}}},[t._v(" "+t._s(t.convertStatusString(s))+" ")])}))],2)],1)],1):t._e()],1),i("v-divider"),t._l(e.items,(function(e,s){return i("div",{key:""+a+s},[i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"item-container",class:{"no-item":!e.allCount},on:{click:function(i){return t.clickItem(e.master)},mouseenter:function(i){return t.bootTooltip(e.master,i)},mouseleave:t.clearTooltip}},[i("div",{staticClass:"d-flex align-self-start flex-grow-1"},[i("div",{staticClass:"icon-img"},[i("img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png"}})]),i("div",{staticClass:"item-name flex-grow-1"},[t._v(t._s(e.master.name))])]),i("div",{staticClass:"detail-container"},[t.visibleAllCount&&!t.remodelRange[0]?i("div",{staticClass:"primary--text count-text"},[t._v(t._s(e.allCount))]):t._e(),t._l(e.details,(function(e,n){return i("div",{key:""+a+s+n,staticClass:"d-flex remodel-container"},[e.remodel?i("div",{staticClass:"item-remodel teal--text text--accent-4"},[t._v("★"+t._s(e.remodel))]):t._e(),i("div",{staticClass:"ml-auto"},[t._v(t._s(e.count))])])}))],2)])])}))],2)})),1):i("v-card",{staticClass:"my-3 pa-4"},[i("div",{staticClass:"text-center my-10"},[i("div",[t._v("みつからないよ")])])]),t.edittedItem?i("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[i("v-card",{staticClass:"pa-3"},[i("div",{staticClass:"mx-2 mb-2"},[i("div",{staticClass:"d-flex"},[i("div",{staticClass:"align-self-center"},[i("v-img",{attrs:{src:"./img/type/icon"+t.edittedItem.iconTypeId+".png",width:"40",height:"40"}})],1),i("div",{staticClass:"align-self-center ml-1"},[i("div",{staticClass:"caption info--text"},[t._v("ID: "+t._s(t.edittedItem.id))]),i("div",{staticClass:"body-2"},[t._v(t._s(t.edittedItem.name))])])])]),i("v-divider"),i("div",{staticClass:"ma-3"},[i("div",{staticClass:"caption"},[t._v("所持数")]),i("div",{staticClass:"stock-inputs"},[t._l(t.edittedStock,(function(e,a){return i("v-text-field",{key:"stock$"+a,staticClass:"stock-input",attrs:{type:"number",max:"999",min:"0",label:"★+"+a,"hide-details":"",readonly:t.readOnly},model:{value:t.edittedStock[a],callback:function(e){t.$set(t.edittedStock,a,t._n(e))},expression:"edittedStock[i]"}})})),i("v-text-field",{staticClass:"stock-input",attrs:{type:"number",readonly:"",label:"合計"},model:{value:t.sumStock,callback:function(e){t.sumStock=t._n(e)},expression:"sumStock"}})],2)]),i("v-divider",{staticClass:"mb-2"}),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-auto",attrs:{color:"success",disabled:t.readOnly},on:{click:function(e){return e.stopPropagation(),t.registStock.apply(null,arguments)}}},[t._v("更新")]),i("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.sumStock||t.readOnly,color:"error"},on:{click:function(e){return e.stopPropagation(),t.clearStock.apply(null,arguments)}}},[t._v("全破棄")]),i("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v("戻る")])],1)],1)],1):t._e(),i("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[i("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},pe=[],he=i("ff07"),ve=i("01fd"),me=i("0f16"),fe=i("5802"),ge=o["default"].extend({name:"Items",components:{ItemTooltip:he["a"]},data:function(){return{all:[],itemStock:[],searchWord:"",onlyStock:!1,visibleAllCount:!0,remodelRange:[0,10],selectedTypes:[],types:[],baseViewItems:[],viewItems:[],editDialog:!1,edittedItem:void 0,edittedStock:[0,0,0,0,0,0,0,0,0,0,0],unsbscribe:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new me["a"],tooltipX:0,tooltipY:0,readOnly:!1}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0);var e=this.$store.state.siteSetting;this.visibleAllCount=e.visibleItemStockAllCount,this.initialize(),this.unsbscribe=this.$store.subscribe((function(e,i){"setItemStock"===e.type&&(t.itemStock=i.itemStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&!this.all.length&&this.initialize()},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},sumStock:function(){return x()(this.edittedStock)},convertStatusString:function(){return function(t){return fe["a"].convertAttibuteString(t)}}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{initialize:function(){this.all=this.$store.state.items,this.all=this.all.filter((function(t){return t.id<500})),this.itemStock=this.$store.state.itemStock,this.readOnly&&(this.itemStock=this.$store.state.tempItemStock);var t=N["i"].ITEM_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var e=0;e<t.length;e+=1)this.types.push({text:t[e].text,value:e}),this.selectedTypes.push(e);this.masterFilter()},masterFilter:function(){for(var t=this,e=this.selectedTypes,i=N["i"].ITEM_TYPES_ALT.filter((function(t,i){return e.includes(i)})).map((function(t){return t.types})).flat(),a=this.all,s=N["i"].ITEM_API_TYPE.filter((function(t){return i.includes(t.id)})),n=[],o=function(e){for(var i=s[e],o=a.filter((function(t){return t.apiTypeId===i.id})),l=[],r=function(e){for(var i=o[e],a={master:i,allCount:0,details:[]},s=[],n=0,r=t.itemStock.find((function(t){return t.id===i.id})),c=10;c>=0;c-=1){var d=r?r.num[c]:0;d&&(s.push({remodel:c,count:d}),n+=d)}a.details=s,a.allCount=n,l.push(a)},c=0;c<o.length;c+=1)r(c);n.push({type:i,items:l})},l=0;l<s.length;l+=1)o(l);this.baseViewItems=n,this.filter()},filter:function(){for(var t=this.baseViewItems,e=[],i=this.remodelRange[0],a=this.remodelRange[1],s=this.searchWord,n=0;n<t.length;n+=1){for(var o=t[n].items,l={type:t[n].type,items:[]},r=0;r<o.length;r+=1){var c=o[r],d=c.master,u=c.details,p=c.allCount;if(!s||d.id===+s||-1!==d.name.indexOf(s)){var h=u.filter((function(t){return t.remodel>=i&&t.remodel<=a}));h.length?l.items.push({master:d,details:h,allCount:x()(h.map((function(t){return t.count})))}):0!==i||0!==p||this.onlyStock||l.items.push(o[r])}}l.items.length&&e.push(l)}this.viewItems=e},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?(t.selectedTypes=[],t.masterFilter()):(t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter())}))},sortItems:function(t,e){"id"===e||"cost"===e?t.sort((function(t,i){return t.master[e]-i.master[e]})):t.sort((function(t,i){return i.master[e]-t.master[e]}))},clickItem:function(t){this.clearTooltip(),this.editDialog=!0,this.edittedItem=t;var e=this.itemStock.find((function(e){return e.id===t.id}));this.edittedStock=e?e.num:[0,0,0,0,0,0,0,0,0,0,0]},clearStock:function(){this.edittedStock=[0,0,0,0,0,0,0,0,0,0,0]},registStock:function(){var t=this;if(this.edittedItem){var e=this.edittedItem.id,i=this.itemStock.find((function(t){return t.id===e}));if(i)i.num=this.edittedStock;else{var a=new ve["a"](e);a.num=this.edittedStock,this.itemStock.push(a)}this.$store.dispatch("updateItemStock",this.itemStock),this.masterFilter(),this.editDialog=!1,window.setTimeout((function(){t.edittedItem=void 0}),100)}},bootTooltip:function(t,e){var i=this,a=this.$store.state.siteSetting;if(t.id&&!a.disabledItemTooltip){var s=e.target.getElementsByClassName("item-name")[0];this.tooltipTimer=window.setTimeout((function(){var e=s.getBoundingClientRect();i.tooltipX=e.x+e.width/3,i.tooltipY=e.y+e.height,i.tooltipItem=new me["a"]({master:t}),i.enabledTooltip=!0}),400)}},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},changeVisibleAllCount:function(){var t=this.$store.state.siteSetting;t.visibleItemStockAllCount=this.visibleAllCount,this.$store.dispatch("updateSetting",t)}}}),be=ge,ke=(i("81eb"),i("e449")),xe=Object(A["a"])(be,ue,pe,!1,null,"3f243b37",null),ye=xe.exports;q()(xe,{VBtn:bt["a"],VCard:X["a"],VCheckbox:kt["a"],VDialog:xt["a"],VDivider:yt["a"],VExpansionPanel:Pt,VExpansionPanelContent:Ut,VExpansionPanelHeader:Wt,VExpansionPanels:Yt,VIcon:qt["a"],VImg:Ct["a"],VListItem:Xt["a"],VListItemAction:Gt["a"],VListItemContent:Jt["a"],VListItemTitle:Jt["b"],VMenu:ke["a"],VRangeSlider:tt,VSelect:ie["a"],VSpacer:se["a"],VTextField:et["a"],VTooltip:_t["a"]}),wt()(xe,{Ripple:Tt["a"]});var Ce=i("66ce"),_e=i("bee2"),Se=i("d4ec"),we=Object(_e["a"])((function t(){Object(Se["a"])(this,t),this.id=0,this.key="",this.remarks="",this.createdAt=fe["a"].formatDate(new Date,"yyyy/MM/dd HH:mm:ss")})),Te=i("ce66"),Le=o["default"].extend({name:"FleetManager",components:{Ships:de,Items:ye},data:function(){return{tab:"ship",code_tab:"ship_code",includeUnLocked:!1,readResultColor:"success",inputText:"",readOnlyMode:!1,loadingURL:!1,createdURL:"",copiedURLHint:"",outputHistories:[],confirmDialog:!1,deleteIndex:-1,expandBtnClicked:!1,kantaiAnalyticsShipsCode:"",kantaiAnalyticsItemsCode:"",copiedShipCodeHint:"",copiedItemCodeHint:"",unsbscribe:void 0,kantaiSarashiURL:"",loading:!1}},mounted:function(){var t=this,e=this.$store.state.saveData;e.disabledMain(),this.readOnlyMode=this.$store.getters.getExistsTempStock;var i=this.$store.state.outputHistories;i&&i.length&&(this.outputHistories=i.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL(),this.unsbscribe=this.$store.subscribe((function(e){"setShipStock"!==e.type&&"setItemStock"!==e.type||(t.expandBtnClicked=!1,t.generateKCAnalyticsCode(),t.generateKantaiSarashiURL())})),this.loading=!this.$store.getters.getCompletedAll},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},watch:{completed:function(t){if(t){this.loading=!1;var e=this.$store.state.outputHistories;e&&e.length&&(this.outputHistories=e.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},isTempStockMode:function(t){this.readOnlyMode=!!t,this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},beforeDestroy:function(){this.unsbscribe&&this.unsbscribe()},methods:{readJson:function(){this.setShipStock()?(this.$emit("inform","在籍艦娘データの更新が完了しました。"),this.loadingURL=!1):this.setItemStock()?(this.$emit("inform","所持装備データの更新が完了しました。"),this.loadingURL=!1):this.$emit("inform","データの読み込みに失敗しました。正しいデータではない可能性があります。",!0),this.inputText="",this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()},setShipStock:function(){try{var t=fe["a"].readShipStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForShipList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateShipStock",t),!0}catch(i){return console.error(i),!1}},setItemStock:function(){try{var t=fe["a"].readItemStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForItemList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateItemStock",t),!0}catch(i){return console.error(i),!1}},requestURLKey:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n,o,l,r,c,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingURL=!0,i=t.$store.state.shipStock,a=t.$store.state.itemStock,s=Te["a"].createFirebaseStockObject(i,a),s.ships||s.items){e.next=7;break}return t.$emit("inform","艦娘、装備情報が登録されていません",!0),e.abrupt("return");case 7:if(n={ships:s.ships,items:s.items,date:fe["a"].formatDate(new Date,"yy/MM/dd HH:mm:ss"),ver:2},e.prev=8,o=Object(Ce["c"])(),l=Object(Ce["d"])(Object(Ce["a"])(Object(Ce["e"])(o),"stocks")),r=l.key,r){e.next=14;break}return t.$emit("inform","共有URLの生成に失敗しました。",!0),e.abrupt("return");case 14:c=document,d=c.location,u="".concat(d.protocol,"//").concat(d.host).concat(d.pathname,"?stockid=").concat(r),Object(Ce["f"])(Object(Ce["e"])(o,"stocks/".concat(r)),n).then((function(){t.generateShortURL(u).then((function(e){e&&t.createHistory(r)}))})).catch((function(t){console.error(t)})),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](8),console.error(e.t0),t.$emit("inform","共有URLの生成に失敗しました。",!0);case 23:case"end":return e.stop()}}),e,null,[[8,19]])})))()},generateShortURL:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=!1,i.next=3,Te["a"].getShortURL(t);case 3:return s=i.sent,s?(e.createdURL=s,e.loadingURL=!1,a=!0):(e.createdURL="URLの発行に失敗しました",e.loadingURL=!1),i.abrupt("return",a);case 6:case"end":return i.stop()}}),i)})))()},createHistory:function(t){var e=this.$store.state.outputHistories,i=r()(e.map((function(t){return t.id})))||0,a=e.concat(),s=new we;s.id=i+1,s.key=t,a.push(s),this.outputHistories=a,this.$store.dispatch("updateOutputHistories",a),this.$emit("inform","共有URLを生成しました。")},copyURL:function(){var t=document.getElementById("created-url");t.select(),document.execCommand("copy"),this.copiedURLHint="URLがコピーされました。"},clearURLHint:function(){this.copiedURLHint=""},expandHistory:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.expandBtnClicked=!0,a=e.outputHistories[t],i.next=4,Te["a"].getAndRestoreStockData(a.key);case 4:s=i.sent,s.shipStocks.length||s.itemStocks.length?(e.$store.dispatch("updateTempShipStock",s.shipStocks),e.$store.dispatch("updateTempItemStock",s.itemStocks),e.$emit("inform","編成を展開しました。")):e.$emit("inform","編成の展開に失敗しました。",!0);case 6:case"end":return i.stop()}}),i)})))()},clickedDeleteHistory:function(t){this.confirmDialog=!0,this.deleteIndex=t},deleteHistory:function(){this.confirmDialog=!1;var t=this.outputHistories[this.deleteIndex];if(t){var e=this.$store.state.outputHistories,i=e.filter((function(e){return e.id!==t.id}));this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","出力履歴を削除しました。")}},updateHistory:function(t){var e=this.outputHistories[t];if(e){var i=this.$store.state.outputHistories,a=i.concat();a[t]=e,this.outputHistories=a,this.$store.dispatch("updateOutputHistories",a),this.$emit("inform","更新が完了しました。")}},generateKCAnalyticsCode:function(){this.kantaiAnalyticsShipsCode="",this.kantaiAnalyticsItemsCode="";var t=this.$store.state.shipStock,e=this.$store.state.itemStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock,e=this.$store.state.tempItemStock),t&&t.length){for(var i=[],a=function(e){var a=t[e],s=N["i"].LEVEL_BORDERS.find((function(t){return t.lv===a.level+1})),n=s?s.req-a.exp:0,o={id:a.id,lv:a.level,st:[a.improvement.fire?a.improvement.fire:0,a.improvement.torpedo?a.improvement.torpedo:0,a.improvement.antiAir?a.improvement.antiAir:0,a.improvement.armor?a.improvement.armor:0,a.improvement.luck?a.improvement.luck:0,a.improvement.hp?a.improvement.hp:0,a.improvement.asw?a.improvement.asw:0],exp:[a.exp,n,0]};i.push(o)},s=0;s<t.length;s+=1)a(s);this.kantaiAnalyticsShipsCode=JSON.stringify(i)}if(e&&e.length&&e.some((function(t){return t.num.some((function(t){return t>0}))}))){for(var n=[],o=0;o<e.length;o+=1)for(var l=e[o],r=0;r<l.num.length;r+=1)for(var c=l.num[r],d=0;d<c;d+=1)n.push({id:l.id,lv:r});this.kantaiAnalyticsItemsCode=JSON.stringify(n)}},copyShipCode:function(){var t=document.getElementById("analytics-ship-code");t.select(),document.execCommand("copy"),this.copiedShipCodeHint="コピーされました。"},clearShipCodeHint:function(){this.copiedShipCodeHint=""},copyItemCode:function(){var t=document.getElementById("analytics-item-code");t.select(),document.execCommand("copy"),this.copiedItemCodeHint="コピーされました。"},clearItemCodeHint:function(){this.copiedItemCodeHint=""},generateKantaiSarashiURL:function(){this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html";var t=this.$store.state.shipStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock),t&&t.length){for(var e=this.$store.state.ships,i=e.filter((function(t){return 0===t.version})),a=[],s=function(s){var n=i[s],o=e.filter((function(t){return t.originalId===n.albumId})),l=o.map((function(t){return t.id})),r=t.filter((function(t){return l.includes(t.id)}));if(r.length){for(var c=[],d=function(t){var i,a=r[t],s=null===(i=e.find((function(t){return t.id===a.id})))||void 0===i?void 0:i.version;(s||0===s)&&c.push({lv:a.level,ver:s+1})},u=0;u<r.length;u+=1)d(u);c.sort((function(t,e){return e.lv-t.lv})),a.push("".concat(699===n.id?645:n.id,":").concat(c.map((function(t){return"".concat(t.lv,".").concat(t.ver)})).join(",")))}},n=0;n<i.length;n+=1)s(n);this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html?data=".concat(fe["a"].encode64(".2|".concat(a.join("|"))))}}}}),Re=Le,De=(i("eb30"),i("99d9")),$e=i("8e36"),Ie=i("67b6"),Ae=i("43a6"),Ve=i("a844"),Oe=Object(A["a"])(Re,a,s,!1,null,"53896739",null);e["default"]=Oe.exports;q()(Oe,{VBtn:bt["a"],VCard:X["a"],VCardText:De["b"],VDialog:xt["a"],VDivider:yt["a"],VIcon:qt["a"],VImg:Ct["a"],VProgressLinear:$e["a"],VRadio:Ie["a"],VRadioGroup:Ae["a"],VTab:ne["a"],VTabItem:oe["a"],VTabs:le["a"],VTabsItems:re["a"],VTextField:et["a"],VTextarea:Ve["a"]})},c98e:function(t,e,i){},d3bc:function(t,e,i){},e9c1:function(t,e,i){"use strict";i("8ee7")},eb30:function(t,e,i){"use strict";i("1af3")}}]);
//# sourceMappingURL=chunk-b22f36fa.0cf378d4.js.map