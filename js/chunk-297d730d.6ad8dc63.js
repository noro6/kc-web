(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-297d730d"],{"095a":function(e,t,a){},2192:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-5"},[a("div",{staticClass:"general-container"},[a("v-card",[a("div",{staticClass:"pa-3"},[a("div",{staticClass:"mt-2 search-inputs"},[a("div",{staticClass:"world-select-all"},[a("v-select",{attrs:{dense:"","hide-details":"",items:e.areaItems,label:"海域","menu-props":{maxHeight:"600px"}},on:{change:function(t){return e.changedWorld()}},model:{value:e.selectedArea,callback:function(t){e.selectedArea=t},expression:"selectedArea"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEvent,expression:"isEvent"}]},[a("v-select",{attrs:{dense:"","hide-details":"",items:e.levelItems,label:"難易度"},on:{change:function(t){return e.changedWorld()}},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),a("div",{staticClass:"ml-3"},[a("v-btn",{attrs:{color:"success",disabled:e.isLoading||e.isSameSearchCondition},on:{click:function(t){return e.searchPreset()}}},[e._v("検索")])],1),e.savedata&&e.savedata.length?a("div",{staticClass:"ml-auto align-self-end caption"},[e._v(e._s(e.savedata.length)+"件")]):e._e()])]),a("div",{staticClass:"pa-3"},e._l(e.savedata,(function(t,s){return a("v-card",{key:"data_"+s,staticClass:"preset-item"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"align-self-end"},[e._v(e._s(t.name))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.expandPreset(t)}}},[a("v-icon",[e._v("mdi-download")])],1)],1),a("v-divider"),a("div",{staticClass:"d-flex flex-wrap my-1"},e._l(t.ships,(function(t,i){return a("div",{key:"ship"+s+"_"+i},[t.data.id?a("v-img",{attrs:{src:"./img/ship/"+t.data.id+".png",height:"30",width:"120"}}):e._e()],1)})),0),t.memo?a("div",{staticClass:"preset-memo"},[e._v(e._s(t.memo))]):e._e(),a("div",{staticClass:"d-flex flex-wrap justify-end"},[a("div",{staticClass:"d-flex mx-2"},[a("div",[a("v-icon",{attrs:{small:""}},[e._v("mdi-account")])],1),a("div",{staticClass:"caption align-self-center"},[e._v(e._s(t.user))])]),a("div",{staticClass:"d-flex mx-2"},[a("div",[a("v-icon",{attrs:{small:""}},[e._v("mdi-clock-time-four-outline")])],1),a("div",{staticClass:"caption align-self-center"},[e._v(e._s(t.createdAt))])])])],1)})),1),e.enabledMoreLoad&&!e.isLoading?a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.searchPreset()}}},[e._v("さらに読み込む")])],1):e._e(),e.isLoading?a("div",{staticClass:"py-5"},[a("div",{staticClass:"d-flex justify-center"},[a("v-progress-circular",{attrs:{size:"70",color:"secondary",indeterminate:""}})],1)]):e._e()])],1),a("div",{staticClass:"info-area"},[a("v-divider",{staticClass:"mb-2"}),a("div",{staticClass:"caption"},[e._v(" 著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。 ")]),a("div",{staticClass:"caption"},[e._v("また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。")])],1)])},i=[],c=a("1da1"),n=(a("96cf"),a("4de4"),a("d3b7"),a("b0c0"),a("99af"),a("159b"),a("2b0e")),r=a("522d"),l=a("a680"),d=a("5802"),o=a("07bc"),v=a("eb11"),u=a.n(v),m=20,h=n["default"].extend({name:"SaveDataList",components:{},data:function(){return{areaItems:[],selectedArea:11,level:r["e"].HARD,levelItems:r["i"].DIFFICULTY_LEVELS,savedata:[],isLoading:!1,lastMap:0,lastLevel:0,lastDocument:void 0}},mounted:function(){this.initWorlds();var e=this.$store.state.searchedList;e&&e.length&&(this.savedata=e)},computed:{getCompletedAll:function(){return this.$store.getters.getCompletedAll},isEvent:function(){return Math.floor(this.selectedArea/10)>40},isSameSearchCondition:function(){return this.lastMap===this.selectedArea&&this.lastLevel===this.level},enabledMoreLoad:function(){return!!this.lastDocument&&this.isSameSearchCondition}},watch:{getCompletedAll:function(e){e&&this.initWorlds()}},methods:{initWorlds:function(){var e=[],t=this.$store.state.worlds,a=this.$store.state.maps;if(t&&a)for(var s=function(s){var i=t[s],c=a.filter((function(e){return Math.floor(e.area/10)===i.world}));if(!c.length)return"continue";s>0&&e.push({divider:!0}),e.push({header:i.name});for(var n=0;n<c.length;n+=1){var r=c[n],l=i.world>40?"E":"".concat(i.world);e.push({value:r.area,text:"".concat(l,"-").concat(r.area%10,"：").concat(r.name),group:i.name})}},i=0;i<t.length;i+=1)s(i);this.areaItems=e},changedWorld:function(){this.isLoading=!1},searchPreset:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,s,i,c,n,r,v,h,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.enabledMoreLoad||(e.savedata=[]),t.prev=2,a=Object(l["d"])(),s=4-e.level,i=e.isEvent?e.lastDocument?Object(l["g"])(Object(l["b"])(a,"presets"),Object(l["j"])("map","==",e.selectedArea),Object(l["j"])("level","==",s),Object(l["f"])("createdAt","desc"),Object(l["i"])(e.lastDocument),Object(l["e"])(m)):Object(l["g"])(Object(l["b"])(a,"presets"),Object(l["j"])("map","==",e.selectedArea),Object(l["j"])("level","==",s),Object(l["f"])("createdAt","desc"),Object(l["e"])(m)):e.lastDocument?Object(l["g"])(Object(l["b"])(a,"presets"),Object(l["j"])("map","==",e.selectedArea),Object(l["j"])("level","==",0),Object(l["f"])("createdAt","desc"),Object(l["i"])(e.lastDocument),Object(l["e"])(m)):Object(l["g"])(Object(l["b"])(a,"presets"),Object(l["j"])("map","==",e.selectedArea),Object(l["j"])("level","==",0),Object(l["f"])("createdAt","desc"),Object(l["e"])(m)),e.lastMap=e.selectedArea,e.lastLevel=e.level,t.next=10,Object(l["c"])(i);case 10:c=t.sent,n=[],r=e.$store.state.items,v=e.$store.state.ships,h=e.$store.state.defaultEnemies,p=new d["a"](r,v,h),c.forEach((function(e){var t=e.data();if(2===t.ver){var a=u.a.decompressFromBase64(e.data().data)||"",s=o["a"].loadSavedataManagerString(a,r,v,h);s&&(t.ships=s.fleetInfo.fleets[0].ships,t.manager=s,t.createdAt=d["a"].formatDate(e.data().createdAt.toDate(),"yyyy/MM/dd HH:mm:ss"),n.push(t))}else{var i=p.restoreOldSaveData(e.data().data);i&&(t.ships=i.fleetInfo.fleets[0].ships,t.manager=i,t.createdAt=d["a"].formatDate(e.data().createdAt.toDate(),"yyyy/MM/dd HH:mm:ss"),n.push(t))}})),e.lastDocument&&e.savedata?e.savedata=e.savedata.concat(n):e.savedata=n,c&&c.docs.length>=m?e.lastDocument=c.docs[c.docs.length-1]:e.lastDocument=void 0,e.$store.dispatch("setSearchedList",e.savedata),t.next=27;break;case 22:t.prev=22,t.t0=t["catch"](2),console.error(t.t0),e.savedata=[],e.$emit("inform","編成データ読み込み中にエラーが発生しました。",!0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[2,22]])})))()},expandPreset:function(e){var t=this.$store.state.saveData;t.disabledMain();var a=new o["a"];a.name=e.name,a.remarks=e.memo,a.tempData=[e.manager],a.tempIndex=0,a.isActive=!0,a.isMain=!0,t.childItems.push(a),this.$store.dispatch("updateSaveData",t),this.$store.dispatch("setMainSaveData",a),this.$router.push("aircalc")}}}),p=h,f=(a("6d92"),a("2877")),b=a("6544"),g=a.n(b),j=a("8336"),C=a("b0af"),O=a("ce7e"),_=a("132d"),A=a("adda"),w=a("490a"),x=a("b974"),D=a("2fa4"),L=Object(f["a"])(p,s,i,!1,null,"51aee48a",null);t["default"]=L.exports;g()(L,{VBtn:j["a"],VCard:C["a"],VDivider:O["a"],VIcon:_["a"],VImg:A["a"],VProgressCircular:w["a"],VSelect:x["a"],VSpacer:D["a"]})},"6d92":function(e,t,a){"use strict";a("095a")}}]);
//# sourceMappingURL=chunk-297d730d.6ad8dc63.js.map