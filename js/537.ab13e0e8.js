"use strict";(self["webpackChunkkc_web"]=self["webpackChunkkc_web"]||[]).push([[537],{6842:function(t,e,s){s.r(e),s.d(e,{default:function(){return ie}});var i=s(9582),a=s(9223),l=s(626),n=s(2165),r=s(7771),o=s(5085),d=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mb-5"},[e("div",{staticClass:"general-container"},[e(r.Z,{attrs:{"show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(l.Z,[t._v(t._s(t.$t("Extra.艦娘性能一覧")))]),e(l.Z,[t._v(t._s(t.$t("Extra.装備性能一覧")))]),e(l.Z,[t._v(t._s(t.$t("Extra.対潜値計算機")))]),e(l.Z,[t._v(t._s(t.$t("Extra.戦果砲管理")))]),e(l.Z,[t._v(t._s(t.$t("Extra.敵艦生息地検索")))]),e(l.Z,[t._v(t._s(t.$t("Extra.敵対空おばけ")))])],1),e(a.Z),e(o.Z,{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(n.Z,[e("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.艦娘の基本ステータスの確認と比較を行えます。")))]),e("div",{staticClass:"pa-1"},[e("ship-master-list")],1),e("div",{staticClass:"pa-1"},[e(i.Z,{staticClass:"pa-3"},[e("ship-status-compare")],1)],1),e("div",{staticClass:"pa-1"},[e(i.Z,{staticClass:"pa-3"},[e("ship-item-synergy")],1)],1)]),e(n.Z,[e("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.装備の基本ステータスの確認と比較を行えます。")))]),e("div",{staticClass:"pa-1"},[e("item-master-list")],1)]),e(n.Z,[e("div",{staticClass:"my-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.艦娘と装備から、指定した対潜値と必要なLvを計算します。")))]),e("div",{staticClass:"pa-1"},[e("required-asw-calculator")],1)]),e(n.Z,[e("div",{staticClass:"mt-3 mx-3 body-2"},[t._v(t._s(t.$t("Extra.戦果に関係する任務の進捗を管理する機能です。")))]),e("quest-manager")],1),e(n.Z,[e("div",{staticClass:"my-3 mx-2 body-2"},[t._v(" "+t._s(t.$t("Extra.指定した敵艦が登場する海域を検索します。データが更新されていない場合もあるので、あくまで参考程度に。"))+" ")]),e("div",{staticClass:"pa-1"},[e("enemy-searcher")],1)]),e(n.Z,[e("div",{staticClass:"my-3 mx-2 body-2"},[t._v(" "+t._s(t.$t("Extra.敵艦の対空砲火ランキングです。見かけたら気を付けるか覚悟しましょう。"))+" ")]),e("div",{staticClass:"pa-1"},[e("enemy-aa-ranking")],1)])],1)],1),e("div",{staticClass:"info-area"},[e(a.Z,{staticClass:"mb-2"}),e("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。"))+" ")]),e("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。"))+" ")])],1)])},c=[],h=s(144),m=s(4562),u=s(3486),p=s(5151),v=s(4061),g=s(4324),f=s(5495),y=s(4525),_=s(5187),x=s(60),w=s(9481),C=s(3687),b=s(9780),$=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(i.Z,{staticClass:"px-3"},[e("div",{staticClass:"d-flex align-center flex-wrap"},[e("div",{staticClass:"keyword-text align-self-end mr-3"},[e(b.Z,{attrs:{dense:"",placeholder:t.$t("Database.名称検索"),"prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),e(m.Z,{attrs:{outlined:""},on:{click:function(e){t.filterDialog=!0}}},[e(g.Z,[t._v("mdi-filter")]),t._v(t._s(t.$t("Common.絞り込み"))+" ")],1),e(m.Z,{staticClass:"ml-1",attrs:{text:"",small:""},on:{click:function(e){return e.stopPropagation(),t.resetFilter()}}},[t._v(" "+t._s(t.$t("Common.リセット"))+" ")]),e(v.Z,{attrs:{transition:"scroll-x-transition",width:"760",fullscreen:t.isMobile},on:{input:t.toggleFilterDialog},model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[e(i.Z,{staticClass:"filter-dialog-card"},[e("div",{staticClass:"d-flex pt-2 pb-1 px-2"},[e("div",{staticClass:"align-self-center ml-3 body-2"},[t._v(t._s(t.$t("Common.絞り込み")))]),e(C.Z),t.isMobile?e(m.Z,{staticClass:"align-self-center",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.resetFilter()}}},[e(g.Z,[t._v("mdi-trash-can-outline")])],1):e(m.Z,{staticClass:"mr-3 align-self-center",attrs:{small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.resetFilter()}}},[t._v(" "+t._s(t.$t("Common.リセット"))+" ")]),e(m.Z,{attrs:{icon:""},on:{click:function(e){return t.closeFilterDialog()}}},[e(g.Z,[t._v("mdi-close")])],1)],1),e(a.Z,{staticClass:"mx-2"}),e("div",{staticClass:"filter-dialog-body pr-1 pb-2"},[e("div",{staticClass:"d-flex mt-4 mt-sm-0"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Fleet.改造状態")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.未改造"),error:t.isAllUncheckedRemodeling},model:{value:t.shipFilter.includeInitial,callback:function(e){t.$set(t.shipFilter,"includeInitial",e)},expression:"shipFilter.includeInitial"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.中間改造"),error:t.isAllUncheckedRemodeling},model:{value:t.shipFilter.includeIntermediate,callback:function(e){t.$set(t.shipFilter,"includeIntermediate",e)},expression:"shipFilter.includeIntermediate"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.最終改造"),error:t.isAllUncheckedRemodeling},model:{value:t.shipFilter.includeFinal,callback:function(e){t.$set(t.shipFilter,"includeFinal",e)},expression:"shipFilter.includeFinal"}})],1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Fleet.装備搭載可否")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{disabled:!t.visibleMidgetSubmarineFilter,dense:"","hide-details":"",label:t.$t("Fleet.甲標的")},model:{value:t.shipFilter.midgetSubmarineOK,callback:function(e){t.$set(t.shipFilter,"midgetSubmarineOK",e)},expression:"shipFilter.midgetSubmarineOK"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.大型探照灯")},model:{value:t.shipFilter.largeSearchlightOK,callback:function(e){t.$set(t.shipFilter,"largeSearchlightOK",e)},expression:"shipFilter.largeSearchlightOK"}})],1),e("div",{staticClass:"filter-input-container mt-1"},[e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.landingCraftOK,ng:t.shipFilter.landingCraftNG,toggle:t.toggleDaihatsuFilter,imgPath:"./img/type/type24.png"}}),e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.tankOK,ng:t.shipFilter.tankNG,toggle:t.toggleTankFilter,imgPath:"./img/type/type46.png"}}),e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.spBomberOK,ng:t.shipFilter.spBomberNG,toggle:t.toggleSpBomberFilter,imgPath:"./img/type/type1100.png",disabled:!t.visibleSpBomberFilter}}),e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.fighterOK,ng:t.shipFilter.fighterNG,toggle:t.toggleFighterFilter,imgPath:"./img/type/type4500.png",disabled:!t.visibleFighterFilter}}),e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.commanderOK,ng:t.shipFilter.commanderNG,toggle:t.toggleCommanderFilter,imgPath:"./img/type/type34.png",disabled:!t.visibleCommanderFilter}}),e("manual-checkbox",{attrs:{mode:"img",ok:t.shipFilter.armorOK,ng:t.shipFilter.armorNG,toggle:t.toggleArmorFilter,imgPath:"./img/type/type27.png",disabled:!t.visibleArmorFilter}})],1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("ItemList.補強増設")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.13号電探系")},model:{value:t.shipFilter.canEquip13RadarOnly,callback:function(e){t.$set(t.shipFilter,"canEquip13RadarOnly",e)},expression:"shipFilter.canEquip13RadarOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.22号電探系")},model:{value:t.shipFilter.canEquip22RadarOnly,callback:function(e){t.$set(t.shipFilter,"canEquip22RadarOnly",e)},expression:"shipFilter.canEquip22RadarOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.電探マスト")},model:{value:t.shipFilter.canEquipMastRadarOnly,callback:function(e){t.$set(t.shipFilter,"canEquipMastRadarOnly",e)},expression:"shipFilter.canEquipMastRadarOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.その他電探")},model:{value:t.shipFilter.canEquipRadarOnly,callback:function(e){t.$set(t.shipFilter,"canEquipRadarOnly",e)},expression:"shipFilter.canEquipRadarOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("EType.副砲")},model:{value:t.shipFilter.canEquipExSubGunOnly,callback:function(e){t.$set(t.shipFilter,"canEquipExSubGunOnly",e)},expression:"shipFilter.canEquipExSubGunOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("EType.司令部施設")},model:{value:t.shipFilter.canEquipExCommanderOnly,callback:function(e){t.$set(t.shipFilter,"canEquipExCommanderOnly",e)},expression:"shipFilter.canEquipExCommanderOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("EType.爆雷")},model:{value:t.shipFilter.canEquipExDepthChargeOnly,callback:function(e){t.$set(t.shipFilter,"canEquipExDepthChargeOnly",e)},expression:"shipFilter.canEquipExDepthChargeOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("EType.追加装甲")},model:{value:t.shipFilter.canEquipExArmorOnly,callback:function(e){t.$set(t.shipFilter,"canEquipExArmorOnly",e)},expression:"shipFilter.canEquipExArmorOnly"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("EType.特型内火艇")},model:{value:t.shipFilter.canEquipExTankOnly,callback:function(e){t.$set(t.shipFilter,"canEquipExTankOnly",e)},expression:"shipFilter.canEquipExTankOnly"}})],1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common.耐久")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:"4n - 1",error:t.isAllUncheckedHP},model:{value:t.shipFilter.HPIs4n1,callback:function(e){t.$set(t.shipFilter,"HPIs4n1",e)},expression:"shipFilter.HPIs4n1"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:"4n - 2",error:t.isAllUncheckedHP},model:{value:t.shipFilter.HPIs4n2,callback:function(e){t.$set(t.shipFilter,"HPIs4n2",e)},expression:"shipFilter.HPIs4n2"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:"4n - 3",error:t.isAllUncheckedHP},model:{value:t.shipFilter.HPIs4n3,callback:function(e){t.$set(t.shipFilter,"HPIs4n3",e)},expression:"shipFilter.HPIs4n3"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:"4n",error:t.isAllUncheckedHP},model:{value:t.shipFilter.HPIs4n,callback:function(e){t.$set(t.shipFilter,"HPIs4n",e)},expression:"shipFilter.HPIs4n"}})],1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common.速力")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.高速"),error:t.isAllUncheckedSpeed},model:{value:t.shipFilter.includeFast,callback:function(e){t.$set(t.shipFilter,"includeFast",e)},expression:"shipFilter.includeFast"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.低速"),error:t.isAllUncheckedSpeed},model:{value:t.shipFilter.includeSlow,callback:function(e){t.$set(t.shipFilter,"includeSlow",e)},expression:"shipFilter.includeSlow"}})],1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Common.射程")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Common.短"),error:t.isAllUncheckedRange},model:{value:t.shipFilter.includeRange1,callback:function(e){t.$set(t.shipFilter,"includeRange1",e)},expression:"shipFilter.includeRange1"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Common.中"),error:t.isAllUncheckedRange},model:{value:t.shipFilter.includeRange2,callback:function(e){t.$set(t.shipFilter,"includeRange2",e)},expression:"shipFilter.includeRange2"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Common.長"),error:t.isAllUncheckedRange},model:{value:t.shipFilter.includeRange3,callback:function(e){t.$set(t.shipFilter,"includeRange3",e)},expression:"shipFilter.includeRange3"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Common.超長"),error:t.isAllUncheckedRange},model:{value:t.shipFilter.includeRange4,callback:function(e){t.$set(t.shipFilter,"includeRange4",e)},expression:"shipFilter.includeRange4"}})],1),e("div",{staticClass:"d-flex mt-4 align-center"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.国籍")))]),e("div",{staticClass:"header-divider"}),e("div",{staticClass:"pl-3"},[e(m.Z,{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){return t.toggleAllNationality()}}},[e(g.Z,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-all")]),t._v(" "+t._s(t.$t("Database.一括チェック"))+" ")],1)],1)]),e("div",{staticClass:"filter-input-container"},t._l(t.shipFilter.nationalities,(function(s,i){return e(u.Z,{key:`item${i}`,attrs:{dense:"",label:t.$t(`Database.${s.text}`),"hide-details":"",error:t.shipFilter.nationalities.every((t=>!t.isChecked))},model:{value:s.isChecked,callback:function(e){t.$set(s,"isChecked",e)},expression:"item.isChecked"}})})),1),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("Fleet.装備スロット数")))]),e("div",{staticClass:"header-divider"})]),e("div",{staticClass:"filter-input-container"},[e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.3スロ以上"),disabled:t.shipFilter.slotCount4||t.shipFilter.slotCount5},model:{value:t.shipFilter.slotCount3,callback:function(e){t.$set(t.shipFilter,"slotCount3",e)},expression:"shipFilter.slotCount3"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.4スロ以上"),disabled:t.shipFilter.slotCount5},model:{value:t.shipFilter.slotCount4,callback:function(e){t.$set(t.shipFilter,"slotCount4",e)},expression:"shipFilter.slotCount4"}}),e(u.Z,{attrs:{dense:"","hide-details":"",label:t.$t("Fleet.5スロ以上")},model:{value:t.shipFilter.slotCount5,callback:function(e){t.$set(t.shipFilter,"slotCount5",e)},expression:"shipFilter.slotCount5"}})],1)])],1)],1),e("div",{staticClass:"flex-grow-1 align-self-end"},[e(w.Z,{attrs:{items:t.translatedShipTypes,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",multiple:""},on:{change:t.initShips},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[e(y.Z,{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[e(_.Z,[e(g.Z,{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),e(x.km,[e(x.V9,[t._v(t._s(t.$t("Database.全選択")))])],1)],1),e(a.Z,{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}})],1)],1),e(a.Z,{staticClass:"mt-2"}),e(p.Z,{staticClass:"ship-master-table",attrs:{dense:"","fixed-header":"",height:"48vh","multi-sort":"",headers:t.headers,items:t.ships,search:t.keyword,"items-per-page":50,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[20,50,100]},"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"header.name",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.hp",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.fire",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.armor",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.torpedo",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.maxAvoid",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.antiAir",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.maxAsw",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.speed",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.maxScout",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.range",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.luck",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.night",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.fuel",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.ammo",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"item.id",fn:function({item:t}){return[e(f.Z,{attrs:{src:`./img/ship/${t.id}.png`,height:"30",width:"120"}})]}},{key:"item.name",fn:function({item:s}){return[e("div",{staticClass:"ship-name text-truncate caption",attrs:{title:s.name}},[t._v(t._s(t.getShipName(s)))])]}},{key:"item.speed",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(t.speedText(s.speed)))])]}},{key:"item.range",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(t.$t(`Common.${t.rangeText[s.range]}`)))])]}}],null,!0)})],1)},S=[],k=s(6141),Z=s(3664),T=s(5549),F=s(3631),E=s(3893),I=h.ZP.extend({name:"ShipMasterList",components:{ManualCheckbox:E.Z},data:()=>({rangeText:["","短","中","長","超長","超長+"],keyword:"",shipFilter:new Z.Z,filterDialog:!1,types:[],selectedTypes:[],headers:[{text:"",sortable:!1,value:"id"},{text:"艦娘名",value:"name"},{text:"耐久",filterable:!1,align:"end",value:"hp"},{text:"火力",filterable:!1,align:"end",value:"fire"},{text:"装甲",filterable:!1,align:"end",value:"armor"},{text:"雷装",filterable:!1,align:"end",value:"torpedo"},{text:"夜戦",filterable:!1,align:"end",value:"night"},{text:"回避",filterable:!1,align:"end",value:"maxAvoid"},{text:"対空",filterable:!1,align:"end",value:"antiAir"},{text:"対潜",filterable:!1,align:"end",value:"maxAsw"},{text:"速力",filterable:!1,align:"end",value:"speed"},{text:"索敵",filterable:!1,align:"end",value:"maxScout"},{text:"射程",filterable:!1,align:"end",value:"range"},{text:"運",filterable:!1,align:"end",value:"luck"},{text:"燃料",filterable:!1,align:"end",value:"fuel"},{text:"弾薬",filterable:!1,align:"end",value:"ammo"}],ships:[],isMobile:!0}),mounted(){const t=k.ZP.SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(let e=0;e<t.length;e+=1)this.types.push({text:t[e].text,value:e}),"駆逐"===t[e].text&&this.selectedTypes.push(e);this.shipFilter.includeInitial=!1,this.shipFilter.includeIntermediate=!1,this.initShips()},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},selectedAllType(){return this.selectedTypes.length===this.types.length},selectedSomeType(){return this.selectedTypes.length>0&&!this.selectedAllType},translatedShipTypes(){const t=[];for(let e=0;e<this.types.length;e+=1){const s=this.types[e];t.push({text:`${this.$t(`SType.${s.text}`)}`,value:s.value})}return t},isNotJapanese(){return"ja"!==this.$i18n.locale},icon(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},getShipName(){return t=>{if(this.needTrans){const e=T.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},speedText(){return t=>t<=5?`${this.$t("Fleet.低速")}`:t<=10?`${this.$t("Fleet.高速")}`:t<=15?`${this.$t("Fleet.高速+")}`:`${this.$t("Fleet.最速")}`},visibleMidgetSubmarineFilter(){const t=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let e=0;e<t.length;e+=1){const s=t[e];if([+k.QD.CL,k.QD.CAV,k.QD.AV].includes(s))return!0}return this.selectedAllType},visibleSpBomberFilter(){const t=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let e=0;e<t.length;e+=1){const s=t[e];if([+k.QD.CL,k.QD.CA,k.QD.FBB,k.QD.BB,k.QD.BBB].includes(s))return!0}return this.selectedAllType},visibleFighterFilter(){const t=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let e=0;e<t.length;e+=1){const s=t[e];if([+k.QD.CL,k.QD.CA,k.QD.FBB,k.QD.BB,k.QD.BBB].includes(s))return!0}return this.selectedAllType},visibleArmorFilter(){const t=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let e=0;e<t.length;e+=1){const s=t[e];if([+k.QD.DD,k.QD.CL,k.QD.AO_2].includes(s))return!0}return this.selectedAllType},visibleCommanderFilter(){const t=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();for(let e=0;e<t.length;e+=1){const s=t[e];if([+k.QD.DD,k.QD.AO_2].includes(s))return!0}return this.selectedAllType},isAllUncheckedHP(){return!this.shipFilter.HPIs4n&&!this.shipFilter.HPIs4n1&&!this.shipFilter.HPIs4n2&&!this.shipFilter.HPIs4n3},isAllUncheckedRemodeling(){return!this.shipFilter.includeInitial&&!this.shipFilter.includeIntermediate&&!this.shipFilter.includeFinal},isAllUncheckedSpeed(){return!this.shipFilter.includeFast&&!this.shipFilter.includeSlow},isAllUncheckedRange(){return!this.shipFilter.includeRange1&&!this.shipFilter.includeRange2&&!this.shipFilter.includeRange3&&!this.shipFilter.includeRange4}},watch:{completed(t){t&&this.initShips()}},methods:{initShips(){this.isMobile=window.innerWidth<600;const t=this.$store.state.ships;let e=[];const s=k.ZP.SHIP_TYPES_ALT.filter(((t,e)=>this.selectedTypes.includes(e))).map((t=>t.types)).flat();let i=[];const a=this.shipFilter.nationalities.filter((t=>!t.isChecked)).map((t=>t.filter));for(let o=0;o<a.length;o+=1)i=i.concat(a[o]);const l=this.shipFilter.nationalities.filter((t=>!t.isChecked)).map((t=>t.value)).includes(0);for(let o=0;o<t.length;o+=1){const a=t[o];s.includes(a.type)&&((this.shipFilter.includeInitial||0!==a.version)&&(this.shipFilter.includeIntermediate||0===a.version||a.isFinal)&&(!this.shipFilter.includeFinal&&a.isFinal||this.shipFilter.slotCount5&&a.slotCount<5||this.shipFilter.slotCount4&&a.slotCount<4||this.shipFilter.slotCount3&&a.slotCount<3||!this.shipFilter.HPIs4n&&a.hp%4===0||!this.shipFilter.HPIs4n1&&a.hp%4===3||!this.shipFilter.HPIs4n2&&a.hp%4===2||!this.shipFilter.HPIs4n3&&a.hp%4===1||i.includes(a.type2)||l&&k.ZP.JPN.includes(a.type2)||(this.shipFilter.includeFast||10!==a.speed)&&(this.shipFilter.includeSlow||5!==a.speed)&&(this.shipFilter.includeRange1||1!==a.range)&&(this.shipFilter.includeRange2||2!==a.range)&&(this.shipFilter.includeRange3||3!==a.range)&&(this.shipFilter.includeRange4||4!==a.range)&&e.push(a)))}const n=F.Z.isValidItem,r=(t,e,s=!1,i=!1)=>{const a=this.$store.state.items.filter((t=>e.includes(t.id)));if(a.length){const e=i?k.ZP.EXPAND_SLOT_INDEX:-1;return s?t.filter((t=>t.slotCount&&a.every((s=>!n(t,s,e,10))))):t.filter((t=>t.slotCount&&a.some((s=>n(t,s,e,10)))))}return t};this.shipFilter.landingCraftOK?e=r(e,[68]):this.shipFilter.landingCraftNG&&(e=r(e,[68],!0)),this.shipFilter.tankOK?e=r(e,[167]):this.shipFilter.tankNG&&(e=r(e,[167],!0)),this.visibleCommanderFilter&&(this.shipFilter.commanderOK?e=r(e,[107]):this.shipFilter.commanderNG&&(e=r(e,[107],!0))),this.visibleArmorFilter&&(this.shipFilter.armorOK?e=r(e,[72,73]):this.shipFilter.armorNG&&(e=r(e,[72,73],!0))),this.visibleSpBomberFilter&&(this.shipFilter.spBomberOK?e=r(e,[194]):this.shipFilter.spBomberNG&&(e=r(e,[194],!0))),this.visibleFighterFilter&&(this.shipFilter.fighterOK?e=r(e,[19,165]):this.shipFilter.fighterNG&&(e=r(e,[19,165],!0))),this.shipFilter.midgetSubmarineOK&&this.visibleMidgetSubmarineFilter&&(e=r(e,[41])),this.shipFilter.largeSearchlightOK&&(e=r(e,[140])),this.shipFilter.canEquip13RadarOnly&&(e=r(e,[27,506],!1,!0)),this.shipFilter.canEquip22RadarOnly&&(e=r(e,[28,517],!1,!0)),this.shipFilter.canEquipMastRadarOnly&&(e=r(e,[506],!1,!0)),this.shipFilter.canEquipRadarOnly&&(e=r(e,[30,124,142,410,460,527,528],!1,!0)),this.shipFilter.canEquipExSubGunOnly&&(e=r(e,[220,275,524],!1,!0)),this.shipFilter.canEquipExCommanderOnly&&(e=r(e,[107,272,413],!1,!0)),this.shipFilter.canEquipExTankOnly&&(e=r(e,[167,525,526],!1,!0)),this.shipFilter.canEquipExArmorOnly&&(e=r(e,[72,73,268],!1,!0)),this.shipFilter.canEquipExDepthChargeOnly&&(e=r(e,[226,227],!1,!0)),this.ships=e.sort(((t,e)=>t.sort-e.sort))},resetFilter(){this.keyword="",this.shipFilter=new Z.Z,this.shipFilter.includeInitial=!1,this.shipFilter.includeIntermediate=!1,this.initShips()},toggleFilterDialog(){this.filterDialog||this.initShips()},toggleAllType(){this.$nextTick((()=>{this.selectedAllType?this.selectedTypes=[]:this.selectedTypes=this.types.map((t=>t.value)).slice(),this.initShips()}))},toggleDaihatsuFilter(){this.shipFilter.landingCraftOK?(this.shipFilter.landingCraftOK=!1,this.shipFilter.landingCraftNG=!0):this.shipFilter.landingCraftNG?this.shipFilter.landingCraftNG=!1:this.shipFilter.landingCraftOK=!0},toggleTankFilter(){this.shipFilter.tankOK?(this.shipFilter.tankOK=!1,this.shipFilter.tankNG=!0):this.shipFilter.tankNG?this.shipFilter.tankNG=!1:this.shipFilter.tankOK=!0},toggleSpBomberFilter(){this.shipFilter.spBomberOK?(this.shipFilter.spBomberOK=!1,this.shipFilter.spBomberNG=!0):this.shipFilter.spBomberNG?this.shipFilter.spBomberNG=!1:this.shipFilter.spBomberOK=!0},toggleFighterFilter(){this.shipFilter.fighterOK?(this.shipFilter.fighterOK=!1,this.shipFilter.fighterNG=!0):this.shipFilter.fighterNG?this.shipFilter.fighterNG=!1:this.shipFilter.fighterOK=!0},toggleCommanderFilter(){this.shipFilter.commanderOK?(this.shipFilter.commanderOK=!1,this.shipFilter.commanderNG=!0):this.shipFilter.commanderNG?this.shipFilter.commanderNG=!1:this.shipFilter.commanderOK=!0},toggleArmorFilter(){this.shipFilter.armorOK?(this.shipFilter.armorOK=!1,this.shipFilter.armorNG=!0):this.shipFilter.armorNG?this.shipFilter.armorNG=!1:this.shipFilter.armorOK=!0},toggleExSlotFilter(){this.shipFilter.isReleaseExSlotOnly?(this.shipFilter.isReleaseExSlotOnly=!1,this.shipFilter.isNotReleaseExSlotOnly=!0):this.shipFilter.isNotReleaseExSlotOnly?this.shipFilter.isNotReleaseExSlotOnly=!1:this.shipFilter.isReleaseExSlotOnly=!0},toggleAllNationality(){const t=this.shipFilter.nationalities.some((t=>!t.isChecked));for(let e=0;e<this.shipFilter.nationalities.length;e+=1)this.shipFilter.nationalities[e].isChecked=t}}}),D=I,A=s(1001),L=(0,A.Z)(D,$,S,!1,null,"a445dcf4",null),P=L.exports,q=s(9449),R=s(7069),M=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"d-flex justify-end mb-3"},[e(m.Z,{on:{click:t.resetShips}},[e(g.Z,[t._v("mdi-trash-can-outline")]),t._v(t._s(t.$t("Common.リセット")))],1)],1),e(a.Z),e(q.Z,{attrs:{"fixed-header":"",height:"64vh",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[e("div",{staticClass:"pb-2"},[e(u.Z,{attrs:{disabled:t.enabledShipsCount<2,"hide-details":"",dense:"",label:t.$t("Extra.差分表示")},model:{value:t.isDiffMode,callback:function(e){t.isDiffMode=e},expression:"isDiffMode"}})],1)]),t._l(t.ships,(function(s,i){return e("th",{key:`select${i}`,staticClass:"py-1 text-right"},[s.isEmpty?e(m.Z,{attrs:{text:""},on:{click:function(e){return t.showShipList(i)}}},[e(g.Z,[t._v("mdi-plus")]),t._v(t._s(t.$t("Fleet.艦娘選択")))],1):e("div",{staticClass:"d-flex justify-end"},[e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"text-primary"},expression:"{ class: 'text-primary' }"}],staticClass:"ship-img",on:{click:function(e){return t.showShipList(i)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList(i)}}},[e(f.Z,{attrs:{src:`./img/ship/${s.data.id}.png`,height:"30",width:"120"}})],1)])],1)}))],2)]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.$t("Common.艦娘名")))]),t._l(t.ships,(function(s,i){return e("td",{key:`name${i}`,staticClass:"ship-name text-truncate"},[t._v(t._s(t.getShipName(s.data)))])}))],2),e("tr",[e("td",[t._v("Lv")]),t._l(t.ships,(function(s,i){return e("td",{key:`level${i}`,staticClass:"level-td"},[s.isEmpty?t._e():e("div",{staticClass:"d-flex align-center justify-end py-1"},[e(b.Z,{staticClass:"level-input",attrs:{dense:"",outlined:"",max:t.maxLevel,min:"1",type:"number",rules:[t.rules.level],"hide-details":""},on:{input:function(e){return t.statusChanged(i)}},model:{value:s.level,callback:function(e){t.$set(s,"level",t._n(e))},expression:"ship.level"}})],1)])}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.耐久")))]),t._l(t.ships,(function(s,i){return e("td",{key:`HP${i}`,class:{top:t.maxStatuses.hp===s.displayStatus.HP,min:t.minStatuses.hp===s.displayStatus.HP,empty:s.isEmpty||!t.maxStatuses.hp||t.maxStatuses.hp===t.minStatuses.hp}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.HP?s.displayStatus.HP:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.HP-t.ships[0].displayStatus.HP))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.火力")))]),t._l(t.ships,(function(s,i){return e("td",{key:`firePower${i}`,class:{top:t.maxStatuses.firePower===s.displayStatus.firePower,min:t.minStatuses.firePower===s.displayStatus.firePower,empty:s.isEmpty||!t.maxStatuses.firePower||t.maxStatuses.firePower===t.minStatuses.firePower}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.firePower?s.displayStatus.firePower:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.firePower-t.ships[0].displayStatus.firePower))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.装甲")))]),t._l(t.ships,(function(s,i){return e("td",{key:`armor${i}`,class:{top:t.maxStatuses.armor===s.displayStatus.armor,min:t.minStatuses.armor===s.displayStatus.armor,empty:s.isEmpty||!t.maxStatuses.armor||t.maxStatuses.armor===t.minStatuses.armor}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.armor?s.displayStatus.armor:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.armor-t.ships[0].displayStatus.armor))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.雷装")))]),t._l(t.ships,(function(s,i){return e("td",{key:`torpedo${i}`,class:{top:t.maxStatuses.torpedo===s.displayStatus.torpedo,min:t.minStatuses.torpedo===s.displayStatus.torpedo,empty:s.isEmpty||!t.maxStatuses.torpedo||t.maxStatuses.torpedo===t.minStatuses.torpedo}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.torpedo?s.displayStatus.torpedo:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.torpedo-t.ships[0].displayStatus.torpedo))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.夜戦火力")))]),t._l(t.ships,(function(s,i){return e("td",{key:`night${i}`,class:{top:t.maxStatuses.night===s.nightBattleFirePower,min:t.minStatuses.night===s.nightBattleFirePower,empty:s.isEmpty||!t.maxStatuses.night||t.maxStatuses.night===t.minStatuses.night}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.nightBattleFirePower?s.nightBattleFirePower:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.nightBattleFirePower-t.ships[0].nightBattleFirePower))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.対空")))]),t._l(t.ships,(function(s,i){return e("td",{key:`antiAir${i}`,class:{top:t.maxStatuses.antiAir===s.displayStatus.antiAir,min:t.minStatuses.antiAir===s.displayStatus.antiAir,empty:s.isEmpty||!t.maxStatuses.antiAir||t.maxStatuses.antiAir===t.minStatuses.antiAir}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.antiAir?s.displayStatus.antiAir:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.antiAir-t.ships[0].displayStatus.antiAir))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.対潜")))]),t._l(t.ships,(function(s,i){return e("td",{key:`asw${i}`,class:{top:t.maxStatuses.asw===s.displayStatus.asw,min:t.minStatuses.asw===s.displayStatus.asw,empty:s.isEmpty||!t.maxStatuses.asw||t.maxStatuses.asw===t.minStatuses.asw}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.asw?s.displayStatus.asw:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.asw-t.ships[0].displayStatus.asw))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.索敵")))]),t._l(t.ships,(function(s,i){return e("td",{key:`LoS${i}`,class:{top:t.maxStatuses.LoS===s.displayStatus.LoS,min:t.minStatuses.LoS===s.displayStatus.LoS,empty:s.isEmpty||!t.maxStatuses.LoS||t.maxStatuses.LoS===t.minStatuses.LoS}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.LoS?s.displayStatus.LoS:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.LoS-t.ships[0].displayStatus.LoS))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.回避")))]),t._l(t.ships,(function(s,i){return e("td",{key:`avoid${i}`,class:{top:t.maxStatuses.avoid===s.displayStatus.avoid,min:t.minStatuses.avoid===s.displayStatus.avoid,empty:s.isEmpty||!t.maxStatuses.avoid||t.maxStatuses.avoid===t.minStatuses.avoid}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.avoid?s.displayStatus.avoid:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.avoid-t.ships[0].displayStatus.avoid))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.運")))]),t._l(t.ships,(function(s,i){return e("td",{key:`luck${i}`,class:{top:t.maxStatuses.luck===s.displayStatus.luck,min:t.minStatuses.luck===s.displayStatus.luck,empty:s.isEmpty||!t.maxStatuses.luck||t.maxStatuses.luck===t.minStatuses.luck}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.displayStatus.luck?s.displayStatus.luck:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.displayStatus.luck-t.ships[0].displayStatus.luck))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.射程")))]),t._l(t.ships,(function(s,i){return e("td",{key:`range${i}`},[t._v(t._s(s.data.range?t.$t(`Common.${t.rangeText[s.displayStatus.range]}`):"-"))])}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.速力")))]),t._l(t.ships,(function(s,i){return e("td",{key:`speed${i}`},[t._v(t._s(s.isEmpty?"-":t.speedText(s.speed)))])}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.燃料")))]),t._l(t.ships,(function(s,i){return e("td",{key:`fuel${i}`,class:{top:t.maxStatuses.fuel===s.fuel,min:t.minStatuses.fuel===s.fuel,empty:s.isEmpty||!t.maxStatuses.fuel||t.maxStatuses.fuel===t.minStatuses.fuel}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.data.fuel?s.fuel:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.fuel-t.ships[0].fuel))+" ")]],2)}))],2),e("tr",[e("td",[t._v(t._s(t.$t("Common.弾薬")))]),t._l(t.ships,(function(s,i){return e("td",{key:`ammo${i}`,class:{top:t.maxStatuses.ammo===s.ammo,min:t.minStatuses.ammo===s.ammo,empty:s.isEmpty||!t.maxStatuses.ammo||t.maxStatuses.ammo===t.minStatuses.ammo}},[!t.isDiffMode||0===i||s.isEmpty?[t._v(" "+t._s(s.data.ammo?s.ammo:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString(s.ammo-t.ships[0].ammo))+" ")]],2)}))],2),t._l(5,(function(s){return e("tr",{key:`slot${s}`},[e("td",[t._v(t._s(t.$t("Fleet.搭載"))+t._s(s))]),t._l(t.ships,(function(i,a){return e("td",{key:`ammo${a}`,class:{top:t.maxStatuses[`slot${s}`]===i.data.slots[s-1],min:t.minStatuses[`slot${s}`]===i.data.slots[s-1],empty:i.isEmpty||!t.maxStatuses[`slot${s}`]||t.maxStatuses[`slot${s}`]===t.minStatuses[`slot${s}`]}},[!t.isDiffMode||0===a||i.isEmpty?[t._v(" "+t._s(i.data.slots[s-1]>=0?i.data.slots[s-1]:"-")+" ")]:[t._v(" "+t._s(t.diffValueToString((i.data.slots[s-1]?i.data.slots[s-1]:0)-(t.ships[0].data.slots[s-1]?t.ships[0].data.slots[s-1]:0)))+" ")]],2)}))],2)}))],2)]},proxy:!0}])}),e(v.Z,{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth,fullscreen:t.isMobile},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[e("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],1)},O=[],N=s(1827),B=s(2382),Q=s(6486),W=h.ZP.extend({name:"ShipStatusCompare",components:{ShipList:N.Z},data:()=>({ships:[new B.Z,new B.Z,new B.Z,new B.Z,new B.Z,new B.Z],maxStatuses:{hp:0,firePower:0,armor:0,torpedo:0,night:0,antiAir:0,asw:0,LoS:0,avoid:0,luck:0,fuel:0,ammo:0,slot1:0,slot2:0,slot3:0,slot4:0,slot5:0},minStatuses:{hp:0,firePower:0,armor:0,torpedo:0,night:0,antiAir:0,asw:0,LoS:0,avoid:0,luck:0,fuel:0,ammo:0,slot1:0,slot2:0,slot3:0,slot4:0,slot5:0},rangeText:["","短","中","長","超長","超長+"],putShipIndex:0,shipListDialog:!1,shipDialogWidth:1200,rules:{level:t=>!(t<1||t>k.ZP.MAX_LEVEL)||`1 ～ ${k.ZP.MAX_LEVEL}`},maxLevel:k.ZP.MAX_LEVEL,isDiffMode:!1,diffs:[],isMobile:!0}),mounted(){this.isMobile=window.innerWidth<600},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=T.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},speedText(){return t=>t<=5?`${this.$t("Fleet.低速")}`:t<=10?`${this.$t("Fleet.高速")}`:t<=15?`${this.$t("Fleet.高速+")}`:`${this.$t("Fleet.最速")}`},diffValueToString(){return t=>t>0?`+${t}`:t<0?`${t}`:"±0"},validDaihatsu(){return t=>{const e=this.$store.state.items.find((t=>68===t.id));return e&&F.Z.isValidItem(t.data,e)}},validTank(){return t=>{const e=this.$store.state.items.find((t=>167===t.id));return e&&F.Z.isValidItem(t.data,e)}},enabledShipsCount(){return this.ships.filter((t=>!t.isEmpty)).length}},watch:{completed(t){}},methods:{resetShips(){this.ships=[new B.Z,new B.Z,new B.Z,new B.Z,new B.Z,new B.Z]},async showShipList(t){this.putShipIndex=t,await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1;const e=new B.Z({master:t.ship,hp:t.hp,level:t.level,luck:t.luck,asw:t.asw+B.Z.getStatusFromLevel(t.level,t.ship.maxAsw,t.ship.minAsw)}),s=this.ships.concat();this.putShipIndex<this.ships.length?s[this.putShipIndex]=e:s.push(e),this.ships=s,this.setMaxStatuses(),this.setMinStatuses()},removeShip(t){this.ships[t]=new B.Z},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},statusChanged(t){const e=this.ships.concat(),s=e[t],i=Math.max(Math.min(e[t].level,this.maxLevel),1),a=B.Z.getStatusFromLevel(i,s.data.maxAsw,s.data.minAsw);e[t]=new B.Z({ship:this.ships[t],level:i,asw:a+s.improveAsw}),this.ships=e,this.setMaxStatuses(),this.setMinStatuses()},setMaxStatuses(){const t=this.ships.filter((t=>!t.isEmpty));t.length?(this.maxStatuses.hp=(0,Q.max)(t.map((t=>t.displayStatus.HP)))??0,this.maxStatuses.firePower=(0,Q.max)(t.map((t=>t.displayStatus.firePower)))??0,this.maxStatuses.armor=(0,Q.max)(t.map((t=>t.displayStatus.armor)))??0,this.maxStatuses.torpedo=(0,Q.max)(t.map((t=>t.displayStatus.torpedo)))??0,this.maxStatuses.night=(0,Q.max)(t.map((t=>t.nightBattleFirePower)))??0,this.maxStatuses.antiAir=(0,Q.max)(t.map((t=>t.displayStatus.antiAir)))??0,this.maxStatuses.asw=(0,Q.max)(t.map((t=>t.displayStatus.asw)))??0,this.maxStatuses.LoS=(0,Q.max)(t.map((t=>t.displayStatus.LoS)))??0,this.maxStatuses.avoid=(0,Q.max)(t.map((t=>t.displayStatus.avoid)))??0,this.maxStatuses.luck=(0,Q.max)(t.map((t=>t.displayStatus.luck)))??0,this.maxStatuses.fuel=(0,Q.min)(t.map((t=>t.fuel)))??0,this.maxStatuses.ammo=(0,Q.min)(t.map((t=>t.ammo)))??0,this.maxStatuses.slot1=(0,Q.max)(t.map((t=>t.data.slots[0])))??0,this.maxStatuses.slot2=(0,Q.max)(t.map((t=>t.data.slots[1])))??0,this.maxStatuses.slot3=(0,Q.max)(t.map((t=>t.data.slots[2])))??0,this.maxStatuses.slot4=(0,Q.max)(t.map((t=>t.data.slots[3])))??0,this.maxStatuses.slot5=(0,Q.max)(t.map((t=>t.data.slots[4])))??0):Object.keys(this.maxStatuses).forEach((t=>{this.maxStatuses[t]=0}))},setMinStatuses(){const t=this.ships.filter((t=>!t.isEmpty));t.length?(this.minStatuses.hp=(0,Q.min)(t.map((t=>t.displayStatus.HP)))??0,this.minStatuses.firePower=(0,Q.min)(t.map((t=>t.displayStatus.firePower)))??0,this.minStatuses.armor=(0,Q.min)(t.map((t=>t.displayStatus.armor)))??0,this.minStatuses.torpedo=(0,Q.min)(t.map((t=>t.displayStatus.torpedo)))??0,this.minStatuses.night=(0,Q.min)(t.map((t=>t.nightBattleFirePower)))??0,this.minStatuses.antiAir=(0,Q.min)(t.map((t=>t.displayStatus.antiAir)))??0,this.minStatuses.asw=(0,Q.min)(t.map((t=>t.displayStatus.asw)))??0,this.minStatuses.LoS=(0,Q.min)(t.map((t=>t.displayStatus.LoS)))??0,this.minStatuses.avoid=(0,Q.min)(t.map((t=>t.displayStatus.avoid)))??0,this.minStatuses.luck=(0,Q.min)(t.map((t=>t.displayStatus.luck)))??0,this.minStatuses.fuel=(0,Q.max)(t.map((t=>t.fuel)))??0,this.minStatuses.ammo=(0,Q.max)(t.map((t=>t.ammo)))??0,this.minStatuses.slot1=(0,Q.min)(t.map((t=>t.data.slots[0])))??0,this.minStatuses.slot2=(0,Q.min)(t.map((t=>t.data.slots[1])))??0,this.minStatuses.slot3=(0,Q.min)(t.map((t=>t.data.slots[2])))??0,this.minStatuses.slot4=(0,Q.min)(t.map((t=>t.data.slots[3])))??0,this.minStatuses.slot5=(0,Q.min)(t.map((t=>t.data.slots[4])))??0):Object.keys(this.minStatuses).forEach((t=>{this.minStatuses[t]=0}))}}}),H=W,V=(0,A.Z)(H,M,O,!1,null,"58d38bba",null),K=V.exports,Y=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(i.Z,{staticClass:"px-3"},[e("div",{staticClass:"d-flex align-center flex-wrap"},[e("div",{staticClass:"keyword-text mr-3 my-3"},[e(b.Z,{attrs:{dense:"",placeholder:t.$t("Database.名称検索"),"prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),e("div",{staticClass:"my-3 d-flex align-center"},[t.ship.id?[e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"primary--text"},expression:"{ class: 'primary--text' }"}],staticClass:"d-flex align-center",on:{click:function(e){return t.showShipList()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList()}}},[e("div",[e(f.Z,{attrs:{src:`./img/ship/${t.ship.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"ml-2 caption"},[t._v(t._s(t.getShipName(t.ship)))])]),e(m.Z,{attrs:{icon:""},on:{click:function(e){return t.showShipList()}}},[e(g.Z,[t._v("mdi-sync")])],1),e(m.Z,{attrs:{icon:""},on:{click:function(e){return t.removeShip()}}},[e(g.Z,[t._v("mdi-close")])],1)]:e(m.Z,{attrs:{color:"primary"},on:{click:function(e){return t.showShipList()}}},[t._v(t._s(t.$t("Extra.搭載可能な装備で絞り込み")))])],2),t.itemStock.length?e("div",{staticClass:"ml-auto my-3"},[e(u.Z,{attrs:{disabled:t.isEnemyMode,"hide-details":"",dense:"",label:t.$t("ItemList.所持装備反映")},on:{click:t.setItems},model:{value:t.isStockOnly,callback:function(e){t.isStockOnly=e},expression:"isStockOnly"}})],1):t._e(),e("div",{staticClass:"ml-3 mr-3 my-3"},[e(u.Z,{attrs:{disabled:!!t.keyword||t.isStockOnly,dense:"","hide-details":"",label:t.$t("ItemList.敵装備")},on:{change:t.setItems},model:{value:t.isEnemyMode,callback:function(e){t.isEnemyMode=e},expression:"isEnemyMode"}})],1)]),e("div",{staticClass:"d-flex flex-wrap"},[e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector d-flex",class:{disabled:t.keyword},on:{click:function(e){return t.toggleType(-1)},keypress:function(e){return t.toggleType(-1)}}},[e("div",{staticClass:"type-all-text"},[t._v("ALL")])]),t._l(t.enabledTypes,(function(s){return e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:s.id,staticClass:"type-selector",class:{active:t.selectedTypes.includes(s.id),disabled:t.keyword},on:{click:function(e){return t.toggleType(s.id)},keypress:function(e){return t.toggleType(s.id)}}},[e(f.Z,{attrs:{src:`./img/type/type${s.id}.png`,height:"32",width:"32"}})],1)}))],2),e(a.Z),e(p.Z,{attrs:{dense:"","fixed-header":"",height:"44vh","multi-sort":"",headers:t.headers,items:t.items,search:t.keyword,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100,150]},"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"header.name",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.fire",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.torpedo",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.bomber",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.antiAir",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.asw",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.scout",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.accuracy",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.avoid",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.armor",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.interception",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.antiBomber",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.radius",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.range",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"item.iconTypeId",fn:function({item:t}){return[e("div",[e(f.Z,{attrs:{src:`./img/type/icon${t.iconTypeId}.png`,height:"30",width:"30"}})],1)]}},{key:"item.name",fn:function({item:s}){return[e("div",{staticClass:"item-name text-truncate caption",class:{"is-special":s.isSpecial},attrs:{title:s.name}},[t._v(" "+t._s(t.needTrans?t.$t(`${s.name}`):s.name)+" ")])]}},{key:"item.range",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(t.rangeText[s.range]?t.$t(`Common.${t.rangeText[s.range]}`):""))])]}}],null,!0)})],1),e("div",{staticClass:"mt-10 mb-3 mx-2 body-2"},[t._v(t._s(t.$t("Extra.対空射撃回避機体一覧")))]),e(i.Z,{staticClass:"pa-3"},[e(a.Z),e(q.Z,{staticClass:"item-master-table",attrs:{dense:"","fixed-header":"",height:"70vh"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-right"},[t._v("id")]),e("th",[t._v(t._s(t.$t("Common.装備名")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.射撃回避")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.加重対空補正")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.艦隊防空補正")))]),e("th",{staticClass:"text-center"},[t._v("wiki")])])]),e("tbody",t._l(t.aaResitItems,(function(s,i){return e("tr",{key:`re-item${i}`},[e("td",{staticClass:"text-right"},[t._v(t._s(s.id))]),e("td",{staticClass:"text-left",class:{"is-special":s.isSpecial}},[e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:`./img/type/icon${s.iconTypeId}.png`,height:"30",width:"30"}})],1),e("div",{staticClass:"ml-1",class:{"is-special":s.isSpecial}},[t._v(" "+t._s(t.needTrans?t.$t(`${s.name}`):s.name)+" ")])])]),e("td",{staticClass:"text-right"},[t._v(t._s(t.avoidTexts[s.avoidId]?t.$t(`Common.回避性能.${t.avoidTexts[s.avoidId]}`):""))]),e("td",{staticClass:"text-right"},[t._v(t._s(t.avoidC1[s.avoidId]))]),e("td",{staticClass:"text-right"},[t._v(t._s(t.avoidC2[s.avoidId]))]),e("td",{staticClass:"text-center"},[s.isEnemyItem?e("div",[t._v("-")]):e("a",{attrs:{href:t.getWikiURL(s),target:"_blank"}},[t._v("wiki")])])])})),0)]},proxy:!0}])})],1),e(v.Z,{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth,fullscreen:t.isMobile},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[e("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],1)},G=[],U=s(7783),j=h.ZP.extend({name:"ItemMasterList",components:{ShipList:N.Z},data:()=>({rangeText:["","短","中","長","超長","超長+"],keyword:"",ship:new T.Z,isStockOnly:!1,isEnemyMode:!1,types:[],selectedTypes:[],headers:[{text:"id",value:"id",align:"end"},{text:"",value:"iconTypeId",align:"end"},{text:"装備名",value:"name"},{text:"火力",filterable:!1,align:"end",value:"fire"},{text:"雷装",filterable:!1,align:"end",value:"torpedo"},{text:"爆装",filterable:!1,align:"end",value:"bomber"},{text:"対空",filterable:!1,align:"end",value:"antiAir"},{text:"対潜",filterable:!1,align:"end",value:"asw"},{text:"索敵",filterable:!1,align:"end",value:"scout"},{text:"命中",filterable:!1,align:"end",value:"accuracy"},{text:"回避",filterable:!1,align:"end",value:"avoid"},{text:"装甲",filterable:!1,align:"end",value:"armor"},{text:"迎撃",filterable:!1,align:"end",value:"interception"},{text:"対爆",filterable:!1,align:"end",value:"antiBomber"},{text:"半径",filterable:!1,align:"end",value:"radius"},{text:"射程",filterable:!1,align:"end",value:"range"}],items:[],baseItems:[],aaResitItems:[],avoidTexts:k.ZP.AVOID_TYPE.map((t=>t.text)),avoidC1:k.ZP.AVOID_TYPE.map((t=>t.c1)),avoidC2:k.ZP.AVOID_TYPE.map((t=>t.c2)),shipListDialog:!1,shipDialogWidth:1200,itemStock:[],isMobile:!0}),mounted(){const t=this.$store.state.items;this.baseItems=t,this.aaResitItems=t.filter((t=>t.avoidId)).concat(),this.aaResitItems.sort(((t,e)=>t.apiTypeId===e.apiTypeId?t.avoidId-e.avoidId:t.apiTypeId-e.apiTypeId)),this.types=[];for(let s=0;s<k.ZP.ITEM_TYPES_ALT.length;s+=1){const t=k.ZP.ITEM_TYPES_ALT[s];this.types.push({id:t.id,text:t.text,types:t.types}),this.selectedTypes.push(t.id)}this.itemStock=this.$store.state.itemStock;const e=this.$store.state.siteSetting;this.isStockOnly=e.isStockOnlyForItemList,this.$store.getters.getExistsTempStock&&(this.itemStock=this.$store.state.tempItemStock,this.isStockOnly=!0),this.avoidTexts[0]="",this.setItems()},computed:{completed(){return this.$store.getters.getCompletedAll},isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=T.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},enabledTypes(){const t=this.baseItems.map((t=>t.apiTypeId)),e=[];for(let s=0;s<this.types.length;s+=1){const i=this.types[s].types;t.find((t=>i.includes(t)))&&e.push(this.types[s])}return e}},watch:{completed(t){t&&this.removeShip()}},methods:{toggleType(t){if(-1===t){const t=k.ZP.ITEM_TYPES_ALT.map((t=>t.id));this.selectedTypes.length===t.length?this.selectedTypes=[]:this.selectedTypes=t}else this.selectedTypes.includes(t)?this.selectedTypes=this.selectedTypes.filter((e=>e!==t)):this.selectedTypes.push(t);this.setItems()},setItems(){this.isMobile=window.innerWidth<600;const t=[],e=k.ZP.ITEM_TYPES_ALT.filter((t=>this.selectedTypes.includes(t.id))).map((t=>t.types)).flat();for(let s=0;s<this.baseItems.length;s+=1){const i=this.baseItems[s];e.includes(i.apiTypeId)&&(!this.isEnemyMode&&i.isEnemyItem||this.isEnemyMode&&!i.isEnemyItem||this.isStockOnly&&!this.itemStock.find((t=>t.id===i.id))||t.push(i))}this.items=t.sort(((t,e)=>t.id-e.id))},async showShipList(){await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1,this.ship=t.ship;const e=this.$store.state.items;this.baseItems=e.filter((e=>F.Z.isValidItem(t.ship,e))),this.setItems()},removeShip(){this.ship=new T.Z;const t=this.$store.state.items;this.baseItems=t,this.setItems()},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1},getWikiURL(t){return U.Z.getWikiURL(t)}}}),X=j,J=(0,A.Z)(X,Y,G,!1,null,"4bc449c8",null),z=J.exports,tt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(i.Z,{staticClass:"pa-1 pa-sm-3"},[e("div",{staticClass:"asw-result-container"},[e("div",{staticClass:"input-container"},[e("ship-input",{attrs:{index:0,"handle-show-ship-list":t.showShipList,"handle-show-item-list":t.showItemList,"handle-show-batch-item-list":t.showBatchItemList,"handle-close-ship":t.removeShip,"handle-show-item-preset":t.showItemPreset,"fix-down":t.ship.fixDown,"rate-down":t.ship.rateDown,"fleet-ros-corr":t.fleet.fleetRosCorr,"hide-active-button":!0},on:{input:t.updateShip},model:{value:t.fleet.ships[0],callback:function(e){t.$set(t.fleet.ships,0,e)},expression:"fleet.ships[0]"}}),e("div",{staticClass:"pa-2 status-input-container"},[e(b.Z,{attrs:{label:"Lv",max:t.maxLevel,min:"1",type:"number","append-icon":t.appendIcon,readonly:t.ship.isEmpty},on:{input:t.statusChanged},model:{value:t.level,callback:function(e){t.level=t._n(e)},expression:"level"}}),e(b.Z,{attrs:{label:t.$t("Database.対潜改修"),max:"9",min:"0",type:"number","append-icon":t.appendIcon,readonly:t.ship.isEmpty},on:{input:t.statusChanged},model:{value:t.improveAsw,callback:function(e){t.improveAsw=t._n(e)},expression:"improveAsw"}}),e(b.Z,{attrs:{label:t.$t("Extra.初期対潜"),min:"0",type:"number",readonly:""},on:{input:t.statusChanged},model:{value:t.minAsw,callback:function(e){t.minAsw=t._n(e)},expression:"minAsw"}}),e(b.Z,{attrs:{label:t.$t("Extra.最大対潜"),min:"0",type:"number",readonly:""},on:{input:t.statusChanged},model:{value:t.maxAsw,callback:function(e){t.maxAsw=t._n(e)},expression:"maxAsw"}}),e(b.Z,{attrs:{label:t.$t("Extra.装備対潜合計"),readonly:""},model:{value:t.ship.itemAsw,callback:function(e){t.$set(t.ship,"itemAsw",t._n(e))},expression:"ship.itemAsw"}}),e(b.Z,{attrs:{label:t.$t("Extra.装備ボーナス合計"),readonly:""},model:{value:t.ship.itemBonusStatus.asw,callback:function(e){t.$set(t.ship.itemBonusStatus,"asw",t._n(e))},expression:"ship.itemBonusStatus.asw"}}),e(b.Z,{attrs:{label:t.$t("Extra.素対潜"),readonly:""},model:{value:t.baseAsw,callback:function(e){t.baseAsw=t._n(e)},expression:"baseAsw"}}),e(b.Z,{attrs:{label:t.$t("Extra.表示対潜"),readonly:""},model:{value:t.ship.displayStatus.asw,callback:function(e){t.$set(t.ship.displayStatus,"asw",t._n(e))},expression:"ship.displayStatus.asw"}})],1)],1),e("div",{staticClass:"pa-1"},[t.ship.isEmpty?t._e():e(i.Z,{staticClass:"mb-3"},[e("div",{staticClass:"result-table"},[e(q.Z,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("Extra.目標対潜値"))+" ( 0 ~ 200 )")]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.不足対潜値")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.必要艦娘Lv")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Extra.必要Exp")))])])]),e("tbody",t._l(t.results,(function(s,i){return e("tr",{key:`result_${i}`,class:{ok:!s.missingAsw}},[e("td",{staticClass:"py-2",attrs:{width:t.isMobile?"100px":"180px"}},[e(b.Z,{attrs:{dense:"","hide-details":"",min:"0",max:"200",type:"number"},on:{input:t.calculate},model:{value:s.targetAsw,callback:function(e){t.$set(s,"targetAsw",t._n(e))},expression:"result.targetAsw"}})],1),e("td",{staticClass:"text-right"},[t._v(t._s(s.missingAsw))]),s.targetAsw<=0?[e("td",{staticClass:"text-right"},[t._v("-")]),e("td",{staticClass:"text-right"},[t._v("-")])]:t.minAsw||t.maxAsw?[e("td",{staticClass:"text-right",class:{"red--text":s.requiredLevel>t.maxLevel}},[t._v(t._s(s.requiredLevel))]),s.requiredLevel>t.maxLevel?e("td",{staticClass:"text-right"},[t._v("-")]):e("td",{staticClass:"text-right"},[t._v(t._s(s.requiredExp?s.requiredExp.toLocaleString():"0"))])]:[e("td",{staticClass:"text-center red--text",attrs:{colspan:"2"}},[t._v(t._s(t.$t("Extra.到達不可")))])]],2)})),0)]},proxy:!0}],null,!1,2507912947)})],1)]),e("div",{staticClass:"d-flex justify-end body-2"},[e("div",[t._v(t._s(t.$t("Extra.参考"))+":")]),e("div",{staticClass:"ml-3"},[e("a",{attrs:{href:"https://wikiwiki.jp/kancolle/%E5%AF%BE%E6%BD%9C%E6%94%BB%E6%92%83#oasw",target:"_blank"}},[t._v(" "+t._s(t.$t("Extra.先制対潜発動条件について"))+" ( wiki ) ")])])])],1)]),t.ship&&t.ship.data.id?e("div",[e(a.Z,{staticClass:"mt-3"}),e(q.Z,{staticClass:"text-right",attrs:{dense:"","fixed-header":"",height:"64vh"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-right"},[t._v("Lv")]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Extra.必要Exp")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.対潜")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.索敵")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.回避")))])])]),e("tbody",t._l(t.maxLevel,(function(s){return e("tr",{key:`all_level_${s}`,staticClass:"level-status-list",class:{last:s===t.maxLevel}},[e("td",{staticClass:"level-td"},[t._v(t._s(t.maxLevel+1-s))]),e("td",{staticClass:"level-td"},[t._v(t._s(t.expResults[s-1].toLocaleString()))]),e("td",{class:{increase:t.aswResults[s]&&t.aswResults[s-1]-t.aswResults[s]}},[t._v(t._s(t.aswResults[s-1]))]),e("td",{class:{increase:t.scoutResults[s]&&t.scoutResults[s-1]-t.scoutResults[s]}},[t._v(t._s(t.scoutResults[s-1]))]),e("td",{class:{increase:t.avoidResults[s]&&t.avoidResults[s-1]-t.avoidResults[s]}},[t._v(t._s(t.avoidResults[s-1]))])])})),0)]},proxy:!0}],null,!1,4003563178)})],1):t._e(),e(v.Z,{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth,fullscreen:t.isMobile},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[e("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),e(v.Z,{attrs:{transition:"scroll-x-transition",width:t.itemDialogWidth,fullscreen:t.isMobile},on:{input:t.toggleItemListDialog},model:{value:t.itemListDialog,callback:function(e){t.itemListDialog=e},expression:"itemListDialog"}},[e("item-list",{ref:"itemList",attrs:{"handle-equip-item":t.equipItem,"handle-close":t.closeDialog,"handle-change-width":t.changeWidth}})],1),e(v.Z,{attrs:{transition:"scroll-x-transition",width:"600",fullscreen:t.isMobile},model:{value:t.itemPresetDialog,callback:function(e){t.itemPresetDialog=e},expression:"itemPresetDialog"}},[t.itemPresetDialog?e("item-preset-component",{attrs:{"handle-expand-item-preset":t.expandItemPreset,"handle-close":t.closeDialog},model:{value:t.tempShip,callback:function(e){t.tempShip=e},expression:"tempShip"}}):t._e()],1)],1)},et=[],st=s(3217),it=s(2404),at=s(4302),lt=s(4026),nt=s(7525),rt=h.ZP.extend({name:"RequiredAswCalculator",components:{ShipInput:st.Z,ShipList:N.Z,ItemList:it.Z,ItemPresetComponent:at.Z},data:()=>({fleet:new lt.Z,shipListDialog:!1,itemListDialog:!1,itemDialogTargetIndex:0,itemDialogWidth:1200,shipDialogWidth:1200,itemPresetDialog:!1,tempShip:void 0,tempShipListDialog:!1,tempShipList:[],level:1,improveAsw:0,minAsw:0,maxAsw:0,results:[],maxLevel:k.ZP.MAX_LEVEL,aswResults:[],scoutResults:[],avoidResults:[],expResults:[],isMobile:!0}),mounted(){const t=this.$store.state.siteSetting;for(let e=0;e<10;e+=1)this.results.push({targetAsw:0,missingAsw:0,requiredLevel:0,requiredExp:0}),e<t.requiredAswTargets.length&&(this.results[e].targetAsw=t.requiredAswTargets[e]);t.requiredAswTargets.length||(this.results[0].targetAsw=100,this.results[1].targetAsw=85,this.results[2].targetAsw=70,this.results[3].targetAsw=65,this.results[4].targetAsw=60,this.results[5].targetAsw=50)},computed:{ship(){return this.fleet.ships[0]},baseAsw(){return this.ship.asw-this.improveAsw},appendIcon(){return this.ship.isEmpty?"":"mdi-pencil"}},watch:{fleet(){this.calculate()}},methods:{statusChanged(){const t=B.Z.getStatusFromLevel(this.level,this.ship.data.maxAsw,this.ship.data.minAsw);this.level=Math.max(Math.min(this.maxLevel,this.level),1),this.fleet=new lt.Z({ships:[new B.Z({ship:this.fleet.ships[0],level:this.level,asw:t+this.improveAsw})]})},updateShip(){this.fleet=new lt.Z({ships:[new B.Z({ship:this.fleet.ships[0]})]}),this.level=this.ship.level,this.improveAsw=this.ship.improveAsw,this.minAsw=this.ship.data.minAsw,this.maxAsw=this.ship.data.maxAsw},async showShipList(){this.isMobile=window.innerWidth<600,await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},async showItemList(t,e){this.itemDialogTargetIndex=e,this.isMobile=window.innerWidth<600,await(this.itemListDialog=!0),this.$refs.itemList.initialFilter(this.ship,e,this.ship.items)},async showBatchItemList(t){this.itemDialogTargetIndex=t,this.isMobile=window.innerWidth<600,await(this.itemListDialog=!0),this.$refs.itemList.initialFilter(this.ship,0,[],this.ship.data.slotCount+1)},closeDialog(){this.itemListDialog=!1,this.shipListDialog=!1,this.itemPresetDialog=!1,this.toggleItemListDialog()},changeWidth(t){this.itemDialogWidth=t},changeShipWidth(t){this.shipDialogWidth=t},putShip(t){const{ship:e}=t;this.shipListDialog=!1;const s=this.ship,i=s.items.concat(),a=[];for(let o=0;o<e.slotCount;o+=1){const t=e.slots[o]>0?e.slots[o]:0;if(o<i.length){const s=i[o],l=s.data;F.Z.isValidItem(e,l,o)?a.push(new nt.Z({item:s,slot:t})):a.push(new nt.Z({slot:t}))}else a.push(new nt.Z({slot:t}))}const l=s.exItem.data;let n;n=l.id&&F.Z.isValidItem(e,l,k.ZP.EXPAND_SLOT_INDEX,s.exItem.remodel)?new nt.Z({master:l,remodel:s.exItem.remodel}):new nt.Z;const r=new B.Z({master:e,items:a,exItem:n,isActive:s.isActive,hp:t.hp,level:t.level,luck:t.luck,asw:t.asw+B.Z.getStatusFromLevel(t.level,e.maxAsw,e.minAsw),area:t.area});this.fleet=new lt.Z({ships:[r]}),this.level=r.level,this.improveAsw=r.improveAsw,this.minAsw=r.data.minAsw,this.maxAsw=r.data.maxAsw},equipItem(t){this.itemListDialog=!1;const e=this.itemDialogTargetIndex,{ship:s}=this,i=this.$store.state.siteSetting.planeInitialLevels,a=s.putItem(t,e,i);this.fleet=new lt.Z({ships:[a]})},toggleItemListDialog(){if(!this.itemListDialog){const t=this.$refs.itemList;let e=new B.Z({ship:this.ship});if(t&&t.isBatchMode&&t.batchList.length){const s=this.$store.state.siteSetting.planeInitialLevels;for(let a=0;a<e.items.length;a+=1){const i=t.batchList[a];e=i&&i.item.data.id&&F.Z.isValidItem(e.data,i.item.data,a)?e.putItem(i.item,a,s):e.putItem(new nt.Z,a,s)}const i=t.batchList[e.data.slotCount];e=i&&F.Z.isValidItem(e.data,i.item.data,k.ZP.EXPAND_SLOT_INDEX,i.item.remodel)?e.putItem(t.batchList[e.data.slotCount].item,k.ZP.EXPAND_SLOT_INDEX,s):e.putItem(new nt.Z,k.ZP.EXPAND_SLOT_INDEX,s),t.isBatchMode=!1,t.batchList=[],this.fleet=new lt.Z({ships:[e]})}}},removeShip(){this.fleet=new lt.Z},showItemPreset(){this.tempShip=(0,Q.cloneDeep)(this.ship),this.isMobile=window.innerWidth<600,this.itemPresetDialog=!0},expandItemPreset(t){const e=this.$store.state.items,s=[];for(let d=0;d<t.items.length;d+=1){const i=e.find((e=>e.id===t.items[d].id));i?s.push(new nt.Z({master:i,remodel:t.items[d].remodel})):s.push(new nt.Z)}const i=this.ship,a=i.data,l=i.items.concat();for(let d=0;d<l.length;d+=1)if(d<s.length){const t=s[d];if(t&&F.Z.isValidItem(a,t.data,d)){const e=this.$store.state.siteSetting.planeInitialLevels;let s=0;if(e){const i=e.find((e=>e.id===t.data.apiTypeId));i&&(s=i.level)}138===t.data.id&&90===a.type2?l[d]=new nt.Z({master:t.data,item:l[d],level:s,remodel:t.remodel,slot:1}):l[d]=new nt.Z({master:t.data,item:l[d],level:s,remodel:t.remodel})}else l[d]=new nt.Z}const n=e.find((e=>e.id===t.exItem.id));let r;n&&F.Z.isValidItem(a,n,k.ZP.EXPAND_SLOT_INDEX,t.exItem.remodel)&&(r=new nt.Z({master:n,remodel:t.exItem.remodel}));const o=new B.Z({ship:i,items:l,exItem:r});this.fleet=new lt.Z({ships:[o]}),this.level=o.level,this.improveAsw=o.improveAsw,this.minAsw=o.data.minAsw,this.maxAsw=o.data.maxAsw},calculate(){const t=this.results.concat();for(let a=0;a<t.length;a+=1){const e=t[a];e.targetAsw=Math.max(Math.min(e.targetAsw,200),0),e.missingAsw=Math.max(e.targetAsw-this.ship.displayStatus.asw,0),e.requiredLevel=0,e.requiredExp=0;const s=this.ship.displayStatus.asw-B.Z.getStatusFromLevel(this.level,this.maxAsw,this.minAsw);if(e.targetAsw&&this.ship.data.id&&!(e.targetAsw<this.minAsw)&&(e.requiredLevel=B.Z.getRequiredLevel(e.targetAsw-s,this.maxAsw,this.minAsw),e.requiredLevel>this.level)){const t=k.ZP.LEVEL_BORDERS.find((t=>t.lv===e.requiredLevel)),s=k.ZP.LEVEL_BORDERS.find((t=>t.lv===this.level));t&&(e.requiredExp=t.req-(s?s.req:0))}}this.results=t,this.aswResults=[],this.scoutResults=[],this.avoidResults=[],this.expResults=[];const e=k.ZP.LEVEL_BORDERS.find((t=>t.lv===this.level)),s=this.ship.data;for(let a=this.maxLevel;a>0;a-=1)if(this.aswResults.push(B.Z.getStatusFromLevel(a,s.maxAsw,s.minAsw)),this.scoutResults.push(B.Z.getStatusFromLevel(a,s.maxScout,s.minScout)),this.avoidResults.push(B.Z.getStatusFromLevel(a,s.maxAvoid,s.minAvoid)),this.level<a&&e){const t=k.ZP.LEVEL_BORDERS.find((t=>t.lv===a));this.expResults.push(t?t.req-e.req:0)}else this.expResults.push(0);const i=this.$store.state.siteSetting;i.requiredAswTargets=t.map((t=>t.targetAsw)),this.$store.dispatch("updateSetting",i)}}}),ot=rt,dt=(0,A.Z)(ot,tt,et,!1,null,"50b4e830",null),ct=dt.exports,ht=s(2082),mt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(i.Z,{staticClass:"pa-3"},[e("div",{staticClass:"d-flex flex-wrap align-center mb-3"},[e(m.Z,{staticClass:"mr-3",attrs:{color:"teal",dark:""},on:{click:function(e){return t.showEnemyList()}}},[t._v(t._s(t.$t("Extra.検索する敵艦を選択")))]),t.targetEnemy.data.id?e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"align-self-center"},[e(f.Z,{attrs:{src:`./img/ship/${t.targetEnemy.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"flex-grow-1 mr-3"},[e("div",{staticClass:"d-flex caption flex-wrap"},[e("div",{staticClass:"enemy-id ml-2 primary--text"},[t._v(" id "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.targetEnemy.data.id))])]),e("div",{staticClass:"ml-2"},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.耐久")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.targetEnemy.data.hp))]),e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.targetEnemy.actualArmor))])])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"enemy-name ml-2 text-truncate"},[t._v(t._s(t.getEnemyName(t.targetEnemy.data.name)))])])]),e(u.Z,{attrs:{dense:"",label:"過去イベを除外","hide-details":""},on:{change:function(e){return t.search()}},model:{value:t.withoutPast,callback:function(e){t.withoutPast=e},expression:"withoutPast"}})],1):t._e()],1),t.targetEnemy.data.id?e("div",{staticClass:"my-3"},[e(b.Z,{attrs:{dense:"","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1):t._e(),e(a.Z),e(p.Z,{attrs:{dense:"","fixed-header":"",height:"44vh","multi-sort":"",search:t.keyword,headers:t.headers,items:t.hitCells,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100,150]},"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"header.area",fn:function({header:e}){return[t._v(t._s(t.$t(`Enemies.${e.text}`)))]}},{key:"header.name",fn:function({header:e}){return[t._v(t._s(t.$t(`Enemies.${e.text}`)))]}},{key:"header.node",fn:function({header:e}){return[t._v(t._s(t.$t(`Enemies.${e.text}`)))]}},{key:"header.detail",fn:function({header:e}){return[t._v(t._s(t.$t(`Enemies.${e.text}`)))]}},{key:"header.type",fn:function({header:e}){return[t._v(t._s(t.$t(`Enemies.${e.text}`)))]}},{key:"header.level",fn:function({header:e}){return[t._v(t._s(t.$t(`Difficulty.${e.text}`)))]}},{key:"header.radius",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.data",fn:function({header:e}){return[t._v(t._s(t.$t(`Extra.${e.text}`)))]}},{key:"item.name",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(s.name))])]}},{key:"item.level",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(t.levelText(s.level)))])]}},{key:"item.type",fn:function({item:s}){return[e("div",{staticClass:"caption"},[t._v(t._s(t.getCellName(s.type)))])]}},{key:"item.data",fn:function({item:s}){return[t.isMobile?t._e():e(m.Z,{attrs:{color:"primary",icon:""},on:{click:function(e){return e.stopPropagation(),t.showMap(s)}}},[e(g.Z,[t._v("mdi-information-outline")])],1)]}}],null,!0)}),e(v.Z,{attrs:{transition:"scroll-x-transition",width:"1200",fullscreen:t.isMobile},model:{value:t.enemyListDialog,callback:function(e){t.enemyListDialog=e},expression:"enemyListDialog"}},[e("enemy-list",{attrs:{"handle-decide-enemy":t.putEnemy,handleClose:t.closeEnemyList}})],1),e(v.Z,{attrs:{width:"1100",transition:"scroll-y-transition"},on:{input:t.toggleDetailDialog},model:{value:t.detailDialog,callback:function(e){t.detailDialog=e},expression:"detailDialog"}},[t.destroyDialog?t._e():e("enemy-detail",{attrs:{fleet:t.selectedFleet,"handle-close":t.closeDetail}})],1),e(v.Z,{attrs:{width:"580"},model:{value:t.expandMapDialog,callback:function(e){t.expandMapDialog=e},expression:"expandMapDialog"}},[t.selectedCell?e(i.Z,{staticClass:"py-6 px-3"},[e("div",{staticClass:"text-center body-2"},[t._v("( "+t._s(t.selectedCell.area)+" ) "+t._s(t.selectedCell.name))]),e("div",{staticClass:"my-3"},[e(f.Z,{staticClass:"mx-auto",attrs:{width:"467",height:"268",src:`https://res.cloudinary.com/aircalc/kc-web/maps/${t.selectedArea}.webp`}})],1),e("div",{staticClass:"d-flex align-center body-2"},[e("div",{staticClass:"text--secondary caption"},[t._v(t._s(t.$t("Enemies.セル")))]),e("div",{staticClass:"ml-1"},[t._v(t._s(t.selectedCell.node))]),e("div",{staticClass:"ml-3 text--secondary caption"},[t._v(t._s(t.$t("Enemies.戦闘形式")))]),e("div",{staticClass:"ml-1"},[t._v(t._s(t.getCellName(t.selectedCell.type)))]),t.selectedCell.level?e("div",{staticClass:"ml-3 text--secondary caption"},[t._v(t._s(t.$t("Difficulty.難易度")))]):t._e(),t.selectedCell.level?e("div",{staticClass:"ml-1"},[t._v(t._s(t.levelText(t.selectedCell.level)))]):t._e(),e("div",{staticClass:"ml-auto d-flex"},[e("div",{staticClass:"text--secondary align-self-center"},[t._v(t._s(t.$t("Enemies.詳細")))]),e(m.Z,{attrs:{color:"primary",icon:""},on:{click:function(e){return e.stopPropagation(),t.showEnemyFleetDetail.apply(null,arguments)}}},[e(g.Z,[t._v("mdi-information-outline")])],1)],1)]),e("div",[e("div",{class:{"enemies-container":t.selectedFleet.isUnion}},[t.selectedFleet.isUnion?e("div",{staticClass:"mx-1"},t._l(t.selectedFleet.escortEnemies,(function(s,i){return e("div",{key:i,staticClass:"d-flex enemy-info",on:{mouseenter:function(e){return t.bootTooltip(s,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(s,e)},blur:t.clearTooltip}},[e("div",{staticClass:"align-self-center mr-1"},[e(f.Z,{attrs:{src:`./img/ship/${s.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"align-self-center flex-grow-1"},[e("div",{staticClass:"d-flex text-id"},[e("div",{staticClass:"primary--text"},[t._v("id "+t._s(s.data.id))]),s.fullAirPower?e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+" "+t._s(s.fullAirPower))]):t._e(),s.data.isUnknown&&s.fullLBAirPower?e("div",[t._v("?")]):t._e(),s.fullLBAirPower!==s.fullAirPower?e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+": ("+t._s(s.fullLBAirPower)+")")]):t._e()]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"text-name text-truncate",class:{"orange--text text--darken-2":s.data.isUnknown}},[t._v(" "+t._s(t.getEnemyName(s.data.name))+" ")])])])])})),0):t._e(),e("div",{staticClass:"mx-1"},t._l(t.selectedFleet.mainEnemies,(function(s,i){return e("div",{key:i,staticClass:"d-flex enemy-info",on:{mouseenter:function(e){return t.bootTooltip(s,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(s,e)},blur:t.clearTooltip}},[e("div",{staticClass:"align-self-center mr-1"},[e(f.Z,{attrs:{src:`./img/ship/${s.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"align-self-center flex-grow-1"},[e("div",{staticClass:"d-flex text-id"},[e("div",{staticClass:"primary--text"},[t._v("id "+t._s(s.data.id))]),s.fullAirPower?e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+" "+t._s(s.fullAirPower))]):t._e(),s.fullLBAirPower!==s.fullAirPower?e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("Common.制空"))+": ("+t._s(s.fullLBAirPower)+")")]):t._e(),s.data.isUnknown&&s.fullLBAirPower?e("div",{staticClass:"ml-1"},[t._v("?")]):t._e(),t.selectedFleet.isUnion?t._e():e("div",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.耐久"))+" "+t._s(s.data.hp))]),t.selectedFleet.isUnion?t._e():e("div",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲"))+" "+t._s(s.actualArmor))])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"text-name text-truncate",class:{"orange--text text--darken-2":s.data.isUnknown}},[t._v(" "+t._s(t.getEnemyName(s.data.name))+" ")])])]),t.selectedFleet.isUnion?t._e():e("div",{staticClass:"item-preview"},t._l(s.items,(function(i,a){return e("div",{key:a,staticClass:"mr-4 item-image-area"},[s.items.length<5?[i.data.iconTypeId?e(f.Z,{attrs:{src:`./img/type/icon${i.data.iconTypeId}.png`,height:"30",width:"30"}}):t._e(),i.data.isPlane?e("div",{staticClass:"slot"},[t._v(t._s(i.fullSlot))]):t._e()]:[i.data.iconTypeId?e(f.Z,{attrs:{src:`./img/type/icon${i.data.iconTypeId}.png`,height:"24",width:"24"}}):t._e(),i.data.isPlane?e("div",{staticClass:"slot tiny"},[t._v(t._s(i.fullSlot))]):t._e()]],2)})),0)])})),0)])])]):t._e()],1),e(ht.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[e("enemy-tooltip",{model:{value:t.tooltipEnemy,callback:function(e){t.tooltipEnemy=e},expression:"tooltipEnemy"}})],1)],1)},ut=[],pt=s(6720),vt=s(9825),gt=s(8487),ft=s(2399),yt=s(5722),_t=s(6889),xt=h.ZP.extend({name:"EnemySearcher",components:{EnemyList:pt.Z,EnemyDetail:vt.Z,EnemyTooltip:gt.Z},data:()=>({keyword:"",worlds:[],areas:[],allCells:[],unsubscribe:void 0,enemyListDialog:!1,targetEnemy:new yt.Z,items:[],hitCells:[],headers:[{text:"海域",value:"area"},{text:"海域名",value:"name"},{text:"セル",value:"node"},{text:"詳細",value:"detail",filterable:!1},{text:"戦闘形式",value:"type",filterable:!1},{text:"難易度",value:"level",filterable:!1},{text:"半径",value:"radius",filterable:!1,align:"end"},{text:"艦隊詳細",value:"data",align:"center",sortable:!1,filterable:!1}],selectedCell:void 0,selectedArea:11,expandMapDialog:!1,selectedFleet:new _t.Z,detailDialog:!1,destroyDialog:!1,withoutPast:!0,enabledTooltip:!1,tooltipTimer:void 0,tooltipEnemy:new yt.Z,tooltipX:0,tooltipY:0,isMobile:!0}),mounted(){const t=this.$store.state.cells;this.items=this.$store.state.items,this.worlds=this.$store.state.worlds,this.areas=this.$store.state.maps,t.length?this.initCells(t):(this.$store.dispatch("loadCellData"),this.unsubscribe=this.$store.subscribe(((t,e)=>{"setCells"===t.type&&this.initCells(e.cells)})))},computed:{levelText(){return t=>{const e=["","丁","丙","乙","甲"][t];return e?`${this.$t(`Difficulty.${e}`)}`:""}},getCellName(){return t=>{const e=k.ZP.CELL_TYPES.find((e=>e.value===t));return e?this.$t(`Common.${e.text}`):""}}},beforeDestroy(){this.unsubscribe&&this.unsubscribe()},methods:{initCells(t){for(let e=0;e<t.length;e+=1)this.allCells.push(t[e])},showEnemyList(){this.isMobile=window.innerWidth<600,this.enemyListDialog=!0},putEnemy(t){t&&t.id&&(this.targetEnemy=yt.Z.createEnemyFromMaster((0,Q.cloneDeep)(t),!1,this.items),this.enemyListDialog=!1),this.search()},closeEnemyList(){this.enemyListDialog=!1},closeDetail(){this.detailDialog=!1},toggleDetailDialog(){this.detailDialog?this.destroyDialog=!1:setTimeout((()=>{this.destroyDialog=!0}),100)},getEnemyName(t){const e=this.$store.state.siteSetting;if(t&&"ja"!==this.$i18n.locale&&!e.nameIsNotTranslate){const e=ft.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t||""},search(){const t=this.allCells,e=[],s=this.targetEnemy.data.id-1500;if(s<=0)this.hitCells=[];else{for(let i=0;i<t.length;i+=1){const a=t[i];if(a.enemies.includes(s)){const t=Math.floor(a.area/10),s=this.worlds.find((e=>e.world===t)),i=this.areas.find((t=>t.area===a.area));let l="";if(s&&i&&(l=t<10?`${s.name.substring(2)} ${i.name}`:`${s.name} ${i.name}`),t>10&&this.withoutPast&&this.worlds.findIndex((e=>e.world===t))>0)continue;const n=a.area%10,r=`${t}-${n}`;e.push({area:r,name:l,detail:a.detail?`${this.$t(`Enemies.${a.detail}`)}`:"",level:a.level,radius:a.radius?a.radius[0]:0,type:a.cellType,node:a.node,data:a})}}this.hitCells=e}},showEnemyFleetDetail(){this.detailDialog=!0,this.destroyDialog=!1},showMap(t){this.selectedCell=t;const e=t.data,s=this.$store.getters.getEnemies,i=e.cellType===k.d7.GRAND,a=e.enemies.map((t=>t+1500)),l=[];for(let n=0;n<e.enemies.length;n+=1){const t=a[n];l.push(yt.Z.createEnemyFromMasterId(t,i&&n>=6,s,this.items))}this.selectedFleet=new _t.Z({enemies:l,formation:e.formation,cellType:e.cellType,radius:e.radius,area:e.area}),this.selectedArea=e.area,this.expandMapDialog=!0},bootTooltip(t,e){if(!t.data.id)return;const s=this.$store.state.siteSetting,i=e.target.getElementsByClassName("text-id")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const s=i.getBoundingClientRect();this.tooltipX=e.clientX,this.tooltipY=s.y+s.height,this.tooltipEnemy=t,this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),wt=xt,Ct=(0,A.Z)(wt,mt,ut,!1,null,"93732e4c",null),bt=Ct.exports,$t=s(255),St=s(2348),kt=s(400),Zt=s(1214),Tt=s(9592),Ft=s(9258),Et=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"d-flex"},[e(r.Z,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(l.Z,[t._v(t._s(t.$t("Extra.未達成")))]),e(l.Z,[t._v(t._s(t.$t("Extra.達成済")))])],1),e("div",{staticClass:"ml-3 align-self-center"},[e(m.Z,{attrs:{color:"secondary"},on:{click:function(e){return t.confirmReset()}}},[t._v(t._s(t.$t("Common.リセット")))])],1)],1),e(a.Z),e(o.Z,{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(n.Z,[e("div",{staticClass:"d-flex align-center mt-3 pr-5 flex-wrap"},[e("div",{staticClass:"ml-3 mb-3 mb-sm-0"},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",items:t.questTypes,"item-text":e=>`${t.$t(`Extra.${e.text}`)}`,"hide-details":"",dense:""},model:{value:t.questType,callback:function(e){t.questType=e},expression:"questType"}})],1),e("div",{staticClass:"ml-auto"},[e("div",{staticClass:"d-flex justify-end"},[e("div",{staticClass:"mr-3"},[t._v(t._s(t.$t("Extra.戦果砲残弾合計")))]),e("div",{staticClass:"total-ranking-point"},[t._v(t._s(t.totalRankingPoint))])]),e("div",{staticClass:"d-sm-flex justify-end caption"},[e("div",{staticClass:"d-flex justify-end"},[e("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.クォータリー")))]),e("div",[t._v(t._s(t.totalQuarterlyRankingPoint))]),e("div",{staticClass:"mx-2 d-none d-sm-block"},[t._v("/")])]),e("div",{staticClass:"d-flex justify-end"},[e("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.イヤーリー")))]),e("div",[t._v(t._s(t.totalYearlyRankingPoint))]),e("div",{staticClass:"mx-2 d-none d-sm-block"},[t._v("/")])]),e("div",{staticClass:"d-flex justify-end"},[e("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Extra.単発")))]),e("div",[t._v(t._s(t.totalOnceRankingPoint))])])])])]),e("div",{staticClass:"pa-2"},[e(Zt.Z,{attrs:{multiple:""}},t._l(t.uncompletedQuests,(function(s,i){return e($t.Z,{directives:[{name:"show",rawName:"v-show",value:"All"===t.questType||s.type===t.questType,expression:"questType === 'All' || quest.type === questType"}],key:i},[e(kt.Z,{staticClass:"py-3 px-2 px-sm-3",attrs:{"hide-actions":t.isMobile}},[e("div",{staticClass:"mr-sm-3"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"quest-icon"},[e(f.Z,{attrs:{src:"./img/util/sortie_quest.png",width:"48",height:"48"}}),e("div",{staticClass:"quest-type-icon"},["Yearly"===s.type?e(f.Z,{attrs:{src:`./img/util/yearly_${s.resetMonth}.png`,width:"42",height:"43"}}):"Quarterly"===s.type?e(f.Z,{attrs:{src:"./img/util/quarterly.png",width:"41",height:"40"}}):"Once"===s.type?e(f.Z,{attrs:{src:"./img/util/once.png",width:"41",height:"40"}}):t._e()],1)],1),e("div",{staticClass:"ml-4 flex-grow-1"},[e("div",{staticClass:"quest-title"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"flex-grow-1 mr-1 text-caption text-sm-body-2"},[t._v(" "+t._s(t.$t(`Extra.${s.name}`))+" ")]),"Once"!==s.type?[e("div",{staticClass:"ml-auto d-flex align-center text-no-wrap"},[e("div",{staticClass:"mr-1 caption"},[t._v(t._s(t.$t("Extra.あと")))]),e("div",{staticClass:"text-body-2"},[t._v(t._s(t.timeRemaining[i]))])])]:t._e()],2)]),e("div",{staticClass:"bar-container"},[e("div",[e(Tt.Z,{attrs:{rounded:"",value:s.getProgressValue,color:t.getBarColor(s.getProgressValue)}})],1),e("div",{staticClass:"progress-count"},[t._v(t._s(s.getCompletedCount)+" / "+t._s(s.requires.length))])])]),e("div",{staticClass:"ml-6 d-none d-sm-block"},[e("div",{staticClass:"mb-1 d-flex align-center"},[e(f.Z,{attrs:{src:"./img/util/fuel.png",height:"18",width:"18"}}),e("div",{staticClass:"resource-reward"},[t._v(t._s(s.fuel))]),e(f.Z,{attrs:{src:"./img/util/steel.png",height:"18",width:"18"}}),e("div",{staticClass:"resource-reward"},[t._v(t._s(s.steel))])],1),e("div",{staticClass:"d-flex align-center"},[e(f.Z,{attrs:{src:"./img/util/ammo.png",height:"18",width:"18"}}),e("div",{staticClass:"resource-reward"},[t._v(t._s(s.ammo))]),e(f.Z,{attrs:{src:"./img/util/bauxite.png",height:"18",width:"18"}}),e("div",{staticClass:"resource-reward"},[t._v(t._s(s.bauxite))])],1)]),e("div",{staticClass:"ml-3 d-none d-sm-flex align-center"},[e("div",[e(f.Z,{attrs:{src:"./img/util/ranking_point.png",height:"50",width:"50"}})],1),e("div",{staticClass:"ranking-point-reward"},[t._v(t._s(s.rankingPoint))])])])])]),e(St.Z,[e(a.Z),e("div",{staticClass:"check-item-container"},t._l(s.requires,(function(s,i){return e("div",{key:`req${i}`,staticClass:"check-container"},[e(u.Z,{attrs:{dense:t.isMobile,"hide-details":"",label:`${s.area} ${t.$t(`Extra.${s.rank}勝利`)}`},on:{change:t.updateState},model:{value:s.isComplete,callback:function(e){t.$set(s,"isComplete",e)},expression:"check.isComplete"}})],1)})),0),e("div",{staticClass:"mt-3 mt-sm-6 d-sm-flex align-center"},[100===s.getProgressValue?e(m.Z,{attrs:{color:"primary",block:t.isMobile},on:{click:function(e){return t.confirmComplete(s)}}},[t._v(t._s(t.$t("Extra.達成")))]):e(m.Z,{attrs:{depressed:"",color:"secondary",block:t.isMobile},on:{click:function(e){return t.confirmComplete(s)}}},[t._v(t._s(t.$t("Extra.達成")))]),e("div",{staticClass:"ml-sm-auto mt-3 mt-sm-0"},[e("div",{staticClass:"wiki-button"},[e(m.Z,{attrs:{outlined:"",block:t.isMobile,color:"info",href:`https://wikiwiki.jp/kancolle/%E4%BB%BB%E5%8B%99#id-${s.id}`,target:"_blank"}},[t._v(" Japan wiki ")]),e(m.Z,{attrs:{outlined:"",block:t.isMobile,color:"info",href:`https://en.kancollewiki.net/Quests#${s.id}`,target:"_blank"}},[t._v(" English wiki ")])],1)])],1)],1)],1)})),1)],1)]),e(n.Z,{staticClass:"pt-3"},t._l(t.completedQuests,(function(s,a){return e(i.Z,{key:a,staticClass:"py-3 px-2 px-sm-6 mx-3 my-1"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"flex-grow-1"},[e("div",{staticClass:"quest-title"},[e("div",{staticClass:"d-flex flex-wrap align-center"},[e("div",{staticClass:"flex-grow-1 mr-3 text-body-2"},[t._v(" "+t._s(t.$t(`Extra.${s.name}`))+" ")]),e("div",{staticClass:"ml-auto text-no-wrap caption"},[e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"mr-1 caption"},[t._v(t._s(t.$t("Extra.達成日")))]),e("div",[t._v(t._s(new Date(s.completedDate).toLocaleString(t.$vuetify.lang.current)))])])])])]),e("div",{staticClass:"bar-container"},[e("div",[e(Tt.Z,{attrs:{rounded:"",value:"100",color:"success"}})],1),e("div",{staticClass:"progress-count"},[t._v(t._s(s.requires.length)+" / "+t._s(s.requires.length))])])]),e("div",{staticClass:"ml-2 ml-sm-6 d-sm-flex align-center"},[e("div",[e(f.Z,{attrs:{src:"./img/util/ranking_point.png",height:"50",width:"50"}})],1),e("div",{staticClass:"text-center text-sm-right ranking-point-reward"},[t._v(t._s(s.rankingPoint))])])])])})),1)],1),e(v.Z,{attrs:{transition:"scroll-x-transition",width:"500"},model:{value:t.confirmCompleteDialog,callback:function(e){t.confirmCompleteDialog=e},expression:"confirmCompleteDialog"}},[t.completeTargetQuest.id?e(i.Z,{staticClass:"pa-3"},[e("div",{staticClass:"ma-4"},[e("div",{staticClass:"my-3 py-3"},[t._v(t._s(t.$t(`Extra.${t.completeTargetQuest.name}`)))]),e("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Extra.この任務を達成状態にしますか？")))]),e("div",{staticClass:"caption mt-2"},[t._v("※ "+t._s(t.$t("Extra.達成した任務は、達成済タブに表示されるようになります。")))])]),e(a.Z,{staticClass:"my-2"}),e("div",{staticClass:"d-flex"},[e(m.Z,{staticClass:"ml-auto",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.completeQuest()}}},[t._v(t._s(t.$t("Common.OK")))]),e(m.Z,{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmCompleteDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1):t._e()],1),e(v.Z,{attrs:{transition:"scroll-x-transition",width:"440"},model:{value:t.confirmResetDialog,callback:function(e){t.confirmResetDialog=e},expression:"confirmResetDialog"}},[e(i.Z,{staticClass:"pa-3"},[e("div",{staticClass:"body-2 ma-6"},[t._v(" "+t._s(t.$t("Extra.全ての任務進捗をリセットします。よろしいですか？"))+" ")]),e(a.Z,{staticClass:"my-3"}),e("div",{staticClass:"d-flex"},[e(m.Z,{staticClass:"ml-auto",attrs:{color:"error",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetAllQuest()}}},[t._v(t._s(t.$t("Common.OK")))]),e(m.Z,{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmResetDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),e(Ft.Z,{attrs:{color:"success",top:""},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(m.Z,t._b({attrs:{icon:""},on:{click:function(e){t.snackBar=!1}}},"v-btn",s,!1),[e(g.Z,[t._v("mdi-close")])],1)]}}]),model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.snackBarText)+" ")])],1)},It=[],Dt=s(7327);class At{constructor(){(0,Dt.Z)(this,"id",""),(0,Dt.Z)(this,"name",""),(0,Dt.Z)(this,"type","Once"),(0,Dt.Z)(this,"fuel",0),(0,Dt.Z)(this,"ammo",0),(0,Dt.Z)(this,"steel",0),(0,Dt.Z)(this,"bauxite",0),(0,Dt.Z)(this,"rankingPoint",0),(0,Dt.Z)(this,"requires",[]),(0,Dt.Z)(this,"isCompleted",!1),(0,Dt.Z)(this,"resetMonth",6),(0,Dt.Z)(this,"closingDateTime",0),(0,Dt.Z)(this,"resetDateTime",0),(0,Dt.Z)(this,"completedDate",0)}get getCompletedCount(){return this.requires.filter((t=>t.isComplete)).length}get getProgressValue(){return Math.floor(this.getCompletedCount/this.requires.length*100)}static toJSTDate(t){return new Date(t.getTime()+60*((new Date).getTimezoneOffset()+540)*1e3)}static getResetDateTime(t,e){const s=At.toJSTDate(e),i=s.getMonth()+1;let a=0;if("Quarterly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))a=new Date(`${s.getFullYear()+1}-03-01T05:00:00+0900`).getTime();else{const t=i+(3-i%3);a=new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t}`,2,"0")}-01T05:00:00+0900`).getTime()}else if("Monthly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))a=new Date(`${s.getFullYear()+1}-01-01T05:00:00+0900`).getTime();else{const t=i+1;a=new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t}`,2,"0")}-01T05:00:00+0900`).getTime()}else if("Yearly"===t.type){const e=new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime();a=s.getTime()<e?e:new Date(`${s.getFullYear()+1}-${(0,Q.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime()}return a}static getClosingDateTime(t,e){const s=At.toJSTDate(e),i=s.getMonth()+1,a=864e5;let l=0;if("Quarterly"===t.type)if(i>11&&(s.getDate()>=2||s.getDate()>=1&&s.getHours()>=5))l=new Date(`${s.getFullYear()+1}-03-01T13:59:59+0900`).getTime()-a;else{const t=i+(3-i%3);l=new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t}`,2,"0")}-01T13:59:59+0900`).getTime()-a}else if("Yearly"===t.type){const e=new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t.resetMonth}`,2,"0")}-01T05:00:00+0900`).getTime();l=s.getTime()<e?new Date(`${s.getFullYear()}-${(0,Q.padStart)(`${t.resetMonth}`,2,"0")}-01T04:59:59+0900`).getTime():new Date(`${s.getFullYear()+1}-${(0,Q.padStart)(`${t.resetMonth}`,2,"0")}-01T04:59:59+0900`).getTime()}return l}}var Lt=h.ZP.extend({name:"QuestManager",components:{},data:()=>({tab:0,allQuests:[],questTypes:[{value:"All",text:"全て"},{value:"Quarterly",text:"クォータリー"},{value:"Yearly",text:"イヤーリー"},{value:"Once",text:"単発"},{value:"Weekly",text:"ウィークリー"},{value:"Monthly",text:"マンスリー"}],questType:"All",confirmCompleteDialog:!1,confirmResetDialog:!1,completeTargetQuest:new At,snackBar:!1,snackBarText:"",timeRemaining:[],intervalId:0,isMobile:!0}),mounted(){this.initializeQuests()},computed:{uncompletedQuests(){return this.allQuests.filter((t=>!t.isCompleted))},completedQuests(){return this.allQuests.filter((t=>t.isCompleted))},totalRankingPoint(){return this.totalQuarterlyRankingPoint+this.totalYearlyRankingPoint+this.totalOnceRankingPoint},totalQuarterlyRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Quarterly"===t.type)).map((t=>t.rankingPoint));return(0,Q.sum)(t)??0},totalYearlyRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Yearly"===t.type)).map((t=>t.rankingPoint));return(0,Q.sum)(t)??0},totalOnceRankingPoint(){const t=this.uncompletedQuests.filter((t=>"Once"===t.type)).map((t=>t.rankingPoint));return(0,Q.sum)(t)??0},getBarColor(){return t=>0===t?"grey":t<50?"amber":t<75?"lime":t<80?"light-green":t<100?"green":"light-blue"}},watch:{},methods:{initializeQuests(t=!1){this.intervalId&&window.clearInterval(this.intervalId);const e=[],s=this.$store.state.quests;for(let i=0;i<k.ZP.RANKING_POINT_QUESTS.length;i+=1){const a=k.ZP.RANKING_POINT_QUESTS[i],l=new At;l.id=a.id,l.name=a.name,l.type=a.type,l.fuel=a.fuel,l.ammo=a.ammo,l.steel=a.steel,l.bauxite=a.bauxite,l.rankingPoint=a.rankingPoint,l.resetMonth=a.resetMonth??6;for(let t=0;t<a.requires.length;t+=1)l.requires.push({area:a.requires[t].area,rank:a.requires[t].rank,isComplete:!1});if(!t){const t=s.find((t=>t.id===l.id));if(t){l.isCompleted=!!t.isCompleted;for(let e=0;e<t.requires.length;e+=1){const s=t.requires[e];l.requires[e]?l.requires[e].isComplete=!!s.isComplete:l.requires.push({area:s.area,rank:s.rank,isComplete:s.isComplete})}l.isCompleted&&(l.completedDate=t.completedDate),l.closingDateTime=t.closingDateTime,l.resetDateTime=t.resetDateTime}}const n=this.getToday(),r=At.getClosingDateTime(l,n),o=At.getResetDateTime(l,n);if(l.closingDateTime&&r===l.closingDateTime||(l.closingDateTime=r),"Once"!==l.type&&(!l.resetDateTime||o!==l.resetDateTime)){l.requires=[];for(let t=0;t<a.requires.length;t+=1)l.requires.push({area:a.requires[t].area,rank:a.requires[t].rank,isComplete:!1});l.isCompleted=!1,l.resetDateTime=o}e.push(l)}this.allQuests=e,this.$store.dispatch("updateQuests",this.allQuests),this.setTimeRemaining(),this.intervalId=window.setInterval((()=>{this.setTimeRemaining()}),1e3)},getToday(){return new Date},updateState(){this.$store.dispatch("updateQuests",this.allQuests)},confirmComplete(t){this.completeTargetQuest=t,this.confirmCompleteDialog=!0},completeQuest(){const t=this.allQuests.find((t=>t.id===this.completeTargetQuest.id));t&&(t.isCompleted=!0,t.completedDate=this.getToday().getTime(),this.confirmCompleteDialog=!1,this.$store.dispatch("updateQuests",this.allQuests),this.snackBar=!0,this.snackBarText=`[ ${this.$t(`Extra.${this.completeTargetQuest.name}`)} ] ${this.$t("Extra.達成しました。")}`)},confirmReset(){this.confirmResetDialog=!0},resetAllQuest(){this.initializeQuests(!0),this.$store.dispatch("updateQuests",this.allQuests),this.confirmResetDialog=!1,this.snackBar=!0,this.snackBarText=`${this.$t("Extra.リセットしました。")}`},setTimeRemaining(){this.isMobile=window.innerWidth<600;const t=this.getToday(),e=t.getTime();let s=!1;const i=[];for(let a=0;a<this.allQuests.length;a+=1){const l=this.allQuests[a];if(l.resetDateTime&&e>l.resetDateTime){l.isCompleted=!1,l.completedDate=0;for(let t=0;t<l.requires.length;t+=1)l.requires[t].isComplete=!1;l.closingDateTime=At.getClosingDateTime(l,t),l.resetDateTime=At.getResetDateTime(l,t),s=!0}const n=l.closingDateTime-e,r=Math.floor(n/864e5);let o="";if(r>1)o=`${this.$t("Extra.x日",{days:r})}`;else if(r>0)o=`${this.$t("Extra.1日")}`;else if(0===r){const t=Math.floor(n/1e3/60/60),e=Math.floor(n/1e3/60)%60,s=Math.floor(n/1e3)%60,i=t<10?`0${t}`:t,a=e<10?`0${e}`:e,l=s<10?`0${s}`:s;o=`${i}:${a}:${l}`}else o=`${this.$t("Extra.失効")}`;l.isCompleted||i.push(o)}this.timeRemaining=i,s&&this.$store.dispatch("updateQuests",this.allQuests)}},beforeDestroy(){window.clearInterval(this.intervalId)}}),Pt=Lt,qt=(0,A.Z)(Pt,Et,It,!1,null,"658e43a1",null),Rt=qt.exports,Mt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(i.Z,{staticClass:"pa-3"},[e(a.Z),e(p.Z,{attrs:{dense:"","fixed-header":"","disable-sort":"",height:"48vh",headers:t.headers,items:t.enemies,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-chevron-double-left",lastIcon:"mdi-chevron-double-right",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right","items-per-page-options":[50,100]},"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"header.rank",fn:function({header:e}){return[t._v(t._s(t.$t(`Extra.${e.text}`)))]}},{key:"header.enemy.data.name",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.enemy.data.antiAir",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.shoot.antiAirWeightList",fn:function({header:e}){return[t._v(t._s(t.$t(`Common.${e.text}`)))]}},{key:"header.shoot.rateDownList",fn:function({header:e}){return[t._v(t._s(t.$t(`Fleet.${e.text}`))+" (%)")]}},{key:"header.shoot.fixDownList",fn:function({header:e}){return[t._v(t._s(t.$t(`Fleet.${e.text}`))+" ("+t._s(t.$t("Extra.機"))+")")]}},{key:"header.enemy.antiAirCutIn",fn:function({header:e}){return[t._v(t._s(t.$t(`Extra.${e.text}`)))]}},{key:"item.enemy.data.id",fn:function({item:t}){return[e(f.Z,{attrs:{src:`./img/ship/${t.enemy.data.id}.png`,height:"30",width:"120"}})]}},{key:"item.enemy.data.name",fn:function({item:s}){return[e("div",{staticClass:"text-truncate",attrs:{title:s.enemy.data.name}},[t._v(t._s(t.getEnemyName(s.enemy.data.name)))])]}},{key:"item.shoot.rateDownList",fn:function({item:s}){return[e("div",[t._v(t._s((100*s.shoot.rateDownList[0]).toFixed(1)))])]}},{key:"item.shoot.fixDownList",fn:function({item:s}){return[e("div",[t._v(t._s(s.shoot.fixDownList[0]))])]}},{key:"item.enemy.antiAirCutIn",fn:function({item:s}){return[e("div",[t._v(t._s(s.enemy.antiAirCutIn.length?t.$t("Extra.対空CI発動可能"):""))])]}}],null,!0)})],1)},Ot=[],Nt=s(3403),Bt=s(1715),Qt=h.ZP.extend({name:"EnemyAARanking",components:{},data:()=>({keyword:"",headers:[{text:"順位",value:"rank",align:"end"},{text:"",value:"enemy.data.id"},{text:"艦娘名",value:"enemy.data.name"},{text:"対空",align:"end",value:"enemy.data.antiAir"},{text:"加重対空",align:"end",value:"shoot.antiAirWeightList"},{text:"割合撃墜",align:"end",value:"shoot.rateDownList"},{text:"固定撃墜",align:"end",value:"shoot.fixDownList"},{text:"備考",value:"enemy.antiAirCutIn"}],allEnemies:[],enemies:[]}),mounted(){this.setEnemies()},computed:{completed(){return this.$store.getters.getCompletedAll},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},watch:{completed(t){t&&this.setEnemies()}},methods:{getEnemyName(t){if(t&&this.needTrans){const e=ft.Z.getSuffix(t),s=t=>t?`${this.$t(t)}`:"";return e.map((t=>s(t))).join("")}return t||""},setEnemies(){const t=this.$store.getters.getEnemies,e=this.$store.state.items,s=[];for(let i=0;i<t.length;i+=1){const a=yt.Z.createEnemyFromMasterId(t[i].id,!1,t,e);s.push(a)}this.allEnemies=s,this.calculateEnemies()},calculateEnemies(){const t=[];for(let s=0;s<this.allEnemies.length;s+=1){const e=this.allEnemies[s],i=Bt.Z.getStage2([e],!0,!1,k.ZP.FORMATIONS[0],new Nt.Z);t.push({enemy:e,shoot:i[0]})}t.sort(((t,e)=>t.shoot.fixDownList[0]!==e.shoot.fixDownList[0]?e.shoot.fixDownList[0]-t.shoot.fixDownList[0]:t.shoot.rateDownList[0]!==e.shoot.rateDownList[0]?e.shoot.rateDownList[0]-t.shoot.rateDownList[0]:e.enemy.data.antiAir-t.enemy.data.antiAir));const e=[];for(let s=0;s<t.length;s+=1)e.push({rank:s+1,enemy:t[s].enemy,shoot:t[s].shoot});this.enemies=e}}}),Wt=Qt,Ht=(0,A.Z)(Wt,Mt,Ot,!1,null,"93e6726c",null),Vt=Ht.exports,Kt=s(4127),Yt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Extra.装備シナジーチェッカー"))+" ")]),e(a.Z,{staticClass:"mt-1"}),e("div",{staticClass:"my-3 d-flex flex-wrap align-center"},[t.ship.data.id?[e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"primary--text"},expression:"{ class: 'primary--text' }"}],staticClass:"ship-input",on:{click:function(e){return t.showShipList()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList()}}},[e("div",[e(f.Z,{attrs:{src:`./img/ship/${t.ship.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"ml-2 caption"},[t._v(t._s(t.getShipName(t.ship.data)))])])]:e(m.Z,{attrs:{color:"primary"},on:{click:function(e){return t.showShipList()}}},[t._v(t._s(t.$t("Fleet.艦娘選択")))]),t.ship.data.id?e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"mx-3 caption text--secondary"},[t._v(t._s(t.$t("Database.表示")))]),e(m.Z,{staticClass:"mr-1",attrs:{color:"info",outlined:!t.showMultiple,small:""},on:{click:function(e){t.showMultiple=!t.showMultiple,t.setItemBonus()}}},[t._v(t._s(t.$t("Extra.累積可")))]),t.ship.data.id?e(m.Z,{attrs:{color:"grey",outlined:!t.showOneTime,small:""},on:{click:function(e){t.showOneTime=!t.showOneTime,t.setItemBonus()}}},[t._v(t._s(t.$t("Extra.累積不可")))]):t._e()],1):t._e()],2),e("div",{staticClass:"type-selector-container"},[t._l(t.enabledTypes,(function(s){return e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:s.id,staticClass:"type-selector",class:{active:t.selectedTypes.includes(s.id)},on:{click:function(e){return t.toggleType(s.id)},keypress:function(e){return t.toggleType(s.id)}}},[e(f.Z,{attrs:{src:`./img/type/type${s.id}.png`,height:"32",width:"32"}})],1)})),t.ship.data.id?e("div",{directives:[{def:R.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector d-flex",on:{click:function(e){return t.toggleType(-1)},keypress:function(e){return t.toggleType(-1)}}},[e("div",{staticClass:"type-all-text"},[t._v("ALL")])]):t._e()],2),t.ship.data.id?[e(a.Z)]:t._e(),e("div",{staticClass:"item-bonus-list"},t._l(t.results,(function(s,i){return e("div",{key:`item-${i}`,staticClass:"mb-10"},[e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:`./img/type/icon${s.master.iconTypeId}.png`,height:"28",width:"28"}})],1),e("div",{staticClass:"ml-1"},[t._v(t._s(t.needTrans?t.$t(`${s.master.name}`):s.master.name))]),e("div",{staticClass:"ml-2 mb-1 body-2 align-self-end"},[e("a",{attrs:{href:s.wiki,target:"_blank"}},[t._v("wiki")])])]),t._l(s.bonuses,(function(a,l){return e("div",{key:`bonus-${i}-${l}`,staticClass:"bonus-detail"},[e("div",{staticClass:"d-flex align-center"},[e(Kt.Z,{staticClass:"multiple-chip mr-2",attrs:{color:a.raw.num?"grey":"info",label:"",outlined:"",small:"",width:"120"}},[t._v(" "+t._s(a.raw.num?t.$t("Extra.累積不可"):t.$t("Extra.累積可"))+" ")]),a.hasCond?e("div",{staticClass:"text--secondary caption mr-1 text-no-wrap"},[t._v(t._s(t.$t("Extra.条件")))]):t._e(),e("div",{staticClass:"cond-view"},[a.raw.num>1?e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:`./img/type/icon${s.master.iconTypeId}.png`,height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.needTrans?t.$t(`${s.master.name}`):s.master.name))]),a.raw.remodel?e("div",[e(g.Z,{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.remodel?e("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):e("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.remodel))])],1):t._e(),e("div",{staticClass:"ml-1 align-self-end"},[t._v("x"+t._s(a.raw.num))])]):a.raw.remodel?e("div",[e(g.Z,{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.remodel?e("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):e("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.remodel))])],1):t._e(),a.raw.requiresSR?e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.$t("Extra.水上電探")))])]):t._e(),a.raw.requiresAR?e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.$t("Extra.対空電探")))])]):t._e(),a.raw.requiresAccR?e("div",{staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:"./img/type/icon11.png",height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.$t("Extra.命中電探")))])]):t._e(),a.raw.requiresType?e("div",{staticClass:"d-flex align-center"},t._l(t.getTypes(a.raw.requiresType),(function(s){return e("div",{key:`type-${s.id}`,staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:`./img/type/type${s.id}.png`,height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.$t(`EType.${s.name}`)))])])})),0):t._e(),a.raw.requiresId?e("div",{staticClass:"d-flex flex-wrap"},t._l(a.raw.requiresId,(function(s,i){return e("div",{key:`requires-${s}`,staticClass:"d-flex align-center"},[e("div",[e(f.Z,{attrs:{src:`./img/type/icon${t.getItem(s).iconTypeId}.png`,height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.needTrans?t.$t(`${t.getItem(s).name}`):t.getItem(s).name))]),a.raw.requiresIdLevel?e("div",[e(g.Z,{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.requiresIdLevel?e("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):a.raw.requiresIdLevel?e("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.requiresIdLevel))]):t._e()],1):t._e(),a.raw.requiresIdNum?e("div",{staticClass:"ml-1 align-self-end"},[t._v("x"+t._s(a.raw.requiresIdNum))]):t._e(),i+1<a.raw.requiresId.length?e("div",{staticClass:"mx-1 text--secondary"},[t._v("or")]):t._e()])})),0):t._e(),a.raw.requiresId2?e("div",{staticClass:"d-flex flex-wrap"},t._l(a.raw.requiresId2,(function(s,i){return e("div",{key:`requires-${s}`,staticClass:"d-flex align-center"},[e("div",{staticClass:"mr-1 text--secondary"},[t._v("+")]),e("div",[e(f.Z,{attrs:{src:`./img/type/icon${t.getItem(s).iconTypeId}.png`,height:"20",width:"20"}})],1),e("div",[t._v(t._s(t.needTrans?t.$t(`${t.getItem(s).name}`):t.getItem(s).name))]),a.raw.requiresIdLevel2?e("div",[e(g.Z,{staticClass:"teal--text text--accent-4",attrs:{small:""}},[t._v("mdi-star")]),10===a.raw.requiresIdLevel2?e("span",{staticClass:"teal--text text--accent-4 caption"},[t._v("max")]):a.raw.requiresIdLevel2?e("span",{staticClass:"teal--text text--accent-4 body-2"},[t._v("+"+t._s(a.raw.requiresIdLevel2))]):t._e()],1):t._e(),a.raw.requiresIdNum2?e("div",{staticClass:"ml-1 align-self-end"},[t._v("x"+t._s(a.raw.requiresIdNum2))]):t._e(),i+1<a.raw.requiresId2.length?e("div",{staticClass:"mx-1 text--secondary"},[t._v("or")]):t._e()])})),0):t._e()])],1),e("div",{staticClass:"bonus-status-view mt-1"},[s.show.firePower?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.firePower}},[e("div",[t._v(t._s(t.$t("Common.火力")))]),e("div",{class:{"bad-value":a.bonus.firePower<0}},[t._v(t._s(a.bonus.firePower))])]):t._e(),s.show.torpedo?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.torpedo}},[e("div",[t._v(t._s(t.$t("Common.雷装")))]),e("div",{class:{"bad-value":a.bonus.torpedo<0}},[t._v(t._s(a.bonus.torpedo))])]):t._e(),s.show.bomber?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.bomber}},[e("div",[t._v(t._s(t.$t("Common.爆装")))]),e("div",{class:{"bad-value":a.bonus.bomber<0}},[t._v(t._s(a.bonus.bomber))])]):t._e(),s.show.armor?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.armor}},[e("div",[t._v(t._s(t.$t("Common.装甲")))]),e("div",{class:{"bad-value":a.bonus.armor<0}},[t._v(t._s(a.bonus.armor))])]):t._e(),s.show.antiAir?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.antiAir}},[e("div",[t._v(t._s(t.$t("Common.対空")))]),e("div",{class:{"bad-value":a.bonus.antiAir<0}},[t._v(t._s(a.bonus.antiAir))])]):t._e(),s.show.asw?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.asw}},[e("div",[t._v(t._s(t.$t("Common.対潜")))]),e("div",{class:{"bad-value":a.bonus.asw<0}},[t._v(t._s(a.bonus.asw))])]):t._e(),s.show.accuracy?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.accuracy}},[e("div",[t._v(t._s(t.$t("Common.命中")))]),e("div",{class:{"bad-value":a.bonus.accuracy<0}},[t._v(t._s(a.bonus.accuracy))])]):t._e(),s.show.avoid?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.avoid}},[e("div",[t._v(t._s(t.$t("Common.回避")))]),e("div",{class:{"bad-value":a.bonus.avoid<0}},[t._v(t._s(a.bonus.avoid))])]):t._e(),s.show.scout?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.scout}},[e("div",[t._v(t._s(t.$t("Common.索敵")))]),e("div",{class:{"bad-value":a.bonus.scout<0}},[t._v(t._s(a.bonus.scout))])]):t._e(),s.show.range?e("div",{staticClass:"bonus-status-item",class:{"no-change":!a.bonus.range}},[e("div",[t._v(t._s(t.$t("Common.射程")))]),e("div",{class:{"bad-value":a.bonus.range<0}},[t._v(t._s(a.bonus.range))])]):t._e()]),t._e(),t._e()])}))],2)})),0),e(v.Z,{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth,fullscreen:t.isMobile},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[e("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1)],2)},Gt=[],Ut=s(47),jt=h.ZP.extend({name:"ShipItemSynergy",components:{ShipList:N.Z},props:{},data:()=>({allTypes:k.ZP.ITEM_API_TYPE,allItems:[],allBonuses:[],ship:new B.Z,shipListDialog:!1,shipDialogWidth:1200,types:[],selectedTypes:[],showMultiple:!0,showOneTime:!0,isMobile:!0}),mounted(){this.types=[];for(let t=0;t<k.ZP.ITEM_TYPES_ALT.length;t+=1){const e=k.ZP.ITEM_TYPES_ALT[t];this.types.push({id:e.id,text:e.text,types:e.types}),this.selectedTypes.push(e.id)}this.setItemBonus()},computed:{needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},getShipName(){return t=>{if(this.needTrans){const e=T.Z.getSuffix(t);return`${e.map((t=>t?`${this.$t(t)}`:"")).join("")}`}return t.name?t.name:""}},getItem(){return t=>{const e=this.allItems.find((e=>e.id===t));return e??new U.Z}},getTypes(){return t=>{const e=[];for(let s=0;s<t.length;s+=1){const i=k.ZP.ITEM_API_TYPE.find((e=>e.id===t[s]));i&&e.push(i)}return e}},enabledTypes(){const t=this.allBonuses.map((t=>t.master.apiTypeId)),e=[];for(let s=0;s<this.types.length;s+=1){const i=this.types[s].types;t.find((t=>i.includes(t)))&&e.push(this.types[s])}return e},results(){const t=this.enabledTypes.filter((t=>this.selectedTypes.includes(t.id)));let e=[];for(let s=0;s<t.length;s+=1)e=e.concat(t[s].types);return this.allBonuses.filter((t=>e.includes(t.master.apiTypeId)))}},methods:{toggleType(t){if(-1===t){const t=k.ZP.ITEM_TYPES_ALT.map((t=>t.id));this.selectedTypes.length===t.length?this.selectedTypes=[]:this.selectedTypes=t}else this.selectedTypes.includes(t)?this.selectedTypes=this.selectedTypes.filter((e=>e!==t)):this.selectedTypes.push(t);this.setItemBonus()},setItemBonus(){if(this.allItems=this.$store.state.items,this.allBonuses=[],!this.ship.data.id)return;const t=JSON.parse(JSON.stringify(Ut.Z.bonusData)).filter((t=>t.bonuses&&t.bonuses.some((t=>(!t.shipBase||t.shipBase.includes(this.ship.data.originalId))&&(!t.shipId||t.shipId.includes(this.ship.data.id))&&(!t.shipType||t.shipType.includes(this.ship.data.type))&&(!t.shipClass||t.shipClass.includes(this.ship.data.type2))&&(!t.shipCountry||t.shipCountry.includes(this.ship.data.type2)))))),e=[],s={id:999999,type:12,itype:11,name:"電探",antiAir:0,scout:0,accuracy:0},i=this.allItems.filter((t=>!t.isEnemyItem));for(let a=0;a<i.length;a+=1){const l=i[a];let n=[];const r=t.filter((t=>t.ids&&t.ids.includes(l.id)||t.types&&t.types.includes(l.apiTypeId)));let o=[];for(let t=0;t<r.length;t+=1)o=o.concat(r[t].bonuses);if(o.sort(((t,e)=>t.num&&!e.num?-1:!t.num&&e.num?1:t.num&&e.num?t.num-e.num:t.remodel&&!e.remodel?1:!t.remodel&&e.remodel?-1:t.remodel&&e.remodel?t.remodel-e.remodel:0)),o=o.filter((t=>!(t.shipId&&!t.shipId.includes(this.ship.data.id))&&(!(t.shipBase&&!t.shipBase.includes(this.ship.data.originalId))&&(!(t.shipType&&!t.shipType.includes(this.ship.data.type))&&(!(t.shipClass&&!t.shipClass.includes(this.ship.data.type2))&&!(t.shipCountry&&!t.shipCountry.includes(this.ship.data.type2))))))),!o.length||!F.Z.isValidItem(this.ship.data,l))continue;for(let t=0;t<o.length;t+=1){const e=o[t],a=new nt.Z({master:l,remodel:e.remodel?e.remodel:0}),r=[];let d=new nt.Z;if(!(366===a.data.id&&a.remodel>4)&&(!a.remodel||a.data.canRemodel)){if(e.requiresAR&&(11!==a.data.iconTypeId||a.data.antiAir<2)&&(s.id=999997,s.antiAir=2,s.scout=0,s.accuracy=0,d=new nt.Z({master:new U.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresSR&&(11!==a.data.iconTypeId||a.data.scout<5)&&(s.id=999998,s.antiAir=0,s.scout=5,s.accuracy=0,d=new nt.Z({master:new U.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresAccR&&(11!==a.data.iconTypeId||a.data.accuracy<8)&&(s.id=999999,s.antiAir=0,s.scout=0,s.accuracy=8,d=new nt.Z({master:new U.Z(s),remodel:e.requiresIdLevel?e.requiresIdLevel:0})),e.requiresId){const t=i.find((t=>e.requiresId&&e.requiresId.includes(t.id)));if(!t||!F.Z.isValidItem(this.ship.data,t,1))continue;d=new nt.Z({master:t,remodel:e.requiresIdLevel?e.requiresIdLevel:0})}if(e.requiresType){const t=i.find((t=>e.requiresType&&e.requiresType.includes(t.id))),s=new U.Z({id:999999,type:+e.requiresType[0],itype:t?t.iconTypeId:0,name:"ダミー装備"});d=new nt.Z({master:s,remodel:e.requiresIdLevel?e.requiresIdLevel:0})}if(d.data.id){if(e.requiresIdNum){const t=i.find((t=>e.requiresId&&e.requiresId.includes(t.id)));for(let s=0;s<e.requiresIdNum;s+=1)r.push(new nt.Z({master:t,remodel:e.requiresIdLevel?e.requiresIdLevel:0}))}else r.push(d);if(e.requiresId2){const t=i.find((t=>e.requiresId2&&e.requiresId2.includes(t.id)));if(!t||!F.Z.isValidItem(this.ship.data,t,1))continue;r.push(new nt.Z({master:t,remodel:e.requiresIdLevel2?e.requiresIdLevel2:0}))}}else if(e.num&&e.num>1)for(let t=0;t<e.num-1;t+=1)r.push(new nt.Z({master:l,remodel:e.remodel?e.remodel:0}));if(e.num){const t=new B.Z({master:this.ship.data,items:r,exItem:a}),s=r.concat(a);n.some((t=>(0,Q.isEqual)(s,t.items)))||n.push({raw:e,hasCond:!!(e.num&&e.num>1||e.remodel||e.requiresAR||e.requiresAccR||e.requiresId||e.requiresIdNum||e.requiresSR||e.requiresType),bonus:t.itemBonusStatus,remodel:a.remodel,items:s})}else{const t=n.find((t=>!t.raw.num&&t.remodel===a.remodel));if(t)t.bonus.accuracy=(t.bonus.accuracy??0)+(e.bonus.accuracy??0),t.bonus.antiAir=(t.bonus.antiAir??0)+(e.bonus.antiAir??0),t.bonus.armor=(t.bonus.armor??0)+(e.bonus.armor??0),t.bonus.asw=(t.bonus.asw??0)+(e.bonus.asw??0),t.bonus.avoid=(t.bonus.avoid??0)+(e.bonus.avoid??0),t.bonus.bomber=(t.bonus.bomber??0)+(e.bonus.bomber??0),t.bonus.firePower=(t.bonus.firePower??0)+(e.bonus.firePower??0),t.bonus.range=(t.bonus.range??0)+(e.bonus.range??0),t.bonus.scout=(t.bonus.scout??0)+(e.bonus.scout??0),t.bonus.torpedo=(t.bonus.torpedo??0)+(e.bonus.torpedo??0);else{const t=n.filter((t=>!t.raw.num&&t.remodel<a.remodel));if(t.length){const s={raw:e,hasCond:!!e.remodel,bonus:{accuracy:e.bonus.accuracy??0,antiAir:e.bonus.antiAir??0,armor:e.bonus.armor??0,asw:e.bonus.asw??0,avoid:e.bonus.avoid??0,bomber:e.bonus.bomber??0,firePower:e.bonus.firePower??0,range:e.bonus.range??0,scout:e.bonus.scout??0,torpedo:e.bonus.torpedo??0},remodel:a.remodel,items:[a]},i=t[t.length-1].bonus;s.bonus.accuracy+=i.accuracy??0,s.bonus.antiAir+=i.antiAir??0,s.bonus.armor+=i.armor??0,s.bonus.asw+=i.asw??0,s.bonus.avoid+=i.avoid??0,s.bonus.bomber+=i.bomber??0,s.bonus.firePower+=i.firePower??0,s.bonus.range+=i.range??0,s.bonus.scout+=i.scout??0,s.bonus.torpedo+=i.torpedo??0,n.push(s)}else n.push({raw:e,hasCond:!!e.remodel,bonus:{accuracy:e.bonus.accuracy??0,antiAir:e.bonus.antiAir??0,armor:e.bonus.armor??0,asw:e.bonus.asw??0,avoid:e.bonus.avoid??0,bomber:e.bonus.bomber??0,firePower:e.bonus.firePower??0,range:e.bonus.range??0,scout:e.bonus.scout??0,torpedo:e.bonus.torpedo??0},remodel:a.remodel,items:[a]})}}}}if(this.showMultiple||(n=n.filter((t=>t.raw.num))),this.showOneTime||(n=n.filter((t=>!t.raw.num))),!n.length)continue;n.sort(((t,e)=>t.raw.num&&!e.raw.num?-1:!t.raw.num&&e.raw.num?1:t.raw.num&&e.raw.num&&t.raw.num!==e.raw.num?t.raw.num-e.raw.num:t.hasCond&&!e.hasCond?1:!t.hasCond&&e.hasCond?-1:t.raw.requiresId&&!e.raw.requiresId?1:!t.raw.requiresId&&e.raw.requiresId?-1:t.raw.requiresId&&e.raw.requiresId?t.raw.requiresId.length-e.raw.requiresId.length:t.remodel-e.remodel));const d={accuracy:n.some((t=>t.bonus.accuracy))?1:0,antiAir:n.some((t=>t.bonus.antiAir))?1:0,armor:n.some((t=>t.bonus.armor))?1:0,asw:n.some((t=>t.bonus.asw))?1:0,avoid:n.some((t=>t.bonus.avoid))?1:0,bomber:n.some((t=>t.bonus.bomber))?1:0,firePower:n.some((t=>t.bonus.firePower))?1:0,range:n.some((t=>t.bonus.range))?1:0,scout:n.some((t=>t.bonus.scout))?1:0,torpedo:n.some((t=>t.bonus.torpedo))?1:0};e.push({master:l,bonuses:n,show:d,maxNum:(0,Q.max)(n.map((t=>t.raw.num??0)))??0,wiki:U.Z.getWikiURL(l)})}this.allBonuses=e},async showShipList(){this.isMobile=window.innerWidth<600,await(this.shipListDialog=!0),this.$refs.shipList.initialize(!1)},putShip(t){this.shipListDialog=!1,this.ship=new B.Z({master:t.ship}),this.showMultiple=!0,this.showOneTime=!0,this.setItemBonus()},removeShip(){this.ship=new B.Z,this.setItemBonus()},changeShipWidth(t){this.shipDialogWidth=t},closeDialog(){this.shipListDialog=!1}}}),Xt=jt,Jt=(0,A.Z)(Xt,Yt,Gt,!1,null,"1f43b0fe",null),zt=Jt.exports,te=h.ZP.extend({name:"ExtraCalculator",components:{ShipMasterList:P,ShipStatusCompare:K,ShipItemSynergy:zt,ItemMasterList:z,RequiredAswCalculator:ct,EnemySearcher:bt,QuestManager:Rt,EnemyAaRanking:Vt},data:()=>({tab:0}),mounted(){const t=this.$store.state.saveData;t.disabledMain();const{hash:e}=document.location;e.endsWith("asw-calculator")?(this.tab=2,this.$router.replace({path:"/extra"})):e.endsWith("items")?(this.tab=1,this.$router.replace({path:"/extra"})):e.endsWith("quest")?(this.tab=3,this.$router.replace({path:"/extra"})):e.endsWith("habitat")?(this.tab=4,this.$router.replace({path:"/extra"})):e.endsWith("aa-ranking")&&(this.tab=5,this.$router.replace({path:"/extra"})),window.scroll({top:0,behavior:"smooth"})},computed:{completed(){return this.$store.getters.getCompletedAll}},watch:{},methods:{}}),ee=te,se=(0,A.Z)(ee,d,c,!1,null,"f7a7d4a6",null),ie=se.exports}}]);
//# sourceMappingURL=537.ab13e0e8.js.map