"use strict";(self["webpackChunkkc_web"]=self["webpackChunkkc_web"]||[]).push([[261],{9825:function(t,e,i){i.d(e,{Z:function(){return k}});var s=i(4562),a=i(9582),n=i(4127),l=i(9223),o=i(4324),r=i(3687),d=i(626),c=i(2165),m=i(7771),h=i(5085),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(a.Z,{staticClass:"detail-card"},[e("div",{staticClass:"d-flex mx-1 px-2 py-1 align-center"},[e("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Fleet.艦隊詳細")))]),e(r.Z),e(s.Z,{attrs:{icon:""},on:{click:t.close}},[e(o.Z,[t._v("mdi-close")])],1)],1),e(l.Z,{staticClass:"mx-1"}),e("div",{staticClass:"px-1"},[e(m.Z,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(d.Z,{attrs:{href:"#fleet"}},[t._v(t._s(t.$t("Fleet.艦隊情報")))]),e(d.Z,{attrs:{href:"#stage2"}},[t._v(t._s(t.$t("Fleet.対空砲火")))]),e(d.Z,{attrs:{href:"#contact"}},[t._v(t._s(t.$t("Fleet.触接")))])],1)],1),e("div",{staticClass:"tab-content"},[e(l.Z,{staticClass:"mx-1"}),e(h.Z,{attrs:{touchless:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(c.Z,{staticClass:"px-2",attrs:{value:"fleet"}},[e("div",{staticClass:"ma-1"},[e("div",{staticClass:"d-flex air-power-info flex-wrap"},[e("div",{staticClass:"text--secondary label-text body-2"},[t._v(t._s(t.$t("Common.制空")))]),e("div",{staticClass:"value-text mr-3"},[t._v(t._s(t.fleet.fullAirPower))]),e("div",[e(n.Z,{staticClass:"mr-1",attrs:{color:"green",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.確保")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullBorders[0]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"light-green",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.優勢")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullBorders[1]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"orange",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.拮抗")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullBorders[2]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"deep-orange",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.劣勢")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullBorders[3]))])])],1)]),t.fleet.fullAirPower!==t.fleet.fullAirbaseAirPower?e("div",{staticClass:"mt-1 d-flex air-power-info flex-wrap"},[e("div",{staticClass:"text--secondary label-text body-2"},[t._v(t._s(t.$t("Common.基地制空")))]),e("div",{staticClass:"value-text mr-3"},[t._v(t._s(t.fleet.fullAirbaseAirPower))]),e("div",[e(n.Z,{staticClass:"mr-1",attrs:{color:"green",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.確保")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullAirbaseBorders[0]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"light-green",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.優勢")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullAirbaseBorders[1]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"orange",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.拮抗")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullAirbaseBorders[2]))])]),e(n.Z,{staticClass:"mr-1",attrs:{color:"deep-orange",label:"",outlined:""}},[e("span",[t._v(t._s(t.$t("Common.劣勢")))]),e("span",{staticClass:"chip-value"},[t._v(t._s(t.fleet.fullAirbaseBorders[3]))])])],1)]):t._e()]),e(l.Z),e("div",[e("div",{staticClass:"mt-3 mb-5"},[t.fleet.isUnion?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center px-2 primary--text"},[t._v(t._s(t.$t("Fleet.第x艦隊",{number:1})))]),e("div",{staticClass:"align-self-center body-2 ml-4 text--secondary"},[t._v(t._s(t.$t("Common.制空値")))]),e("div",{staticClass:"align-self-center body-2 ml-1"},[t._v(t._s(t.fleet.mainAirPower))]),e("div",{staticClass:"align-self-center body-2 ml-4 text--secondary"},[t._v(t._s(t.$t("Common.基地制空")))]),e("div",{staticClass:"align-self-center body-2 ml-1"},[t._v(t._s(t.fleet.mainAirbaseAirPower))])]):t._e(),e("div",{staticClass:"enemy-inputs-container"},t._l(t.fleet.mainEnemies,(function(i,s){return e("enemy-input",{key:s,attrs:{enemy:i,"handle-show-item-list":t.showItemList}})})),1)]),t.fleet.isUnion?e(l.Z):t._e(),t.fleet.isUnion?e("div",{staticClass:"my-3"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center px-2 success--text"},[t._v(t._s(t.$t("Fleet.第x艦隊",{number:2})))]),e("div",{staticClass:"align-self-center body-2 ml-4 text--secondary"},[t._v(t._s(t.$t("Common.制空値")))]),e("div",{staticClass:"align-self-center body-2 ml-1"},[t._v(t._s(t.fleet.escortAirPower))]),e("div",{staticClass:"align-self-center body-2 ml-4 text--secondary"},[t._v(t._s(t.$t("Common.基地制空")))]),e("div",{staticClass:"align-self-center body-2 ml-1"},[t._v(t._s(t.fleet.escortAirbaseAirPower))])]),e("div",{staticClass:"enemy-inputs-container"},t._l(t.fleet.escortEnemies,(function(i,s){return e("enemy-input",{key:s,attrs:{enemy:i,"handle-show-item-list":t.showItemList}})})),1)]):t._e()],1)],1),e(c.Z,{attrs:{value:"stage2"}},[e("anti-air-calculator",{ref:"antiAirCalculator",attrs:{fleet:t.fleet}})],1),e(c.Z,{attrs:{value:"contact"}},[e("contact-rates",{ref:"contactRates",attrs:{fleet:t.fleet}})],1)],1)],1)],1)},p=[],f=i(144),v=i(6984),g=i(4651),y=i(6889),_=i(674),x=f.ZP.extend({components:{EnemyInput:_.Z,AntiAirCalculator:v.Z,ContactRates:g.Z},name:"EnemyDetail",props:{handleShowItemList:{type:Function},fleet:{type:y.Z,required:!0},handleClose:{type:Function,required:!0}},data:()=>({tab:"stage2"}),mounted(){const t=this.$refs.contactRates;t&&t.calculate();const e=this.$refs.antiAirCalculator;e&&e.updateTable()},methods:{showItemList(t,e){this.handleShowItemList(t,e)},close(){this.handleClose()}}}),b=x,I=i(1001),C=(0,I.Z)(b,u,p,!1,null,"b2558290",null),k=C.exports},674:function(t,e,i){i.d(e,{Z:function(){return b}});var s=i(9582),a=i(9223),n=i(5495),l=i(2082),o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(s.Z,{staticClass:"ma-1 pa-2 enemy-preview"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center"},[e(n.Z,{attrs:{src:`./img/ship/${t.enemy.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"flex-grow-1"},[e("div",{staticClass:"d-flex caption flex-wrap"},[e("div",{staticClass:"enemy-id ml-2 primary--text"},[t._v("id "+t._s(t.enemy.data.id))]),e("div",{staticClass:"ml-2"},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.耐久")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.enemy.data.hp))]),e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.enemy.actualArmor))])])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"enemy-name ml-2 text-truncate"},[t._v(t._s(t.getEnemyName(t.enemy.data.name)))])])])]),e("div",{staticClass:"d-flex caption px-1 flex-wrap"},[t.enemy.fullAirPower>0||!t.enemy.fullLBAirPower?e("div",[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.制空")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.enemy.fullAirPower))]),e("span",{staticClass:"ml-1 mr-2 text--secondary"},[t._v(t._s(t.airPowerDetail))])]):t._e(),t.enemy.fullLBAirPower&&t.enemy.fullLBAirPower!==t.enemy.fullAirPower?e("div",[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.基地制空")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.enemy.fullLBAirPower))]),e("span",{staticClass:"ml-1 mr-2 text--secondary"},[t._v(t._s(t.airPowerDetailAB))])]):t._e()]),e("div",{staticClass:"caption px-1"},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.装備命中")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.enemy.sumItemAccuracy))]),e("span",{staticClass:"ml-3 text--secondary"},[t._v(t._s(t.$t("Common.総搭載数")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.sumSlot))])]),e(a.Z,{staticClass:"item-input-divider"}),e("div",t._l(t.enemy.items,(function(i,s){return e("div",{key:s,on:{mouseenter:function(e){return t.bootTooltip(i,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i,e)},blur:t.clearTooltip}},[e("item-input",{attrs:{index:s,max:999,init:t.enemy.data.slots[s],"handle-show-item-list":t.showItemList,"handle-drag-start":t.clearTooltip,readonly:t.readonly,"is-enemy":!0},on:{input:t.updateItem},model:{value:t.enemy.items[s],callback:function(e){t.$set(t.enemy.items,s,e)},expression:"enemy.items[j]"}})],1)})),0),e(l.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[e("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},r=[],d=i(144),c=i(2297),m=i.n(c),h=i(4759),u=i(3085),p=i(5722),f=i(7525),v=i(2399),g=d.ZP.extend({components:{ItemInput:h.Z,ItemTooltip:u.Z},name:"EnemyInput",props:{handleShowItemList:{type:Function},enemy:{type:p.Z,required:!0},readonly:{type:Boolean,default:!0}},data:()=>({enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new f.Z,tooltipX:0,tooltipY:0}),computed:{airPowerDetail(){const t=this.enemy.items.map((t=>t.data.isRecon?0:t.fullAirPower));return t.filter((t=>t>0)).length?`( ${t.join(" | ")} )`:""},airPowerDetailAB(){const t=this.enemy.items.map((t=>t.fullAirPower));return t.filter((t=>t>0)).length?`( ${t.join(" | ")} )`:""},sumSlot(){return m()(this.enemy.items.map((t=>t.fullSlot)))}},methods:{getEnemyName(t){const e=this.$store.state.siteSetting;if(t&&"ja"!==this.$i18n.locale&&!e.nameIsNotTranslate){const e=v.Z.getSuffix(t),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}return t||""},showItemList(t){this.readonly||this.handleShowItemList(t)},updateItem(){this.readonly||this.$emit("input",this.enemy)},bootTooltip(t,e){const i=this.$store.state.siteSetting;if(!t.data.id||i.disabledItemTooltip)return;const s=e.target.getElementsByClassName("item-name")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const e=s.getBoundingClientRect();this.tooltipX=e.x+e.width/3,this.tooltipY=e.y+e.height,this.tooltipItem=t,this.enabledTooltip=!0}),Math.max(i.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),y=g,_=i(1001),x=(0,_.Z)(y,o,r,!1,null,"05c69e76",null),b=x.exports},6720:function(t,e,i){i.d(e,{Z:function(){return k}});var s=i(4562),a=i(9582),n=i(3486),l=i(9223),o=i(4324),r=i(5495),d=i(3687),c=i(9780),m=i(2082),h=i(7069),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(a.Z,{staticClass:"enemy-list-card"},[e("div",{staticClass:"d-flex pt-2 pb-1 pr-2"},[e("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Enemies.敵艦選択")))]),e(d.Z),e(s.Z,{attrs:{icon:""},on:{click:t.close}},[e(o.Z,[t._v("mdi-close")])],1)],1),e(l.Z),e("div",{staticClass:"d-flex px-2 pt-sm-2"},[e("div",[e(c.Z,{attrs:{label:t.$t("ItemList.図鑑id 名称検索"),clearable:"","prepend-inner-icon":"mdi-magnify","hide-details":""},on:{input:function(e){return t.filter()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),e("div",{staticClass:"ml-sm-5"},[e(n.Z,{attrs:{label:t.$t("Enemies.地上施設")},on:{change:function(e){return t.filter()}},model:{value:t.isLandBase,callback:function(e){t.isLandBase=e},expression:"isLandBase"}})],1)]),e("div",{staticClass:"d-flex flex-wrap mx-sm-3"},t._l(t.types,(function(i,s){return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:s,staticClass:"type-selector",class:{active:s===t.type,disabled:t.keyword||t.isLandBase},on:{click:function(e){return t.changeType(s)},keypress:function(e){return t.changeType(s)}}},[t._v(" "+t._s(t.isNotJapanese?t.$t(`SType.${i.text}`):i.text)+" ")])})),0),e(l.Z,{staticClass:"mx-3"}),e("div",{staticClass:"enemy-table-container px-2 px-sm-3 pb-2"},t._l(t.enemies,(function(i,s){return e("div",{key:`type${s}`},[e("div",{staticClass:"type-divider"},[e("div",{staticClass:"caption text--secondary"},[t._v(t._s(t.needTrans?t.$t(i.name):i.name))]),e("div",{staticClass:"type-divider-border"})]),e("div",{staticClass:"enemy-table-body"},t._l(i.enemies,(function(i,s){return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:s,staticClass:"enemy-list",on:{click:function(e){return t.clickedEnemy(i.data)},keypress:function(e){return t.clickedEnemy(i.data)},mouseenter:function(e){return t.bootTooltip(i.data,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i.data,e)},blur:t.clearTooltip}},[e("div",{staticClass:"enemy-img"},[e(r.Z,{attrs:{src:`./img/ship/${i.data.id}.png`,height:"30",width:"120"}}),i.hasRadar?e("div",{staticClass:"radar-icon"},[e(r.Z,{attrs:{src:"./img/type/icon11.png",height:"22",width:"22"}})],1):t._e()],1),e("div",{staticClass:"flex-grow-1 ml-1"},[e("div",{staticClass:"d-flex align-center enemy-caption"},[e("div",{staticClass:"enemy-id primary--text text-no-wrap"},[t._v(" id "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(i.data.id))])]),e("div",{staticClass:"ml-1 text-no-wrap"},[t._v(" "+t._s(t.$t("Common.耐久"))+" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(i.data.hp))])]),e("div",{staticClass:"ml-1 text-no-wrap"},[t._v(" "+t._s(t.$t("Common.装甲"))+" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(i.data.armor))])])]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"enemy-name text-truncate",class:{"orange--text text--darken-2":i.data.isUnknown}},[t._v(" "+t._s(t.getEnemyName(i.data.name))+" ")])])])])})),0)])})),0)],1),e(m.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[e("enemy-tooltip",{model:{value:t.tooltipEnemy,callback:function(e){t.tooltipEnemy=e},expression:"tooltipEnemy"}})],1)],1)},p=[],f=i(144),v=i(8487),g=i(2399),y=i(6141),_=i(5722),x=f.ZP.extend({name:"EnemyList",components:{EnemyTooltip:v.Z},props:{handleDecideEnemy:{type:Function,required:!0},handleClose:{type:Function,required:!0}},data:()=>({all:[],enemies:[],types:[],type:0,isLandBase:!1,keyword:"",enabledTooltip:!1,tooltipTimer:void 0,tooltipEnemy:new _.Z,tooltipX:0,tooltipY:0}),mounted(){const t=[],e=this.$store.state.defaultEnemies;for(let i=0;i<e.length;i+=1){const s=e[i];this.all.push(s),t.includes(s.type)||t.push(s.type)}for(let i=0;i<y.ZP.SHIP_TYPES_ALT.length;i+=1){const e=y.ZP.SHIP_TYPES_ALT[i];e.types.some((e=>t.includes(e)))&&this.types.push({text:e.text,types:e.types})}this.filter()},computed:{isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},methods:{getEnemyName(t){if(t&&this.needTrans){const e=g.Z.getSuffix(t),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}return t||""},changeType(t=0){this.type=t,this.filter()},filter(){const t=this.keyword;let e=this.all.concat();const i=this.types[this.type];t?e=e.filter((e=>e.id===+t||e.name.indexOf(t)>=0)):this.isLandBase?e=e.filter((t=>t.isLandBase)):i&&(e=e.filter((t=>!t.isLandBase&&i.types.includes(t.type))));const s=[];for(let n=0;n<e.length;n+=1){const t=e[n].name.substring(0,4);s.includes(t)||s.push(t)}this.enemies=[];const a=this.$store.state.items;for(let n=0;n<s.length;n+=1){const t=s[n],i=e.filter((e=>e.name.startsWith(t))).map((t=>_.Z.createEnemyFromMasterId(t.id,!1,e,a)));if(i.length){const t=g.Z.getSuffix(i[0].data.name)[0];this.enemies.push({name:t,enemies:i})}}},clickedEnemy(t){this.clearTooltip(),this.handleDecideEnemy(t)},close(){this.handleClose()},bootTooltip(t,e){if(!t.id)return;const i=this.$store.state.siteSetting,s=e.target.getElementsByClassName("enemy-id")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const i=s.getBoundingClientRect();this.tooltipX=e.clientX,this.tooltipY=i.y+i.height;const a=this.$store.state.manualEnemies,n=a.find((e=>e.id===t.id));this.tooltipEnemy=n?_.Z.createEnemyFromMaster(n,!1,this.$store.state.items):_.Z.createEnemyFromMaster(t,!1,this.$store.state.items),this.enabledTooltip=!0}),Math.max(i.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),b=x,I=i(1001),C=(0,I.Z)(b,u,p,!1,null,"2bf7116e",null),k=C.exports},8487:function(t,e,i){i.d(e,{Z:function(){return f}});var s=i(9223),a=i(5495),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"py-1"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"ml-1"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"tooltip-item-text id"},[t._v(" id "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.value.data.id))])]),e("div",{staticClass:"ml-2 tooltip-item-text"},[t._v(" "+t._s(t.$t("Common.耐久"))+" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.value.data.hp))])]),e("div",{staticClass:"ml-2 tooltip-item-text"},[t._v(" "+t._s(t.$t("Common.装甲"))+" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.value.data.armor)+" ("+t._s(t.armor)+")")])])]),e("div",{staticClass:"my-1"},[e("div",[t._v(t._s(t.getEnemyName(t.value.data.name)))])])])]),e("div",t._l(t.value.items,(function(i,s){return e("div",{key:s},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center item-slot",class:{"orange--text text--darken-2":t.value.data.isUnknown}},[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(i.fullSlot))]),t._v(t._s(t.value.data.isUnknown?"?":"")+" ")]),e("div",[e(a.Z,{attrs:{src:`./img/type/icon${i.data.iconTypeId}.png`,height:"30",width:"30"}})],1),e("div",{staticClass:"ml-1 align-self-center tooltip-item-text id"},[t._v(" id "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(i.data.id))])]),e("div",{staticClass:"ml-1 align-self-center item-name"},[t._v(t._s(t.needTrans?t.$t(`${i.data.name}`):i.data.name))])])])})),0),t.hasOASW||t.hasOpeningTorpedo||t.nightSpecialAttacks.length||t.value.antiAirCutIn.length||t.specialAttacks.length?[e(s.Z,{staticClass:"my-2"}),e("div",{staticClass:"ml-1 caption grey--text text--lighten-1 text-left"},[t._v(t._s(t.$t("Fleet.特殊攻撃")))]),e("div",{staticClass:"mx-1 d-flex flex-wrap mt-1 body-2"},[t.value.antiAirCutIn.length?e("div",{staticClass:"mr-3 anti-air-cutin"},[t._v(t._s(t.$t("Fleet.対空CI")))]):t._e(),t.hasOASW?e("div",{staticClass:"mr-3 light-blue--text text--lighten-2"},[t._v(t._s(t.$t("Fleet.先制対潜")))]):t._e(),t.hasOpeningTorpedo?e("div",{staticClass:"mr-3 blue--text text--lighten-1"},[t._v("先制雷撃")]):t._e(),t._l(t.specialAttacks,(function(i){return e("div",{key:`day${i}`,staticClass:"orange--text text--lighten-2 mr-3"},[t._v(t._s(t.$t(`Fleet.${i}`)))])})),t._l(t.nightSpecialAttacks,(function(i){return e("div",{key:`night${i}`,staticClass:"indigo--text text--lighten-3 mr-3"},[t._v(t._s(t.$t(`Fleet.${i}`)))])}))],2)]:t._e()],2)},l=[],o=i(144),r=i(5722),d=i(2399),c=i(3314),m=o.ZP.extend({name:"EnemyTooltip",props:{value:{type:r.Z,required:!0}},computed:{armor(){let t=0;for(let e=0;e<this.value.items.length;e+=1)t+=this.value.items[e].data.armor;return this.value.data.armor+t},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},hasOpeningTorpedo(){return!(this.value.data.name.indexOf("深海日棲姫")>=0)&&(!(this.value.data.name.indexOf("船渠棲姫")>=0)&&(!(this.value.data.name.indexOf("深海梅棲姫")>=0)&&(!(this.value.data.name.indexOf("深海雨雲姫")>=0)&&(!(this.value.data.name.indexOf("深海玉棲姫")>=0)&&(this.value.data.name.indexOf("米駆逐棲姫")>=0||![1742,1743,1744].includes(this.value.data.id)&&(this.value.items.some((t=>22===t.data.apiTypeId))||this.value.isSubmarine&&this.value.level>=10))))))},hasOASW(){return 7===this.value.data.type&&this.value.items.some((t=>[1574,1575,1586].includes(t.data.id)))||[1623,1624,1862,1690,1691,1692,1849,1850,1851,1927,1928,1929,1930,1931,1932,1947].includes(this.value.data.id)||[2204,2205,2206,2207,2208,2209,2216,2217,2218,2219,2220,2221].includes(this.value.data.id)},specialAttacks(){return c.Z.getDayBattleSpecialAttackRate(this.value,1,!1).map((t=>t.text))},nightSpecialAttacks(){return c.Z.getNightBattleSpecialAttackRate(this.value,!1).map((t=>t.text))}},methods:{getEnemyName(t){if(t&&this.needTrans){const e=d.Z.getSuffix(t),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}return t||""}}}),h=m,u=i(1001),p=(0,u.Z)(h,n,l,!1,null,"22cc119d",null),f=p.exports},3217:function(t,e,i){i.d(e,{Z:function(){return $}});var s=i(4562),a=i(9582),n=i(9223),l=i(4324),o=i(5495),r=i(4568),d=i(9670),c=i(3687),m=i(9780),h=i(2082),u=i(7069),p=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(a.Z,{staticClass:"ma-1 ship-input",class:{disabled:!t.ship.isActive&&!t.ship.isTray,"py-1":!t.ship.isEmpty&&!t.ship.isTray},on:{mousedown:t.setDraggable,mouseup:t.resetDraggable,dragstart:function(e){return t.dragStart(e)},dragend:function(e){return t.dragEnd(e)},dragenter:function(e){return t.dragEnter(e)},dragleave:function(e){return t.dragLeave(e)},drop:function(e){return e.stopPropagation(),t.dropShip(e)},dragover:function(t){t.preventDefault()}}},[t.ship.isEmpty&&!t.ship.isTray?[e("div",{directives:[{def:u.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"empty-ship d-flex align-center",on:{click:function(e){return e.stopPropagation(),t.showShipList(e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList(e)}}},[e(l.Z,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-plus")]),e("div",[t._v(t._s(t.shipName))]),t.handleShowTempShipList||t.handleCreateTray?e("div",{staticClass:"empty-temp-list"},[t.handleCreateTray?e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",color:"light-blue"},on:{click:function(e){return e.stopPropagation(),t.createTray()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-tray-plus")])],1)]}}],null,!1,532047249)},[e("span",[t._v(t._s(t.$t("Fleet.装備置き場生成")))])]):t._e(),t.handleShowTempShipList?e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",color:"orange lighten-2"},on:{click:function(e){return e.stopPropagation(),t.showTempShip()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-clipboard-arrow-down")])],1)]}}],null,!1,1942676031)},[e("span",[t._v(t._s(t.$t("Fleet.艦娘クリップボード")))])]):t._e()],1):t._e()],1)]:[e("div",{staticClass:"d-flex px-2"},[t.isNoShip?t._e():e("div",{directives:[{def:u.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"align-self-center ship-img-container",on:{click:function(e){return e.stopPropagation(),t.showShipList(e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList(e)}}},[e("div",{staticClass:"ship-img",on:{mouseenter:function(e){return t.bootShipTooltip(e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootShipTooltip(e)},blur:t.clearTooltip}},[e(o.Z,{attrs:{src:`./img/ship/${t.ship.data.id}.png`,height:"30",width:"120"}})],1),t.ship.area>0&&t.ship.area<=t.maxAreas?e("div",{staticClass:"area-banner"},[e(o.Z,{attrs:{src:`./img/tags/area${t.ship.area}.webp`,height:"40",width:"29"}})],1):t._e(),t.ship.spEffectItemId?e("div",{staticClass:"ship-sp-item-img"},[e(o.Z,{attrs:{src:`./img/util/${1===t.ship.spEffectItemId?"miiro":"tasuki"}.png`,height:"30",width:"12"}})],1):t._e()]),t.ship.isTray?[e("div",{staticClass:"align-self-center"},[e(o.Z,{attrs:{src:"./img/util/mushi.png",height:"24",width:"24"}})],1),e("div",{staticClass:"mt-1 ml-3 align-self-center caption flex-grow-1"},[t._v(t._s(t.$t("Fleet.装備を自由に置くスペースです。")))])]:t._e(),t.ship.isTray?t._e():e("div",{staticClass:"flex-grow-1"},[e("div",{staticClass:"caption"},[e(r.Z,{attrs:{"close-on-content-click":!1,transition:"slide-y-transition","max-width":"360","min-width":"360",bottom:"",right:""},on:{input:t.onEditStatusMenuToggle},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("div",t._g(t._b({directives:[{def:u.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"pr-2 clickable-status level-area"},"div",s,!1),i),[e("div",{staticClass:"pl-1 pr-1 primary--text"},[t._v(" Lv"),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.ship.level))])]),e("div",{staticClass:"pl-1 text--secondary"},[t._v(t._s(t.$t("Common.運")))]),e("div",{staticClass:"pl-1 pr-1 font-weight-medium"},[t._v(t._s(t.ship.luck))]),e("div",{staticClass:"pl-1 text--secondary"},[t._v(t._s(t.$t("Common.対空")))]),e("div",{staticClass:"pl-1 font-weight-medium"},[t._v(t._s(t.ship.antiAir))])])]}}],null,!1,418577001),model:{value:t.editStatusMenu,callback:function(e){t.editStatusMenu=e},expression:"editStatusMenu"}},[e(a.Z,{staticClass:"px-5 pt-5 pb-3"},[e("div",{staticClass:"d-flex justify-space-between"},[e(s.Z,{attrs:{small:"",outlined:"",color:"grey"},on:{click:function(e){e.stopPropagation(),t.level=1}}},[t._v("Lv1")]),e(s.Z,{attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.level=50}}},[t._v("Lv50")]),e(s.Z,{attrs:{small:"",outlined:"",color:"teal"},on:{click:function(e){e.stopPropagation(),t.level=80}}},[t._v("Lv80")]),e(s.Z,{attrs:{small:"",outlined:"",color:"teal"},on:{click:function(e){e.stopPropagation(),t.level=99}}},[t._v("Lv99")]),e(s.Z,{attrs:{small:"",outlined:"",color:"red lighten-2"},on:{click:function(e){e.stopPropagation(),t.level=t.maxLevel}}},[t._v("Lv"+t._s(t.maxLevel))])],1),e("div",{staticClass:"d-flex mt-4 align-center"},[e("div",{staticClass:"edit-status-menu-text"},[e(m.Z,{staticClass:"pt-0 mt-0",attrs:{label:"Lv",max:t.maxLevel,min:"1","hide-details":"",type:"number"},model:{value:t.level,callback:function(e){t.level=t._n(e)},expression:"level"}})],1),e("div",{staticClass:"flex-grow-1"},[e(d.Z,{attrs:{max:t.maxLevel,min:"1","hide-details":""},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1)]),e(n.Z,{staticClass:"my-3"}),e("div",{staticClass:"edit-status-container"},[e(m.Z,{attrs:{label:t.$t("Common.耐久"),max:t.value.data.maxHp,min:t.minHP,"hide-details":"",type:"number"},model:{value:t.hp,callback:function(e){t.hp=t._n(e)},expression:"hp"}}),e(m.Z,{attrs:{label:t.$t("Common.対潜"),max:t.maxAsw,min:t.minAsw,"hide-details":"",type:"number"},model:{value:t.asw,callback:function(e){t.asw=t._n(e)},expression:"asw"}}),e(m.Z,{attrs:{label:t.$t("Common.運"),max:t.ship.data.maxLuck,min:t.ship.data.luck,"hide-details":"",type:"number"},model:{value:t.luck,callback:function(e){t.luck=t._n(e)},expression:"luck"}}),e(m.Z,{attrs:{label:t.$t("Common.対空"),max:t.ship.data.antiAir,min:"0","hide-details":"",type:"number"},model:{value:t.antiAir,callback:function(e){t.antiAir=t._n(e)},expression:"antiAir"}})],1),e(n.Z,{staticClass:"my-3"}),e("div",{staticClass:"d-flex"},[e(c.Z),e(s.Z,{attrs:{color:"secondary"},on:{click:function(e){return t.closeEditStatusMenu()}}},[t._v(t._s(t.$t("Common.閉じる")))])],1)],1)],1)],1),e("div",{directives:[{def:u.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"d-flex pl-1 clickable-status",on:{click:function(e){return e.stopPropagation(),t.showShipList(e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showShipList(e)}}},[e("div",{staticClass:"ship-name text-truncate",class:{"no-stock":t.ship.noStock}},[t._v(t._s(t.shipName))])])]),e("div",{staticClass:"ship-remove"},[e(s.Z,{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.removeShip.apply(null,arguments)}}},[e(l.Z,[t._v("mdi-close")])],1)],1)],2),t.ship.isTray?t._e():e("div",{staticClass:"ship-status-container caption pl-2"},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Fleet.撃墜")))]),e("span",{staticClass:"ml-1 font-weight-medium mr-2"},[t._v(t._s(t.rateDownValue)+"%,"+t._s(t.fixDown)+t._s(t.isNotJapanese?"":"機"))]),t.ship.hunshinRate?[e("span",{staticClass:"text--secondary text-no-wrap"},[t._v(t._s(t.$t("Fleet.噴進")))]),e("span",{staticClass:"ml-1 font-weight-medium mr-2"},[t._v(t._s(t.ship.hunshinRate.toFixed(1))+"%")])]:t._e(),e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.射程")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.$t(`Common.${t.rangeText[t.ship.displayStatus.range]}`)))]),t.ship.data.maxAsw||t.ship.enabledTSBK?[e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("span",t._g(t._b({staticClass:"cursor-help"},"span",s,!1),i),[e("span",{staticClass:"ml-2 text--secondary mr-1"},[t._v(t._s(t.$t("Fleet.先制対潜")))]),t.ship.enabledTSBK?e("span",[t.isNotJapanese?[t._v("✔")]:[t._v(t._s(t.$t("Fleet.可")))]],2):e("span",[t._v("×")])])]}}],null,!1,427717158)},[e("table",{staticClass:"asw-table"},[e("tr",[e("td",{staticClass:"body-2"},[t._v(t._s(t.$t("Fleet.対潜先制爆雷攻撃")))]),e("td",{staticClass:"text-right pl-2"},[t.ship.enabledTSBK?e("span",{staticClass:"blue--text text--lighten-2"},[t.isNotJapanese?[t._v("✔")]:[t._v(" "+t._s(t.$t("Fleet.可"))+" ")]],2):t.isNotJapanese?e("span",{staticClass:"red--text text--lighten-1"},[t._v("×")]):e("span",{staticClass:"red--text text--lighten-1"},[t._v(" "+t._s(t.$t("Fleet.不可"))+" ")])])]),e("tr",[e("td",{staticClass:"body-2 grey--text text--lighten-2"},[t._v(" "+t._s(t.$t("Common.対潜"))),e("span",{staticClass:"ml-2 caption"},[t._v(t._s(t.$t("Fleet.艦娘")))])]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.asw-t.ship.improveAsw))])]),t.ship.improveAsw?e("tr",[e("td",{staticClass:"body-2 grey--text text--lighten-2"},[t._v(" "+t._s(t.$t("Common.対潜"))),e("span",{staticClass:"ml-2 caption"},[t._v(t._s(t.$t("Common.改修")))])]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.improveAsw))])]):t._e(),e("tr",[e("td",{staticClass:"body-2 grey--text text--lighten-2"},[t._v(" "+t._s(t.$t("Common.対潜"))),e("span",{staticClass:"ml-2 caption"},[t._v(t._s(t.$t("Fleet.装備")))])]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.itemAsw))])]),t.ship.itemBonusStatus.asw?e("tr",[e("td",{staticClass:"body-2 grey--text text--lighten-2"},[t._v(" "+t._s(t.$t("Common.対潜"))),e("span",{staticClass:"ml-2 caption"},[t._v(t._s(t.$t("Fleet.装備ボーナス")))])]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.itemBonusStatus.asw))])]):t._e(),e("tr",{staticClass:"border"},[e("td",{attrs:{colspan:"3"}})]),e("tr",[e("td",{staticClass:"body-2 grey--text text--lighten-2 pb-1"},[t._v(" "+t._s(t.$t("Common.対潜"))),e("span",{staticClass:"ml-2 caption"},[t._v(t._s(t.$t("Common.合計")))])]),e("td",{staticClass:"text-right pb-1"},[t._v(t._s(t.ship.displayStatus.asw))])]),!t.ship.enabledTSBK&&t.ship.missingAsw?e("tr",[e("td",{staticClass:"caption grey--text text--lighten-2"},[t._v(t._s(t.$t("Fleet.不足対潜値")))]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.missingAsw))])]):t._e(),!t.ship.enabledTSBK&&t.ship.needTSBKLevel?e("tr",[e("td",{staticClass:"caption grey--text text--lighten-2"},[t._v(t._s(t.$t("Fleet.必要艦娘Lv")))]),e("td",{staticClass:"text-right"},[t._v(t._s(t.ship.needTSBKLevel))])]):t._e()])])]:t._e()],2),t.ship.isTray?t._e():e("div",{staticClass:"ship-sub-status-container px-1"},[!t.isNoShip&&t.noItem?e(s.Z,{staticClass:"btn-batch-deploy",attrs:{small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.showBatchItemList()}}},[t._v(" "+t._s(t.$t("ItemList.一括配備"))+" ")]):t.ship.fullAirPower?e("div",{staticClass:"align-self-center caption ml-1"},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.制空")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.fullAirPower))]),e("span",{staticClass:"ml-1 text--secondary"},[t._v(t._s(t.airPowerDetail))])]):e("div",{staticClass:"align-self-center caption cursor-help ml-1",on:{mouseenter:function(e){return t.bootShipTooltip(e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootShipTooltip(e)},blur:t.clearTooltip}},[e("span",{staticClass:"text--secondary"},[t._v(t._s(t.$t("Common.火力")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.displayStatus.firePower))]),t.ship.data.torpedo?[e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.雷装")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.displayStatus.torpedo))])]:[e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.装甲")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.displayStatus.armor))])],t.ship.data.maxAsw?[e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.対潜")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.displayStatus.asw))])]:[e("span",{staticClass:"ml-2 text--secondary"},[t._v(t._s(t.$t("Common.回避")))]),e("span",{staticClass:"ml-1 font-weight-medium"},[t._v(t._s(t.ship.displayStatus.avoid))])]],2),e("div",{staticClass:"ml-auto ship-buttons"},[t.enabledConvert?e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",small:"",color:"blue lighten-1"},on:{click:function(e){return e.stopPropagation(),t.toggleVersion()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-sync")])],1)]}}],null,!1,3381741086)},[e("span",[t._v(t._s(t.$t("Fleet.コンバート改造")))])]):t._e(),t.handleShowTempShipList?e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",small:"",color:"orange lighten-2"},on:{click:function(e){return e.stopPropagation(),t.showTempShip()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-clipboard-arrow-up")])],1)]}}],null,!1,3338777121)},[e("span",[t._v(t._s(t.$t("Fleet.艦娘クリップボード")))])]):t._e(),t.handleShowItemPreset?e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",small:"",color:"deep-orange lighten-1"},on:{click:function(e){return e.stopPropagation(),t.showItemPresets()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-briefcase-variant")])],1)]}}],null,!1,3852360786)},[e("span",[t._v(t._s(t.$t("Fleet.装備プリセット展開")))])]):t._e(),t.hideActiveButton?t._e():e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.ship.isActive,expression:"ship.isActive"}],attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.changeActive(!1)}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-eye")])],1)]}}],null,!1,2150192410)},[e("span",[t._v(t._s(t.$t("Fleet.計算対象から省く")))])]),e(s.Z,{directives:[{name:"show",rawName:"v-show",value:!t.ship.isActive&&!t.hideActiveButton,expression:"!ship.isActive && !hideActiveButton"}],attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.changeActive(!0)}}},[e(l.Z,[t._v("mdi-eye-off")])],1),e("div",{staticClass:"btn-item-reset"},[e(h.Z,{attrs:{bottom:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({attrs:{icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.resetItems()}}},"v-btn",a,!1),i),[e(l.Z,[t._v("mdi-close")])],1)]}}],null,!1,1789933704)},[e("span",[t._v(t._s(t.$t("Fleet.装備一括解除")))])]),e("div",{staticClass:"close-bar",class:`item-count-${t.ship.items.length+1}`})],1)],1)],1),t.ship.isTray?t._e():e(n.Z,{staticClass:"mx-1 item-input-divider"}),t.ship.isEmpty||t.ship.isTray?t.ship.isTray?e("div",{staticClass:"pa-1"},[e(n.Z,{staticClass:"item-input-divider"}),e("div",{staticClass:"tray-items"},t._l(t.ship.items,(function(i,s){return e("div",{key:s,on:{mouseenter:function(e){return t.bootTooltip(i,s,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i,s,e)},blur:t.clearTooltip}},[e("item-input",{attrs:{index:s,max:99,"drag-slot":!1,init:t.ship.data.slots[s],"handle-show-item-list":t.showItemList,"item-parent":t.ship,"handle-drag-start":t.clearTooltip,dense:!0},on:{input:t.updateItem},model:{value:t.ship.items[s],callback:function(e){t.$set(t.ship.items,s,e)},expression:"ship.items[j]"}})],1)})),0)],1):t._e():e("div",{staticClass:"px-1"},[t._l(t.ship.items,(function(i,s){return e("div",{key:s,on:{mouseenter:function(e){return t.bootTooltip(i,s,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i,s,e)},blur:t.clearTooltip}},[e("item-input",{attrs:{index:s,max:99,"drag-slot":!1,init:t.ship.data.slots[s],"handle-show-item-list":t.showItemList,"item-parent":t.ship,"handle-drag-start":t.clearTooltip},on:{input:t.updateItem},model:{value:t.ship.items[s],callback:function(e){t.$set(t.ship.items,s,e)},expression:"ship.items[j]"}})],1)})),e("div",{on:{mouseenter:function(e){return t.bootTooltip(t.ship.exItem,-1,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(t.ship.exItem,-1,e)},blur:t.clearTooltip}},[e("item-input",{attrs:{index:99,max:0,init:0,"drag-slot":!1,"handle-show-item-list":t.showItemList,"item-parent":t.ship,"handle-drag-start":t.clearTooltip,"is-released":t.ship.releaseExpand},on:{input:t.updateItem},model:{value:t.ship.exItem,callback:function(e){t.$set(t.ship,"exItem",e)},expression:"ship.exItem"}})],1)],2)],e(h.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[e("item-tooltip",{attrs:{bonus:t.tooltipBonus},model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1),e(h.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledShipTooltip,callback:function(e){t.enabledShipTooltip=e},expression:"enabledShipTooltip"}},[e("ship-tooltip",{attrs:{"fleet-ros-corr":t.fleetRosCorr,"is-flagship":0===t.index},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],2)},f=[],v=i(144),g=i(4759),y=i(3085),_=i(1969),x=i(2382),b=i(7525),I=i(5549),C=i(3631),k=i(6141),w=v.ZP.extend({components:{ItemInput:g.Z,ItemTooltip:y.Z,ShipTooltip:_.Z},name:"ShipInput",props:{handleShowItemList:{type:Function,required:!0},handleShowBatchItemList:{type:Function},handleShowShipList:{type:Function,required:!0},handleCloseShip:{type:Function,required:!0},handleShowTempShipList:{type:Function},handleShowItemPreset:{type:Function},handleCreateTray:{type:Function},value:{type:x.Z,required:!0},index:{type:Number,required:!0},fixDown:{type:Number,default:0},rateDown:{type:Number,default:0},fleetRosCorr:{type:Number,default:0},isLine2:{type:Boolean,default:!1},hideActiveButton:{type:Boolean,default:!1}},data:()=>({level:99,luck:0,antiAir:0,asw:0,hp:1,editStatusMenu:!1,enabledTooltip:!1,enabledShipTooltip:!1,tooltipTimer:void 0,tooltipItem:new b.Z,tooltipBonus:"",tooltipX:0,tooltipY:0,rangeText:["","短","中","長","超長","超長+","極","極+","極長","極長+"],maxLevel:k.ZP.MAX_LEVEL}),computed:{ship(){return this.value},isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return!t.nameIsNotTranslate},shipName(){if(this.isNotJapanese){if(!this.value.data.name)return this.$t("Fleet.艦娘選択");if(this.needTrans){const t=I.Z.getSuffix(this.value.data),e=t=>t?`${this.$t(t)}`:"";return t.map((t=>e(t))).join("")}}return this.value.data.name?this.value.data.name:"艦娘選択"},airPowerDetail(){const t=this.ship.items.map((t=>t.fullAirPower&&!t.data.isRecon?t.fullAirPower:0));return t.filter((t=>t>0)).length?`( ${t.join(" | ")} )`:""},isNoShip(){return 0===this.value.data.id},noItem(){return this.value.items.concat(this.value.exItem).every((t=>!t.data.id))},rateDownValue(){return Math.floor(100*this.rateDown)},enabledConvert(){const t=this.$store.state.ships,e=this.value.data;return"宗谷"===e.name||this.value.data.isFinal&&t.filter((t=>t.originalId===e.originalId&&t.isFinal&&t.version>1)).length>=2},maxAreas(){return this.$store.state.areaCount},minHP(){return this.level>99?this.value.data.hp2:this.value.data.hp},minAsw(){if(!this.value.data.minAsw||!this.value.data.maxAsw)return 0;const t=x.Z.getStatusFromLevel(this.level,this.value.data.maxAsw,this.value.data.minAsw);return t},maxAsw(){return this.value.data.minAsw&&this.value.data.maxAsw?this.minAsw+9:200}},watch:{level(t){const e=x.Z.getStatusFromLevel(t,this.ship.data.maxAsw,this.value.data.minAsw);this.asw=e+this.value.improveAsw,this.hp=Math.max(this.hp,t>99?this.value.data.hp2:this.value.data.hp),this.hp=Math.min(this.hp,t<=99?this.value.data.hp:999)}},methods:{updateItem(){this.setShip()},setShip(t){this.clearTooltip(),void 0===t?this.$emit("input",new x.Z({ship:this.ship})):this.$emit("input",t)},onEditStatusMenuToggle(){if(this.editStatusMenu)this.hp=this.ship.hp,this.level=this.ship.level,this.luck=this.ship.luck,this.asw=this.ship.asw,this.antiAir=this.ship.antiAir;else{const t={ship:this.ship,level:this.level,hp:this.hp,luck:this.luck,antiAir:this.antiAir,asw:this.asw};this.setShip(new x.Z(t))}},closeEditStatusMenu(){this.editStatusMenu=!1,this.onEditStatusMenuToggle()},changeActive(t){this.setShip(new x.Z({ship:this.ship,isActive:t}))},resetItems(){this.setShip(new x.Z({ship:this.value,items:[],exItem:new b.Z}))},removeShip(){this.handleCloseShip(this.index)},showItemList(t){this.clearTooltip(),this.handleShowItemList(this.index,t)},showBatchItemList(){this.handleShowBatchItemList&&this.handleShowBatchItemList(this.index)},showShipList(t){this.clearTooltip(),this.handleShowShipList(this.index,t)},showTempShip(){this.handleShowTempShipList(this.index)},createTray(){this.handleCreateTray(this.index)},showItemPresets(){this.handleShowItemPreset(this.index)},toggleVersion(){const t=this.$store.state.ships,e=this.value.data;let i=t.filter((t=>t.originalId===e.originalId&&t.isFinal&&t.version>1)).sort(((t,e)=>t.version-e.version));"宗谷"===e.name&&(i=t.filter((t=>"宗谷"===t.name)));const s=i.findIndex((t=>t.id===e.id));let a;a=s<i.length-1?i[s+1]:i[s-s];const{items:n,exItem:l}=this.value,o=[];let r;for(let f=0;f<a.slots.length;f+=1){const t=n[f];t&&C.Z.isValidItem(a,t.data,f)?o.push(new b.Z({item:t,slot:a.slots[f]})):o.push(new b.Z)}r=C.Z.isValidItem(a,l.data,k.ZP.EXPAND_SLOT_INDEX,l.remodel)?new b.Z({item:l}):new b.Z;const d=this.value.hp-(this.value.level>99?this.value.data.hp2:this.value.data.hp),c=(this.value.level>99?a.hp2:a.hp)+d,m=x.Z.getStatusFromLevel(this.value.level,a.maxAsw,a.minAsw)+this.value.improveAsw;let{luck:h}=this.value;const u=e.luck,p=h-u;h=p?a.luck+p:a.luck,this.setShip(new x.Z({master:a,level:this.value.level,hp:c,luck:h,asw:m,items:o,exItem:r}))},setDraggable(t){const e=t.target;if(e.closest(".item-input"))return;const i=e.closest(".ship-input");i.setAttribute("draggable","true")},resetDraggable(t){const e=t.target,i=e.closest(".ship-input");i.setAttribute("draggable","false")},dragStart(t){const e=document.getElementById("dragging-item");if(e)return;const i=t.target;if(this.value.isEmpty&&!this.value.isTray||!i||!i.classList||!i.classList.contains("ship-input")||!i.draggable)return;i.style.opacity="0.6",i.id="dragging-item",this.$store.dispatch("setDraggingShipData",this.value);const s=document.getElementsByClassName("ship-input");for(let a=0;a<s.length;a+=1)s[a].classList.add("dragging")},dragLeave(t){t.target.style.boxShadow=""},dragEnter(t){const e=document.getElementById("dragging-item"),i=t.target;e&&e.classList.contains("ship-input")&&i&&i.classList.contains("ship-input")&&(i.style.boxShadow="inset 0 0 80px rgba(20, 160, 255, 0.6)")},dropShip(t){t.preventDefault();const e=document.getElementById("dragging-item");if(!e||!e.classList.contains("ship-input"))return;const i=t.target;if(i.style.boxShadow="",i.id)return;const s=this.$store.state.draggingShipData;this.$store.dispatch("setDraggingShipData",this.value),this.setShip(s),e.classList.add("move-ok")},dragEnd(t){const e=document.getElementsByClassName("ship-input");for(let n=0;n<e.length;n+=1)e[n].classList.remove("dragging");const i=document.getElementById("dragging-item");if(!i||!i.draggable||!i.classList.contains("ship-input")){const e=t.target;return void(e&&e.classList.contains("ship-input")&&(e.style.opacity="1",e.id="",e.draggable=!1))}const s=t.target;if(s.style.opacity="1",s.id="",s.draggable=!1,!s.classList.contains("move-ok"))return;s.classList.remove("move-ok");const a=this.$store.state.draggingShipData;a&&this.setShip(a)},bootTooltip(t,e,i){const s=this.$store.state.siteSetting;if(!t.data.id||s.disabledItemTooltip||window.innerWidth<600)return;const a=i.target.getElementsByClassName("item-name")[0];window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const i=a.getBoundingClientRect();this.tooltipX=i.x+i.width/3,this.tooltipY=i.y+i.height,this.tooltipItem=t,this.enabledTooltip=!0,this.tooltipBonus=JSON.stringify(this.value.getItemBonusDiff(e))}),Math.max(s.popUpCount,10))},bootShipTooltip(t){const e=this.$store.state.siteSetting;e.disabledShipTooltip||(this.tooltipTimer=window.setTimeout((()=>{this.tooltipX=t.clientX,this.tooltipY=t.clientY,this.enabledShipTooltip=!0}),Math.max(e.popUpCount,10)))},clearTooltip(){this.enabledTooltip=!1,this.enabledShipTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Z=w,S=i(1001),A=(0,S.Z)(Z,p,f,!1,null,"6806639a",null),$=A.exports},5341:function(t,e,i){i.d(e,{Z:function(){return p}});var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chart-container",class:{"normal-size":t.spNormal}},[e("DoughnutChart",{ref:"doughnutRef",attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})],1)},a=[],n=i(144),l=i(5706),o=i(6775),r=i(9231),d=i(6429);o.kL.register(d.Z,...o.zX);var c=n.ZP.use(l.ZP).extend({components:{DoughnutChart:r.LD},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String},spNormal:{type:Boolean}},data:()=>({doughnutRef:{},plugins:[d.Z]}),computed:{actualData(){return this.$vuetify.theme.dark&&(this.data.datasets[0].borderColor="#222"),this.data},actualOptions(){return this.$vuetify.theme.dark&&(this.options.plugins.datalabels.color="#fff",this.options.plugins.title.color="#ccc"),this.titleText&&(this.options.plugins.title.text=this.titleText),this.options}}}),m=c,h=i(1001),u=(0,h.Z)(m,s,a,!1,null,"b2748e9e",null),p=u.exports},4759:function(t,e,i){i.d(e,{Z:function(){return Z}});var s=i(4562),a=i(9582),n=i(8224),l=i(4324),o=i(5495),r=i(4568),d=i(9670),c=i(9780),m=i(2082),h=i(7069),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],class:t.itemClass,attrs:{draggable:t.isDraggable},on:{dragstart:function(e){return e.stopPropagation(),t.dragStart(t.item,e)},dragenter:function(e){return t.dragEnter(e)},dragleave:function(e){return t.dragLeave(e)},drop:function(e){return e.stopPropagation(),t.dropItem(e)},dragend:function(e){return t.dragEnd(e)},dragover:function(t){t.preventDefault()}}},[t.dense?t._e():e(r.Z,{attrs:{"offset-y":"","close-on-content-click":!1,transition:"slide-y-transition",bottom:"",right:"",disabled:!t.item.data.isPlane||t.isExpandSlot||t.readonly||t.draggingNow},on:{input:t.onSlotMenuToggle},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("div",t._g(t._b({staticClass:"item-slot"},"div",s,!1),i),[t.isExpandSlot?t.isReleased?e(l.Z,[t._v("mdi-wrench")]):e(l.Z,{class:{"no-stock":t.item.noStock}},[t._v("mdi-cancel")]):e("span",[t._v(t._s(t.item.fullSlot))])],1)]}}],null,!1,3408737872),model:{value:t.slotMenu,callback:function(e){t.slotMenu=e},expression:"slotMenu"}},[e(a.Z,{staticClass:"px-2"},[e("div",{staticClass:"d-flex px-2"},[e(c.Z,{staticClass:"slot-input",attrs:{type:"number",max:t.max,min:"0"},model:{value:t.slotValue,callback:function(e){t.slotValue=t._n(e)},expression:"slotValue"}}),e(s.Z,{staticClass:"ml-2 align-self-center",attrs:{depressed:""},on:{click:function(e){t.slotValue=t.init}}},[t._v(t._s(t.$t("Common.初期値")))])],1),e(d.Z,{attrs:{max:t.max,min:"0"},model:{value:t.slotValue,callback:function(e){t.slotValue=e},expression:"slotValue"}})],1)],1),e("div",{staticClass:"item-icon",class:{"mx-1":!t.dense,draggable:t.isDraggable}},[t.item.data.iconTypeId>0?e("img",{attrs:{src:`./img/type/icon${t.item.data.iconTypeId}.png`,alt:"item-icon"}}):t._e()]),e("div",{staticClass:"item-name text-truncate",class:{"text--secondary":t.isNoItem,"is-special":t.item.data.isSpecial,"no-stock":t.item.noStock},on:{click:function(e){return e.stopPropagation(),t.showItemList()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showItemList()}}},[t._v(" "+t._s(t.itemName)+" "),"Saury"===t.bonusText?e("div",{staticClass:"saury-bonus"},[t.$vuetify.theme.dark?e(l.Z,{attrs:{color:"light-blue lighten-3"}},[t._v("mdi-fish mdi-rotate-315")]):e(l.Z,{attrs:{color:"light-blue lighten-2"}},[t._v("mdi-fish mdi-rotate-315")])],1):t.bonusText?e("div",{staticClass:"item-special-text"},[e("div",{staticClass:"align-self-center"},[t._v(t._s(t.bonusText))])]):t._e()]),!t.isNoItem&&(!t.readonly||t.item.remodel>0||t.item.level>0)?[e(r.Z,{attrs:{"offset-y":"",transition:"slide-y-transition",left:"",disabled:t.readonly||t.draggingNow||t.isEnemy},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("div",t._g(t._b({staticClass:"item-remodel",class:{"no-remodel":!t.item.data.canRemodel,"value-0":0===t.item.remodel}},"div",s,!1),i),[t.dense?e(l.Z,{attrs:{"x-small":"",color:t.remodelIconColor}},[t._v("mdi-star")]):e(l.Z,{attrs:{small:"",color:t.remodelIconColor}},[t._v("mdi-star")]),e("span",{class:t.remodelLabelColor},[t._v(t._s(t.item.remodel))])],1)]}}],null,!1,374345708)},[e(a.Z,[e("div",{staticClass:"d-flex flex-column flex-sm-row"},t._l(11,(function(i){return e("div",{key:i,staticClass:"remodel-list-item",on:{click:function(e){return t.setRemodel(i-1)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setRemodel(i-1)}}},[e(l.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("span",{staticClass:"teal--text text--accent-4"},[t._v(t._s(i-1))])],1)})),0)])],1),e(r.Z,{attrs:{"offset-y":"",transition:"slide-y-transition",left:"",disabled:!t.item.data.isPlane||t.isExpandSlot||t.readonly||t.draggingNow||t.isEnemy},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("div",t._g(t._b({staticClass:"item-level"},"div",s,!1),i),[t.dense?e(o.Z,{attrs:{src:`./img/util/prof${t.item.levelAlt}.png`,height:"16",width:"12"}}):e(o.Z,{attrs:{src:`./img/util/prof${t.item.levelAlt}.png`,height:"24",width:"18"}}),e("span",{staticClass:"level-value"},[t._v(t._s(t.item.level))])],1)]}}],null,!1,1910826967)},[e(a.Z,[e("div",{staticClass:"d-flex flex-column flex-sm-row"},t._l(9,(function(i){return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:i-1,staticClass:"level-list-item",on:{click:function(e){return t.setLevel(i-1)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setLevel(i-1)}}},[e(o.Z,{attrs:{src:`./img/util/prof${i-1}.png`,width:"18",height:"24"}}),e("span",{staticClass:"level-list-value"},[t._v(t._s(t.getLevelValue(i-1)))])],1)})),0)])],1),e("div",{staticClass:"ml-1 item-remove align-self-center"},[e(m.Z,{attrs:{top:"",color:"black","open-delay":200,disabled:!t.deathIndicatorColor},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(n.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:n}){return[e(s.Z,t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.isDraggable,expression:"isDraggable"}],attrs:{icon:"","x-small":""},on:{click:function(e){return t.removeItem()}}},"v-btn",a,!1),i),[n?e(l.Z,{attrs:{small:"",color:t.deathIndicatorColor}},[t._v("mdi-close")]):t.deathIndicatorColor?[t.isTriangleIcon?e(l.Z,{attrs:{"x-small":"",color:t.deathIndicatorColor}},[t._v("mdi-triangle")]):e(l.Z,{attrs:{small:"",color:t.deathIndicatorColor}},[t._v("mdi-record")])]:t._e()],2)]}}],null,!0)})]}}],null,!1,2297147381)},[e("span",[t._v(t._s(t.$t("Result.全滅率"))+" "+t._s(t.item.deathRate)+" %")])])],1)]:t._e()],2)},p=[],f=i(144),v=i(7525),g=i(7783),y=i(2382),_=i(6141),x=i(3631),b=i(7777),I=f.ZP.extend({name:"ItemInput",props:{handleShowItemList:{type:Function,required:!0},value:{type:v.Z,required:!0},index:{type:Number,required:!0},readonly:{type:Boolean},max:{type:Number,required:!0},init:{type:Number,required:!0},dragSlot:{type:Boolean,default:!0},itemParent:{type:y.Z,default:void 0},handleDragStart:{type:Function},isEnemy:{type:Boolean,default:!1},isReleased:{type:Boolean,default:!0},dense:{type:Boolean,default:!1}},data:()=>({slotMenu:!1,slotValue:0,draggingNow:!1}),computed:{item(){return this.value},isExpandSlot(){return this.index===_.ZP.EXPAND_SLOT_INDEX},isNoItem(){return 0===this.value.data.id},setting(){return this.$store.state.siteSetting},needTrans(){return"ja"!==this.$i18n.locale&&!this.setting.nameIsNotTranslate},itemName(){return this.needTrans&&this.value.data.name?this.$t(`${this.value.data.name}`):this.isExpandSlot&&!this.isReleased&&this.isNoItem?this.$t("Fleet.補強増設未開放"):this.value.data.name||this.$t("Fleet.未装備")},isDraggable(){return this.value.data.id>0&&!this.readonly},remodelIconColor(){return this.item.data.canRemodel?this.$vuetify.theme.dark?this.item.remodel>0?"teal accent-4":"grey":this.item.remodel>0?"teal accent-4":"grey lighten-1":"red lighten-2"},remodelLabelColor(){return this.item.data.canRemodel?this.item.remodel>0?"teal--text text--accent-4":"grey--text text-lighten-1":"red--text text--lighten-2"},itemClass(){const t=["item-input",`type-${this.value.data.iconTypeId}`];return this.readonly&&t.push("readonly"),this.isExpandSlot&&(t.push("expand"),this.isReleased||t.push("disabled-expand")),this.isNoItem&&t.push("no-item"),this.value.data.isPlane||t.push("not-plane"),this.isDraggable||t.push("disabled-draggable"),this.dense&&t.push("minify-size"),t.join(" ")},bonusText(){if(!this.value.data.id||!this.value.data.bonuses.length||!this.setting.displayBonusKey)return"";const t=this.setting.displayBonusKey,e=this.value.data.bonuses.find((e=>e.key===t));return e?e.text:""},deathIndicatorColor(){return this.value.data.isPlane&&this.value.deathRate&&this.setting.showDeathRateIndicator?this.value.deathRate<10?"amber":this.value.deathRate<20?"orange darken-3":"red darken-2":""},isTriangleIcon(){return this.setting.isGraphicModeDeathRateIndicator&&this.value.deathRate>=10}},methods:{setItem(t){this.$emit("input",t)},onSlotMenuToggle(){if(this.slotMenu)this.slotValue=this.item.fullSlot;else{const t={item:this.item,slot:Math.floor(this.slotValue)};this.setItem(new v.Z(t))}},removeItem(){this.setItem(new v.Z)},setLevel(t){const e={item:this.item,level:_.ZP.PROF_LEVEL_BORDER[t]};this.setItem(new v.Z(e))},setRemodel(t){const e={item:this.item,remodel:t};this.setItem(new v.Z(e))},getLevelValue(t){return _.ZP.PROF_LEVEL_BORDER[t]},showItemList(){this.handleShowItemList(this.index)},dragStart(t,e){const i=e.target;if(!this.isDraggable||!i||!i.classList||!i.classList.contains("item-input")||!i.draggable)return;const s=e.dataTransfer;s.setData("text/plain",JSON.stringify(t)),i.id="dragging-item",i.dataset.itemId=`${this.value.data.id}`,i.dataset.remodel=`${this.value.remodel}`,i.dataset.apiType=`${this.value.data.apiTypeId}`,i.dataset.isPlane=""+(this.value.data.isPlane?"true":"");const a=document.getElementsByClassName("item-input");for(let n=0;n<a.length;n+=1)a[n].classList.add("dragging");this.draggingNow=!0,this.handleDragStart()},dragEnter(t){const e=document.getElementById("dragging-item"),i=t.target;if(!e||!i||!i.classList||!i.classList.contains("item-input"))return;if(i.classList.contains("disabled-drop"))return void(i.style.backgroundColor="rgba(255, 128, 128, 0.6)");if(i.classList.contains("enabled-drop"))return void(i.style.backgroundColor="rgba(80, 160, 255, 0.6)");if(!e||!e.dataset.itemId||!e.dataset.apiType)return;const s=new g.Z;s.id=+e.dataset.itemId,s.apiTypeId=+e.dataset.apiType;const a=e.dataset.remodel?+e.dataset.remodel:0;this.itemParent instanceof y.Z&&!x.Z.isValidItem(this.itemParent.data,s,this.index,a)||this.itemParent instanceof b.Z&&!e.dataset.isPlane?(i.style.backgroundColor="rgba(255, 128, 128, 0.6)",i.classList.add("disabled-drop")):(i.style.backgroundColor="rgba(80, 160, 255, 0.6)",i.classList.add("enabled-drop"))},dragLeave(t){t.target.style.backgroundColor=""},dropItem(t){const e=document.getElementById("dragging-item");if(!e||!e.classList.contains("item-input"))return;const i=t.target;if(i.style.backgroundColor="",!i.classList.contains("enabled-drop"))return;const s=t.dataTransfer.getData("text/plain");if(!this.isNoItem&&!t.ctrlKey&&e){const t=JSON.stringify(this.item);e.dataset.item=t}if(!t.ctrlKey&&e&&e.classList.add("delete-flg"),s){const t={item:JSON.parse(s)};this.dragSlot||(t.item&&41===t.item.data.apiTypeId?t.slot=1:41===this.value.data.apiTypeId?t.slot=this.init:t.slot=this.value.fullSlot),this.itemParent instanceof b.Z&&t.item&&(t.slot=Math.min(t.slot??t.item.slot,t.item.data.airbaseMaxSlot)),this.setItem(new v.Z(t))}},dragEnd(){const t=document.getElementsByClassName("item-input");for(let l=0;l<t.length;l+=1)t[l].classList.remove("dragging");const e=document.getElementsByClassName("enabled-drop");while(e.length>0)e[0].classList.remove("enabled-drop");const i=document.getElementsByClassName("disabled-drop");while(i.length>0)i[0].classList.remove("disabled-drop");const s=document.getElementById("dragging-item");if(!s||!s.draggable)return;s.id="",delete s.dataset.itemId,delete s.dataset.remodel,delete s.dataset.apiType,delete s.dataset.isPlane;const a={};this.dragSlot||(a.slot=this.value.fullSlot);const n=s.dataset.item;n?(a.item=JSON.parse(n),this.itemParent instanceof y.Z?x.Z.isValidItem(this.itemParent.data,a.item.data,this.index,a.item.remodel)?(41===a.item.data.apiTypeId?a.slot=1:41===this.value.data.apiTypeId&&(a.slot=this.init),this.setItem(new v.Z(a)),delete s.dataset.item):(a.item=void 0,this.setItem(new v.Z(a)),delete s.dataset.item):a.item&&a.item.data.isPlane?(this.setItem(new v.Z(a)),delete s.dataset.item):(a.item=void 0,this.setItem(new v.Z(a)),delete s.dataset.item)):s.classList.contains("delete-flg")?(s.classList.remove("delete-flg"),this.setItem(new v.Z(a))):this.setItem(new v.Z({item:this.value})),this.draggingNow=!1}}}),C=I,k=i(1001),w=(0,k.Z)(C,u,p,!1,null,"27fd129c",null),Z=w.exports},2404:function(t,e,i){i.d(e,{Z:function(){return z}});var s=i(4562),a=i(2016),n=i(9582),l=i(3486),o=i(4061),r=i(9223),d=i(4324),c=i(5495),m=i(5808),h=i(4525),u=i(60),p=i(4611),f=i(4568),v=i(8419),g=i(6379),y=i(9481),_=i(3687),x=i(9884),b=i(9780),I=i(2082),C=i(7069),k=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n.Z,{staticClass:"list-card"},[e("div",{staticClass:"d-flex py-2 pr-2 align-center"},[e("div",{staticClass:"item-search-text ml-3"},[e(b.Z,{attrs:{placeholder:t.$t("ItemList.図鑑id 名称検索"),clearable:"","hide-details":"",dense:"","prepend-inner-icon":"mdi-magnify"},on:{input:function(e){return t.filter()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t.isMobile?t._e():[e("div",{staticClass:"ml-1 filter-select"},[e(y.Z,{attrs:{dense:"","hide-details":"",items:t.filterStatusItems},on:{change:function(e){return t.changedFilter()}},model:{value:t.filterStatus,callback:function(e){t.filterStatus=e},expression:"filterStatus"}})],1),e("div",{staticClass:"filter-value-input"},[e(b.Z,{attrs:{dense:"","hide-details":"",type:"number",max:"30",min:"0"},on:{input:function(e){return t.changedFilter()}},model:{value:t.filterStatusValue,callback:function(e){t.filterStatusValue=e},expression:"filterStatusValue"}})],1),e("div",{staticClass:"align-self-end caption"},[t._v(t._s(t.isCostFilter?t.$t("ItemList.以下"):t.$t("ItemList.以上")))]),t.filterStatusValue||t.keyword?e("div",{staticClass:"align-self-end ml-1"},[e(s.Z,{attrs:{icon:"",small:""},on:{click:function(e){return t.resetFilter()}}},[e(d.Z,[t._v("mdi-trash-can-outline")])],1)],1):t._e()],e(_.Z),t.isMobile?[e(s.Z,{attrs:{icon:""},on:{click:function(e){t.filterDialog=!0}}},[e(d.Z,[t._v("mdi-filter")])],1),e(s.Z,{attrs:{icon:""},on:{click:function(e){t.sortDialog=!0}}},[e(d.Z,[t._v("mdi-sort")])],1)]:[e("div",{staticClass:"mr-5"},[e(a.Z,{attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.multiLine,callback:function(e){t.multiLine=e},expression:"multiLine"}},[e(s.Z,{class:{primary:!t.multiLine,secondary:t.multiLine},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeMultiLine(!1)}}},[e(d.Z,{attrs:{color:"white"}},[t._v("mdi-view-headline")])],1),e(s.Z,{class:{primary:t.multiLine,secondary:!t.multiLine},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeMultiLine(!0)}}},[e(d.Z,{attrs:{color:"white"}},[t._v("mdi-view-comfy")])],1)],1)],1)],e(s.Z,{attrs:{icon:""},on:{click:t.close}},[e(d.Z,[t._v("mdi-close")])],1)],2),e(r.Z),t.isMobile?t._e():e("div",{staticClass:"item-filter-container px-3 py-1"},[t.isBatchMode&&t.isCheckedOnly?t._e():[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.敵装備")},on:{change:function(e){return t.filter()}},model:{value:t.isEnemyMode,callback:function(e){t.isEnemyMode=e},expression:"isEnemyMode"}}),t.isAirbaseMode?t._e():e("div",{staticClass:"d-flex manual-checkbox"},[e(s.Z,{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleAffectingRangeFilter()}}},[t.onlyAffectingRange?e(d.Z,{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.onlyNotAffectingRange?e(d.Z,{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):e(d.Z,{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),e("span",{on:{click:function(e){return t.toggleAffectingRangeFilter()},keypress:function(e){return t.toggleAffectingRangeFilter()}}},[t._v(t._s(t.$t("ItemList.射程増加")))])],1),7!==t.type||t.isEnemyMode?t._e():e("div",{staticClass:"d-flex manual-checkbox"},[e(s.Z,{staticClass:"manual-checkbox-button",attrs:{icon:""},on:{click:function(e){return t.toggleLandBaseAttackFilter()}}},[t.onlyEnabledLandBaseAttack?e(d.Z,{staticClass:"manual-icon",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.onlyDisabledLandBaseAttack?e(d.Z,{staticClass:"manual-icon",attrs:{color:"error"}},[t._v("mdi-close-box")]):e(d.Z,{staticClass:"manual-icon"},[t._v("mdi-minus-box-outline")])],1),e("span",{on:{click:function(e){return t.toggleLandBaseAttackFilter()},keypress:function(e){return t.toggleLandBaseAttackFilter()}}},[t._v(t._s(t.$t("ItemList.対地攻撃")))])],1),t.enabledNightAircraftFilter?e("div",[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.夜間機")},on:{click:function(e){return t.filter()}},model:{value:t.onlyNightAircraft,callback:function(e){t.onlyNightAircraft=e},expression:"onlyNightAircraft"}})],1):t._e(),t.enabledAAResistFilter?e("div",[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.射撃回避")},on:{click:function(e){return t.filter()}},model:{value:t.onlyAAResistAircraft,callback:function(e){t.onlyAAResistAircraft=e},expression:"onlyAAResistAircraft"}})],1):t._e(),14===t.type?[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.ソナー")},on:{click:function(e){return t.filter()}},model:{value:t.includeSonar,callback:function(e){t.includeSonar=e},expression:"includeSonar"}}),e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.爆雷")},on:{click:function(e){return t.filter()}},model:{value:t.includeDepthCharge,callback:function(e){t.includeDepthCharge=e},expression:"includeDepthCharge"}}),e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.爆雷投射機")},on:{click:function(e){return t.filter()}},model:{value:t.includeDepthChargeLauncher,callback:function(e){t.includeDepthChargeLauncher=e},expression:"includeDepthChargeLauncher"}})]:t._e(),5===t.type?[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.魚雷")},on:{click:function(e){return t.filter()}},model:{value:t.includeTorpedo,callback:function(e){t.includeTorpedo=e},expression:"includeTorpedo"}}),e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.特殊潜航艇")},on:{click:function(e){return t.filter()}},model:{value:t.includeSPTorpedo,callback:function(e){t.includeSPTorpedo=e},expression:"includeSPTorpedo"}}),e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("EType.潜水艦魚雷")},on:{click:function(e){return t.filter()}},model:{value:t.includeSVTorpedo,callback:function(e){t.includeSVTorpedo=e},expression:"includeSVTorpedo"}})]:t._e(),!t.isEnemyMode&&t.setting.displayBonusKey?e("div",[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.特効装備")},on:{click:function(e){return t.filter()}},model:{value:t.isSpecialOnly,callback:function(e){t.isSpecialOnly=e},expression:"isSpecialOnly"}})],1):t._e()],!t.isStockOnly||t.multiLine||t.isEnemyMode?t._e():e("div",[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.改修値無効")},on:{click:function(e){return t.filter()}},model:{value:t.sortExcludeRemodelStatus,callback:function(e){t.sortExcludeRemodelStatus=e},expression:"sortExcludeRemodelStatus"}})],1),t.multiLine||t.isAirbaseMode||t.isEnemyMode?t._e():e("div",[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.装備シナジー無効")},on:{click:function(e){return t.filter()}},model:{value:t.sortExcludeSynergyStatus,callback:function(e){t.sortExcludeSynergyStatus=e},expression:"sortExcludeSynergyStatus"}})],1),e("div",{staticClass:"ml-auto mt-1 d-flex align-center"},[t.itemStock.length&&!t.isEnemyMode?e(x.Z,{staticClass:"mt-0 mr-2",attrs:{label:t.$t("ItemList.所持装備反映"),dense:"","hide-details":"",disabled:!!t.batchList.length},on:{click:t.clickedStockOnly},model:{value:t.isStockOnly,callback:function(e){t.isStockOnly=e},expression:"isStockOnly"}}):t._e(),e(s.Z,{attrs:{color:"secondary",small:""},on:{click:function(e){return t.showBlacklist()}}},[e(d.Z,[t._v("mdi-eye-off")]),t._v("("+t._s(t.setting.blacklistItemIds.length)+")")],1)],1)],2),e("div",{staticClass:"type-selector-container",class:{"ml-3":t.multiLine&&!t.isMobile,"ml-1":!t.multiLine}},[e("div",{directives:[{def:C.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector",class:{active:-1===t.type&&!t.disabledDetailFilter,disabled:t.keyword,"batch-max":t.isBatchListMax},on:{click:function(e){return t.changeType(-1)},keypress:function(e){return t.changeType(-1)}}},[e("div",{staticClass:"type-all-text"},[t._v("ALL")])]),t._l(t.enabledTypes,(function(i){return e("div",{directives:[{def:C.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:i.id,staticClass:"type-selector",class:{active:t.type===i.id&&!t.disabledDetailFilter,disabled:t.keyword,"batch-max":t.isBatchListMax},on:{click:function(e){return t.changeType(i.id)},keypress:function(e){return t.changeType(i.id)}}},[e(c.Z,{attrs:{src:`./img/type/type${t.isAirbaseMode&&17===i.id?26:i.id}.png`,height:"32",width:"32"}})],1)})),t.batchList.length?e("div",{directives:[{def:C.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"type-selector",class:{active:t.isCheckedOnly,disabled:t.keyword},on:{click:t.toggleCheckedOnly,keypress:t.toggleCheckedOnly}},[t._v(" "+t._s(t.$t("Fleet.選択済"))+" ")]):t._e()],2),e(r.Z,{class:{"mx-3":t.multiLine&&!t.isMobile}}),e("div",{staticClass:"pb-2",class:{"ml-3":t.multiLine&&!t.isMobile,"table-mode":!t.multiLine,"px-2":t.isMobile},attrs:{id:"item-table-body"}},[!t.multiLine&&t.viewItems.length?e("div",{staticClass:"item-status-header"},[e("div",{staticClass:"pl-1"},[e(s.Z,{attrs:{icon:"",small:""},on:{click:function(e){t.sortDialog=!0}}},[e(d.Z,{attrs:{small:""}},[t._v("mdi-sort")])],1)],1),e("div",{staticClass:"item-status text-left flex-grow-1",class:{desc:"name"===t.sortKey&&t.isDesc,asc:"name"===t.sortKey&&!t.isDesc},on:{click:function(e){return t.toggleSortKey("name")},keypress:function(e){return t.toggleSortKey("name")}}},[e("div",[e(d.Z,{attrs:{small:""}},[t._v("mdi-chevron-down")]),t._v(t._s(t.$t("Common.装備名称")))],1)]),t._l(t.headerItems,(function(i,s){return e("div",{key:`item${s}`,class:t.itemHeaderClasses(i.key,t.viewStatus),on:{click:function(e){return t.toggleSortKey(i.key)},keypress:function(e){return t.toggleSortKey(i.key)}}},[e("div",[e(d.Z,{attrs:{small:""}},[t._v("mdi-chevron-down")]),t._v(t._s(t.$t(`Common.${i.text}`)))],1)])})),e("div",{class:t.itemHeaderClasses("airPower",t.viewStatus),on:{click:function(e){return t.toggleSortKey("airPower")},keypress:function(e){return t.toggleSortKey("airPower")}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center ml-auto"},[e(d.Z,{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),e("div",[e("div",{staticClass:"mr-1"},[t._v(t._s(t.$t("Common.制空")))]),e("div",[t._v("("+t._s(t.$t("Common.x機",{number:t.slot}))+")")])])])]),e("div",{class:t.itemHeaderClasses("defenseAirPower",t.viewStatus),on:{click:function(e){return t.toggleSortKey("defenseAirPower")},keypress:function(e){return t.toggleSortKey("defenseAirPower")}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-self-center ml-auto"},[e(d.Z,{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),e("div",[e("div",[t._v(t._s(t.$t("Common.防空制空")))]),e("div",[t._v("("+t._s(t.$t("Common.x機",{number:t.slot}))+")")])])])])],2):t._e(),t._l(t.itemListData,(function(i,s){return e("div",{key:s},[t.multiLine&&!t.isMobile?e("div",{staticClass:"type-divider"},[e("div",{staticClass:"caption text--secondary"},[t._v(t._s(t.$t(`EType.${i.typeName}`)))]),e("div",{staticClass:"type-divider-border"})]):t._e(),e("div",{staticClass:"type-item-container",class:{multi:t.multiLine,"batch-mode":t.isBatchMode,"batch-max":t.isBatchListMax}},[!t.multiLine&&i.items.length?e("div",{staticClass:"list-item-container"},t._l(i.items,(function(i,s){return e("div",{directives:[{def:C.Z,name:"ripple",rawName:"v-ripple",value:{class:i.count?"info--text":"red--text"},expression:"{ class: item.count ? 'info--text' : 'red--text' }"}],key:`item-${s}`,staticClass:"list-item single",class:{"no-stock":!i.count,"has-bonus":!t.isCheckedOnly&&i.sumBonus,"has-bad-bonus":!t.isCheckedOnly&&i.sumBonus<0,"ignore-bonus":t.sortExcludeSynergyStatus,selected:i.batchListIndexes.length,disabled:!t.isCheckedOnly&&i.disabled,"lack-remodel":i.lackRemodel},on:{click:function(e){return t.clickedItem(i,e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickedItem(i,e)},contextmenu:function(e){return t.showItemMenu(i,e)}}},[e("div",[e("div",[e(c.Z,{attrs:{src:`./img/type/icon${i.item.data.iconTypeId}.png`,height:"30",width:"30"}})],1),"Saury"===i.text?e("div",{staticClass:"saury-bonus"},[t.$vuetify.theme.dark?e(d.Z,{attrs:{color:"light-blue lighten-3"}},[t._v("mdi-fish mdi-rotate-315")]):e(d.Z,{attrs:{color:"light-blue lighten-2"}},[t._v("mdi-fish mdi-rotate-315")])],1):i.text?e("div",{staticClass:"item-special-text"},[e("div",{staticClass:"align-self-center"},[t._v(t._s(i.text))])]):t._e(),i.batchListIndexes.length?e("div",{staticClass:"batch-index-container"},t._l(i.batchListIndexes,(function(i){return e("div",{key:i,staticClass:"batch-index"},[t._v(" "+t._s(t.isShipMode&&i+1===t.batchMax?t.$t("ItemList.補"):i+1)+" ")])})),0):t._e()]),e("div",{staticClass:"item-name-container",class:{"is-special":i.item.data.isSpecial},on:{mouseenter:function(e){return t.bootTooltip(i.item,i.bonus,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i.item,i.bonus,e)},blur:t.clearTooltip}},[e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(t.needTrans?t.$t(`${i.item.data.name}`):i.item.data.name)+" ")])]),!t.isCheckedOnly&&i.sumBonus?e("div",{staticClass:"bonus-icon"},[i.sumBonus<0?e(d.Z,{attrs:{color:"red lighten-1"}},[t._v("mdi-chevron-double-down")]):i.sumBonus<=2?e(d.Z,{staticClass:"pt-1",attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-up")]):i.sumBonus<=5?e(d.Z,{attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-double-up")]):e(d.Z,{attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-triple-up")])],1):t._e(),t.isStockOnly&&i.remodel>0?e("div",{staticClass:"item-remodel caption mr-1"},[e(d.Z,{attrs:{small:""}},[t._v("mdi-star")]),e("span",[t._v(t._s(i.remodel))])],1):t._e(),t.isStockOnly&&!t.isEnemyMode?e("div",{staticClass:"item-count caption"},[e("span",[t._v("×")]),e("span",[t._v(t._s(i.count))])]):t._e(),t._l(t.viewStatus,(function(s){return e("div",{key:`status${s}`,staticClass:"item-status"},[t._v(t._s(t.formatStatus(i,s)))])}))],2)})),0):t._l(i.items,(function(i,s){return e("div",{directives:[{def:C.Z,name:"ripple",rawName:"v-ripple",value:{class:i.count?"info--text":"red--text"},expression:"{ class: v.count ? 'info--text' : 'red--text' }"}],key:s,staticClass:"list-item",class:{"no-stock":!i.count,"has-bonus":!t.isCheckedOnly&&i.sumBonus,"has-bad-bonus":!t.isCheckedOnly&&i.sumBonus<0,"ignore-bonus":t.sortExcludeSynergyStatus,mobile:t.isMobile,selected:i.batchListIndexes.length,disabled:!t.isCheckedOnly&&i.disabled},on:{click:function(e){return t.clickedItem(i,e)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickedItem(i,e)},contextmenu:function(e){return t.showItemMenu(i,e)}}},[e("div",[e("div",[e(c.Z,{attrs:{src:`./img/type/icon${i.item.data.iconTypeId}.png`,height:"30",width:"30"}})],1),"Saury"===i.text?e("div",{staticClass:"saury-bonus"},[t.$vuetify.theme.dark?e(d.Z,{attrs:{color:"light-blue lighten-3"}},[t._v("mdi-fish mdi-rotate-315")]):e(d.Z,{attrs:{color:"light-blue lighten-2"}},[t._v("mdi-fish mdi-rotate-315")])],1):i.text?e("div",{staticClass:"item-special-text"},[e("div",{staticClass:"align-self-center"},[t._v(t._s(i.text))])]):t._e(),i.batchListIndexes.length?e("div",{staticClass:"batch-index-container"},t._l(i.batchListIndexes,(function(i){return e("div",{key:i,staticClass:"batch-index"},[t._v(" "+t._s(t.isShipMode&&i+1===t.batchMax?t.$t("ItemList.補"):i+1)+" ")])})),0):t._e()]),e("div",{staticClass:"flex-grow-1"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"item-name-container",class:{"is-special":i.item.data.isSpecial},on:{mouseenter:function(e){return t.bootTooltip(i.item,i.bonus,e)},mouseleave:t.clearTooltip,focus:function(e){return t.bootTooltip(i.item,i.bonus,e)},blur:t.clearTooltip}},[e("div",{staticClass:"text-truncate"},[t._v(" "+t._s(t.needTrans?t.$t(`${i.item.data.name}`):i.item.data.name)+" ")])]),!t.isCheckedOnly&&i.sumBonus?e("div",{staticClass:"bonus-icon"},[i.sumBonus<0?e(d.Z,{attrs:{color:"red lighten-1"}},[t._v("mdi-chevron-double-down")]):i.sumBonus<=2?e(d.Z,{staticClass:"pt-1",attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-up")]):i.sumBonus<=5?e(d.Z,{attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-double-up")]):e(d.Z,{attrs:{color:i.batchListIndexes.length?"success":"light-blue"}},[t._v("mdi-chevron-triple-up")])],1):t._e(),t.isStockOnly&&i.remodel>0?e("div",{staticClass:"item-remodel caption mr-1"},[e(d.Z,{attrs:{small:""}},[t._v("mdi-star")]),e("span",[t._v(t._s(i.remodel))])],1):t._e(),t.isStockOnly&&!t.isEnemyMode?e("div",{staticClass:"item-count caption"},[e("span",[t._v("×")]),e("span",[t._v(t._s(i.count))])]):t._e()]),t.isMobile?e("div",{staticClass:"mobile-sub-status"},t._l(t.viewStatus,(function(s){return e("div",{key:`status${s}`,staticClass:"mobile-sub-status-value"},[e("div",{staticClass:"sub-status-header"},[t._v(t._s(t.$t(`Statuses.${s}`)))]),e("div",[t._v(t._s(t.formatStatus(i,s)))])])})),0):t._e()])])}))],2)])})),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.viewItems.length,expression:"viewItems.length === 0"}],staticClass:"body-2 text-center mt-6"},[t._v(t._s(t.$t("Common.探したけど見つからなかったよ"))+"😢")])],2),e(f.Z,{attrs:{"position-x":t.menuX,"position-y":t.menuY,absolute:"","offset-y":""},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[t.menuItem?e(m.Z,{staticClass:"caption",attrs:{dense:""}},[e(h.Z,{attrs:{link:"",disabled:!t.isAirbaseMode&&!t.isShipMode},on:{click:function(e){return t.compareItem()}}},[t._v(t._s(t.$t("ItemList.装備比較")))]),e(h.Z,{attrs:{link:""},on:{click:function(e){return t.clickedItem(t.menuItem)}}},[t._v(t._s(t.$t("Common.配備")))]),t.isStockOnly&&!t.isReadonlyMode?e(f.Z,{attrs:{"offset-x":"","max-width":"72"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(h.Z,t._g(t._b({attrs:{link:""}},"v-list-item",s,!1),i),[t._v(t._s(t.$t("ItemList.改修値変更")))])]}}],null,!1,3220070258),model:{value:t.remodelChangeMenu,callback:function(e){t.remodelChangeMenu=e},expression:"remodelChangeMenu"}},[e(m.Z,{staticClass:"caption",attrs:{dense:""}},t._l(11,(function(i){return e(h.Z,{key:`change-remodel-${i}`,attrs:{link:""},on:{click:function(e){return t.changeRemodel(t.menuItem.item,11-i)}}},[e(d.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("span",{staticClass:"teal--text text--accent-4"},[t._v(t._s(11-i))])],1)})),1)],1):t._e(),e(h.Z,{attrs:{link:""},on:{click:function(e){return t.copyItemName()}}},[t._v(" "+t._s(t.$t("ItemList.装備名コピー"))+" "),e("input",{attrs:{id:"item-name-box",readonly:""},domProps:{value:t.menuItem.item.data.name}})]),e(h.Z,{attrs:{link:"",disabled:t.menuItem.item.data.isEnemyItem},on:{click:function(e){return t.openWiki(t.menuItem.item.data)}}},[t._v(t._s(t.$t("ItemList.wikiを開く")))]),e(h.Z,{attrs:{link:""},on:{click:function(e){t.showMenu=!1}}},[t._v(t._s(t.$t("ItemList.メニューを閉じる")))])],1):t._e()],1),e(I.Z,{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[e("item-tooltip",{attrs:{bonus:t.tooltipBonus,"is-airbase-mode":t.isAirbaseMode},model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1),e(o.Z,{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[e(n.Z,{staticClass:"pa-3"},[e("div",{staticClass:"ma-4"},[e("div",[t._v(t._s(t.$t("Common.既に配備されています。")))]),e("div",{staticClass:"caption mt-2"},[t._v("※ "+t._s(t.$t("Common.配備を押せば無視して配備できます。")))])]),e(r.Z,{staticClass:"my-2"}),e("div",{staticClass:"d-flex"},[e(s.Z,{staticClass:"ml-auto",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.clickedItem(t.confirmItem,e)}}},[t._v(t._s(t.$t("Common.配備")))]),e(s.Z,{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),e(o.Z,{attrs:{width:"660",fullscreen:t.isMobile},on:{input:t.toggleBlacklistDialog},model:{value:t.blacklistDialog,callback:function(e){t.blacklistDialog=e},expression:"blacklistDialog"}},[e("blacklist-item-edit",{attrs:{"handle-close":t.closeBlacklist}})],1),e(o.Z,{attrs:{width:"600"},model:{value:t.sortDialog,callback:function(e){t.sortDialog=e},expression:"sortDialog"}},[e(n.Z,{staticClass:"pa-3"},[e("div",{staticClass:"d-flex px-2 align-center"},[e("div",[t._v(t._s(t.$t("Common.ソート")))]),e(s.Z,{staticClass:"ml-auto",attrs:{icon:""},on:{click:function(e){t.sortDialog=!1}}},[e(d.Z,[t._v("mdi-close")])],1)],1),e(r.Z,{staticClass:"mt-2 mb-3"}),e("div",{staticClass:"sort-selector px-2"},t._l(t.sortKeyItems,(function(i,a){return e("div",{key:`key${a}`,staticClass:"sort-key"},[e(s.Z,{class:{primary:i.value===t.sortKey},attrs:{block:"",text:""},on:{click:function(e){return t.selectSortKey(i.value)}}},[t._v(" "+t._s(t.$t(`Common.${i.text}`))+" ")])],1)})),0),e("div",{staticClass:"d-flex justify-center"},[e(g.Z,{attrs:{row:"","hide-detail":""},on:{change:t.handleSortItem},model:{value:t.isDesc,callback:function(e){t.isDesc=e},expression:"isDesc"}},[e(v.Z,{staticClass:"mx-10",attrs:{label:t.$t("Common.昇順"),value:!1}}),e(v.Z,{staticClass:"mx-10",attrs:{label:t.$t("Common.降順"),value:!0}})],1)],1),e(r.Z),e("div",{staticClass:"d-flex mt-3 justify-end"},[e(s.Z,{attrs:{color:"secondary"},on:{click:t.resetOrdering}},[t._v(t._s(t.$t("Common.リセット")))])],1)],1)],1),e(o.Z,{attrs:{fullscreen:""},on:{input:t.toggleFilterDialog},model:{value:t.filterDialog,callback:function(e){t.filterDialog=e},expression:"filterDialog"}},[e(n.Z,{staticClass:"filter-dialog-card"},[e("div",{staticClass:"d-flex px-2 py-1 align-center"},[e("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Common.絞り込み")))]),e(_.Z),t.itemStock.length&&!t.isEnemyMode?e(x.Z,{staticClass:"mt-0",attrs:{label:t.$t("ItemList.所持装備反映"),dense:"",disabled:!!t.batchList.length||!t.itemStock.length||t.isEnemyMode,"hide-details":""},on:{click:t.clickedStockOnly},model:{value:t.isStockOnly,callback:function(e){t.isStockOnly=e},expression:"isStockOnly"}}):t._e(),e(s.Z,{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.closeFilterDialog()}}},[e(d.Z,[t._v("mdi-close")])],1)],1),e(r.Z),e("div",{staticClass:"filter-mobile-inputs pa-2"},[e(y.Z,{attrs:{dense:"","hide-details":"",items:t.filterStatusItems},model:{value:t.filterStatus,callback:function(e){t.filterStatus=e},expression:"filterStatus"}}),e("div",{staticClass:"d-flex"},[e(b.Z,{attrs:{dense:"","hide-details":"",type:"number",max:"30",min:"0"},model:{value:t.filterStatusValue,callback:function(e){t.filterStatusValue=e},expression:"filterStatusValue"}}),e("div",{staticClass:"align-self-end caption"},[t._v(t._s(t.isCostFilter?t.$t("ItemList.以下"):t.$t("ItemList.以上")))]),t.filterStatusValue||t.keyword?e("div",{staticClass:"align-self-end ml-1"},[e(s.Z,{attrs:{icon:"",small:""},on:{click:function(e){return t.resetFilter()}}},[e(d.Z,[t._v("mdi-trash-can-outline")])],1)],1):t._e()],1)],1),e(r.Z),e(m.Z,{staticClass:"pt-0",attrs:{dense:""}},[t.isBatchMode&&t.isCheckedOnly?t._e():[14===t.type?[e(h.Z,{on:{click:function(e){t.includeSonar=!t.includeSonar}}},[e(p.Z,[t.includeSonar?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.ソナー")))])],1)],1),e(h.Z,{on:{click:function(e){t.includeDepthCharge=!t.includeDepthCharge}}},[e(p.Z,[t.includeDepthCharge?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.爆雷")))])],1)],1),e(h.Z,{on:{click:function(e){t.includeDepthChargeLauncher=!t.includeDepthChargeLauncher}}},[e(p.Z,[t.includeDepthChargeLauncher?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.爆雷投射機")))])],1)],1),e(r.Z)]:t._e(),5===t.type?[e(h.Z,{on:{click:function(e){t.includeTorpedo=!t.includeTorpedo}}},[e(p.Z,[t.includeTorpedo?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.魚雷")))])],1)],1),e(h.Z,{on:{click:function(e){t.includeSPTorpedo=!t.includeSPTorpedo}}},[e(p.Z,[t.includeSPTorpedo?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.特殊潜航艇")))])],1)],1),e(h.Z,{on:{click:function(e){t.includeSVTorpedo=!t.includeSVTorpedo}}},[e(p.Z,[t.includeSVTorpedo?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("EType.潜水艦魚雷")))])],1)],1),e(r.Z)]:t._e(),t.isAirbaseMode?t._e():e(h.Z,{on:{click:function(e){return t.toggleAffectingRangeFilter()}}},[e(p.Z,[t.onlyAffectingRange?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.onlyNotAffectingRange?e(d.Z,{attrs:{color:"error"}},[t._v("mdi-close-box")]):e(d.Z,[t._v("mdi-minus-box-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.射程増加")))])],1)],1),t.isAirbaseMode?t._e():e(r.Z),t.setting.displayBonusKey?e(h.Z,{attrs:{disabled:t.isEnemyMode},on:{click:function(e){t.isSpecialOnly=!t.isSpecialOnly}}},[e(p.Z,[t.isSpecialOnly?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.特効装備")))])],1)],1):t._e(),t.setting.displayBonusKey?e(r.Z):t._e(),t.enabledNightAircraftFilter?e(h.Z,{on:{click:function(e){t.onlyNightAircraft=!t.onlyNightAircraft}}},[e(p.Z,[t.onlyNightAircraft?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.夜間機")))])],1)],1):t._e(),t.enabledNightAircraftFilter?e(r.Z):t._e(),t.enabledAAResistFilter?e(h.Z,{on:{click:function(e){t.onlyAAResistAircraft=!t.onlyAAResistAircraft}}},[e(p.Z,[t.onlyAAResistAircraft?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.射撃回避")))])],1)],1):t._e(),t.enabledAAResistFilter?e(r.Z):t._e(),7===t.type?e(h.Z,{attrs:{disabled:t.isEnemyMode},on:{click:function(e){return t.toggleLandBaseAttackFilter()}}},[e(p.Z,[t.onlyEnabledLandBaseAttack?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):t.onlyDisabledLandBaseAttack?e(d.Z,{attrs:{color:"error"}},[t._v("mdi-close-box")]):e(d.Z,[t._v("mdi-minus-box-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.対地攻撃")))])],1)],1):t._e(),7===t.type?e(r.Z):t._e()],t.isStockOnly?e(h.Z,{attrs:{disabled:t.isEnemyMode},on:{click:function(e){t.sortExcludeRemodelStatus=!t.sortExcludeRemodelStatus}}},[e(p.Z,[t.sortExcludeRemodelStatus?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.改修値無効")))])],1)],1):t._e(),t.isStockOnly?e(r.Z):t._e(),t.isAirbaseMode?t._e():e(h.Z,{attrs:{disabled:t.isEnemyMode},on:{click:function(e){t.sortExcludeSynergyStatus=!t.sortExcludeSynergyStatus}}},[e(p.Z,[t.sortExcludeSynergyStatus?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.装備シナジー無効")))])],1)],1),t.isAirbaseMode?t._e():e(r.Z),t.isBatchMode&&t.isCheckedOnly?t._e():e(h.Z,{on:{click:function(e){t.isEnemyMode=!t.isEnemyMode}}},[e(p.Z,[t.isEnemyMode?e(d.Z,{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked")]):e(d.Z,[t._v("mdi-checkbox-blank-outline")])],1),e(u.km,[e(u.V9,[t._v(t._s(t.$t("ItemList.敵装備")))])],1)],1),t.isBatchMode&&t.isCheckedOnly?t._e():e(r.Z),e(h.Z,{on:{click:function(e){return t.showBlacklist()}}},[e(p.Z,[e(d.Z,[t._v("mdi-eye-off")])],1),e(u.km,[e(u.V9,[e("span",[t._v(t._s(t.$t("ItemList.ブラックリスト")))]),t._v(" ("+t._s(t.setting.blacklistItemIds.length)+") ")])],1)],1),e(r.Z)],2),e("div",{staticClass:"mt-auto"},[e(s.Z,{attrs:{block:"",text:""},on:{click:function(e){t.filter(),t.filterDialog=!1}}},[e(d.Z,[t._v("mdi-close")]),t._v(t._s(t.$t("Common.閉じる")))],1)],1)],1)],1),e(o.Z,{attrs:{transition:"scroll-x-transition",width:"auto"},model:{value:t.compareDialog,callback:function(e){t.compareDialog=e},expression:"compareDialog"}},[t.menuItem?e(n.Z,{staticClass:"pa-3 compare-dialog"},[e("div",{staticClass:"compare-close-button"},[e(s.Z,{staticClass:"ml-auto",attrs:{icon:""},on:{click:function(e){t.compareDialog=!1}}},[e(d.Z,[t._v("mdi-close")])],1)],1),e("item-compare",{attrs:{"target-item":t.menuItem.item,"item-parent":t.itemParent,"slot-index":t.slotIndex,"is-airbase-mode":t.isAirbaseMode}}),e(r.Z,{staticClass:"my-2"}),e("div",{staticClass:"d-flex flex-wrap"},[e(l.Z,{attrs:{"hide-details":"",dense:"",label:t.$t("ItemList.装備選択時は常に表示する")},on:{click:t.toggleCompareSetting},model:{value:t.setting.showItemCompareDialog,callback:function(e){t.$set(t.setting,"showItemCompareDialog",e)},expression:"setting.showItemCompareDialog"}}),e("div",{staticClass:"ml-auto"},[t.isBatchMode?t._e():e(s.Z,{staticClass:"ml-4",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.clickedItem(t.menuItem)}}},[t._v(t._s(t.$t("Common.配備")))]),e(s.Z,{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.compareDialog=!1}}},[t._v(t._s(t.$t("Common.閉じる")))])],1)],1)],1):t._e()],1),!t.isEnemyMode&&t.isJapanese?e("div",{staticClass:"hint-footer"},[e("div",{staticClass:"caption d-none d-md-block text--secondary"},[t._v("Ctrlキー + 装備をクリックでwikiを展開します。")])]):t._e()],1)},w=[],Z=i(144),S=i(3085),A=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"compare-cards px-1 pb-1"},[e("div",{staticClass:"d-none d-sm-flex flex-column"},[e("div",{staticClass:"d-flex align-end"},[e("div",{staticClass:"caption"},[t._v("Before")]),e(d.Z,{staticClass:"ml-auto",attrs:{small:""}},[t._v("mdi-chevron-triple-right")])],1),e(r.Z,{staticClass:"mb-2"}),e(n.Z,{staticClass:"px-3 py-2 flex-grow-1"},[e("item-status-view",{attrs:{bonus:t.originalItemBonusString,"is-airbase-mode":t.isAirbaseMode},model:{value:t.originalItem,callback:function(e){t.originalItem=e},expression:"originalItem"}})],1)],1),e("div",{staticClass:"compare-arrow d-none d-sm-block"},[e("div",[e(d.Z,{attrs:{"x-large":"",color:"light-blue"}},[t._v("mdi-chevron-right")])],1)]),e("div",{staticClass:"d-none d-sm-flex flex-column"},[e("div",{staticClass:"caption"},[t._v("After")]),e(r.Z,{staticClass:"mb-2"}),e(n.Z,{staticClass:"px-3 py-2 flex-grow-1"},[e("item-status-view",{attrs:{bonus:t.itemBonusString,"is-airbase-mode":t.isAirbaseMode},model:{value:t.targetItem,callback:function(e){t.targetItem=e},expression:"targetItem"}})],1)],1),e("div",{staticClass:"preview-card d-flex flex-column"},[e("div",{staticClass:"caption"},[t._v("Preview")]),e(r.Z,{staticClass:"mb-2"}),e(n.Z,{staticClass:"px-3 py-2 flex-grow-1"},[!t.isAirbaseMode&&t.exchangeParent&&t.itemParent&&t.itemParent.data.id?[e("div",{staticClass:"d-flex align-center"},[e("div",[e(c.Z,{attrs:{src:`./img/ship/${t.exchangeParent.data.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"ml-1"},[e("div",{staticClass:"level-text light-blue--text caption"},[t._v("Lv "+t._s(t.exchangeParent.level))]),e("div",{staticClass:"caption"},[t._v(t._s(t.getShipName(t.exchangeParent.data)))])])]),e("div",{staticClass:"mt-1 caption text--secondary"},[t._v(t._s(t.$t("Common.表示ステータス")))])]:[e("div",{staticClass:"mt-1 caption text--secondary"},[t._v(t._s(t.$t("Common.基本装備性能")))])],e(r.Z),e("div",{staticClass:"preview-statuses"},[t._l(t.displayStatuses,(function(i,s){return[e("div",{key:`title${s}`},[t._v(t._s(i.text))]),e("div",{key:`before${s}`,class:{text:i.hideDiff}},[t._v(t._s(i.before))]),e("div",{key:`arrow${s}`},[e(d.Z,{attrs:{small:"",color:"grey"}},[t._v("mdi-arrow-right-thin")])],1),e("div",{key:`after${s}`,class:{"light-blue--text":i.diff>0,"error--text":i.diff<0,text:i.hideDiff}},[t._v(t._s(i.after))]),e("div",{key:`diff${s}`},[i.diff?[i.diff>0?e(d.Z,{attrs:{color:"light-blue"}},[t._v(" "+t._s(i.diff>15?"mdi-chevron-triple-up":i.diff>=3?"mdi-chevron-double-up":"mdi-chevron-up")+" ")]):e(d.Z,{attrs:{color:"error"}},[t._v(" "+t._s(-15>i.diff?"mdi-chevron-triple-down":-3>=i.diff?"mdi-chevron-double-down":"mdi-chevron-down")+" ")]),e("span",[t._v(t._s(i.hideDiff?"":Math.floor(10*Math.abs(i.diff))/10))])]:t._e()],2)]}))],2),t.displayStatuses2.length?[t.isAirbaseMode?e("div",{staticClass:"mt-1 caption text--secondary"},[t._v(t._s(t.$t("Common.航空隊ステータス")))]):e("div",{staticClass:"mt-1 caption text--secondary"},[t._v(t._s(t.$t("Common.実性能")))]),e(r.Z),e("div",{staticClass:"preview-statuses"},[t._l(t.displayStatuses2,(function(i,s){return[e("div",{key:`title${s}`},[t._v(t._s(i.text))]),e("div",{key:`before${s}`,class:{text:i.hideDiff}},[t._v(t._s(Math.floor(10*i.before)/10))]),e("div",{key:`arrow${s}`},[e(d.Z,{attrs:{small:"",color:"grey"}},[t._v("mdi-arrow-right-thin")])],1),e("div",{key:`after${s}`,class:{"light-blue--text":i.diff>0,"error--text":i.diff<0,text:i.hideDiff}},[t._v(" "+t._s(Math.floor(10*i.after)/10)+" ")]),e("div",{key:`diff${s}`},[i.diff?[i.diff>0?e(d.Z,{attrs:{color:"light-blue"}},[t._v(" "+t._s(i.diff>15?"mdi-chevron-triple-up":i.diff>=3?"mdi-chevron-double-up":"mdi-chevron-up")+" ")]):e(d.Z,{attrs:{color:"error"}},[t._v(" "+t._s(-15>i.diff?"mdi-chevron-triple-down":-3>=i.diff?"mdi-chevron-double-down":"mdi-chevron-down")+" ")]),e("span",[t._v(t._s(Math.floor(10*Math.abs(i.diff))/10))])]:t._e()],2)]}))],2)]:t._e()],2)],1)])},$=[],P=i(5950),T=i(7525),L=i(2382),B=i(5549),D=i(7777),E=i(6141),M=Z.ZP.extend({name:"ItemCompare",components:{ItemStatusView:P.Z},props:{targetItem:{type:T.Z,required:!0},itemParent:{type:[D.Z,L.Z],required:!0},slotIndex:{type:Number,required:!0},isAirbaseMode:{type:Boolean,default:!1}},data:()=>({rangeText:["","短","中","長","超長","超長+","極","極+","極長","極長+"],exchangeParent:new L.Z,displayStatuses:[],displayStatuses2:[],avoidTexts:E.ZP.AVOID_TYPE.map((t=>t.text)),originalItem:new T.Z,originalItemBonusString:"",itemBonusString:""}),mounted(){this.avoidTexts[0]="-",this.compareItem()},watch:{targetItem(){this.compareItem()},slotIndex(){this.compareItem()},itemParent(){this.compareItem()}},methods:{getSpeedText(t){return t<=5?`${this.$t("Fleet.低速")}`:t<=10?`${this.$t("Fleet.高速")}`:t<=15?`${this.$t("Fleet.高速+")}`:`${this.$t("Fleet.最速")}`},compareItem(){this.displayStatuses=[],this.displayStatuses2=[],this.itemBonusString="",this.originalItemBonusString="",this.itemParent instanceof L.Z&&this.slotIndex===E.ZP.EXPAND_SLOT_INDEX?this.originalItem=this.itemParent.exItem:this.originalItem=this.itemParent.items[this.slotIndex];const t=[];for(let e=0;e<this.itemParent.items.length;e+=1)this.slotIndex===e?this.isAirbaseMode?t.push(new T.Z({item:this.targetItem,slot:this.targetItem.data.airbaseMaxSlot})):t.push(new T.Z({item:this.targetItem})):t.push(new T.Z({item:this.itemParent.items[e]}));if(this.itemParent instanceof L.Z){let e=new T.Z({item:this.itemParent.exItem});this.slotIndex===E.ZP.EXPAND_SLOT_INDEX&&(e=new T.Z({item:this.targetItem})),this.exchangeParent=new L.Z({ship:this.itemParent,items:t,exItem:e}),this.displayStatuses.push({text:`${this.$t("Common.火力")}`,after:this.exchangeParent.displayStatus.firePower,before:this.itemParent.displayStatus.firePower,diff:this.exchangeParent.displayStatus.firePower-this.itemParent.displayStatus.firePower}),this.displayStatuses.push({text:`${this.$t("Common.雷装")}`,after:this.exchangeParent.displayStatus.torpedo,before:this.itemParent.displayStatus.torpedo,diff:this.exchangeParent.displayStatus.torpedo-this.itemParent.displayStatus.torpedo}),this.displayStatuses.push({text:`${this.$t("Common.装甲")}`,after:this.exchangeParent.displayStatus.armor,before:this.itemParent.displayStatus.armor,diff:this.exchangeParent.displayStatus.armor-this.itemParent.displayStatus.armor}),this.displayStatuses.push({text:`${this.$t("Common.対空")}`,after:this.exchangeParent.displayStatus.antiAir,before:this.itemParent.displayStatus.antiAir,diff:this.exchangeParent.displayStatus.antiAir-this.itemParent.displayStatus.antiAir}),this.displayStatuses.push({text:`${this.$t("Common.対潜")}`,after:this.exchangeParent.displayStatus.asw,before:this.itemParent.displayStatus.asw,diff:this.exchangeParent.displayStatus.asw-this.itemParent.displayStatus.asw}),this.displayStatuses.push({text:`${this.$t("Common.索敵")}`,after:this.exchangeParent.displayStatus.LoS,before:this.itemParent.displayStatus.LoS,diff:this.exchangeParent.displayStatus.LoS-this.itemParent.displayStatus.LoS}),this.displayStatuses.push({text:`${this.$t("Common.回避")}`,after:this.exchangeParent.displayStatus.avoid,before:this.itemParent.displayStatus.avoid,diff:this.exchangeParent.displayStatus.avoid-this.itemParent.displayStatus.avoid}),this.displayStatuses.push({text:`${this.$t("Common.射程")}`,after:`${this.$t(`Common.${this.rangeText[this.exchangeParent.displayStatus.range]}`)}`,before:`${this.$t(`Common.${this.rangeText[this.itemParent.displayStatus.range]}`)}`,diff:this.exchangeParent.displayStatus.range-this.itemParent.displayStatus.range,hideDiff:!0}),this.displayStatuses.push({text:`${this.$t("Common.速力")}`,after:this.getSpeedText(this.exchangeParent.speed),before:this.getSpeedText(this.itemParent.speed),diff:this.exchangeParent.speed-this.itemParent.speed,hideDiff:!0}),this.displayStatuses2.push({text:`${this.$t("Common.砲戦火力")}`,after:this.exchangeParent.baseDayBattleFirePower,before:this.itemParent.baseDayBattleFirePower,diff:this.exchangeParent.baseDayBattleFirePower-this.itemParent.baseDayBattleFirePower}),this.exchangeParent.data.isCV||this.displayStatuses2.push({text:`${this.$t("Common.夜戦火力")}`,after:this.exchangeParent.nightBattleFirePower,before:this.itemParent.nightBattleFirePower,diff:this.exchangeParent.nightBattleFirePower-this.itemParent.nightBattleFirePower}),this.displayStatuses2.push({text:`${this.$t("Common.命中")}`,after:this.exchangeParent.accuracy,before:this.itemParent.accuracy,diff:this.exchangeParent.accuracy-this.itemParent.accuracy}),(this.exchangeParent.fullAirPower||this.itemParent.fullAirPower)&&this.displayStatuses2.push({text:`${this.$t("Common.制空値")}`,after:this.exchangeParent.fullAirPower,before:this.itemParent.fullAirPower,diff:this.exchangeParent.fullAirPower-this.itemParent.fullAirPower}),this.displayStatuses2.push({text:`${this.$t("Common.支援火力")}`,after:this.exchangeParent.supportFirePower,before:this.itemParent.supportFirePower,diff:this.exchangeParent.supportFirePower-this.itemParent.supportFirePower}),this.displayStatuses2.push({text:`${this.$t("Common.支援命中")}`,after:this.exchangeParent.supportAccuracy,before:this.itemParent.supportAccuracy,diff:this.exchangeParent.supportAccuracy-this.itemParent.supportAccuracy}),this.originalItemBonusString=JSON.stringify(this.itemParent.getItemBonusDiff(this.slotIndex)),this.itemBonusString=JSON.stringify(this.exchangeParent.getItemBonusDiff(this.slotIndex))}else if(this.itemParent instanceof D.Z){this.displayStatuses.push({text:`${this.$t("Common.雷装")}`,after:Math.floor(10*this.targetItem.actualTorpedo)/10,before:Math.floor(10*this.originalItem.actualTorpedo)/10,diff:this.targetItem.actualTorpedo-this.originalItem.actualTorpedo}),this.displayStatuses.push({text:`${this.$t("Common.爆装")}`,after:Math.floor(10*this.targetItem.actualBomber)/10,before:Math.floor(10*this.originalItem.actualBomber)/10,diff:this.targetItem.actualBomber-this.originalItem.actualBomber}),this.displayStatuses.push({text:`${this.$t("Common.対空")}`,after:Math.floor(10*this.targetItem.actualAntiAir)/10,before:Math.floor(10*this.originalItem.actualAntiAir)/10,diff:this.targetItem.actualAntiAir-this.originalItem.actualAntiAir}),this.displayStatuses.push({text:`${this.$t("Common.対潜")}`,after:this.targetItem.data.asw,before:this.originalItem.data.asw,diff:this.targetItem.data.asw-this.originalItem.data.asw}),(this.originalItem.data.accuracy||this.targetItem.data.accuracy)&&this.displayStatuses.push({text:`${this.$t("Common.命中")}`,after:this.targetItem.data.accuracy,before:this.originalItem.data.accuracy,diff:this.targetItem.data.accuracy-this.originalItem.data.accuracy}),this.displayStatuses.push({text:`${this.$t("Common.索敵")}`,after:this.targetItem.data.scout,before:this.originalItem.data.scout,diff:this.targetItem.data.scout-this.originalItem.data.scout}),(this.originalItem.data.antiBomber||this.targetItem.data.antiBomber)&&this.displayStatuses.push({text:`${this.$t("Common.対爆")}`,after:this.targetItem.data.antiBomber,before:this.originalItem.data.antiBomber,diff:this.targetItem.data.antiBomber-this.originalItem.data.antiBomber}),(this.originalItem.data.interception||this.targetItem.data.interception)&&this.displayStatuses.push({text:`${this.$t("Common.迎撃")}`,after:this.targetItem.data.interception,before:this.originalItem.data.interception,diff:this.targetItem.data.interception-this.originalItem.data.interception}),this.displayStatuses.push({text:`${this.$t("Common.半径")}`,after:this.targetItem.data.radius,before:this.originalItem.data.radius,diff:this.targetItem.data.radius-this.originalItem.data.radius}),this.displayStatuses.push({text:`${this.$t("Common.コスト")}`,after:this.targetItem.data.cost,before:this.originalItem.data.cost,diff:-(this.targetItem.data.cost-this.originalItem.data.cost)}),this.originalItem.data.avoidId!==this.targetItem.data.avoidId&&this.displayStatuses.push({text:`${this.$t("Common.射撃回避")}`,after:this.targetItem.data.avoidId?`${this.$t(`Common.回避性能.${this.avoidTexts[this.targetItem.data.avoidId]}`)}`:"-",before:this.originalItem.data.avoidId?`${this.$t(`Common.回避性能.${this.avoidTexts[this.originalItem.data.avoidId]}`)}`:"-",diff:this.targetItem.data.avoidId-this.originalItem.data.avoidId,hideDiff:!0});const e=new D.Z({airbase:this.itemParent,items:t});this.displayStatuses2.push({text:`${this.$t("Common.制空")}`,after:e.fullAirPower,before:this.itemParent.fullAirPower,diff:e.fullAirPower-this.itemParent.fullAirPower}),this.displayStatuses2.push({text:`${this.$t("Common.防空制空")}`,after:e.defenseAirPower,before:this.itemParent.defenseAirPower,diff:e.defenseAirPower-this.itemParent.defenseAirPower}),this.displayStatuses2.push({text:`${this.$t("Common.半径")}`,after:e.radius,before:this.itemParent.radius,diff:e.radius-this.itemParent.radius})}},getShipName(t){const e=this.$store.state.siteSetting;if("en"===this.$i18n.locale&&!e.nameIsNotTranslate){const e=B.Z.getSuffix(t),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}return t.name||""}}}),F=M,R=i(1001),N=(0,R.Z)(F,A,$,!1,null,"507fe01b",null),O=N.exports,V=i(8030),K=i(7783),j=i(5722),X=i(9575),q=i(3631),Y=i(6486),U=i(47);const J=["tp","airPower","defenseAirPower","antiAirWeight","antiAirBonus","nightBattleFirePower"];var W=Z.ZP.extend({name:"ItemList",components:{ItemTooltip:S.Z,BlacklistItemEdit:V.Z,ItemCompare:O},props:{handleEquipItem:{type:Function,required:!0},handleClose:{type:Function,required:!0},handleChangeWidth:{type:Function,required:!0}},data:()=>({itemParent:void 0,slotIndex:-1,sortItemListIndex:0,all:[],baseItems:[],types:[],avoids:E.ZP.AVOID_TYPE,type:0,multiLine:!0,keyword:"",isEnemyMode:!1,isStockOnly:!1,isReadonlyMode:!1,isEnabledLandBaseAttack:!1,includeSonar:!0,includeDepthCharge:!0,includeDepthChargeLauncher:!0,includeTorpedo:!0,includeSPTorpedo:!0,includeSVTorpedo:!0,onlyEnabledLandBaseAttack:!1,onlyDisabledLandBaseAttack:!1,onlyAffectingRange:!1,onlyNotAffectingRange:!1,onlyNightAircraft:!1,onlyAAResistAircraft:!1,isSpecialOnly:!1,sortExcludeRemodelStatus:!1,sortExcludeSynergyStatus:!1,slot:0,avoidTexts:E.ZP.AVOID_TYPE.map((t=>t.text)),viewStatus:E.ZP.ITEM_TYPES_ALT[0].viewStatus,setting:new X.Z,sortKey:"",isDesc:!1,viewItems:[],itemStock:[],usedItems:[],confirmDialog:!1,confirmItem:{item:new T.Z,count:0},headerItems:[{text:"火力",key:"actualFire"},{text:"砲戦火力",key:"dayBattleFirePower"},{text:"雷装",key:"actualTorpedo"},{text:"夜戦火力",key:"nightBattleFirePower"},{text:"爆装",key:"actualBomber"},{text:"対空",key:"antiAir"},{text:"出撃対空",key:"actualAntiAir"},{text:"防空対空",key:"actualDefenseAntiAir"},{text:"装甲",key:"actualArmor"},{text:"対潜",key:"actualAsw"},{text:"回避",key:"actualAvoid"},{text:"索敵",key:"actualScout"},{text:"命中",key:"actualAccuracy"},{text:"対爆",key:"antiBomber"},{text:"加重対空",key:"antiAirWeight"},{text:"艦隊防空",key:"antiAirBonus"},{text:"半径",key:"radius"},{text:"コスト",key:"cost"},{text:"TP",key:"tp"},{text:"射撃回避",key:"avoidId"},{text:"射程",key:"actualRange"}],enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new T.Z,tooltipBonus:"",tooltipX:0,tooltipY:0,filterStatus:"radius",filterStatusItems:[],filterStatusValue:0,sortKeyItems:[],blacklistDialog:!1,blacklistItems:[],sortDialog:!1,filterDialog:!1,decidedItem:!1,wikiDialog:!1,showMenu:!1,remodelChangeMenu:!1,menuItem:null,menuX:0,menuY:0,compareDialog:!1,isBatchMode:!1,batchMax:0,batchList:[],isCheckedOnly:!1,rangeText:["","短","中","長","超長","超長+","極","極+","極長","極長+"],itemListHeight:100,isMobile:!0}),mounted(){this.types=[];for(let e=0;e<E.ZP.ITEM_TYPES_ALT.length;e+=1){const t=E.ZP.ITEM_TYPES_ALT[e];this.types.push({id:t.id,text:t.text,viewStatus:t.viewStatus,types:t.types,sortKey:"",isDesc:!1})}const t=this.$store.state.items;for(let e=0;e<t.length;e+=1)this.all.push(t[e]);this.all.sort(((t,e)=>t.apiTypeId-e.apiTypeId)),this.avoidTexts[0]="",this.setting=this.$store.state.siteSetting,this.changeMultiLine(this.setting.isMultiLineForItemList),this.sortKeyItems.push({text:"図鑑ID",value:"id"});for(let e=0;e<this.headerItems.length;e+=1){const{text:t,key:i}=this.headerItems[e];"対潜"===t&&this.filterStatusItems.find((t=>t.text===this.$t("Common.対潜")))||(this.filterStatusItems.push({text:`${this.$t(`Common.${t}`)}`,value:i}),this.sortKeyItems.push({text:t,value:i}))}this.updateIsMobile()},computed:{isAirbaseMode(){return this.itemParent instanceof D.Z},isShipMode(){return this.itemParent instanceof L.Z},isAircraftMode(){return this.itemParent instanceof L.Z&&(this.itemParent.data.isCV||[352,717].includes(this.itemParent.data.id))},itemListData(){const t=this.viewItems;if(this.multiLine&&!this.isMobile){const e={id:1700,name:"爆雷投射機",sortKey:[]},i=E.ZP.ITEM_API_TYPE.concat();i.splice(22,0,e);const s=[];for(let a=0;a<i.length;a+=1){const n=i[a];let l=[];l=15===n.id?t.filter((t=>t.item.data.isStrictDepthCharge)):n.id===e.id?t.filter((t=>15===t.item.data.apiTypeId&&!t.item.data.isStrictDepthCharge)):t.filter((t=>t.item.data.apiTypeId===n.id)),l.length&&s.push({typeName:n.name,items:l})}return s}return[{typeName:"",items:t}]},enabledTypes(){const t=this.baseItems.map((t=>t.apiTypeId)),e=[];for(let i=0;i<this.types.length;i+=1){const s=this.types[i].types;t.find((t=>s.includes(t)))&&e.push(this.types[i])}return e},selectedType(){const t=this.types.find((t=>t.id===this.type));if(t)return t},viewOrder(){return(t,e)=>e.findIndex((e=>e===t))},itemHeaderClasses(){return(t,e)=>{const i=["item-status"];t===this.sortKey&&this.isDesc?i.push("desc"):t!==this.sortKey||this.isDesc||i.push("asc");const s=e.findIndex((e=>e===t));if(s>=0){i.push(`order-${s}`);const t=s-1;t>0&&i.push(`pr-${t}`)}else i.push("d-none");return i}},mobileItemHeaderText(){return(t,e)=>{const i=["item-status"];t===this.sortKey&&this.isDesc?i.push("desc"):t!==this.sortKey||this.isDesc||i.push("asc");const s=e.findIndex((e=>e===t));if(s>=0){i.push(`order-${s}`);const t=s-1;t>0&&i.push(`pr-${t}`)}else i.push("d-none");return i}},formatStatus(){return(t,e)=>{const i=t.item;let s=0;if("dayBattleFirePower"===e)s=this.isAircraftMode?t.aircraftDayBattleFirePower:t.dayBattleFirePower;else if("antiAirBonus"===e)s=t.item.antiAirBonus/100;else{if("actualRange"===e)return this.rangeText[t.item.actualRange]?this.$t(`Common.${this.rangeText[t.item.actualRange]}`):"";if("avoidId"===e)return this.avoidTexts[t.item.data.avoidId]?this.$t(`Common.回避性能.${this.avoidTexts[t.item.data.avoidId]}`):"";s=e&&(e.includes("actual")||J.includes(e))?i[e]:i.data[e]}return s?""+Math.floor(10*s)/10:""}},isJapanese(){return"ja"===this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},enabledNightAircraftFilter(){return-1===this.type||6===this.type||7===this.type||8===this.type},enabledAAResistFilter(){return E.ZP.ATTACKERS.includes(this.type)||-1===this.type||1100===this.type},disabledDetailFilter(){return!!this.keyword||this.isBatchMode&&this.isCheckedOnly},currentBatchIndex(){return this.batchList.length===this.batchMax-1?E.ZP.EXPAND_SLOT_INDEX:this.batchList.length},isBatchListMax(){return this.isBatchMode&&this.batchList.length>=this.batchMax},isCostFilter(){return"cost"===this.filterStatus}},methods:{updateIsMobile(){this.isMobile=window.innerWidth<600,this.isMobile&&this.changeMultiLine(!0)},changeType(t=0){this.isCheckedOnly=!1,this.type=t,this.selectedType&&this.selectedType.sortKey?(this.isDesc=this.selectedType.isDesc,this.sortKey=this.selectedType.sortKey):(this.sortKey="",this.isDesc=!1),this.filter()},toggleCheckedOnly(){this.isCheckedOnly=!0,this.filter()},clickedStockOnly(){this.setting.isStockOnlyForItemList=this.isStockOnly,this.$store.dispatch("updateSetting",this.setting),this.filter()},resetFilter(){this.keyword="",this.filterStatusValue=0,this.changedFilter()},initialFilter(t,e=0,i=[],s=0){this.isBatchMode=s>0,this.isCheckedOnly=!1,this.batchMax=s,this.batchList=[],this.decidedItem=!1,this.itemParent=t,this.slotIndex=e,this.isEnemyMode=!1,this.filterStatus="radius",this.filterStatusValue=0,this.itemStock=this.$store.state.itemStock,this.setting=this.$store.state.siteSetting,this.isStockOnly=this.setting.isStockOnlyForItemList,this.isReadonlyMode=!1,this.$store.getters.getExistsTempStock&&(this.itemStock=this.$store.state.tempItemStock,this.isStockOnly=!0,this.isReadonlyMode=!0);const a=e===E.ZP.EXPAND_SLOT_INDEX;if(this.slot=a?0:t.items[e]?t.items[e].fullSlot:0,this.usedItems=[],i.length)this.usedItems=i;else{const t=this.$store.state.mainSaveData;if(t){const e=t.tempData[t.tempIndex];if(e){let t=[];for(let s=0;s<e.fleetInfo.fleets.length;s+=1){const{ships:i}=e.fleetInfo.fleets[s];for(let e=0;e<i.length;e+=1)t=t.concat(i[e].items.filter((t=>t.data.id>0))),i[e].exItem.data.id>0&&t.push(i[e].exItem)}const{airbases:i}=e.airbaseInfo;for(let e=0;e<i.length;e+=1)t=t.concat(i[e].items.filter((t=>t.data.id>0)));this.usedItems=t}}}let n=[];if(t instanceof L.Z&&t.data.id){this.baseItems=this.all.filter((i=>q.Z.isValidItem(t.data,i,e,10))),this.enabledTypes.length&&-1!==this.type&&!this.enabledTypes.find((t=>t.id===this.type))&&(this.type=this.enabledTypes[0].id);const i=this.setting.savedItemListFilter.find((t=>"ship"===t.parent));return i&&i.key&&(this.filterStatus=i.key),i&&i.value&&(this.filterStatusValue=i.value),void this.filter()}if(t instanceof L.Z)for(let l=1;l<=60;l+=1){if(E.ZP.AB_PLANE_TYPES.includes(l))continue;n.push(l),this.type<=0&&(this.type=1);const t=this.setting.savedItemListFilter.find((t=>"ship"===t.parent));t&&t.key&&(this.filterStatus=t.key),t&&t.value&&(this.filterStatusValue=t.value)}else if(t instanceof D.Z){n=E.ZP.PLANE_TYPES.concat(),-1===this.type||n.includes(this.type)||(this.type=47),this.slot=18;const t=this.setting.savedItemListFilter.find((t=>"airbase"===t.parent));t&&t.key&&(this.filterStatus=t.key),t&&t.value&&(this.filterStatusValue=t.value)}else if(t instanceof j.Z){n=E.ZP.ITEM_API_TYPE.map((t=>t.id));const t=this.all.filter((t=>t.isEnemyItem));n=n.filter((e=>t.some((t=>t.apiTypeId===e)))),this.isEnemyMode=!0,n.includes(this.type)||(this.type=+n[0])}if(a){const t=E.ZP.EXPANDED_ITEM_TYPE;n=n.filter((e=>t.includes(e)))}this.baseItems=this.all.filter((t=>n.includes(t.apiTypeId))),this.filter()},changedFilter(){const t={parent:"ship",key:this.filterStatus,value:this.filterStatusValue};if(this.itemParent instanceof L.Z)t.parent="ship";else{if(!this.isAirbaseMode)return void this.filter();t.parent="airbase"}if(!this.setting.savedItemListFilter)return void this.filter();const e=this.setting.savedItemListFilter.findIndex((e=>e.parent===t.parent));e>=0&&(this.setting.savedItemListFilter[e]=t,this.$store.dispatch("updateSetting",this.setting)),this.filter()},toggleAffectingRangeFilter(){this.onlyAffectingRange?(this.onlyAffectingRange=!1,this.onlyNotAffectingRange=!0):this.onlyNotAffectingRange?this.onlyNotAffectingRange=!1:this.onlyAffectingRange=!0,this.filter()},toggleLandBaseAttackFilter(){this.onlyEnabledLandBaseAttack?(this.onlyEnabledLandBaseAttack=!1,this.onlyDisabledLandBaseAttack=!0):this.onlyDisabledLandBaseAttack?this.onlyDisabledLandBaseAttack=!1:this.onlyEnabledLandBaseAttack=!0,this.filter()},filter(){this.updateIsMobile(),!this.batchList.length&&this.isCheckedOnly&&(this.isCheckedOnly=!1);const t=this.keyword?this.keyword.toUpperCase():"";let e=this.baseItems.concat();const i=this.setting.displayBonusKey;if(this.setting.blacklistItemIds.length){const t=this.setting.blacklistItemIds;e=e.filter((e=>!t.includes(e.id)))}if(t&&(e=e.filter((e=>e.id===+t||e.name.toUpperCase().indexOf(t)>=0))),!this.disabledDetailFilter){e=this.isEnemyMode?e.filter((t=>t.isEnemyItem)):e.filter((t=>!t.isEnemyItem)),7===this.type&&(this.onlyEnabledLandBaseAttack?e=e.filter((t=>E.ZP.ENABLED_LAND_BASE_ATTACK.includes(t.id))):this.onlyDisabledLandBaseAttack&&(e=e.filter((t=>!E.ZP.ENABLED_LAND_BASE_ATTACK.includes(t.id))))),14!==this.type&&40!==this.type||(this.includeSonar||(e=e.filter((t=>14!==t.apiTypeId&&40!==t.apiTypeId))),this.includeDepthCharge||(e=e.filter((t=>1700!==t.iconTypeId))),this.includeDepthChargeLauncher||(e=e.filter((t=>17!==t.iconTypeId)))),5===this.type&&(this.includeTorpedo||(e=e.filter((t=>5!==t.apiTypeId))),this.includeSPTorpedo||(e=e.filter((t=>22!==t.apiTypeId))),this.includeSVTorpedo||(e=e.filter((t=>32!==t.apiTypeId)))),this.enabledNightAircraftFilter&&this.onlyNightAircraft&&(e=e.filter((t=>t.isNightAircraftItem))),this.enabledAAResistFilter&&this.onlyAAResistAircraft&&(e=e.filter((t=>t.avoidId))),this.isSpecialOnly&&i&&(e=e.filter((t=>t.bonuses.find((t=>t.key===i)))));const s=this.types.find((t=>t.id===this.type));!t&&this.type&&s?(this.viewStatus=s.viewStatus.concat(),this.isAirbaseMode?this.viewStatus.includes("nightBattleFirePower")&&(this.viewStatus[this.viewStatus.indexOf("nightBattleFirePower")]="antiAir"):(this.viewStatus.includes("radius")&&(this.viewStatus[this.viewStatus.indexOf("radius")]="dayBattleFirePower"),this.viewStatus.includes("cost")&&(this.viewStatus[this.viewStatus.indexOf("cost")]="actualAvoid")),e=e.filter((t=>s.types.includes(t.apiTypeId)))):t||-1!==this.type||(this.itemParent instanceof L.Z?this.viewStatus=["dayBattleFirePower","nightBattleFirePower","actualAccuracy","antiAir","actualScout","actualAsw"]:this.isAirbaseMode?this.viewStatus=["actualTorpedo","actualBomber","actualAntiAir","radius","airPower","defenseAirPower"]:this.viewStatus=["actualFire","actualAntiAir","actualAccuracy","actualScout","actualAvoid","armor"])}let s=this.usedItems.concat();const a=this.sortExcludeRemodelStatus&&this.isStockOnly,n=this.sortExcludeSynergyStatus,l=[],o=this.setting.planeInitialLevels,{slot:r}=this;if(!this.isEnemyMode&&this.isStockOnly){const t=this.itemStock;for(let n=0;n<e.length;n+=1){const d=e[n],c=o.find((t=>t.id===d.apiTypeId)),m=t.find((t=>t.id===d.id));if(!m)continue;const h=c?c.level:0,u=i?d.bonuses.find((t=>t.key===i)):null;for(let t=10;t>=0;t-=1){let e=m.num[t];if(!e)continue;const i=new T.Z({master:d,slot:r,remodel:t,level:h,ignoreRemodelBonus:a}),n=s.filter((e=>e.data.id===d.id&&e.remodel===t)).length;e-=n,s=s.filter((e=>e.data.id!==d.id||e.remodel!==t));const o=e,c=[];if(this.isBatchMode){for(let e=0;e<this.batchList.length;e+=1){const i=this.batchList[e];i.item.data.id===d.id&&i.remodel===t&&c.push(e)}e-=c.length}let p=!1,f=!1;if(this.itemParent instanceof L.Z){const e=this.itemParent;if(this.isBatchMode)p=this.isBatchListMax||!q.Z.isValidItem(e.data,d,this.currentBatchIndex,t);else if(!q.Z.isValidItem(e.data,d,this.slotIndex,t)){if(this.slotIndex!==E.ZP.EXPAND_SLOT_INDEX||!q.Z.isValidItem(e.data,d,this.slotIndex,10))continue;f=!0}}l.push({item:i,count:Math.max(e,0),allCount:Math.max(o,0),remodel:t,sumBonus:0,bonus:{},text:u?u.text:"",dayBattleFirePower:i.dayBattleFirePower,aircraftDayBattleFirePower:i.aircraftDayBattleFirePower,batchListIndexes:c,disabled:p,lackRemodel:f})}}}else for(let d=0;d<e.length;d+=1){const t=e[d],s=o.find((e=>e.id===t.apiTypeId)),a=s?s.level:0,n=i?t.bonuses.find((t=>t.key===i)):null,c=new T.Z({master:t,slot:r,level:a}),m=[];if(this.isBatchMode)for(let e=0;e<this.batchList.length;e+=1){const i=this.batchList[e];i.item.data.id===t.id&&0===i.remodel&&m.push(e)}let h=!1,u=!1;if(this.itemParent instanceof L.Z){const e=this.itemParent;if(this.isBatchMode)h=this.isBatchListMax||!q.Z.isValidItem(e.data,t,this.currentBatchIndex,0);else if(!q.Z.isValidItem(e.data,t,this.slotIndex,0)){if(this.slotIndex!==E.ZP.EXPAND_SLOT_INDEX||!q.Z.isValidItem(e.data,t,this.slotIndex,10))continue;u=!0}}l.push({item:c,count:1,allCount:99,sumBonus:0,remodel:0,bonus:{},text:n?n.text:"",dayBattleFirePower:c.dayBattleFirePower,aircraftDayBattleFirePower:c.aircraftDayBattleFirePower,batchListIndexes:m,disabled:h,lackRemodel:u})}if(this.isBatchMode&&this.isCheckedOnly?this.viewItems=l.filter((t=>!!t.batchListIndexes.length)):this.viewItems=l,this.itemParent instanceof L.Z){let t=this.itemParent;if(this.isBatchMode&&this.batchList.length){const e=[];for(let s=0;s<t.items.length;s+=1){const t=this.batchList[s];t&&t.item.data.id?e.push(new T.Z({item:t.item})):e.push(new T.Z)}const i=this.batchList[t.data.slotCount];t=i?new L.Z({ship:t,items:e,exItem:i.item}):new L.Z({ship:t,items:e,exItem:new T.Z})}const e=t.items.concat();e.push(t.exItem);let i=this.slotIndex;this.isBatchMode&&(i=this.currentBatchIndex),i===E.ZP.EXPAND_SLOT_INDEX&&(i=e.length-1);const s=(0,Y.cloneDeep)(e);s[i]=new T.Z;const a=L.Z.getItemBonus(t.data,s),l=U.Z.getTotalBonus(a);for(let o=0;o<this.viewItems.length;o+=1){const s=this.viewItems[o],r=(0,Y.cloneDeep)(e);r[i]=s.item;const d=L.Z.getItemBonus(t.data,r);if(d.length>a.length){const t=U.Z.getTotalBonus(d);let e=0;void 0!==t.firePower&&(t.firePower-=l.firePower??0,e+=t.firePower),void 0!==t.torpedo&&(t.torpedo-=l.torpedo??0,e+=t.torpedo),void 0!==t.antiAir&&(t.antiAir-=l.antiAir??0,e+=t.antiAir),void 0!==t.armor&&(t.armor-=l.armor??0,e+=t.armor),void 0!==t.asw&&(t.asw-=l.asw??0,e+=t.asw),void 0!==t.avoid&&(t.avoid-=l.avoid??0,e+=t.avoid),void 0!==t.accuracy&&(t.accuracy-=l.accuracy??0,e+=t.accuracy),void 0!==t.range&&(t.range-=l.range??0,e+=t.range),void 0!==t.bomber&&(t.bomber-=l.bomber??0,e+=t.bomber),void 0!==t.scout&&(t.scout-=l.scout??0,e+=t.scout),s.sumBonus=e,s.bonus=t,n||(s.item.actualFire+=t.firePower??0,s.item.actualTorpedo+=t.torpedo??0,s.item.actualAsw+=t.asw??0,s.item.actualArmor+=t.armor??0,s.item.actualAccuracy+=t.accuracy??0,s.item.actualScout+=t.scout??0,s.item.actualAvoid+=t.avoid??0,s.item.actualRange+=t.range??0,s.item.nightBattleFirePower+=(t.firePower??0)+(t.torpedo??0),s.item.data.isPlane&&!s.item.data.isSPPlane?(s.dayBattleFirePower+=t.firePower??0,s.aircraftDayBattleFirePower+=1.5*((t.firePower??0)+(t.torpedo??0)+(t.bomber??0))):(s.dayBattleFirePower+=t.firePower??0,s.aircraftDayBattleFirePower+=t.firePower??0))}}if(!this.disabledDetailFilter){const e=t.displayStatus.range;this.onlyAffectingRange?this.viewItems=this.viewItems.filter((t=>t.bonus.range||e<t.item.data.range)):this.onlyNotAffectingRange&&(this.viewItems=this.viewItems.filter((t=>!t.bonus.range&&e>=t.item.data.range)))}}if(!this.disabledDetailFilter){const t=this.filterStatusValue?+this.filterStatusValue:0;if(this.filterStatus&&t){let e=this.filterStatus;a&&e.startsWith("actual")&&(e=e.replace("actual",""),e=e[0].toLowerCase()+e.slice(1));const i=e.indexOf("actual")>=0||J.includes(e);this.viewItems=this.viewItems.filter((s=>"antiAirBonus"===this.filterStatus?s.item.antiAirBonus/100>=t:i?s.item[e]>=t:this.isCostFilter?s.item.data.cost<=t:s.item.data[e]>=t))}}this.isMobile&&(this.viewStatus=this.viewStatus.splice(0,4)),this.sortKey&&!this.isCheckedOnly?this.sortItems():this.isCheckedOnly&&this.viewItems.sort(((t,e)=>(t.batchListIndexes[0]??0)-(e.batchListIndexes[0]??0))),this.isJapanese?this.itemListHeight=Math.floor(.64*window.innerHeight):this.itemListHeight=Math.floor(.6*window.innerHeight)},clickedItem(t,e){if(e&&e.ctrlKey&&t&&t.item&&!t.item.data.isEnemyItem)this.openWiki(t.item.data);else{if(this.isBatchMode)return this.clearTooltip(),this.isCheckedOnly||this.isBatchListMax||t.batchListIndexes.length>=t.allCount||t.batchListIndexes.length&&t.disabled?this.batchList=this.batchList.filter((e=>!(e.item.data.id===t.item.data.id&&e.remodel===t.remodel))):t.disabled||this.batchList.push(t),void this.filter();if(!this.decidedItem){if(this.clearTooltip(),this.setting.showItemCompareDialog&&!this.compareDialog&&(this.isAirbaseMode||this.isShipMode)&&this.itemParent){const e=this.itemParent.items[this.slotIndex]||this.itemParent instanceof L.Z&&this.itemParent.exItem;if(e&&e.data&&e.data.id)return this.menuItem=t,void this.compareItem()}t.count||this.confirmDialog?(this.decidedItem=!0,this.confirmDialog=!1,this.handleEquipItem(new T.Z({item:t.item,remodel:t.remodel}))):(this.confirmItem=t,this.confirmDialog=!0)}}},changeMultiLine(t){this.handleChangeWidth(t?1200:940),this.multiLine=t,this.setting.isMultiLineForItemList=t,this.$store.dispatch("updateSetting",this.setting)},close(){this.handleClose()},toggleSortKey(t){this.sortKey!==t?(this.isDesc=!0,this.sortKey=t,this.sortItems()):this.sortKey===t&&this.isDesc?(this.isDesc=!1,this.sortItems()):this.sortKey!==t||this.isDesc||(this.sortKey="",this.filter()),this.selectedType&&(this.selectedType.isDesc=this.isDesc,this.selectedType.sortKey=this.sortKey)},selectSortKey(t){this.sortKey!==t&&(this.isDesc="id"!==t&&"cost"!==t,this.sortKey=t,this.handleSortItem())},handleSortItem(){this.filter(),this.selectedType&&(this.selectedType.isDesc=this.isDesc,this.selectedType.sortKey=this.sortKey)},resetOrdering(){this.sortKey="",this.filter(),this.selectedType&&(this.selectedType.isDesc=this.isDesc,this.selectedType.sortKey=this.sortKey)},sortItems(){const t=this.sortKey,e=this.isDesc?1:-1;if(this.multiLine&&!this.isMobile||"name"===t||"id"===t||this.viewStatus.includes(t)||(this.viewStatus[this.viewStatus.length-1]=t),"dayBattleFirePower"===t)return this.isAircraftMode?void this.viewItems.sort(((t,i)=>e*(i.aircraftDayBattleFirePower-t.aircraftDayBattleFirePower))):void this.viewItems.sort(((t,i)=>e*(i.dayBattleFirePower-t.dayBattleFirePower)));const i="name"===t,s=t.indexOf("actual")>=0||J.includes(t);this.viewItems.sort(((a,n)=>{if(s)return e*(n.item[t]-a.item[t]);if(i){const t=String(a.item.data.name).replace(/(\d+)/g,(t=>t.padStart(10,"0"))),i=String(n.item.data.name).replace(/(\d+)/g,(t=>t.padStart(10,"0")));return-e*(t<i?-1:t>i?1:0)}return e*(n.item.data[t]-a.item.data[t])}))},bootTooltip(t,e,i){const s=this.$store.state.siteSetting;if(s.disabledItemTooltip||this.isMobile)return;const a=i.target;window.clearTimeout(this.tooltipTimer),this.tooltipTimer=window.setTimeout((()=>{const s=a.getBoundingClientRect();i instanceof FocusEvent?this.tooltipX=this.multiLine?s.x+s.width/3:s.left:this.tooltipX=this.multiLine?s.x+s.width/3:i.clientX,this.tooltipY=s.y+s.height,this.tooltipItem=t,this.tooltipBonus=e?JSON.stringify(e):"",this.enabledTooltip=!0}),Math.max(s.popUpCount,10))},clearTooltip(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},showBlacklist(){this.blacklistDialog=!0},closeBlacklist(){this.blacklistDialog=!1,this.toggleBlacklistDialog()},toggleBlacklistDialog(){this.blacklistDialog||this.filter()},closeFilterDialog(){this.filterDialog=!1,this.toggleFilterDialog()},toggleFilterDialog(){this.filterDialog||this.changedFilter()},openWiki(t){window.open(K.Z.getWikiURL(t))},showItemMenu(t,e){e.preventDefault(),this.menuItem=t,this.showMenu=!1,this.menuX=e.clientX,this.menuY=e.clientY,this.clearTooltip(),this.$nextTick((()=>{this.showMenu=!0}))},copyItemName(){const t=document.getElementById("item-name-box");t.select(),document.execCommand("copy")},changeRemodel(t,e){const i=this.itemStock.find((e=>e.id===t.data.id));i&&i.num[t.remodel]>0&&(i.num[t.remodel]-=1,i.num[e]+=1,this.$store.dispatch("updateItemStock",this.itemStock),this.showMenu=!1,this.filter())},compareItem(){(this.isShipMode||this.isAirbaseMode)&&(this.compareDialog=!0)},toggleCompareSetting(){this.$store.dispatch("updateSetting",this.setting)}}}),H=W,G=(0,R.Z)(H,k,w,!1,null,"4771bf27",null),z=G.exports},4302:function(t,e,i){i.d(e,{Z:function(){return E}});var s=i(4562),a=i(9582),n=i(4061),l=i(9223),o=i(4324),r=i(5495),d=i(9258),c=i(3687),m=i(9780),h=i(7069),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(a.Z,[e("div",{staticClass:"d-flex pt-2 pb-1 pr-2"},[e("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("ItemList.装備プリセット")))]),e(c.Z),e(s.Z,{attrs:{icon:""},on:{click:t.handleClose}},[e(o.Z,[t._v("mdi-close")])],1)],1),e(l.Z),e("div",{staticClass:"px-3"},[e("div",{staticClass:"d-flex flex-wrap"},[e(s.Z,{staticClass:"my-2 mr-2",attrs:{color:"teal",dark:!t.disabledCommit,disabled:t.disabledCommit,block:t.isMobile},on:{click:function(e){return t.readyPreset()}}},[t._v(" "+t._s(t.$t("ItemList.現在の装備構成で新規登録"))+" ")]),t.isMobile?t._e():e(s.Z,{staticClass:"my-2",attrs:{color:"primary",disabled:t.disabledCommit||t.isPresetItemEmpty||t.isAACIMode||t.selectedIndex<0},on:{click:function(e){return t.overwritePreset()}}},[t._v(" "+t._s(t.$t("ItemList.現在の装備構成で上書き"))+" ")])],1),e(l.Z),e("div",{staticClass:"preset-container py-1"},[e("div",{staticClass:"preset-list"},[e("draggable",{attrs:{handle:".preset-id",animation:"150"},on:{end:function(e){return t.sortEnd()}},model:{value:t.presets,callback:function(e){t.presets=e},expression:"presets"}},t._l(t.presets,(function(i,s){return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:`preset${s}`,staticClass:"preset-item",class:{selected:!t.isAACIMode&&s===t.selectedIndex},on:{click:function(e){return t.clickedPreset(i.id)},dblclick:function(e){return t.expandPreset()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickedPreset(i.id)}}},[e("div",{staticClass:"preset-id primary--text"},[t._v(t._s(i.id)+".")]),e("div",{staticClass:"preset-name text-truncate"},[t._v(t._s(i.name))])])})),0),t.uniquePresets.length?e("div",{staticClass:"mt-2 d-flex ml-1"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("ItemList.固有プリセット")))]),e("div",{staticClass:"divider-line"})]):t._e(),t._l(t.uniquePresets,(function(i,s){return e("div",{directives:[{def:h.Z,name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:`preset${s}`,staticClass:"preset-item",class:{selected:t.isAACIMode&&s===t.selectedIndex},on:{click:function(e){return t.clickedUniquePreset(s)},dblclick:function(e){return t.expandPreset()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickedUniquePreset(s)}}},[e("div",{staticClass:"aaci-preset-id success--text"},[t._v("AACI.")]),e("div",{staticClass:"preset-name text-truncate"},[t._v(t._s(i.name))]),e("div",{staticClass:"text--secondary caption d-flex align-center mr-2"},[e("div",[t._v("(")]),e("div",{staticClass:"mx-1"},[t._v(t._s(i.spec1))]),e("div",[t._v(",")]),e("div",{staticClass:"mx-1"},[t._v(t._s(i.spec2))]),e("div",[t._v(")")])]),e("div",[i.isLack?e(o.Z,{staticClass:"mr-2",attrs:{color:"warning",small:""}},[t._v("mdi-alert-outline")]):e(o.Z,{staticClass:"mr-2",attrs:{color:"transparent",small:""}},[t._v("mdi-alert-outline")])],1)])}))],2),t.isMobile?t._e():e("div",{staticClass:"preset-view pl-2"},[t.isPresetItemEmpty?t._e():e("div",{staticClass:"mt-5 d-flex align-center"},[e(m.Z,{attrs:{label:t.$t("ItemList.名称"),outlined:"",clearable:"",dense:"",maxlength:"100","hide-details":""},model:{value:t.selectedPreset.name,callback:function(e){t.$set(t.selectedPreset,"name","string"===typeof e?e.trim():e)},expression:"selectedPreset.name"}}),e(s.Z,{staticClass:"ml-2",attrs:{color:"success",disabled:!t.selectedPreset.name||t.isAACIMode},on:{click:function(e){return t.savePreset()}}},[t._v(" "+t._s(t.selectedIndex>=0?t.$t("Common.更新"):t.$t("Common.保存"))+" ")])],1),t.isPresetItemEmpty?t._e():e("div",{staticClass:"items-container pa-2 mt-2"},[t._l(t.itemView,(function(i,s){return e("div",{key:`view${s}`,staticClass:"d-flex align-center py-1"},[i.data.iconTypeId?e("div",[e(r.Z,{attrs:{src:`./img/type/icon${i.data.iconTypeId}.png`,width:"30",height:"30"}})],1):t._e(),e("div",{staticClass:"ml-1 text-truncate preset-item-name",class:{"is-lack":i.isLack}},[t._v(" "+t._s(t.needTrans?t.$t(`${i.data.name}`):i.data.name)+" ")]),i.remodel?e("div",{staticClass:"ml-1 d-flex align-center"},[e(o.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("div",{staticClass:"remodel-text"},[t._v(t._s(i.remodel))])],1):t._e(),i.isLack?e("div",{staticClass:"ml-auto"},[e(o.Z,{attrs:{color:"warning",small:""}},[t._v("mdi-alert-outline")])],1):t._e()])})),t.exItemView.data.id?e("div",{staticClass:"mt-2 d-flex ml-1"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("ItemList.補強増設")))]),e("div",{staticClass:"divider-line"})]):t._e(),t.exItemView.data.id?e("div",{staticClass:"d-flex align-center py-1"},[t.exItemView.data.iconTypeId?e("div",[e(r.Z,{attrs:{src:`./img/type/icon${t.exItemView.data.iconTypeId}.png`,width:"30",height:"30"}})],1):t._e(),e("div",{staticClass:"ml-1 text-truncate preset-item-name",class:{"is-lack":t.exItemView.isLack}},[t._v(" "+t._s(t.needTrans?t.$t(`${t.exItemView.data.name}`):t.exItemView.data.name)+" ")]),t.exItemView.remodel?e("div",{staticClass:"ml-1 d-flex align-center"},[e(o.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("div",{staticClass:"remodel-text"},[t._v(t._s(t.exItemView.remodel))])],1):t._e(),t.exItemView.isLack?e("div",{staticClass:"ml-auto"},[e(o.Z,{attrs:{color:"warning",small:""}},[t._v("mdi-alert-outline")])],1):t._e()]):t._e()],2),t.isPresetItemEmpty?t._e():e("div",{staticClass:"d-flex my-3 justify-end"},[t.selectedIndex>=0?e(s.Z,{attrs:{color:"primary"},on:{click:function(e){return t.expandPreset()}}},[t._v(t._s(t.$t("Common.展開")))]):t._e(),t.selectedIndex>=0&&t.selectedPreset.isLack?e(s.Z,{staticClass:"ml-2",attrs:{color:"warning"},on:{click:function(e){return t.expandPreset(!0)}}},[t._v(" "+t._s(t.$t("ItemList.在庫がなくても展開"))+" ")]):t._e(),t.isAACIMode?t._e():e(s.Z,{staticClass:"ml-2",attrs:{color:"error",disabled:t.selectedIndex<0},on:{click:function(e){return t.deletePreset()}}},[t._v(t._s(t.$t("Common.削除")))])],1)]),e(n.Z,{attrs:{fullscreen:""},model:{value:t.viewDialog,callback:function(e){t.viewDialog=e},expression:"viewDialog"}},[e(a.Z,[e("div",{staticClass:"d-flex px-2 py-1 align-center"},[e("div",[t._v(t._s(t.$t("Common.編集")))]),e(c.Z),e(s.Z,{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){t.viewDialog=!1}}},[e(o.Z,[t._v("mdi-close")])],1)],1),e(l.Z),e("div",{staticClass:"pa-2"},[t.isPresetItemEmpty?t._e():e("div",{staticClass:"mt-5 d-flex align-center"},[e(m.Z,{attrs:{label:t.$t("ItemList.名称"),outlined:"",clearable:"",dense:"",maxlength:"100","hide-details":""},model:{value:t.selectedPreset.name,callback:function(e){t.$set(t.selectedPreset,"name","string"===typeof e?e.trim():e)},expression:"selectedPreset.name"}}),e(s.Z,{staticClass:"ml-2",attrs:{color:"success",disabled:!t.selectedPreset.name||t.isAACIMode},on:{click:function(e){return t.savePreset()}}},[t._v(" "+t._s(t.selectedIndex>=0?t.$t("Common.更新"):t.$t("Common.保存"))+" ")])],1),t.isPresetItemEmpty?t._e():e("div",{staticClass:"items-container pa-2 mt-2"},[t._l(t.itemView,(function(i,s){return e("div",{key:`view${s}`,staticClass:"d-flex align-center py-1"},[i.data.iconTypeId?e("div",[e(r.Z,{attrs:{src:`./img/type/icon${i.data.iconTypeId}.png`,width:"30",height:"30"}})],1):t._e(),e("div",{staticClass:"ml-1 text-truncate preset-item-name",class:{"is-lack":i.isLack}},[t._v(" "+t._s(t.needTrans?t.$t(`${i.data.name}`):i.data.name)+" ")]),i.remodel?e("div",{staticClass:"ml-1 d-flex align-center"},[e(o.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("div",{staticClass:"remodel-text"},[t._v(t._s(i.remodel))])],1):t._e(),i.isLack?e("div",{staticClass:"ml-auto"},[e(o.Z,{attrs:{color:"warning",small:""}},[t._v("mdi-alert-outline")])],1):t._e()])})),t.exItemView.data.id?e("div",{staticClass:"mt-2 d-flex ml-1"},[e("div",{staticClass:"caption"},[t._v(t._s(t.$t("ItemList.補強増設")))]),e("div",{staticClass:"divider-line"})]):t._e(),t.exItemView.data.id?e("div",{staticClass:"d-flex align-center py-1"},[t.exItemView.data.iconTypeId?e("div",[e(r.Z,{attrs:{src:`./img/type/icon${t.exItemView.data.iconTypeId}.png`,width:"30",height:"30"}})],1):t._e(),e("div",{staticClass:"ml-1 text-truncate preset-item-name",class:{"is-lack":t.exItemView.isLack}},[t._v(" "+t._s(t.needTrans?t.$t(`${t.exItemView.data.name}`):t.exItemView.data.name)+" ")]),t.exItemView.remodel?e("div",{staticClass:"ml-1 d-flex align-center"},[e(o.Z,{attrs:{small:"",color:"teal accent-4"}},[t._v("mdi-star")]),e("div",{staticClass:"remodel-text"},[t._v(t._s(t.exItemView.remodel))])],1):t._e(),t.exItemView.isLack?e("div",{staticClass:"ml-auto"},[e(o.Z,{attrs:{color:"warning",small:""}},[t._v("mdi-alert-outline")])],1):t._e()]):t._e()],2),t.isPresetItemEmpty?t._e():e("div",{staticClass:"d-flex my-3 justify-end"},[t.selectedIndex>=0?e(s.Z,{attrs:{color:"primary"},on:{click:function(e){return t.expandPreset()}}},[t._v(t._s(t.$t("Common.展開")))]):t._e(),t.selectedIndex>=0&&t.selectedPreset.isLack?e(s.Z,{staticClass:"ml-2",attrs:{color:"warning"},on:{click:function(e){return t.expandPreset(!0)}}},[t._v(" "+t._s(t.$t("ItemList.在庫がなくても展開"))+" ")]):t._e(),t.isAACIMode?t._e():e(s.Z,{staticClass:"ml-2",attrs:{color:"error",disabled:t.selectedIndex<0},on:{click:function(e){return t.deletePreset()}}},[t._v(t._s(t.$t("Common.削除")))])],1)])],1)],1)],1)],1),e(d.Z,{attrs:{color:"success",top:t.snackbar},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(s.Z,t._b({attrs:{icon:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[e(o.Z,[t._v("mdi-close")])],1)]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.infoText?t.$t(`ItemList.${t.infoText}`):t.infoText)+" ")])],1)},p=[],f=i(144),v=i(9980),g=i.n(v),y=i(6162),_=i.n(y),x=i(361),b=i.n(x),I=i(2382),C=i(7327);class k{constructor(){(0,C.Z)(this,"id",0),(0,C.Z)(this,"name",""),(0,C.Z)(this,"items",[]),(0,C.Z)(this,"exItem",{id:0,remodel:0})}static convertOldItemPresets(t){if(!t||!t.length)return[];const e=[];for(let i=0;i<t.length;i+=1){const s=t[i];if("items"in s&&"exItem"in s){const t=new k;t.id=s.id,t.name=s.name,t.items=s.items,t.exItem=s.exItem,e.push(t)}else if("itemIds"in s&&"exItemId"in s){const t=new k;t.id=s.id,t.name=s.name;for(let e=0;e<s.itemIds.length;e+=1)t.items.push({id:s.itemIds[e],remodel:0});t.exItem={id:s.exItemId,remodel:0},e.push(t)}}return e}}var w=i(7783),Z=i(2783),S=i(7777),A=i(7525),$=i(6141),P=i(3631),T=f.ZP.extend({name:"ItemPreset",components:{draggable:g()},props:{value:{type:[I.Z,S.Z],required:!0},handleExpandItemPreset:{type:Function,required:!0},handleClose:{type:Function,required:!0},isMobile:{type:Boolean,default:!1}},data:()=>({items:[],presets:[],uniquePresets:[],isAACIMode:!1,selectedIndex:-1,selectedPreset:new k,snackbar:!1,infoText:"",viewDialog:!1}),mounted(){this.items=this.$store.state.items,this.presets=[];const t=this.$store.state.itemPresets;if(this.presets=k.convertOldItemPresets(t),this.presets.some((t=>0===t.id)))for(let e=0;e<this.presets.length;e+=1)this.presets[e].id=e+1;this.getAACIPreset()},watch:{value(){this.getAACIPreset()}},computed:{needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},disabledCommit(){return this.value instanceof S.Z?0===this.value.items.filter((t=>t.data.id>0)).length:0===this.value.items.concat(this.value.exItem).filter((t=>t.data.id>0)).length},itemView(){const t=[];for(let e=0;e<this.selectedPreset.items.length;e+=1){const{id:i,remodel:s,assumedId:a}=this.selectedPreset.items[e],n=this.items.find((t=>t.id===i));if(n)t.push({data:n,remodel:s});else if(a){const e=this.items.find((t=>t.id===a));e?t.push({data:e,remodel:0,isLack:!0}):t.push({data:new w.Z,remodel:0})}else t.push({data:new w.Z,remodel:0})}return t},exItemView(){const t=this.items.find((t=>t.id===this.selectedPreset.exItem.id));if(t)return{data:t,remodel:this.selectedPreset.exItem.remodel};const e=this.items.find((t=>t.id===this.selectedPreset.exItem.assumedId));return e?{data:e,remodel:0,isLack:!0}:{data:new w.Z,remodel:0}},isPresetItemEmpty(){return!this.selectedPreset.items.some((t=>t.id||t.assumedId))&&!this.selectedPreset.exItem.id&&!this.selectedPreset.exItem.assumedId}},methods:{clickedPreset(t){this.isAACIMode=!1;const e=this.presets.findIndex((e=>e.id===t));e>=0&&(this.selectedIndex=e,this.selectedPreset=b()(this.presets[e])),this.isMobile&&(this.viewDialog=!0)},clickedUniquePreset(t){this.isAACIMode=!0,this.selectedIndex=t,this.selectedPreset=b()(this.uniquePresets[t]),this.isMobile&&(this.viewDialog=!0)},readyPreset(){this.isAACIMode=!1;const t=new k,e=_()(this.presets.map((t=>t.id)));e&&(t.id=e),t.id+=1,"ja"!==this.$i18n.locale?t.name=`${this.$t("ItemList.プリセット")} ${t.id}`:t.name=`装備プリセット${t.id}`;for(let i=0;i<this.value.items.length;i+=1){const e=this.value.items[i];t.items.push({id:e.data.id,remodel:e.remodel})}this.value instanceof I.Z&&(t.exItem={id:this.value.exItem.data.id,remodel:this.value.exItem.remodel}),this.selectedIndex=-1,this.selectedPreset=t,this.isMobile&&(this.viewDialog=!0)},overwritePreset(){const{id:t,name:e}=this.selectedPreset;this.selectedPreset=new k,this.selectedPreset.id=t,this.selectedPreset.name=e;for(let i=0;i<this.value.items.length;i+=1){const t=this.value.items[i];this.selectedPreset.items.push({id:t.data.id,remodel:t.remodel})}this.value instanceof I.Z&&(this.selectedPreset.exItem={id:this.value.exItem.data.id,remodel:this.value.exItem.remodel})},savePreset(){this.selectedIndex>=0?this.presets[this.selectedIndex]=this.selectedPreset:this.presets.push(this.selectedPreset),this.$store.dispatch("updateItemPresets",this.presets),this.infoText="保存しました。",this.snackbar=!0,this.selectedIndex=-1,this.selectedPreset=new k,this.viewDialog=!1},deletePreset(){this.presets=this.presets.filter(((t,e)=>e!==this.selectedIndex)),this.$store.dispatch("updateItemPresets",this.presets),this.snackbar=!0,this.infoText="削除しました。",this.selectedIndex=-1,this.selectedPreset=new k,this.viewDialog=!1},expandPreset(t=!1){this.selectedPreset&&(this.viewDialog=!1,this.handleExpandItemPreset(this.selectedPreset,t),this.handleClose())},sortEnd(){for(let t=0;t<this.presets.length;t+=1)this.presets[t].id=t+1;this.$store.dispatch("updateItemPresets",this.presets)},getAACIPreset(){const t=this.value;if(!(t instanceof I.Z))return;const e=this.items.filter((t=>!t.isEnemyItem)),i=e.map((t=>new A.Z({master:t}))),s=this.$store.state.itemStock;let a=[];const n=!!s.length&&s.some((t=>t.num.some((t=>!!t))));if(n){let i=[];const n=this.$store.state.mainSaveData;if(n){const e=n.tempData[n.tempIndex];if(e){for(let t=0;t<e.fleetInfo.fleets.length;t+=1){const{ships:s}=e.fleetInfo.fleets[t];for(let t=0;t<s.length;t+=1){const e=s[t],a=e.items.filter((t=>t.data.id));a.length&&(i=i.concat(a.map((t=>({id:t.data.id,remodel:t.remodel,isChecked:!1}))))),e.exItem.data.id>0&&i.push({id:e.exItem.data.id,remodel:e.exItem.remodel,isChecked:!1})}}const{airbases:s}=e.airbaseInfo;for(let t=0;t<s.length;t+=1){const e=s[t].items.filter((t=>t.data.id));e.length&&(i=i.concat(e.map((t=>({id:t.data.id,remodel:t.remodel,isChecked:!1})))))}const a=t.items.concat(t.exItem).filter((t=>t.data.id));for(let t=0;t<a.length;t+=1){const e=a[t],s=i.findIndex((t=>t.id===e.data.id&&t.remodel===e.remodel));s>=0&&(i=i.filter(((t,e)=>e!==s)))}}}for(let t=0;t<s.length;t+=1){const n=s[t],l=e.find((t=>t.id===n.id));if(l)for(let t=10;t>=0;t-=1)for(let e=0;e<n.num[t];e+=1){const e=i.find((e=>e.id===l.id&&e.remodel===t&&!e.isChecked));e?e.isChecked=!0:a.push(new A.Z({master:l,remodel:t}))}}}else a=i.concat();const l=Z.Z.getShipAACITriggerItems(t,a,n),o=Z.Z.getShipAACITriggerItems(t,i);this.uniquePresets=[];for(let r=0;r<o.length;r+=1){const e=o[r],i=$.ZP.ANTI_AIR_CUTIN.find((t=>t.id===e.id));if(!i)continue;const s=l[r]??{id:e.id,items:[]},a=new k;a.id=i.id,a.items=e.items.map(((t,e)=>{const i=s.items[e];return i&&i.data.id?{id:i.data.id,remodel:i.remodel}:{id:0,remodel:0,assumedId:t.data.id}})),a.name=`${a.id}種`;const n=a.items.some((t=>!t.id)),d=e.items[e.items.length-1];if(P.Z.isValidItem(t.data,d.data,$.ZP.EXPAND_SLOT_INDEX,d.remodel)){const t=s.items[e.items.length-1];t&&t.data.id?a.exItem={id:t.data.id,remodel:t.remodel}:s.items[e.items.length-1]&&s.items[e.items.length-1].data.id||(a.exItem={id:0,remodel:d.remodel,assumedId:d.data.id}),a.items.splice(-1)}a.items.length<=t.data.slotCount&&this.uniquePresets.push(Object.assign(a,{isLack:n,spec1:`${i.c1+i.c2}`,spec2:`x${i.rateBonus.toFixed(2)}`}))}}}}),L=T,B=i(1001),D=(0,B.Z)(L,u,p,!1,null,"a664e786",null),E=D.exports},6984:function(t,e,i){i.d(e,{Z:function(){return A}});var s=i(3486),a=i(9223),n=i(4324),l=i(5495),o=i(9481),r=i(9449),d=i(9884),c=i(9780),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mx-2 mb-2 mb-sm-0 mx-sm-0 mt-2"},[e("div",{staticClass:"input-container"},[e(o.Z,{attrs:{label:t.$t("Common.陣形"),items:t.formations,"hide-details":"",outlined:"",dense:""},on:{change:t.updateTable},model:{value:t.formation,callback:function(e){t.formation=e},expression:"formation"}}),e(o.Z,{attrs:{label:t.$t("Fleet.対空CI"),items:t.antiAirItems,"hide-details":"",outlined:"",dense:""},on:{change:t.updateTable},model:{value:t.cutInId,callback:function(e){t.cutInId=e},expression:"cutInId"}}),e(c.Z,{attrs:{type:"number",min:"0",max:"999",label:t.$t("Fleet.攻撃機搭載数"),"hide-details":"",outlined:"",dense:""},on:{input:t.updateTable},model:{value:t.attackerSlot,callback:function(e){t.attackerSlot=t._n(e)},expression:"attackerSlot"}}),e(o.Z,{attrs:{label:t.$t("Fleet.対空射撃回避"),items:t.avoids,"hide-details":"",outlined:"",dense:""},on:{change:t.updateTable},model:{value:t.avoid,callback:function(e){t.avoid=e},expression:"avoid"}}),e(c.Z,{attrs:{type:"number",min:"0",max:"2",step:"0.1",label:t.$t("Fleet.加重対空補正"),"hide-details":"",outlined:"",dense:"",disabled:!t.isManual||t.showAntiAirMode},on:{input:t.updateTable},model:{value:t.adj1,callback:function(e){t.adj1=t._n(e)},expression:"adj1"}}),e(c.Z,{attrs:{type:"number",min:"0",max:"2",step:"0.1",label:t.$t("Fleet.艦隊防空補正"),"hide-details":"",outlined:"",dense:"",disabled:!t.isManual||t.showAntiAirMode},on:{input:t.updateTable},model:{value:t.adj2,callback:function(e){t.adj2=t._n(e)},expression:"adj2"}})],1),e("div",{staticClass:"mb-1 d-flex flex-wrap px-1"},[e("div",{staticClass:"align-self-end"},[e("span",{staticClass:"body-2 text--secondary mr-2"},[t._v(t._s(t.$t("Common.艦隊防空値")))]),e("span",[t._v(t._s(t.fleetAntiAir))])]),e("div",{staticClass:"align-self-end"},[e(d.Z,{staticClass:"mt-2 mb-0 ml-4",attrs:{dense:"","hide-details":"",label:t.$t("Result.対空CI一覧")},on:{change:t.setAntiAirCutInTable},model:{value:t.showAntiAirMode,callback:function(e){t.showAntiAirMode=e},expression:"showAntiAirMode"}})],1),t.showAntiAirMode?t._e():e("div",{staticClass:"ml-auto d-flex"},[e(s.Z,{staticClass:"mr-3",attrs:{label:t.$t("Fleet.空襲マス"),dense:"","hide-details":""},on:{change:t.updateTable},model:{value:t.isAirRaid,callback:function(e){t.isAirRaid=e},expression:"isAirRaid"}}),t.isEnemyMode||t.fleet.isUnion?t._e():e(s.Z,{staticClass:"mr-3",attrs:{label:t.$t("Result.対敵連合艦隊"),dense:"","hide-details":""},on:{change:t.updateTable},model:{value:t.isEnemyUnion,callback:function(e){t.isEnemyUnion=e},expression:"isEnemyUnion"}}),e(s.Z,{attrs:{label:t.$t("Fleet.敵側式"),dense:"","hide-details":""},on:{change:t.updateTable},model:{value:t.isEnemyFormula,callback:function(e){t.isEnemyFormula=e},expression:"isEnemyFormula"}})],1)]),t.showAntiAirMode?e("div",{staticClass:"d-flex flex-wrap justify-center"},[e("div",{staticClass:"cutin-table"},[e(a.Z),e(r.Z,{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("Fleet.艦娘")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Result.種別id")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Result.固定")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Result.変動")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Result.発動率")))]),e("th")])]),e("tbody",t._l(t.antiAirCutIns,(function(i,s){return e("tr",{key:s,staticClass:"stage2-row"},[e("td",{staticClass:"px-2 text-left"},[i.id?e(l.Z,{attrs:{src:`./img/ship/${i.id}.png`,height:"30",width:"120"}}):e("span",{staticClass:"no-cutin-span caption"},[t._v(t._s(t.$t("Result.不発")))])],1),e("td",[t._v(t._s(i.cutInId?i.cutInId:"-"))]),e("td",[t._v(t._s(i.fix))]),e("td",[t._v(t._s(i.variable))]),e("td",[t._v(t._s(i.rate)+" %")]),e("td",[e(n.Z,{attrs:{color:i.color}},[t._v("mdi-square-rounded")])],1)])})),0)]},proxy:!0}])}),e(a.Z)],1),t.showAntiAirMode?e("div",{staticClass:"graph-area"},[e("div",{staticClass:"contact-graph"},[e("doughnut-chart",{attrs:{data:t.graphData,options:t.options,"title-text":"","sp-normal":!0}})],1),e("div",{staticClass:"total-rate"},[e("div",[t._v(t._s(t.$t("Result.合計発動率")))]),e("div",[t._v(t._s(t.totalCutInRate)+" %")])])]):t._e()]):e("div",[e(a.Z),e(r.Z,{attrs:{"fixed-header":"",height:"54vh"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("Fleet.艦娘")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Common.加重対空")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.割合撃墜")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.固定撃墜")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.最低保証")))]),e("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Fleet.両成功")))])])]),e("tbody",t._l(t.stage2Data,(function(i,s){return e("tr",{key:s,staticClass:"stage2-row",class:{warn:i.sum>=t.attackerSlot/2,danger:i.sum>=t.attackerSlot}},[e("td",{staticClass:"d-flex align-center text-left"},[e("div",{staticClass:"mr-2"},[e(l.Z,{attrs:{src:`./img/ship/${i.id}.png`,height:"30",width:"120"}})],1),e("div",{staticClass:"d-none d-sm-block flex-grow-1"},[i.isEnemy?e("div",{staticClass:"stage2-id primary--text"},[t._v("id "+t._s(i.id))]):t._e(),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"stage2-name text-truncate"},[t._v(t._s(t.getShipName(i.data)))])])])]),e("td",[t._v(t._s(i.antiAirWeight))]),e("td",[t._v(t._s(i.rate)+" ( "+t._s(t.$t("Common.x機",{number:i.rateDown}))+" )")]),e("td",[t._v(t._s(i.fix))]),e("td",[t._v(t._s(i.min))]),e("td",[t._v(t._s(i.sum))])])})),0)]},proxy:!0}],null,!1,2698091509)})],1)])},h=[],u=i(144),p=i(6889),f=i(6141),v=i(1715),g=i(3403),y=i(5722),_=i(4026),x=i(5549),b=i(2399),I=i(5341);const C=t=>`${t.dataset.labels[t.dataIndex]}: ${t.parsed.toFixed(1)} %`;var k=u.ZP.extend({name:"AntiAirCalculator",components:{DoughnutChart:I.Z},props:{fleet:{type:[_.Z,p.Z],required:!0}},data:()=>({formation:1,avoid:0,attackerSlot:18,adj1:1,adj2:1,fleetAntiAir:"0.00",cutInId:0,isEnemyMode:!1,isEnemyFormula:!1,isAirRaid:!1,isEnemyUnion:!1,stage2Data:[],showAntiAirMode:!1,antiAirCutIns:[],totalCutInRate:0,graphData:{},options:{plugins:{legend:{display:!1},title:{display:!0,text:""},tooltip:{callbacks:{label:C}},datalabels:{formatter:t=>t>0?`${t.toFixed(1)}%`:""}}}}),computed:{isNotJapanese(){return"ja"!==this.$i18n.locale},needTrans(){const t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},ships(){return this.fleet instanceof p.Z?this.fleet.enemies.filter((t=>t.data.id>0)):this.fleet.ships.filter((t=>t.isActive&&!t.isEmpty))},formations(){if(this.isNotJapanese){const t=[];for(let e=0;e<f.ZP.FORMATIONS.length;e+=1){const{text:i,value:s,correction:a}=f.ZP.FORMATIONS[e];t.push({text:`${this.$t(`Common.${i}`)}`,value:s,correction:a})}return t}return f.ZP.FORMATIONS},avoids(){if(this.isNotJapanese){const t=[];for(let e=0;e<f.ZP.AVOID_TYPE.length;e+=1){const{text:i,value:s,c1:a,c2:n,c3:l,c4:o}=f.ZP.AVOID_TYPE[e];t.push({text:`${this.$t(`Common.回避性能.${i}`)}`,value:s,c1:a,c2:n,c3:l,c4:o})}return t}return f.ZP.AVOID_TYPE},isManual(){return this.avoid===f.ZP.MANUAL_AVOID},antiAirItems(){const t=[{text:`${this.$t("Result.不発")}`,value:0,rate:0,detail:""}],e=this.fleet.allAntiAirCutIn,i=this.fleet.shootDownList.map((t=>t.border));let s=0;for(let n=0;n<i.length;n+=1){const a=i[n];if(1===a)break;const{id:l}=e[n],o=f.ZP.ANTI_AIR_CUTIN.find((t=>t.id===l)),r=100*a-s;s+=r;const d=t.find((t=>t.value===l));o&&d?d.rate+=r:o&&t.push({text:o.text,value:o.id,rate:r,detail:`[ ${o.remarks} ]`})}t[0].rate=100-s;const a=[];for(let n=0;n<t.length;n+=1){const e=t[n];a.push({text:`${e.text}(${Math.floor(10*e.rate)/10}%) ${e.detail}`,value:e.value})}return a}},mounted(){this.isEnemyMode=this.ships[0]instanceof y.Z,this.isEnemyFormula=this.ships[0]instanceof y.Z,this.formation=this.fleet.formation,this.updateTable()},methods:{updateTable(){let t=1,e=1;const i=f.ZP.AVOID_TYPE.find((t=>t.value===this.avoid));this.avoid!==f.ZP.MANUAL_AVOID&&i?(this.adj1=i.c1,this.adj2=i.c2,t=i.c3,e=i.c4):(this.adj1=Math.min(Math.abs(this.adj1),2),this.adj2=Math.min(Math.abs(this.adj2),2));let s=f.ZP.FORMATIONS.find((t=>t.value===this.formation));s||(s=f.ZP.FORMATIONS.find((()=>!0)));const a={text:"",value:0,c1:this.adj1,c2:this.adj2,c3:t,c4:e};let n=new g.Z;const l=f.ZP.ANTI_AIR_CUTIN.find((t=>t.id===this.cutInId));l&&(n=new g.Z(l.id,l.rateBonus,l.c1,l.c2,l.rate));const o=v.Z.getStage2(this.ships,this.isEnemyFormula,this.fleet.isUnion||this.isEnemyUnion,s,n,this.isAirRaid,a),r=o[o.length-1];this.stage2Data=[];for(let d=0;d<this.ships.length;d+=1){const t=this.ships[d],e=r.antiAirWeightList[d],i=r.rateDownList[d],s=Math.floor(this.attackerSlot*i),a=r.fixDownList[d],n=r.minimumDownList[d],l=t instanceof y.Z;this.stage2Data.push({id:t.data.id,data:t.data,rate:`${(100*i).toFixed(2)}%`,rateDown:s,fix:a,min:n,sum:s+a+n,antiAirWeight:e,isEnemy:l})}this.fleetAntiAir=this.fleet.getFleetAntiAir(s,a).toFixed(2)},getShipName(t){if(this.needTrans&&t instanceof x.Z){const e=x.Z.getSuffix(t),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}if(this.needTrans&&t.name){const e=b.Z.getSuffix(t.name),i=t=>t?`${this.$t(t)}`:"";return e.map((t=>i(t))).join("")}return t.name||""},setAntiAirCutInTable(){this.antiAirCutIns=[];for(let m=0;m<this.ships.length;m+=1){const t=this.ships[m];for(let e=0;e<t.antiAirCutIn.length;e+=1){const i=t.antiAirCutIn[e];this.antiAirCutIns.push({id:t.data.id,cutInId:i.id,fix:i.fixCorrA+i.fixCorrB,variable:i.rateCorr,rate:0,color:"#000"})}}const t=f.ZP.ANTI_AIR_CUT_IN_PRIORITIES;this.antiAirCutIns.sort(((e,i)=>{const s=t.indexOf(e.cutInId),a=t.indexOf(i.cutInId);return(s>=0?s:99)-(a>=0?a:99)}));const e=this.fleet.allAntiAirCutIn,i=this.fleet.shootDownList.map((t=>t.border));let s=0;if(this.antiAirCutIns.length===e.length)for(let m=0;m<e.length;m+=1){const t=i[m],e=100*t-s;s+=e,this.antiAirCutIns[m].rate=Math.floor(10*e)/10||Math.floor(100*e)/100||Math.floor(1e3*e)/1e3}const a=this.antiAirItems.length,n=["rgba(164,164,164,0.7)"],l=Math.floor(360/a);for(let m=0;m<f.ZP.ANTI_AIR_CUTIN.length;m+=1)n.push("hsla(180,100%,60%,0.5)");const o=[];for(let m=0;m<this.antiAirCutIns.length;m+=1){const t=this.antiAirCutIns[m].cutInId;o.includes(t)||(n[t]=`hsla(${218-l*o.length},85%,70%,0.7)`,o.push(t))}const r=100-s;this.antiAirCutIns.push({id:0,cutInId:0,fix:1,rate:Math.floor(10*r)/10||Math.floor(100*r)/100||Math.floor(1e3*r)/1e3,variable:1,color:""});for(let m=0;m<this.antiAirCutIns.length;m+=1){const t=this.antiAirCutIns[m];n[t.cutInId]&&(t.color=n[t.cutInId])}const d=this.antiAirCutIns.map((t=>t.cutInId?`${t.cutInId}種`:this.$t("Result.不発"))),c={labels:d,datasets:[{data:[0,0,0,100],backgroundColor:this.antiAirCutIns.map((t=>n[t.cutInId])),borderColor:"#fff",labels:d}]};c.datasets[0].data=this.antiAirCutIns.map((t=>+t.rate)),this.totalCutInRate=Math.floor(10*s)/10,this.graphData=c}}}),w=k,Z=i(1001),S=(0,Z.Z)(w,m,h,!1,null,"70236b22",null),A=S.exports},4651:function(t,e,i){i.d(e,{Z:function(){return _}});var s=i(8419),a=i(6379),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"ma-2"},[e("div",{staticClass:"d-flex justify-center"},[e(a.Z,{attrs:{row:"",dense:t.isMobile},on:{change:t.changeAirState},model:{value:t.airState,callback:function(e){t.airState=e},expression:"airState"}},[e(s.Z,{attrs:{label:t.$t("Common.制空権確保"),value:0}}),e(s.Z,{attrs:{label:t.$t("Common.航空優勢"),value:1}}),e(s.Z,{attrs:{label:t.$t("Common.航空劣勢"),value:2}})],1)],1),e("div",{staticClass:"graph-area"},[e("div",{staticClass:"contact-graph"},[e("doughnut-chart",{attrs:{data:t.graphData,options:t.options,"title-text":t.$t("Result.対敵通常艦隊")}}),e("div",{staticClass:"total-contact"},[e("div",[t._v(t._s(t.$t("Result.合計触接率")))]),e("div",[t._v(t._s(t.rates[t.airState].sumRate.toFixed(1))+" %")])])],1),e("div",{staticClass:"contact-graph"},[e("doughnut-chart",{attrs:{data:t.unionGraphData,options:t.unionOptions,"title-text":t.$t("Result.対敵連合艦隊")}}),e("div",{staticClass:"total-contact"},[e("div",[t._v(t._s(t.$t("Result.合計触接率")))]),e("div",[t._v(t._s(t.unionRates[t.airState].sumRate.toFixed(1))+" %")])])],1)]),e("div",{staticClass:"contact-legends"},t._l(t.graphLegends,(function(i,s){return e("div",{key:`legend${s}`,staticClass:"d-flex"},[e("div",{staticClass:"legend-color-label",style:`background-color: ${i.color}`}),e("div",{staticClass:"ml-2"},[t._v(t._s(i.text))])])})),0),e("div",{staticClass:"mt-2 mt-sm-0 text-caption text-sm-body-2"},[t._v(t._s(t.$t("Result.対敵通常艦隊")))]),e("div",{staticClass:"contact-row header-row"},[e("div",{staticClass:"text-left"},[t._v(t._s(t.$t("Result.制空状態")))]),e("div",[t._v(t._s(t.$t("Result.触接開始率")))]),e("div",[t._v("×1.2"+t._s(t.$t("Result.触接率")))]),e("div",[t._v("×1.17"+t._s(t.$t("Result.触接率")))]),e("div",[t._v("×1.12"+t._s(t.$t("Result.触接率")))]),e("div",[t._v(t._s(t.$t("Result.合計触接率")))])]),t._l(t.rates,(function(i,s){return e("div",{key:s,staticClass:"contact-row",class:{selected:s===t.airState}},[e("div",{staticClass:"text-left"},[t._v(t._s(t.$t(`Common.${t.airStatus[s]}`)))]),e("div",[t._v(t._s(i.startRate.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact120.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact117.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact112.toFixed(1))+" %")]),e("div",[t._v(t._s(i.sumRate.toFixed(1))+" %")])])})),e("div",{staticClass:"mt-2 text-caption text-sm-body-2"},[t._v(t._s(t.$t("Result.対敵連合艦隊")))]),e("div",{staticClass:"contact-row header-row"},[e("div",{staticClass:"text-left"},[t._v(t._s(t.$t("Result.制空状態")))]),e("div",[t._v(t._s(t.$t("Result.触接開始率")))]),e("div",[t._v("×1.2"+t._s(t.$t("Result.触接率")))]),e("div",[t._v("×1.17"+t._s(t.$t("Result.触接率")))]),e("div",[t._v("×1.12"+t._s(t.$t("Result.触接率")))]),e("div",[t._v(t._s(t.$t("Result.合計触接率")))])]),t._l(t.unionRates,(function(i,s){return e("div",{key:"s"+s,staticClass:"contact-row",class:{selected:s===t.airState}},[e("div",{staticClass:"text-left"},[t._v(t._s(t.$t(`Common.${t.airStatus[s]}`)))]),e("div",[t._v(t._s(i.startRate.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact120.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact117.toFixed(1))+" %")]),e("div",[t._v(t._s(i.contact112.toFixed(1))+" %")]),e("div",[t._v(t._s(i.sumRate.toFixed(1))+" %")])])}))],2)},l=[],o=i(144),r=i(4026),d=i(5341),c=i(6889),m=i(7777);const h=["x12触接","x117触接","x112触接","触接不発"],u=["rgba(100, 180, 255, 0.7)","rgba(80, 220, 120, 0.7)","rgba(255, 160, 100, 0.7)","rgba(128, 128, 128, 0.5)"],p=t=>`${t.dataset.labels[t.dataIndex]}: ${t.parsed.toFixed(1)} %`;var f=o.ZP.extend({name:"ContactRates",components:{DoughnutChart:d.Z},props:{fleet:{type:[r.Z,c.Z,m.Z],required:!0}},data:()=>({airState:0,airStatus:["制空権確保","航空優勢","航空劣勢"],graphData:{},unionGraphData:{},rates:[],unionRates:[],options:{plugins:{legend:{display:!1},title:{display:!0,text:""},tooltip:{callbacks:{label:p}},datalabels:{formatter:t=>t>0?`${t.toFixed(1)}%`:""}}},unionOptions:{plugins:{legend:{display:!1},title:{display:!0,text:""},tooltip:{callbacks:{label:p}},datalabels:{formatter:t=>t>0?`${t.toFixed(1)}%`:""}}},graphLegends:[],isMobile:!0}),created(){this.calculate()},mounted(){this.isMobile=window.innerWidth<600},methods:{calculate(){this.rates=this.fleet.getContactRates(),this.unionRates=this.fleet.getContactRates(!0),this.graphData=this.getGraphData(this.rates[this.airState]),this.unionGraphData=this.getGraphData(this.unionRates[this.airState]),this.graphLegends=[];for(let t=0;t<4;t+=1)this.graphLegends.push({text:`${this.$t(`Result.${h[t]}`)}`,color:u[t]});this.isMobile=window.innerWidth<600},changeAirState(){this.graphData=this.getGraphData(this.rates[this.airState]),this.unionGraphData=this.getGraphData(this.unionRates[this.airState])},getGraphData(t){const e={labels:h,datasets:[{data:[0,0,0,100],backgroundColor:u,borderColor:"#fff",labels:h}]};return t&&(e.datasets[0].data=[t.contact120,t.contact117,t.contact112,100-t.sumRate]),e}}}),v=f,g=i(1001),y=(0,g.Z)(v,n,l,!1,null,"1b243ede",null),_=y.exports},2783:function(t,e,i){i.d(e,{Z:function(){return h}});var s=i(6486),a=i(7525),n=i(2382),l=i(3631),o=i(6141),r=i(4026),d=i(906),c=i(3628),m=i(7777);class h{static getShipAACITriggerItems(t,e,i=!1){const s=e.filter((e=>l.Z.isValidItem(t.data,e.data))),n=h.getBestAAItem(t,s,{iconTypeId:16}),r=h.getBestAAItem(t,s,{iconTypeId:11,minAA:1}),d=h.getBestAAItem(t,s,{apiTypeId:21,isSpecial:!0}),c=t.data.id,m=[];if(54===t.data.type2){const e=h.getBestAAItem(t,s,{iconTypeId:11}),l=s.findIndex((t=>t.data.id===n.data.id&&t.remodel===n.remodel)),o=h.getBestAAItem(t,i?s.filter(((t,e)=>e!==l)):s,{iconTypeId:16}),r=s.findIndex((t=>533===t.data.id))??new a.Z,d=s[r]??new a.Z,c=s.find(((t,e)=>533===t.data.id&&(!i||e!==r)))??new a.Z,m=h.getBestAAItem(t,s,{iconTypeId:11,minAA:4});return[{id:1,items:[n,o,e]},{id:2,items:[n,e]},{id:3,items:[n,o]},{id:48,items:[d,c,m]}]}if(428===c)return[{id:10,items:[n,r,d]},{id:11,items:[n,d]}];if(141===c){const e=h.getBestAAItem(t,s,{apiTypeId:21});return[{id:14,items:[n,r,e]},{id:15,items:[n,e]}]}if(622===c){const e=h.getBestAAItem(t,s,{apiTypeId:21});m.push({id:16,items:[n,r,e]})}if(470===c){const e=h.getBestAAItem(t,s,{apiTypeId:21});return[{id:16,items:[n,r,e]},{id:17,items:[n,e]}]}if(470===c||979===c){const e=h.getBestAAItem(t,s,{apiTypeId:21});return[{id:17,items:[n,e]},{id:18,items:[d]}]}if(418===c&&m.push({id:18,items:[d]}),487===c){const e=h.getBestAAItem(t,s,{iconTypeId:16,maxAA:7});return[{id:19,items:[e,d]},{id:20,items:[d]}]}if(488===c&&m.push({id:21,items:[n,r]}),548===c&&m.push({id:22,items:[d]}),530===c||539===c){const e=h.getBestAAItem(t,s,{apiTypeId:21,maxAA:8});return[{id:22,items:[e]}]}if(478===c){const e=h.getBestAAItem(t,s,{apiTypeId:21,maxAA:8});m.push({id:22,items:[n,e]})}if([82,88,553,554].includes(c)){const e=s.find((t=>274===t.data.id))??new a.Z,i=h.getBestAAItem(t,s,{apiTypeId:18});return[{id:25,items:[r,i,e]},{id:28,items:[r,e]}]}if(148===c){const t=s.find((t=>274===t.data.id))??new a.Z;m.push({id:28,items:[r,t]})}if(557!==c&&558!==c||m.push({id:29,items:[n,r]}),477===c){const e=s.findIndex((t=>t.data.id===n.data.id&&t.remodel===n.remodel)),a=h.getBestAAItem(t,i?s.filter(((t,i)=>i!==e)):s,{iconTypeId:16}),l=s.findIndex(((t,i)=>i!==e&&t.data.id===a.data.id&&t.remodel===a.remodel)),o=h.getBestAAItem(t,i?s.filter(((t,i)=>i!==e&&i!==l)):s,{iconTypeId:16}),r=h.getBestAAItem(t,s,{apiTypeId:21,maxAA:8});return[{id:24,items:[n,r]},{id:30,items:[n,a,o]},{id:31,items:[n,a]}]}if(579===c||630===c){const e=s.findIndex((t=>t.data.id===n.data.id&&t.remodel===n.remodel)),a=h.getBestAAItem(t,i?s.filter(((t,i)=>i!==e)):s,{iconTypeId:16}),l=s.findIndex(((t,i)=>i!==e&&t.data.id===a.data.id&&t.remodel===a.remodel)),o=h.getBestAAItem(t,i?s.filter(((t,i)=>i!==e&&i!==l)):s,{iconTypeId:16}),r=h.getBestAAItem(t,s,{apiTypeId:21,minAA:4});return[{id:30,items:[n,a,o]},{id:33,items:[n,r]}]}if(o.ZP.GBR.includes(t.data.type2)||6===t.data.type2&&t.data.version>=2){const e=s.find((t=>300===t.data.id))??new a.Z,n=s.find((t=>191===t.data.id))??new a.Z,l=s.findIndex((t=>301===t.data.id)),o=s[l]??new a.Z,r=s.find(((t,e)=>301===t.data.id&&(!i||e!==l)))??new a.Z;t.data.isBB&&m.push({id:32,items:[e,n]}),m.push({id:32,items:[o,n]}),m.push({id:32,items:[o,r]})}if(91===t.data.type2){const t=s.findIndex((t=>308===t.data.id))??new a.Z,e=s[t]??new a.Z,n=s.find(((e,s)=>308===e.data.id&&(!i||s!==t)))??new a.Z,l=s.findIndex((t=>313===t.data.id))??new a.Z,o=s[l]??new a.Z,r=s.find(((t,e)=>313===t.data.id&&(!i||e!==l)))??new a.Z,d=s.findIndex((t=>284===t.data.id))??new a.Z,c=s[d]??new a.Z,m=s.find(((t,e)=>284===t.data.id&&(!i||e!==d)))??new a.Z,h=s.find((t=>307===t.data.id))??new a.Z,u=[];return o.data.id&&u.push(o),r.data.id&&u.push(r),u.length<2&&c.data.id&&u.push(c),u.length<2&&u.push(m),[{id:34,items:[e,n]},{id:35,items:[e,o]},{id:36,items:u.concat(h)},{id:37,items:[o,r]}]}if(99===t.data.type2){const t=s.findIndex((t=>363===t.data.id))??new a.Z,e=s[t]??new a.Z,n=s.find(((e,s)=>363===e.data.id&&(!i||s!==t)))??new a.Z,l=s.findIndex((t=>362===t.data.id))??new a.Z,o=s[l]??new a.Z,r=s.find(((t,e)=>362===t.data.id&&(!i||e!==l)))??new a.Z,d=s.find((t=>307===t.data.id))??new a.Z,c=[];return e.data.id&&c.push(e),n.data.id&&c.push(n),c.length<2&&o.data.id&&c.push(o),c.length<2&&c.push(r),[{id:38,items:[e,n]},{id:39,items:[e,o]},{id:40,items:c.concat(d)},{id:41,items:c}]}if(546===c||911===c||916===c){const e=s.findIndex((t=>464===t.data.id))??new a.Z,n=s[e]??new a.Z,l=s.find(((t,s)=>464===t.data.id&&(!i||s!==e)))??new a.Z,o=s.find((t=>460===t.data.id))??new a.Z,d=s.find((t=>142===t.data.id))??new a.Z,c=s.find((t=>275===t.data.id))??new a.Z,m=h.getBestAAItem(t,s,{apiTypeId:21,minAA:6}),u=[n,o.data.id?o:d];return[{id:26,items:[r,c]},{id:42,items:u.concat([m,l])},{id:43,items:u.concat(l)},{id:44,items:u.concat(m)},{id:45,items:u}]}if(593===c){const t=s.find((t=>503===t.data.id))??new a.Z,e=s.find((t=>502===t.data.id))??new a.Z;m.push({id:46,items:[t.data.id?t:e,r,d]})}if(23===t.data.type2&&t.data.antiAir>=70){const e=s.findIndex((t=>529===t.data.id))??new a.Z,n=s[e]??new a.Z,l=s.find(((t,s)=>529===t.data.id&&(!i||s!==e)))??new a.Z,o=s.find((t=>505===t.data.id))??new a.Z,r=h.getBestAAItem(t,s,{iconTypeId:11,minAA:4});m.push({id:47,items:[n,l]}),m.push({id:47,items:[n,r]}),m.push({id:47,items:[n,o]})}if(m.length<2){const e=h.getBestAAItem(t,s,{iconTypeId:16,isSpecial:!0}),a=s.findIndex((t=>t.data.id===e.data.id&&t.remodel===e.remodel)),l=h.getBestAAItem(t,i?s.filter(((t,e)=>e!==a)):s,{iconTypeId:16,isSpecial:!0});m.push({id:5,items:[e,l,r]});const o=h.getBestAAItem(t,s,{apiTypeId:36});m.push({id:7,items:[n,r,o]}),m.push({id:8,items:[e,r]}),m.push({id:9,items:[n,o]});const c=h.getBestAAItem(t,s,{apiTypeId:21,minAA:3});m.push({id:12,items:[d,r,c]}),m.push({id:13,items:[e,r,d]})}return m.sort(((t,e)=>t.id-e.id))}static getBestAAItem(t,e,i){const l=e.filter((t=>{let e=!0;return i.apiTypeId&&(e&&=t.data.apiTypeId===i.apiTypeId),i.iconTypeId&&(e&&=t.data.iconTypeId===i.iconTypeId),i.minAA&&(e&&=t.data.antiAir>=i.minAA),i.maxAA&&(e&&=t.data.antiAir<=i.maxAA),i.isSpecial&&(e&&=t.data.isSpecial),e}));let o=0,r=0,d=0,c=new a.Z;for(let a=0;a<l.length;a+=1){const e=l[a],i=n.Z.getItemBonus(t.data,[e]),m=(0,s.sum)(i.map((t=>t.antiAir??0))),h=e.antiAirBonus+(16===e.data.iconTypeId?50:10)*m,u=e.antiAirWeight+m,p=e.dayBattleFirePower+(0,s.sum)(i.map((t=>t.firePower??0)));let f=!1;(h>o||h===o&&u>r||h===o&&u===r&&p>d)&&(f=!0),f&&(o=h,r=u,d=p,c=e)}return c}static getOptimizedFighterFleet(t){const e=[],i=[],s=[],l=[];for(let a=0;a<t.length;a+=1){const n=t[a];if(!n.isEmpty&&n.isActive)for(let t=0;t<n.items.length;t+=1){const o=n.items[t];o.data.isFighter&&(6===o.data.apiTypeId?(e.push({shipIndex:a,slotIndex:t,slot:o.fullSlot}),i.push(o)):45===o.data.apiTypeId&&(s.push({shipIndex:a,slotIndex:t,slot:o.fullSlot}),l.push(o)))}}e.sort(((t,e)=>e.slot-t.slot)),s.sort(((t,e)=>e.slot-t.slot)),i.sort(((t,e)=>e.actualAntiAir-t.actualAntiAir)),l.sort(((t,e)=>e.actualAntiAir-t.actualAntiAir));for(let n=0;n<i.length;n+=1){const{shipIndex:s,slotIndex:l,slot:o}=e[n];t[s].items[l]=new a.Z({item:i[n],slot:o})}for(let n=0;n<s.length;n+=1){const{shipIndex:e,slotIndex:i,slot:o}=s[n];t[e].items[i]=new a.Z({item:l[n],slot:o})}const o=[];for(let a=0;a<t.length;a+=1){const e=t[a];o.push(new n.Z({ship:e,items:e.items}))}return o}static reflectStockData(t,e,i,s){const{airbases:a}=t.airbaseInfo,l=[];for(let n=0;n<a.length;n+=1){const t=a[n],e=[];for(let a=0;a<t.items.length;a+=1)e.push(h.getReflectedItem(t.items[a],i,s));l.push(new m.Z({airbase:t,items:e}))}const{fleets:o}=t.fleetInfo,u=[],p=[];for(let d=0;d<o.length;d+=1){const t=o[d],a=[];for(let l=0;l<t.ships.length;l+=1){const o=t.ships[l];if(!o.data.id){a.push(o);continue}let r;const d=e.filter((t=>t.id===o.data.id&&!p.includes(t.uniqueId)));if(d.length){d.sort(((t,e)=>{if(o.area&&t.area!==e.area){if(t.area===o.area)return-1;if(e.area===o.area)return 1;if(0===t.area)return-1;if(0===e.area)return 1}return t.level!==e.level||t.improvement.luck!==e.improvement.luck?e.level-t.level:t.area-e.area}));const t=d[0];r=new n.Z({ship:o,level:t.level,hp:(t.level>99?o.data.hp2:o.data.hp)+t.improvement.hp,asw:n.Z.getStatusFromLevel(t.level,o.data.maxAsw,o.data.minAsw)+t.improvement.asw,luck:o.data.luck+t.improvement.luck,area:t.area,uniqueId:t.uniqueId,releaseExpand:t.releaseExpand}),p.push(t.uniqueId)}else r=s?new n.Z:new n.Z({ship:o,noStock:!0});const c=[];for(let t=0;t<r.items.length;t+=1)c.push(h.getReflectedItem(r.items[t],i,s));const m=h.getReflectedItem(r.exItem,i,s,!r.releaseExpand);a.push(new n.Z({ship:r,items:c,exItem:m,noStock:r.noStock}))}u.push(new r.Z({fleet:t,ships:a}))}return{airbaseInfo:new d.Z({info:t.airbaseInfo,airbases:l}),fleetInfo:new c.Z({info:t.fleetInfo,fleets:u})}}static getReflectedItem(t,e,i,s=!1){if(!t.data.id)return t;const n=e.find((e=>e.id===t.data.id&&e.num.some((t=>t>0))));if(n){let e=10;87===t.data.id&&t.remodel<7&&(e=6);for(let i=e;i>=0;i-=1)if(n.num[i])return n.num[i]-=1,new a.Z({item:t,remodel:i,noStock:s})}else if(i)return new a.Z;return new a.Z({item:t,noStock:!0})}}}}]);
//# sourceMappingURL=261.788fd872.js.map