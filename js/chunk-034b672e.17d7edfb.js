(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-034b672e"],{"11cf":function(t,e,a){"use strict";a("4e12")},"17b3":function(t,e,a){},"210b":function(t,e,a){},"217a":function(t,e,a){},3058:function(t,e,a){"use strict";a("6b74")},"30c7":function(t,e,a){"use strict";a("a489")},"33e9":function(t,e,a){},"3d95":function(t,e,a){var i=a("a243"),s=a("cd9d");function n(t){return i(t,s)}t.exports=n},4059:function(t,e,a){"use strict";a("ef71")},"4e12":function(t,e,a){},"4fb5":function(t,e,a){},"6b74":function(t,e,a){},"9a18":function(t,e,a){"use strict";var i=a("ba0d");e["a"]=i["a"]},a243:function(t,e,a){var i=a("ecf6"),s=NaN;function n(t,e){var a=null==t?0:t.length;return a?i(t,e)/a:s}t.exports=n},a489:function(t,e,a){},aff5:function(t,e,a){var i=a("23e7");i({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},c0e6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ma-4"},[a("div",{staticClass:"mb-3"},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-database-cog")]),a("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("Home.艦娘 / 装備管理")))])],1),a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#ships"}},[t._v(t._s(t.$t("Fleet.艦娘")))]),a("v-tab",{attrs:{href:"#items",disabled:t.loading}},[t._v(t._s(t.$t("Fleet.装備")))]),a("v-tab",{attrs:{href:"#read",disabled:t.readOnlyMode||t.loading}},[t._v(t._s(t.$t("Database.反映")))]),a("v-tab",{attrs:{href:"#share",disabled:t.loading}},[t._v(t._s(t.$t("Common.共有")))])],1),a("v-divider"),a("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"ships"}},[a("ships")],1),a("v-tab-item",{attrs:{value:"items"}},[a("items")],1),a("v-tab-item",{attrs:{value:"read"}},[a("div",{staticClass:"general-container px-4 my-2"},[a("div",{staticClass:"tutorial_box pa-0"},[a("v-btn",{class:{secondary:t.showHowToDoIt,primary:!t.showHowToDoIt},on:{click:function(e){t.showHowToDoIt=!t.showHowToDoIt}}},[t.showHowToDoIt?[a("v-icon",[t._v("mdi-close")]),t._v(t._s(t.$t("Database.反映手順を隠す")))]:[a("v-icon",[t._v("mdi-plus")]),t._v(t._s(t.$t("Database.反映手順を表示")))]],2)],1),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v("1. "+t._s(t.$t("Database.艦これにログイン後、艦これ画面上で右クリックし、コンテキストメニューから「検証」を選択する。")))]),a("div",[t._v("※ "+t._s(t.$t("Database.以降、反映手順については、PC版ブラウザ「Google Chrome」における説明となっています。")))]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial1.jpg"}})],1)]):t._e(),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v("2. "+t._s(t.$t("Database.ウインドウが開くので、「Console」タブを開き、「Clear console」ボタンを押下する。")))]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial2.jpg"}})],1)]):t._e(),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v("3. "+t._s(t.$t("Database.コンソールに「x」と入力してEnterを押下、表示されたオブジェクトについて矢印を選択して内容を展開する。")))]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial3.jpg"}})],1)]):t._e(),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v("4. "+t._s(t.$t("Database.4つあるオブジェクトのなかで、内容が「{__esModule: true, default: ƒ}」となっているオブジェクトを探す。")))]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial4.jpg"}})],1)]):t._e(),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v("5. "+t._s(t.$t("Database.手順4で見つけたオブジェクトのうち、「default」まで展開したときに中に「model」が存在するものを探す。")))]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial5.jpg"}})],1)]):t._e(),t.showHowToDoIt?a("v-card",{staticClass:"tutorial_box"},[a("div",[t._v(" 6. "+t._s(t.$t("Database.「model」が存在する方の「default」の上で右クリックし、「Store function as global variable」（なければ「Store as global variable」）を選択する。"))+" ")]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial6.jpg"}})],1),a("div",[t._v(" "+t._s(t.$t("Database.選択すると、下記のように「temp1」と出てきます。もし、temp2など数字が違っている場合、次の手順7の注意事項欄を見てください。"))+" ")]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial6_2.jpg"}})],1)]):t._e(),a("v-card",{staticClass:"tutorial_box"},[t.showHowToDoIt?a("div",[t._v(" 7. "+t._s(t.$t("Database.下記のJavaScriptコードをconsoleに貼り付け、Enterを押下する。"))+" ※ "+t._s(t.$t("Database.押下後、『undefined』と表示されれば、クリップボードに自動でコピーされており、そのまま手順8の入力欄に貼り付けることができます。"))+" ")]):t._e(),a("div",[a("v-tabs",{model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[a("v-tab",{attrs:{href:"#ship_code"}},[t._v(t._s(t.$t("Fleet.艦娘")))]),a("v-tab",{attrs:{href:"#item_code"}},[t._v(t._s(t.$t("Fleet.装備")))])],1)],1),a("v-divider",{staticClass:"mb-3"}),a("v-tabs-items",{attrs:{touchless:!0},model:{value:t.code_tab,callback:function(e){t.code_tab=e},expression:"code_tab"}},[a("v-tab-item",{attrs:{value:"ship_code"}},[a("div",{staticClass:"d-flex mt-2"},[a("v-btn",{attrs:{color:"primary",disabled:t.successCopy},on:{click:function(e){return t.copyCode("ships-read-code")}}},[t._v(" "+t._s(t.$t("Common.コードをコピー"))+" ")]),a("v-radio-group",{staticClass:"align-self-center mt-0 ml-3",attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedShip,callback:function(e){t.includeUnLockedShip=e},expression:"includeUnLockedShip"}},[a("v-radio",{attrs:{label:t.$t("Database.未ロックも含める"),value:!0}}),a("v-radio",{attrs:{label:t.$t("Database.ロック済みのみ"),value:!1}})],1),t.includeUnLockedShip?a("input",{attrs:{id:"ships-read-code",type:"text",value:"copy(JSON.stringify(Object.entries(temp1.model.ship._map).map(([,v])=>{return{'id': v._o.api_ship_id,'lv': v._o.api_lv,'locked': v._o.api_locked,'st': v._o.api_kyouka,'exp':v._o.api_exp,'ex':v._o.api_slot_ex,'area':v._o.api_sally_area}}),['id','lv','st','exp','ex','area']))"}}):a("input",{attrs:{id:"ships-read-code",type:"text",value:"copy(JSON.stringify(Object.entries(temp1.model.ship._map).map(([,v])=>{return{'id': v._o.api_ship_id,'lv': v._o.api_lv,'locked': v._o.api_locked,'st': v._o.api_kyouka,'exp':v._o.api_exp,'ex':v._o.api_slot_ex,'area':v._o.api_sally_area}}).filter(v=>v.locked),['id','lv','st','exp','ex','area']))"}})],1),a("v-card",{staticClass:"mt-6 copy_code",attrs:{elevation:"4"}},[a("div",[t._v(" copy(JSON.stringify(Object.entries("),a("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.ship._map).map(([,v])=>{return{'id': v._o.api_ship_id,'lv': v._o.api_lv,'locked': v._o.api_locked,'st': v._o.api_kyouka,'exp':v._o.api_exp,'ex':v._o.api_slot_ex,'area':v._o.api_sally_area}})"),t.includeUnLockedShip?t._e():a("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv','st','exp','ex','area'])) ")])])],1),a("v-tab-item",{attrs:{value:"item_code"}},[a("div",{staticClass:"d-flex mt-2"},[a("v-btn",{attrs:{color:"primary",disabled:t.successCopy},on:{click:function(e){return t.copyCode("item-read-code")}}},[t._v(" "+t._s(t.$t("Common.コードをコピー"))+" ")]),a("v-radio-group",{staticClass:"align-self-center mt-0 ml-3",attrs:{row:"","hide-details":""},on:{change:function(e){return t.toggleUnLocked()}},model:{value:t.includeUnLockedItem,callback:function(e){t.includeUnLockedItem=e},expression:"includeUnLockedItem"}},[a("v-radio",{attrs:{label:t.$t("Database.未ロックも含める"),value:!0}}),a("v-radio",{attrs:{label:t.$t("Database.ロック済みのみ"),value:!1}})],1),t.includeUnLockedItem?a("input",{attrs:{id:"item-read-code",type:"text",value:"copy(JSON.stringify(Object.entries(temp1.model.slot._map).map(([,v])=>{return {'id':v._o.api_slotitem_id,'lv': v._o.api_level,'locked':v._o.api_locked}}),['id','lv']))"}}):a("input",{attrs:{id:"item-read-code",type:"text",value:"copy(JSON.stringify(Object.entries(temp1.model.slot._map).map(([,v])=>{return {'id':v._o.api_slotitem_id,'lv': v._o.api_level,'locked':v._o.api_locked}}).filter(v=>v.locked),['id','lv']))"}})],1),a("v-card",{staticClass:"copy_code",attrs:{elevation:"4"}},[a("div",[t._v(" copy(JSON.stringify(Object.entries("),a("span",{staticClass:"red--text"},[t._v("temp1")]),t._v(".model.slot._map).map(([,v])=>{return {'id':v._o.api_slotitem_id,'lv': v._o.api_level,'locked':v._o.api_locked}})"),t.includeUnLockedItem?t._e():a("span",[t._v(".filter(v=>v.locked)")]),t._v(",['id','lv'])) ")])])],1)],1),t.showHowToDoIt?a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial7.jpg"}})],1):t._e(),t.showHowToDoIt?a("div",{staticClass:"warning_box mt-3"},[a("div",[t._v(t._s(t.$t("Database.注意事項")))]),a("div",{staticClass:"mt-1"},[t._v(" "+t._s(t.$t("Database.手順6で「Store function as global variable」を選択した際に出てくる「tempXX」と、上記のJavaScript内の「tempYY」は一致させる必要があります。"))+" ")]),a("div",[t._v(" "+t._s(t.$t("Database.手順通りやると「temp1」となっているはずですが、手順6で例えば「temp2」と出てきていたら、JavaScriptコードの「temp1」の部分を、自分で「temp2」と書き換えて実行してください。"))+" ")]),a("div",{staticClass:"tutorial_img"},[a("v-img",{attrs:{src:"./img/tutorial/tutorial7_2.jpg"}})],1)]):t._e()],1),a("v-card",{staticClass:"tutorial_box"},[t.showHowToDoIt?a("div",[t._v("8. "+t._s(t.$t("Database.下記の反映エリアに、手順7でコピーされた文字列を貼り付けて「反映」を押下する。")))]):t._e(),a("v-textarea",{staticClass:"mt-4",attrs:{outlined:"",dense:"","hide-details":"","no-resize":"",label:t.$t("Database.反映エリア")},model:{value:t.inputText,callback:function(e){t.inputText="string"===typeof e?e.trim():e},expression:"inputText"}}),a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",block:""},on:{click:function(e){return t.readJson()}}},[t._v(t._s(t.$t("Database.反映")))])],1)],1)]),a("v-tab-item",{attrs:{value:"share"}},[a("v-card",{staticClass:"my-3 pa-2"},[a("div",{staticClass:"d-flex pt-3 pb-4"},[a("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.共有URL発行機能")))])]),a("v-divider"),a("div",{staticClass:"pa-4"},[a("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.URL発行")))]),a("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.自分の艦隊、装備情報を他の人に見てもらうためのURLを発行します。")))]),a("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.発行された情報は閲覧専用です。発行されたURLを他人に公開しても、自分の艦娘や装備情報が書き換えられてしまうことはありません。"))+" ")]),a("div",{staticClass:"body-2 mb-3"},[t._v(t._s(t.$t("Database.閲覧する側は、共有された艦娘や装備情報を元に編成を作成することができます。")))]),a("div",{staticClass:"shared-url-container"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.createdURL,expression:"!createdURL"}],attrs:{color:"primary",loading:t.loadingURL,disabled:t.loadingURL||t.readOnlyMode},on:{click:function(e){return t.requestURLKey()}}},[t._v(t._s(t.$t("Database.共有URL作成")))]),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.createdURL,expression:"createdURL"}],attrs:{id:"created-url",readonly:"","append-icon":"mdi-content-copy",hint:t.copiedURLHint?t.$t("Common."+t.copiedURLHint):""},on:{"click:append":t.copyURL,blur:t.clearURLHint},model:{value:t.createdURL,callback:function(e){t.createdURL=e},expression:"createdURL"}})],1)]),a("v-divider"),a("div",{staticClass:"pa-4"},[a("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.発行履歴")))]),t._l(t.outputHistories,(function(e,i){return a("v-card",{key:"history_"+i,staticClass:"ma-2 pa-3"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mr-2 align-self-center caption"},[a("div",[t._v(t._s(t.$t("Database.発行日"))+":")]),a("div",[t._v(t._s(e.createdAt))])]),a("div",{staticClass:"mr-2 align-self-center"},[a("v-btn",{attrs:{color:"primary",disabled:t.expandBtnClicked||t.readOnlyMode},on:{click:function(e){return t.expandHistory(i)}}},[t._v(t._s(t.$t("Database.展開")))])],1),a("div",{staticClass:"mr-2 align-self-center"},[a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.clickedDeleteHistory(i)}}},[t._v(t._s(t.$t("Common.削除")))])],1),a("div",{staticClass:"mr-2 align-self-center"},[a("v-btn",{attrs:{color:"success",disabled:!e.remarks||!e.remarks.length},on:{click:function(e){return t.updateHistory(i)}}},[t._v(t._s(t.$t("Common.更新")))])],1),a("div",{staticClass:"align-self-center flex-grow-1"},[a("v-text-field",{attrs:{dense:"",outlined:"","hide-details":"",label:"Memo"},model:{value:e.remarks,callback:function(a){t.$set(e,"remarks",a)},expression:"data.remarks"}})],1)])])}))],2)],1),a("v-card",{staticClass:"my-3 pa-2"},[a("div",{staticClass:"d-flex pt-3 pb-4"},[a("div",{staticClass:"align-self-center ml-3"},[t._v(t._s(t.$t("Database.他サイト連携")))])]),a("v-divider"),a("div",{staticClass:"pa-4"},[a("div",{staticClass:"mb-2"},[t._v(t._s(t.$t("Database.艦隊分析コード")))]),a("div",{staticClass:"body-2"},[t._v(" "+t._s(t.$t("Database.艦隊分析コードが出力されています。この文字列を別の端末で反映することで、艦隊情報を復元することができます。"))+" ")]),a("div",{staticClass:"mt-4"},[a("v-text-field",{attrs:{id:"analytics-ship-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.艦隊コード"),"append-icon":"mdi-content-copy",hint:t.copiedShipCodeHint?t.$t("Common."+t.copiedShipCodeHint):""},on:{"click:append":t.copyShipCode,blur:t.clearShipCodeHint},model:{value:t.kantaiAnalyticsShipsCode,callback:function(e){t.kantaiAnalyticsShipsCode=e},expression:"kantaiAnalyticsShipsCode"}})],1),a("div",[a("v-text-field",{attrs:{id:"analytics-item-code",outlined:"",readonly:"",dense:"",label:t.$t("Database.装備コード"),"append-icon":"mdi-content-copy",hint:t.copiedItemCodeHint?t.$t("Common."+t.copiedItemCodeHint):t.copiedItemCodeHint},on:{"click:append":t.copyItemCode,blur:t.clearItemCodeHint},model:{value:t.kantaiAnalyticsItemsCode,callback:function(e){t.kantaiAnalyticsItemsCode=e},expression:"kantaiAnalyticsItemsCode"}})],1)]),a("v-divider"),a("div",{staticClass:"pa-4"},[a("div",{staticClass:"mb-2"},[t._v("艦隊晒しページ(仮)")]),a("div",{staticClass:"body-2"},[a("a",{attrs:{href:t.kantaiSarashiURL,target:"_blank"}},[t._v(t._s(t.$t("Database.艦隊晒しページ(仮)で展開する場合はこちらから")))])])])],1)],1)],1),a("div",{staticClass:"info-area"},[a("v-divider",{staticClass:"mb-2"}),a("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.著作権法第32条に基づき画像を引用し、著作権は権利者様へ帰属します。権利者様側からの画像等の削除の依頼や警告には速やかに対処いたします。"))+" ")]),a("div",{staticClass:"caption"},[t._v(" "+t._s(t.$t("Home.また、本サイトの情報、計算結果によって受けた利益・損害その他あらゆる事象については一切の責任を負いません。"))+" ")])],1),a("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",{staticClass:"pa-3"},[a("div",{staticClass:"ma-4"},[a("div",[t._v(t._s(t.$t("Common.本当に削除しますか？")))])]),a("v-divider",{staticClass:"my-2"}),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"primary",dark:"",disabled:!t.confirmDialog},on:{click:function(e){return e.stopPropagation(),t.deleteHistory()}}},[t._v(t._s(t.$t("Common.削除")))]),a("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("v-card",{attrs:{dark:""}},[a("v-card-text",[a("div",{staticClass:"pt-2"},[t._v(t._s(t.$t("Database.在籍艦娘 / 所持装備データ読込中"))+"...")]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},s=[],n=a("1da1"),o=(a("96cf"),a("99af"),a("d81d"),a("4de4"),a("d3b7"),a("e9c4"),a("7db0"),a("a15b"),a("caad"),a("2532"),a("4e827"),a("2b0e")),l=a("abdd"),r=a.n(l),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#list"}},[t._v(t._s(t.$t("Database.一覧")))]),t.shipStock.length?a("v-tab",{attrs:{href:"#group"}},[t._v(t._s(t.$t("Database.札管理")))]):t._e(),a("v-tab",{attrs:{href:"#analytics"}},[t._v(t._s(t.$t("Database.経験値")))]),t.readOnly?a("v-tab",{attrs:{href:"#compare"}},[t._v(t._s(t.$t("Database.比較")))]):t._e()],1),a("v-divider",{staticClass:"mb-2"}),a("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"list"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"px-4"},[a("div",[a("v-icon",[t._v("mdi-filter")]),t._v(t._s(t.$t("Database.フィルタ"))+" "),a("span",{staticClass:"caption"},[t._v("("+t._s(t.viewShips.length)+t._s(t.isNotJapanese?"":"隻")+" / "+t._s(t.allCount)+t._s(t.isNotJapanese?"":"隻")+")")])],1)]),a("v-expansion-panel-content",[a("v-divider",{staticClass:"mb-6"}),a("div",{staticClass:"d-flex flex-wrap my-2"},[a("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("Database.名称検索"),dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.masterFilter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未着任艦非表示")},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未着任艦のみ")},on:{change:t.filter},model:{value:t.onlyNoStock,callback:function(e){t.onlyNoStock=e},expression:"onlyNoStock"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.耐久値4n")},on:{change:t.filter},model:{value:t.is4n,callback:function(e){t.is4n=e},expression:"is4n"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Fleet.大発搭載可")},on:{change:t.filter},model:{value:t.isDaihatsu,callback:function(e){t.isDaihatsu=e},expression:"isDaihatsu"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Fleet.内火艇搭載可")},on:{change:t.filter},model:{value:t.isKamisha,callback:function(e){t.isKamisha=e},expression:"isKamisha"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.補強増設開放済")},on:{change:t.filter},model:{value:t.onlyReleaseExSlot,callback:function(e){t.onlyReleaseExSlot=e},expression:"onlyReleaseExSlot"}})],1),a("div",{staticClass:"my-5 range-inputs"},[a("div",{staticClass:"d-flex py-5"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.Lv下限"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),a("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:t.filter},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.Lv上限"),type:"number",max:"200",min:t.levelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),a("div",{staticClass:"d-flex py-5"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.運下限"),type:"number",max:t.luckRange[1],min:"1",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[0],callback:function(e){t.$set(t.luckRange,0,"string"===typeof e?e.trim():e)},expression:"luckRange[0]"}})],1),a("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"200","hide-details":""},on:{change:t.filter},model:{value:t.luckRange,callback:function(e){t.luckRange=e},expression:"luckRange"}}),a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.運上限"),type:"number",max:"200",min:t.luckRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.luckRange[1],callback:function(e){t.$set(t.luckRange,1,"string"===typeof e?e.trim():e)},expression:"luckRange[1]"}})],1)],1)]),a("div",{staticClass:"my-5 range-inputs"},[a("v-select",{staticClass:"mt-2 py-5",attrs:{items:t.hpItems,dense:"",attach:"",chips:"","deletable-chips":"","hide-details":"",label:t.$t("Database.耐久改修"),multiple:""},on:{change:t.filter},model:{value:t.addHP,callback:function(e){t.addHP=e},expression:"addHP"}}),a("div",{staticClass:"d-flex py-5"},[a("div",{staticClass:"range-input align-self-end"},[a("v-text-field",{attrs:{label:t.$t("Database.対潜改修下限"),type:"number",max:t.aswRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[0],callback:function(e){t.$set(t.aswRange,0,"string"===typeof e?e.trim():e)},expression:"aswRange[0]"}})],1),a("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"9","hide-details":""},on:{change:t.filter},model:{value:t.aswRange,callback:function(e){t.aswRange=e},expression:"aswRange"}}),a("div",{staticClass:"range-input align-self-end"},[a("v-text-field",{attrs:{label:t.$t("Database.対潜改修上限"),type:"number",max:"9",min:t.aswRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.aswRange[1],callback:function(e){t.$set(t.aswRange,1,"string"===typeof e?e.trim():e)},expression:"aswRange[1]"}})],1)],1)],1),a("v-select",{staticClass:"my-10",attrs:{items:t.translatedShipTypes,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.艦種"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),a("v-select",{staticClass:"my-10",attrs:{items:t.translatedNationalities,"item-text":"text","item-value":"value","hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.国籍"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllNationality}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.selectedNationalities.length>0?"blue":""}},[t._v(" "+t._s(t.icon2)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedNationalities,callback:function(e){t.selectedNationalities=e},expression:"selectedNationalities"}}),a("div",{staticClass:"d-flex"},[t._l(t.maxAreas,(function(e){return a("div",{key:"area"+e,staticClass:"selected-area-btn align-self-center",class:{selected:t.selectedArea.includes(e)},on:{click:function(a){return t.clickedArea(e)}}},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"47"}})],1)})),a("div",{staticClass:"selected-area-btn no-area align-self-center",class:{selected:t.visibleNoArea},on:{click:function(e){return t.clickedArea(-1)}}},[t._v(" "+t._s(t.$t("Database.札なし"))+" ")])],2)],1)],1)],1),a("v-card",{staticClass:"ship-list-body my-3 pa-4"},[t.viewShips.length?a("div",{staticClass:"d-flex"},[t.modeTable&&t.viewShips.length?a("v-pagination",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),a("v-btn-toggle",{staticClass:"ml-auto",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.modeTable,callback:function(e){t.modeTable=e},expression:"modeTable"}},[a("v-btn",{class:{"blue darken-2 white--text":t.modeTable},attrs:{value:!0},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!0)}}},[a("v-icon",[t._v("mdi-view-headline")]),a("span",[t._v(t._s(t.$t("Database.一覧表示")))])],1),a("v-btn",{class:{"blue darken-2 white--text":!t.modeTable},attrs:{value:!1},on:{click:function(e){return e.stopPropagation(),t.changeViewMode(!1)}}},[a("v-icon",[t._v("mdi-view-comfy")]),a("span",[t._v(t._s(t.$t("Database.艦隊分析表示")))])],1)],1)],1):a("div",{staticClass:"text-center my-10"},[a("div",[t._v(t._s(t.$t("Common.探したけど見つからなかったよ")))])]),t.modeTable?a("div",{staticClass:"ship-table"},[t.viewShips.length?a("div",{staticClass:"ship-tr header",class:{asc:!t.isDesc}},[a("v-spacer"),a("div",{staticClass:"status-td",class:{sorted:"level"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("level")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" Lv ")]),a("div",{staticClass:"status-td",class:{sorted:"hp"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("hp")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.耐久"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"luck"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("luck")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.運"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"asw"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("asw")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.対潜"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"scout"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("scout")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.索敵"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"accuracy"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("accuracy")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.命中項"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"avoid"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("avoid")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.回避項"))+" ")]),a("div",{staticClass:"status-td",class:{sorted:"ci"===t.sortKey},on:{click:function(e){return e.stopPropagation(),t.toggleSortKey("ci")}}},[a("div",[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1),t._v(" "+t._s(t.$t("Common.CI項"))+" ")])],1):t._e(),t._l(t.shipList,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"row_"+i,staticClass:"ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(a){return a.stopPropagation(),t.showEditDialog(e)},mouseenter:function(a){return t.bootTooltip(e,a)},mouseleave:t.clearTooltip}},[a("div",{staticClass:"edit-stock-img"},[a("v-img",{attrs:{src:"./img/ship/"+e.ship.id+".png",height:"50",width:"200"}}),e.stockData.area>0&&e.stockData.area<=t.maxAreas?a("div",{staticClass:"area-banner mt-1"},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.stockData.area+".webp",height:"60",width:"42"}})],1):t._e(),e.stockData.releaseExpand?a("div",{staticClass:"slot-ex-img"},[a("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"36",width:"36"}})],1):t._e()],1),a("div",{staticClass:"ml-1 td-name text-truncate"},[t._v(t._s(t.getShipName(e.ship)))]),a("div",{staticClass:"status-td"},[t._v(t._s(e.stockData.level))]),a("div",{staticClass:"status-td td-relative",class:{bold:e.impHP}},[t._v(" "+t._s(e.hp)+" "),e.impHP?a("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impHP))]):t._e()]),a("div",{staticClass:"status-td td-relative",class:{bold:e.impLuck}},[t._v(" "+t._s(e.luck)+" "),e.impLuck?a("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impLuck))]):t._e()]),e.count?a("div",{staticClass:"status-td td-relative",class:{bold:e.impAsw}},[t._v(" "+t._s(e.asw)+" "),e.impAsw?a("div",{staticClass:"status-td-absolute"},[t._v("↑"+t._s(e.impAsw))]):t._e()]):t._e(),e.count?a("div",{staticClass:"status-td"},[t._v(t._s(e.scout))]):t._e(),e.count?a("div",{staticClass:"status-td"},[t._v(t._s(e.accuracy))]):t._e(),e.count?a("div",{staticClass:"status-td"},[t._v(t._s(e.avoid))]):t._e(),e.count?a("div",{staticClass:"status-td"},[t._v(t._s(e.ci))]):a("div",{staticClass:"status-td no-status d-flex"},[a("div",{staticClass:"line"}),a("div",[t._v(t._s(t.$t("Database.未着任")))]),a("div",{staticClass:"line"})])])})),a("div",{staticClass:"d-flex"},[t.viewShips.length?a("v-pagination",{staticClass:"my-4",attrs:{length:t.pageLength},on:{input:t.scrollTop},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),a("v-spacer")],1)],2):[a("div",{staticClass:"d-flex flex-wrap"},t._l(t.altViewShips,(function(e,i){return a("div",{key:"type_row"+i,staticClass:"type-container"},[a("div",{staticClass:"ma-2"},[t._v(t._s(t.getShipTypeName(e.typeName)))]),a("div",{staticClass:"type-divider"}),a("div",{staticClass:"d-flex flex-wrap"},t._l(e.rows,(function(e,i){return a("div",{key:"outer_row_"+i,staticClass:"ship-card ma-1 px-2 pt-2"},t._l(e,(function(e,i){return a("div",{key:"row_"+i,staticClass:"mt-1 mb-2"},[a("div",{staticClass:"d-flex"},[a("div",[t._v(t._s(t.getShipName(e.master)))]),a("v-spacer"),a("div",{staticClass:"caption align-self-end"},[t._v(t._s(t.$t("Database.在籍"))+": "+t._s(e.count))])],1),a("div",{staticClass:"status-img",class:{no_ship:0===e.count}},[a("img",{staticClass:"status-img",attrs:{src:"./img/ship/"+e.master.id+".png"}})]),t._l(e.detail,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"detail_"+i,staticClass:"detail-row ship-tr",class:{no_ship:0===e.count,lv175:175===e.stockData.level,lv100:175!==e.stockData.level&&e.stockData.level>99,lv99:99===e.stockData.level},on:{click:function(a){return a.stopPropagation(),t.showEditDialog(e)},mouseenter:function(a){return t.bootTooltip(e,a)},mouseleave:t.clearTooltip}},[e.count?[a("div",{staticClass:"status-col sm"},[a("div",[t._v(t._s(e.level))])]),a("div",{staticClass:"status-col"},[a("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_hp.png",height:"16"}}),a("div",{staticClass:"align-self-center",class:{bold:e.impHP}},[t._v(t._s(e.hp))])]),a("div",{staticClass:"status-col"},[a("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_asw.png",height:"16"}}),a("div",{staticClass:"align-self-center",class:{bold:e.impAsw}},[t._v(t._s(e.asw))])]),a("div",{staticClass:"status-col"},[a("img",{staticClass:"align-self-center",attrs:{src:"./img/util/status_luck.png",height:"16"}}),a("div",{staticClass:"align-self-center",class:{bold:e.impLuck}},[t._v(t._s(e.luck))])]),a("div",{staticClass:"status-area-img",class:{"exist-img":e.stockData.area>0}},[e.stockData.area>0?a("img",{staticClass:"status-area-img",attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.stockData.area+"_min.webp"}}):t._e()]),a("div",{staticClass:"status-ex-img"},[e.stockData.releaseExpand?a("img",{staticClass:"status-ex-img",attrs:{src:"./img/util/slot_ex.png",height:"24",width:"24"}}):t._e()])]:[a("div",{staticClass:"mx-auto text-center no_ship"},[t._v(t._s(t.$t("Database.新規登録")))])]],2)}))],2)})),0)})),0)])})),0)]],2)],1),a("v-tab-item",{attrs:{value:"group"}},[a("area-manager",{attrs:{readonly:t.readOnly}})],1),a("v-tab-item",{attrs:{value:"analytics"}},[a("analytics")],1),a("v-tab-item",{attrs:{value:"compare"}},[a("compare")],1)],1),a("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editRow&&t.versionButtons.length?a("v-card",{staticClass:"pa-3"},[a("div",{staticClass:"mx-2 mt-2"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"align-self-center edit-stock-img"},[a("v-img",{attrs:{src:"./img/ship/"+t.versionButtons[t.version].id+".png",height:"50",width:"200"}}),t.editRow.stockData.area>0&&t.editRow.stockData.area<=t.maxAreas?a("div",{staticClass:"area-banner"},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+t.editRow.stockData.area+".webp",height:"68",width:"47"}})],1):t._e()],1),a("div",{staticClass:"align-self-center ml-2"},[a("v-btn-toggle",{staticClass:"flex-wrap",attrs:{dense:"",borderless:"",mandatory:""},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versionButtons,(function(e,i){return a("v-btn",{key:"ver"+i,attrs:{value:i},on:{click:function(e){return e.stopPropagation(),t.changeVersion(i)}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.getShipName(e)))])])})),1)],1)]),a("v-divider",{staticClass:"mt-3"}),a("div",{staticClass:"d-flex mt-3"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.練度(Lv)"),type:"number",max:"175",min:"1","hide-details":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}})],1),a("v-slider",{staticClass:"mx-5 align-self-center",attrs:{"hide-details":"",max:"175",min:"1","thumb-label":""},model:{value:t.editRow.stockData.level,callback:function(e){t.$set(t.editRow.stockData,"level",e)},expression:"editRow.stockData.level"}}),a("v-btn",{staticClass:"mr-1 align-self-center",attrs:{color:"teal",dark:""},on:{click:function(e){e.stopPropagation(),t.editRow.stockData.level=99}}},[t._v("LV99")])],1),a("div",{staticClass:"d-flex mt-8"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Common.運"),type:"number",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"hide-details":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),a("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:t.versionButtons[t.version].maxLuck,min:t.versionButtons[t.version].luck,"thumb-label":""},model:{value:t.editLuck,callback:function(e){t.editLuck=e},expression:"editLuck"}})],1),a("div",{staticClass:"d-flex mt-8"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.耐久改修"),type:"number",max:"2",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),a("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"2",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.hp,callback:function(e){t.$set(t.editRow.stockData.improvement,"hp",e)},expression:"editRow.stockData.improvement.hp"}})],1),a("div",{staticClass:"d-flex mt-8"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.対潜改修"),type:"number",max:"9",min:"0","hide-details":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),a("v-slider",{staticClass:"ml-5 align-self-center",attrs:{"hide-details":"",max:"9",min:"0","thumb-label":""},model:{value:t.editRow.stockData.improvement.asw,callback:function(e){t.$set(t.editRow.stockData.improvement,"asw",e)},expression:"editRow.stockData.improvement.asw"}})],1),a("div",{staticClass:"mt-8"},[a("v-checkbox",{attrs:{label:t.$t("Database.補強増設開放済")},model:{value:t.editRow.stockData.releaseExpand,callback:function(e){t.$set(t.editRow.stockData,"releaseExpand",e)},expression:"editRow.stockData.releaseExpand"}})],1),a("div",{staticClass:"d-flex justify-space-around"},t._l(t.maxAreas,(function(e){return a("div",{key:"area"+e,staticClass:"selected-area-btn",class:{selected:t.editRow.stockData.area===e},on:{click:function(a){return a.stopPropagation(),t.toggleArea(e)}}},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e+".webp",height:"68",width:"47"}})],1)})),0),a("v-divider",{staticClass:"my-2"}),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ml-auto",attrs:{disabled:t.btnPushed||t.readOnly,color:"primary"},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Database.着任"))+" ")]),a("v-btn",{staticClass:"ml-4",attrs:{disabled:t.btnPushed||!t.editRow.stockData.uniqueId||t.readOnly,color:"success"},on:{click:function(e){return e.stopPropagation(),t.updateStock.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("Common.更新"))+" ")]),a("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.editRow.stockData.uniqueId||t.readOnly,color:"error"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!0}}},[t._v(" "+t._s(t.$t("Database.除籍"))+" ")]),a("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)]):t._e()],1),a("v-dialog",{attrs:{width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",{staticClass:"pa-3"},[a("div",{staticClass:"ma-4"},[a("div",[t._v(t._s(t.$t("Database.本当に除籍しますか？")))])]),a("v-divider",{staticClass:"my-2"}),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"error",disabled:t.btnPushed,dark:""},on:{click:function(e){return e.stopPropagation(),t.deleteStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.除籍")))]),a("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Database.やっぱやめとく")))])],1)],1)],1),a("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[a("ship-tooltip",{attrs:{value:t.tooltipShip}})],1)],1)},d=[],u=(a("fb6a"),a("b0c0"),a("159b"),a("b64b"),a("498a"),a("0481"),a("4069"),a("c740"),a("004e")),p=a.n(u),h=a("6edf"),v=a.n(h),m=a("0644"),f=a.n(m),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-card",{staticClass:"my-2 pa-4"},[a("div",{staticClass:"d-flex mt-3"},[a("div",{staticClass:"align-self-center mr-5"},[t._v(t._s(t.$t("Database.集計対象Lv")))]),a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.Lv下限"),type:"number",max:t.levelRange[1],min:"1",dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[0],callback:function(e){t.$set(t.levelRange,0,"string"===typeof e?e.trim():e)},expression:"levelRange[0]"}})],1),a("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"1",max:"175","hide-details":""},on:{change:function(e){return t.analyze()}},model:{value:t.levelRange,callback:function(e){t.levelRange=e},expression:"levelRange"}}),a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.Lv上限"),type:"number",max:"175",min:t.levelRange[0],dense:"","hide-details":""},on:{input:function(e){return t.analyze()}},model:{value:t.levelRange[1],callback:function(e){t.$set(t.levelRange,1,"string"===typeof e?e.trim():e)},expression:"levelRange[1]"}})],1)],1),a("v-card",{staticClass:"my-3"},[a("table",[a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.艦種")))]),a("td",[t._v(t._s(t.$t("Database.隻数")))]),a("td",[t._v(t._s(t.$t("Database.最大Lv")))]),a("td",[t._v(t._s(t.$t("Database.最小Lv")))]),a("td",[t._v(t._s(t.$t("Database.中央Lv")))]),a("td",[t._v(t._s(t.$t("Database.平均Lv")))]),a("td",[t._v(t._s(t.$t("Database.総経験値")))]),a("td",[t._v(t._s(t.$t("Database.1隻平均")))]),a("td",[t._v(t._s(t.$t("Database.経験値割合")))])])]),a("tbody",t._l(t.summaryTable,(function(e,i){return a("tr",{key:"summary_row"+i},[a("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.data.count))]),a("td",[t._v(t._s(e.data.maxLevel))]),a("td",[t._v(t._s(e.data.minLevel))]),a("td",[t._v(t._s(e.data.midLevel))]),a("td",[t._v(t._s(e.data.avgLevel))]),a("td",[t._v(t._s(e.data.sumExp))]),a("td",[t._v(t._s(e.data.avgExp))]),a("td",[t._v(t._s(e.data.expRate)+" %")])])})),0)])]),a("div",{staticClass:"graph-area"},[a("v-card",{staticClass:"py-4 exp-card"},[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.艦種別Lv帯分析")))])]),a("radar-chart",{attrs:{data:t.radarGraphData,options:t.radarOptions}})],1),a("v-card",{staticClass:"py-4 exp-card"},[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.艦娘別経験値ランキング")))])]),a("table",[a("thead",[a("tr",[a("td"),a("td",{staticClass:"text-left"}),a("td",[t._v(t._s(t.$t("Database.総経験値")))]),a("td",[t._v(t._s(t.$t("Database.経験値割合")))])])]),a("tbody",t._l(t.expRankTable,(function(e,i){return a("tr",{key:"exp_rank_row"+i},[a("td",[t._v(t._s(e.rank))]),a("td",{staticClass:"text-left"},[t._v(t._s(t.needTrans?t.$t(""+e.name):e.name))]),a("td",[t._v(t._s(e.exp))]),a("td",[t._v(t._s(e.rate)+" %")])])})),0)])])],1),a("v-card",{staticClass:"my-4 pa-4"},[a("div",{staticClass:"d-flex justify-center"},[a("div",{staticClass:"body-2"},[t._v(t._s(t.$t("Database.Lv帯別艦娘数")))])]),a("div",[a("stacked-bar",{attrs:{data:t.stackedBarData,options:t.stackedBarOption}})],1)])],1)],1)},b=[],k=(a("b680"),a("a434"),a("d180")),_=a.n(k),x=a("3d95"),y=a.n(x),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RadarChart",{style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},S=[],$=a("2909"),D=(a("a9e3"),a("ed09")),w=a("9b4a"),T=a("b48c"),L=a("d9fa");w["Chart"].register.apply(w["Chart"],[L["a"]].concat(Object($["a"])(w["registerables"])));var R=o["default"].use(D["default"]).extend({components:{RadarChart:T["RadarChart"]},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String},height:{type:Number,default:1200}},data:function(){return{plugins:[L["a"]]}},computed:{actualData:function(){return this.$vuetify.theme.dark,this.data},actualOptions:function(){if(this.$vuetify.theme.dark){var t="rgb(200, 200, 200)";this.options.plugins.title.color=t,this.options.plugins.legend.labels.color=t,this.options.scales.r.pointLabels.color=t,this.options.scales.r.ticks.color=t,this.options.scales.r.ticks.backdropColor="rgba(0, 0, 0, 0.1)"}else{var e="rgb(64, 64, 64)";this.options.plugins.title.color=e,this.options.plugins.legend.labels.color=e,this.options.scales.r.pointLabels.color=e,this.options.scales.r.ticks.color=e,this.options.scales.r.ticks.backdropColor="rgba(255, 255, 255, 0.9)"}return this.titleText&&(this.options.plugins.title.text=this.titleText),this.options},styles:function(){return{height:"60vh",position:"relative"}}}}),I=R,A=a("2877"),O=Object(A["a"])(I,C,S,!1,null,null,null),V=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BarChart",{ref:"stackedBarRef",style:t.styles,attrs:{"chart-data":t.actualData,options:t.actualOptions,plugins:t.plugins}})},E=[],P=["rgba(224, 0, 0, 0.5)","rgba(128, 0, 224, 0.5)","rgba(0, 0, 224, 0.5)","rgba(0, 128, 224, 0.5)","rgba(0, 224, 224, 0.5)","rgba(0, 224, 0, 0.5)","rgba(224, 224, 0, 0.5)","rgba(224, 128, 0, 0.5)","rgba(0, 0, 0, 0.25)"],N=["rgba(255, 80, 80, 0.5)","rgba(170, 80, 255, 0.5)","rgba(80, 80, 255, 0.5)","rgba(80, 180, 255, 0.5)","rgba(80, 255, 255, 0.5)","rgba(80, 255, 80, 0.5)","rgba(255, 255, 80, 0.5)","rgba(255, 180, 80, 0.5)","rgba(255, 255, 255, 0.25)"];w["Chart"].register.apply(w["Chart"],[L["a"]].concat(Object($["a"])(w["registerables"])));var H=o["default"].use(D["default"]).extend({components:{BarChart:T["BarChart"]},props:{data:{type:Object,required:!0},options:{type:Object},titleText:{type:String}},data:function(){return{stackedBarRef:{},plugins:[L["a"]]}},computed:{actualData:function(){for(var t=this.$vuetify.theme.dark?N:P,e=this.data.datasets,a=0;a<e.length;a+=1)e[a].backgroundColor=t[a];return this.data},actualOptions:function(){var t="rgb(64, 64, 64)";return this.$vuetify.theme.dark&&(t="rgb(200, 200, 200)"),this.options.plugins.legend.labels.color=t,this.options.scales.x.ticks.color=t,this.options.scales.x.title.color=t,this.options.scales.y.ticks.color=t,this.options},styles:function(){return{height:"70vh",position:"relative"}}}}),M=H,U=Object(A["a"])(M,j,E,!1,null,null,null),B=U.exports,K=a("522d"),W=["最大Lv","最小Lv","中央Lv","平均Lv"],F=o["default"].extend({name:"Analytics",components:{RadarChart:V,StackedBar:B},data:function(){return{levelRange:[1,175],summaryTable:[],expRankTable:[],unsubscribe:void 0,readOnly:!1,radarGraphData:{labels:[],datasets:[{label:W[0],data:[],fill:!1,backgroundColor:"rgba(64, 164, 255, 0.1)",borderColor:"rgb(64, 164, 255)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:W[1],data:[],backgroundColor:"rgba(255, 64, 64, 0.1)",borderColor:"rgb(255, 64, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1},hidden:!0},{label:W[2],data:[],fill:!1,backgroundColor:"rgba(255, 128, 64, 0.1)",borderColor:"rgb(255, 128, 64)",borderWidth:2,pointRadius:3,datalabels:{display:!1}},{label:W[3],data:[],fill:!1,backgroundColor:"rgba(0, 200, 0, 0.1)",borderColor:"rgb(0, 200, 0)",borderWidth:2,pointRadius:3,datalabels:{display:!1}}]},radarOptions:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:175,ticks:{stepSize:25,color:"rgb(64, 64, 64)",backdropColor:"rgba(255, 255, 255, 0.7)"},angleLines:{color:"rgba(128, 128, 128, 0.4)"},pointLabels:{color:"rgb(64, 64, 64)"},grid:{color:"rgba(128, 128, 128, 0.4)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}},title:{display:!0}}},stackedBarData:{labels:[],datasets:[]},stackedBarOption:{responsive:!0,indexAxis:"y",scales:{x:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!0,text:"艦娘数[隻]"},ticks:{color:"rgb(64, 64, 64)"}},y:{grid:{color:"rgba(128, 128, 128, 0.4)"},title:{display:!1},ticks:{color:"rgb(64, 64, 64)"}}},plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(64, 64, 64)"}}}}}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.analyze(),this.unsubscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&t.analyze()}));for(var e=17;e>0;e-=1)this.stackedBarData.labels.push("".concat(10*e,"～"));this.stackedBarData.labels.push("1～")},watch:{isTempStockMode:function(t){this.readOnly=!!t,this.analyze()}},computed:{needTrans:function(){var t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese:function(){return"ja"!==this.$i18n.locale},isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{analyze:function(){var t=this,e=this.$store.state.ships,a=this.$store.state.shipStock;this.readOnly&&(a=this.$store.state.tempShipStock);var i=K["j"].SHIP_TYPES_ALT2,s=[],n=0,o=[],l=[];this.radarGraphData.labels=[],this.stackedBarData.datasets=[],this.stackedBarOption.scales.x.title.text="".concat(this.$t("Database.艦娘数"));for(var c=function(c){var d=i[c],u=t.isNotJapanese?"".concat(t.$t("SType.".concat(d.text))):d.text;t.radarGraphData.labels.push(u),t.radarGraphData.datasets[0].label="".concat(t.$t("Database.最大Lv")),t.radarGraphData.datasets[1].label="".concat(t.$t("Database.最小Lv")),t.radarGraphData.datasets[2].label="".concat(t.$t("Database.中央Lv")),t.radarGraphData.datasets[3].label="".concat(t.$t("Database.平均Lv"));var h=e.filter((function(t){return d.types.includes(t.type)})),v=h.map((function(t){return t.id})),m={label:u,borderWidth:0,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],stack:"stack-1",datalabels:{display:!1}},f=a.filter((function(e){return v.includes(e.id)&&e.level>=t.levelRange[0]&&e.level<=t.levelRange[1]}));if(f.length){for(var g=[],b=[],k=function(t){var a,i=f[t];g.push(i.level),b.push(i.exp),m.data[17-Math.floor(i.level/10)]+=1;var s=null===(a=e.find((function(t){return t.id===i.id})))||void 0===a?void 0:a.originalId,n=l.find((function(t){return t.id===s}));n?n.exp+=i.exp:s&&l.push({id:s,name:"",exp:i.exp,rate:0})},x=0;x<f.length;x+=1)k(x);var C=_()(b);n+=C,o=o.concat(g);var S={count:f.length,maxLevel:r()(g),minLevel:p()(g),midLevel:t.getMidValue(g),avgLevel:y()(g),sumExp:C,avgExp:y()(b),expRate:0};s.push({name:u,data:S}),t.radarGraphData.datasets[0].data[c]=S.maxLevel?S.maxLevel:0,t.radarGraphData.datasets[1].data[c]=S.minLevel?S.minLevel:0,t.radarGraphData.datasets[2].data[c]=S.midLevel?S.midLevel:0,t.radarGraphData.datasets[3].data[c]=S.avgLevel?Math.floor(S.avgLevel):0}else{var $={count:0,maxLevel:0,minLevel:0,midLevel:0,avgLevel:0,sumExp:0,avgExp:0,expRate:0};s.push({name:u,data:$}),t.radarGraphData.datasets[0].data[c]=0,t.radarGraphData.datasets[1].data[c]=0,t.radarGraphData.datasets[2].data[c]=0,t.radarGraphData.datasets[3].data[c]=0}t.stackedBarData.datasets.push(m)},d=0;d<i.length;d+=1)c(d);this.summaryTable=[];for(var u=0;u<s.length;u+=1){var h=s[u];this.summaryTable.push({name:h.name,data:{count:h.data.count,maxLevel:h.data.maxLevel,minLevel:h.data.minLevel,midLevel:h.data.midLevel,avgLevel:h.data.avgLevel?h.data.avgLevel.toFixed(1):0,sumExp:h.data.sumExp.toLocaleString(),avgExp:Math.floor(h.data.avgExp).toLocaleString(),expRate:n?Math.floor(1e3*h.data.sumExp/n)/10:0}})}var v=_()(o),m=o.length;this.summaryTable.push({name:this.isNotJapanese?"".concat(this.$t("SType.合計")):"合計",data:{count:m,maxLevel:r()(s.map((function(t){return t.data.maxLevel}))),minLevel:p()(s.map((function(t){return t.data.minLevel}))),midLevel:this.getMidValue(o),avgLevel:m?(v/m).toFixed(1):"0",sumExp:n.toLocaleString(),avgExp:m?Math.floor(n/m).toLocaleString():"0",expRate:m?100:0}}),l=l.sort((function(t,e){return e.exp!==t.exp?e.exp-t.exp:t.id-e.id})).splice(0,50),this.expRankTable=[];for(var f=function(a){var i,s=l[a],o=null===(i=e.find((function(t){return t.id===s.id})))||void 0===i?void 0:i.name;o&&(s.name=o),n&&(s.rate=100*s.exp/n),t.expRankTable.push({rank:a+1,name:s.name,exp:s.exp.toLocaleString(),rate:s.rate.toFixed(2)})},g=0;g<l.length;g+=1)f(g)},getMidValue:function(t){if(t.length){var e=t.length;t.sort((function(t,e){return t-e}));var a=Math.floor(t.length/2);return e%2?t[a]:Math.floor((t[a-1]+t[a])/2)}return 0}}}),z=F,J=(a("11cf"),a("6544")),Y=a.n(J),G=a("b0af"),q=a("ade3"),X=a("5530"),Q=(a("33e9"),a("9a18")),Z=a("80d2"),tt=Q["a"].extend({name:"v-range-slider",props:{value:{type:Array,default:function(){return[0,0]}}},data:function(){return{activeThumb:null,lazyValue:this.value}},computed:{classes:function(){return Object(X["a"])(Object(X["a"])({},Q["a"].options.computed.classes.call(this)),{},{"v-input--range-slider":!0})},internalValue:{get:function(){return this.lazyValue},set:function(t){var e=this,a=t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.roundValue(Math.min(Math.max(t,e.minValue),e.maxValue))}));if(a[0]>a[1]||a[1]<a[0]){if(null!==this.activeThumb){var i=1===this.activeThumb?0:1,s=this.$refs["thumb_".concat(i)];s.focus()}a=[a[1],a[0]]}this.lazyValue=a,Object(Z["j"])(a,this.value)||this.$emit("input",a),this.validate()}},inputWidth:function(){var t=this;return this.internalValue.map((function(e){return(t.roundValue(e)-t.minValue)/(t.maxValue-t.minValue)*100}))}},methods:{getTrackStyle:function(t,e){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.vertical?this.$vuetify.rtl?"top":"bottom":this.$vuetify.rtl?"right":"left",o=this.vertical?"height":"width",l="calc(".concat(t,"% + ").concat(i,"px)"),r="calc(".concat(e,"% + ").concat(s,"px)");return a={transition:this.trackTransition},Object(q["a"])(a,n,l),Object(q["a"])(a,o,r),a},getIndexOfClosestValue:function(t,e){return Math.abs(t[0]-e)<Math.abs(t[1]-e)?0:1},genInput:function(){var t=this;return Object(Z["h"])(2).map((function(e){var a=Q["a"].options.methods.genInput.call(t);return a.data=a.data||{},a.data.attrs=a.data.attrs||{},a.data.attrs.value=t.internalValue[e],a.data.attrs.id="input-".concat(e?"max":"min","-").concat(t._uid),a}))},genTrackContainer:function(){var t=this,e=[],a=this.isDisabled?10:0,i=[{class:"v-slider__track-background",color:this.computedTrackColor,styles:[0,this.inputWidth[0],0,-a]},{class:this.isDisabled?"v-slider__track-background":"v-slider__track-fill",color:this.isDisabled?this.computedTrackColor:this.computedTrackFillColor,styles:[this.inputWidth[0],Math.abs(this.inputWidth[1]-this.inputWidth[0]),a,-2*a]},{class:"v-slider__track-background",color:this.computedTrackColor,styles:[this.inputWidth[1],Math.abs(100-this.inputWidth[1]),a,-a]}];return this.$vuetify.rtl&&i.reverse(),e.push.apply(e,Object($["a"])(i.map((function(e){return t.$createElement("div",t.setBackgroundColor(e.color,{staticClass:e.class,style:t.getTrackStyle.apply(t,Object($["a"])(e.styles))}))})))),this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genChildren:function(){var t=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(Z["h"])(2).map((function(e){var a=t.internalValue[e],i=function(a){t.isFocused=!0,t.activeThumb=e,t.$emit("focus",a)},s=function(e){t.isFocused=!1,t.activeThumb=null,t.$emit("blur",e)},n=t.inputWidth[e],o=t.isActive&&t.activeThumb===e,l=t.isFocused&&t.activeThumb===e;return t.genThumbContainer(a,n,o,l,i,s,"thumb_".concat(e))}))]},reevaluateSelected:function(t){this.activeThumb=this.getIndexOfClosestValue(this.internalValue,t);var e="thumb_".concat(this.activeThumb),a=this.$refs[e];a.focus()},onSliderMouseDown:function(t){var e,a=this,i=this.parseMouseMove(t);if(this.reevaluateSelected(i),this.oldValue=this.internalValue,this.isActive=!0,null===(e=t.target)||void 0===e?void 0:e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;var s=t.target.getBoundingClientRect(),n="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?n.clientY-(s.top+s.height/2):n.clientX-(s.left+s.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout((function(){a.thumbPressed=!0}),300);var o=!Z["x"]||{passive:!0,capture:!0},l=!!Z["x"]&&{passive:!0},r="touches"in t;this.onMouseMove(t),this.app.addEventListener(r?"touchmove":"mousemove",this.onMouseMove,l),Object(Z["a"])(this.app,r?"touchend":"mouseup",this.onSliderMouseUp,o),this.$emit("start",this.internalValue)},onSliderClick:function(t){if(!this.isActive){if(this.noClick)return void(this.noClick=!1);var e=this.parseMouseMove(t);this.reevaluateSelected(e),this.setInternalValue(e),this.$emit("change",this.internalValue)}},onMouseMove:function(t){var e=this.parseMouseMove(t);"mousemove"===t.type&&(this.thumbPressed=!0),null===this.activeThumb&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,e)),this.setInternalValue(e)},onKeyDown:function(t){if(null!==this.activeThumb){var e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null!=e&&(this.setInternalValue(e),this.$emit("change",this.internalValue))}},setInternalValue:function(t){var e=this;this.internalValue=this.internalValue.map((function(a,i){return i===e.activeThumb?t:Number(a)}))}}}),et=a("8654"),at=Object(A["a"])(z,g,b,!1,null,"ab9888fc",null),it=at.exports;Y()(at,{VCard:G["a"],VRangeSlider:tt,VTextField:et["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("v-card",{staticClass:"my-2 pa-2"},[a("table",[a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.艦種")))]),a("td",[t._v(t._s(t.$t("Database.登録艦隊")))]),a("td",[t._v(t._s(t.$t("Database.現在閲覧中の艦隊")))]),a("td",[t._v(t._s(t.$t("Database.差")))])])]),a("tbody",t._l(t.summaryTable,(function(e,i){return a("tr",{key:"summary_row"+i},[a("td",{staticClass:"text-left"},[t._v(t._s(t.isNotJapanese?t.$t("SType."+e.name):e.name))]),a("td",{class:{"win-td":e.isWin}},[t._v(t._s(e.data.sumExp))]),a("td",{class:{"win-td":e.isLose}},[t._v(t._s(e.data.tempSumExp))]),a("td",{class:{"win-sub":e.isWin,"lose-sub":e.isLose}},[t._v(t._s(e.data.sub))])])})),0)])]),a("div",{staticClass:"mt-5 d-flex flex-wrap"},t._l(t.types,(function(e,i){return a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:i,staticClass:"type-selector",class:{active:i===t.type},on:{click:function(e){return t.changeType(i)}}},[t._v(" "+t._s(t.isNotJapanese?t.$t("SType."+e.text):e.text)+" ")])})),0),a("v-card",{staticClass:"my-1"},[a("v-simple-table",{attrs:{"fixed-header":"",height:"70vh"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.登録艦隊")))]),a("th",{staticClass:"text-right"},[t._v("Lv")]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.耐久改修")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.対潜改修")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.運改修")))]),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Database.現在閲覧中の艦隊")))]),a("th",{staticClass:"text-right"},[t._v("Lv")]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.経験値")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.耐久改修")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.対潜改修")))]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Database.運改修")))])])]),a("tbody",t._l(t.diffRow,(function(e,i){return a("tr",{key:"ship_row"+i},[e.stock1?[a("td",{staticClass:"text-left pl-0",class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[a("div",{staticClass:"ship-img-area"},[a("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),a("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.level))]),a("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.exp.toLocaleString()))]),a("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.hp||""))]),a("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.asw||""))]),a("td",{class:{more:e.isMore,less:e.isLess,exist:!e.stock2}},[t._v(t._s(e.stock1.improvement.luck||""))])]:[a("td",{staticClass:"none",attrs:{colspan:"6"}})],e.stock2?[a("td",{staticClass:"text-left pl-0",class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[a("div",{staticClass:"ship-img-area"},[a("v-img",{attrs:{src:"./img/ship/"+e.id+".png",height:"36",width:"144"}})],1)]),a("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.level))]),a("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.exp.toLocaleString()))]),a("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.hp||""))]),a("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.asw||""))]),a("td",{class:{more:e.isLess,less:e.isMore,exist:!e.stock1}},[t._v(t._s(e.stock2.improvement.luck||""))])]:[a("td",{staticClass:"none",attrs:{colspan:"6"}})]],2)})),0)]},proxy:!0}])})],1)],1)},nt=[],ot=(a("4c53"),o["default"].extend({name:"Compare",data:function(){return{summaryTable:[],unsubscribe:void 0,diffRow:[],type:0,types:[]}},mounted:function(){for(var t=this,e=0;e<K["j"].SHIP_TYPES_ALT2.length;e+=1){var a=K["j"].SHIP_TYPES_ALT2[e];this.types.push({text:a.text,types:a.types})}this.analyze(),this.generateDiffRow(),this.unsubscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&(t.analyze(),t.generateDiffRow())}))},watch:{isTempStockMode:function(t){t&&(this.analyze(),this.generateDiffRow())}},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock},isNotJapanese:function(){return"ja"!==this.$i18n.locale}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{changeType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.type=t,this.generateDiffRow()},analyze:function(){for(var t=this.$store.state.ships,e=this.$store.state.shipStock,a=this.$store.state.tempShipStock,i=K["j"].SHIP_TYPES_ALT2,s=[],n=0,o=0,l=function(l){for(var r=i[l],c=t.filter((function(t){return r.types.includes(t.type)})),d=c.map((function(t){return t.id})),u=e.filter((function(t){return d.includes(t.id)})),p=[],h=0;h<u.length;h+=1)p.push(u[h].exp);var v=_()(p);n+=v;for(var m=a.filter((function(t){return d.includes(t.id)})),f=[],g=0;g<m.length;g+=1)f.push(m[g].exp);var b=_()(f);o+=b;var k=v-b;s.push({name:r.text,data:{sumExp:v,sub:k,tempSumExp:b}})},r=0;r<i.length;r+=1)l(r);this.summaryTable=[];for(var c=0;c<s.length;c+=1){var d=s[c];this.summaryTable.push({name:d.name,data:{sumExp:d.data.sumExp.toLocaleString(),sub:d.data.sub.toLocaleString(),tempSumExp:d.data.tempSumExp.toLocaleString()},isWin:d.data.sub>0,isLose:d.data.sub<0})}var u=n-o;this.summaryTable.push({name:"合計",data:{sumExp:n.toLocaleString(),sub:u.toLocaleString(),tempSumExp:o.toLocaleString()},isWin:u>0,isLose:u<0})},generateDiffRow:function(){var t=this,e=this.$store.state.ships,a=this.$store.state.shipStock,i=this.$store.state.tempShipStock,s=this.types[this.type]?this.types[this.type].types:[],n=e.concat().filter((function(t){return s.includes(t.type)}));n.sort((function(t,e){return t.sort-e.sort})),this.diffRow=[];for(var o=function(e){var s=n[e].id,o=a.filter((function(t){return t.id===s})),l=i.filter((function(t){return t.id===s}));o.sort((function(t,e){return e.level!==t.level?e.level-t.level:e.exp-t.exp})),l.sort((function(t,e){return e.level!==t.level?e.level-t.level:e.exp-t.exp}));for(var r=Math.max(o.length,l.length),c=0;c<r;c+=1){var d=o[c],u=l[c],p=!!d&&!u,h=!d&&!!u;d&&u&&(p=d.level>u.level,h=d.level<u.level);var v={id:s,isMore:p,isLess:h,stock1:d||void 0,stock2:u||void 0};t.diffRow.push(v)}},l=0;l<n.length;l+=1)o(l)}}})),lt=ot,rt=(a("f757"),a("adda")),ct=a("1f4f"),dt=a("269a"),ut=a.n(dt),pt=a("5607"),ht=Object(A["a"])(lt,st,nt,!1,null,"f5c247e8",null),vt=ht.exports;Y()(ht,{VCard:G["a"],VImg:rt["a"],VSimpleTable:ct["a"]}),ut()(ht,{Ripple:pt["a"]});var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"area-manager-container mt-3"},[a("div",{staticClass:"align-self-center pl-2 d-flex"},[a("v-checkbox",{attrs:{dense:"",label:t.$t("Database.艦娘名表示")},model:{value:t.visibleShipName,callback:function(e){t.visibleShipName=e},expression:"visibleShipName"}}),a("v-text-field",{staticClass:"search-input ml-5",attrs:{label:t.$t("Database.名称検索"),dense:"",clearable:"","prepend-inner-icon":"mdi-magnify"},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}})],1),a("div",[t.readonly?t._e():a("div",{staticClass:"d-flex my-2"},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.resetAreaTag()}}},[t._v(t._s(t.$t("Database.お札一斉解除")))])],1)]),t._l(t.filteredAreaShipList,(function(e){return a("v-card",{key:"area_"+e.area,staticClass:"mb-2 px-2 py-3 area-card"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"area-banner"},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.area+".webp",height:"55",width:"38"}})],1),a("v-btn",{staticClass:"ml-12",attrs:{color:"primary",disabled:t.disabledEdit},on:{click:function(a){return a.stopPropagation(),t.showShipList(e.area)}}},[t._v(" "+t._s(t.$t("Common.配備"))+" ")]),a("v-btn",{staticClass:"ml-3",attrs:{color:"secondary",disabled:t.disabledEdit},on:{click:function(a){return a.stopPropagation(),t.resetShipsClicked(e.area)}}},[t._v(" "+t._s(t.$t("Database.解散"))+" ")])],1),e.headers.length>0?a("div",{staticClass:"py-1"}):t._e(),t._l(e.headers,(function(i){return a("div",{key:"type_"+i.text},[a("div",{staticClass:"type-divider mt-1"},[a("div",{staticClass:"caption"},[t._v(t._s(i.text))]),a("div",{staticClass:"type-divider-border"})]),a("div",{staticClass:"d-flex flex-wrap"},t._l(i.ships,(function(i,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"area_"+e.area+"_ship"+s,staticClass:"ship-container",class:{clickable:!t.disabledEdit},on:{click:function(a){return a.stopPropagation(),t.clickedShip(e.area,i)},mouseenter:function(e){return t.bootTooltip(i,e)},mouseleave:t.clearTooltip}},[a("div",{staticClass:"ship-img"},[a("div",[a("v-img",{attrs:{src:"./img/ship/"+i.data.id+".png",height:"30",width:"120"}})],1),a("div",{staticClass:"ship-area-banner"},[a("v-img",{attrs:{src:"https://res.cloudinary.com/aircalc/kc-web/areas/area"+e.area+"_min.webp",height:"33",width:"30"}})],1),i.expand?a("div",{staticClass:"slot-ex-img"},[a("v-img",{attrs:{src:"./img/util/slot_ex.png",height:"27",width:"27"}})],1):t._e()]),t.visibleShipName?a("div",{staticClass:"caption"},[a("div",{staticClass:"ship-status"},[a("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(i.level))]),a("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("Common.運"))+":"+t._s(i.luck))])]),a("div",{staticClass:"ml-1 text-truncate ship-name"},[t._v(t._s(t.getShipName(i.data)))])]):t._e()])})),0)])}))],2)})),a("v-dialog",{attrs:{transition:"scroll-x-transition",width:t.shipDialogWidth},model:{value:t.shipListDialog,callback:function(e){t.shipListDialog=e},expression:"shipListDialog"}},[a("ship-list",{ref:"shipList",attrs:{"handle-decide-ship":t.putShip,"handle-close":t.closeDialog,"handle-change-width":t.changeShipWidth}})],1),a("v-dialog",{attrs:{transition:"scroll-x-transition",width:"400"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",{staticClass:"pa-3"},[a("div",{staticClass:"ma-4"},[t.confirmShip?a("div",{staticClass:"d-flex mb-3"},[a("div",[a("v-img",{attrs:{src:"./img/ship/"+t.confirmShip.data.id+".png",height:"30",width:"120"}})],1),a("div",{staticClass:"caption"},[a("div",{staticClass:"ship-status"},[a("div",{staticClass:"align-self-center primary--text"},[t._v("Lv:"+t._s(t.confirmShip.level))]),a("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.$t("Common.運"))+":"+t._s(t.confirmShip.luck))])]),a("div",{staticClass:"ml-1 text-truncate"},[t._v(t._s(t.getShipName(t.confirmShip.data)))])])]):t._e(),t.confirmShip?a("div",[t._v(t._s(t.$t("Database.札を解除します。よろしいですか？")))]):a("div",[t._v(t._s(t.$t("Database.解散します。よろしいですか？")))])]),a("v-divider",{staticClass:"my-2"}),a("div",{staticClass:"d-flex"},[t.confirmShip?a("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.removeShip()}}},[t._v(t._s(t.$t("Database.解除")))]):a("v-btn",{staticClass:"ml-auto",attrs:{color:"red",dark:""},on:{click:function(e){return e.stopPropagation(),t.resetShips()}}},[t._v(t._s(t.$t("Database.解散")))]),a("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.confirmDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1),a("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[a("ship-tooltip",{model:{value:t.tooltipShip,callback:function(e){t.tooltipShip=e},expression:"tooltipShip"}})],1)],2)},ft=[],gt=a("53ca"),bt=a("689a"),kt=a("c6cf"),_t=a("9f87"),xt=a("c3af"),yt=o["default"].extend({name:"AreaManager",components:{ShipList:bt["a"],ShipTooltip:kt["a"]},props:{readonly:{type:Boolean,required:!0}},data:function(){return{searchWord:"",visibleShipName:!1,existStock:!1,areaShipList:[],unsubscribe:void 0,shipListDialog:!1,shipDialogWidth:1200,selectedArea:0,confirmDialog:!1,confirmShip:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new xt["a"],tooltipX:0,tooltipY:0}},mounted:function(){var t=this;this.unsubscribe=this.$store.subscribe((function(e){"setShipStock"===e.type&&t.loadShipStock()})),this.loadShipStock()},watch:{isTempStockMode:function(){this.loadShipStock()}},computed:{isTempStockMode:function(){return this.$store.getters.getExistsTempStock},filteredAreaShipList:function(){var t=this;if(this.searchWord){var e=function(){for(var e=t.searchWord,a=f()(t.areaShipList),i=0;i<a.length;i+=1){for(var s=a[i].headers,n=0;n<s.length;n+=1){var o=s[n];o.ships=o.ships.filter((function(t){return t.data.name.includes(e)}))}a[i].headers=s.filter((function(t){return t.ships.length}))}return{v:a}}();if("object"===Object(gt["a"])(e))return e.v}return this.areaShipList},disabledEdit:function(){return!(this.existStock&&!this.readonly&&!this.searchWord)},needTrans:function(){var t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{loadShipStock:function(){var t=this;this.areaShipList=[];for(var e=this.$store.state.areaCount,a=0;a<e;a+=1){for(var i=[],s=K["j"].SHIP_TYPES_ALT,n=0;n<s.length;n+=1){var o=s[n];i.push({text:o.text,types:o.types,ships:[]})}this.areaShipList.push({area:a+1,headers:i})}var l=this.$store.state.ships,r=this.$store.state.shipStock;this.existStock=r.length>0,this.readonly&&(r=this.$store.state.tempShipStock);for(var c=function(e){var a=r[e];if(a.area<=0)return"continue";var i=l.find((function(t){return t.id===a.id}));if(!i)return"continue";var s=t.areaShipList[a.area-1];if(s){var n=s.headers.find((function(t){return t.types.includes(i.type)}));if(n){var o={data:i,hp:(a.level>99?i.hp2:i.hp)+a.improvement.hp,level:a.level,luck:i.luck+a.improvement.luck,expand:a.releaseExpand,impHP:a.improvement.hp,impASW:a.improvement.asw,impLuck:a.improvement.luck};n.ships.push(o)}}},d=0;d<r.length;d+=1)c(d);for(var u=0;u<this.areaShipList.length;u+=1){for(var p=this.areaShipList[u].headers.filter((function(t){return t.ships.length})),h=0;h<p.length;h+=1)p[h].ships.sort((function(t,e){return t.data.sort-e.data.sort}));this.areaShipList[u].headers=p}},showShipList:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.selectedArea=t,a.next=3,e.shipListDialog=!0;case 3:i=e.$refs.shipList,i.disabledStockOnlyChange=!0,i.isStockOnly=!0,i.initialize(!1);case 7:case"end":return a.stop()}}),a)})))()},putShip:function(t){var e=this.$store.state.shipStock,a={hp:t.hp-(t.level>99?t.ship.hp2:t.ship.hp),asw:t.asw,luck:t.luck-t.ship.luck},i=e.filter((function(e){return e.id===t.ship.id&&e.level===t.level&&e.area===t.area&&e.releaseExpand===t.expanded&&e.improvement.hp===a.hp&&e.improvement.asw===a.asw&&e.improvement.luck===a.luck}));i.length&&(i.sort((function(t,e){return t.area-e.area})),i[0].area=this.selectedArea,this.$store.dispatch("updateShipStock",e)),this.shipListDialog=!1},changeShipWidth:function(t){this.shipDialogWidth=t},closeDialog:function(){this.shipListDialog=!1},clickedShip:function(t,e){this.disabledEdit||(this.clearTooltip(),this.confirmShip=e,this.selectedArea=t,this.confirmDialog=!0)},removeShip:function(){var t=this.selectedArea,e=this.confirmShip;if(!(t<=0)&&e){var a=this.$store.state.shipStock,i=a.find((function(a){return a.id===e.data.id&&a.level===e.level&&a.area===t&&a.releaseExpand===e.expand&&a.improvement.hp===e.impHP&&a.improvement.asw===e.impASW&&a.improvement.luck===e.impLuck}));i&&(i.area=0,this.$store.dispatch("updateShipStock",a)),this.confirmDialog=!1}},resetShipsClicked:function(t){this.confirmShip=void 0,this.selectedArea=t,this.confirmDialog=!0},resetShips:function(){for(var t=this.selectedArea,e=this.$store.state.shipStock,a=e.filter((function(e){return e.area===t})),i=0;i<a.length;i+=1)a[i].area=0;this.$store.dispatch("updateShipStock",e),this.confirmDialog=!1},resetAreaTag:function(){for(var t=this.$store.state.shipStock,e=0;e<t.length;e+=1)t[e].area=0;this.$store.dispatch("updateShipStock",t)},getShipName:function(t){var e=this;if(this.needTrans){var a=_t["a"].getSuffix(t),i=function(t){return t?"".concat(e.$t(t)):""};return a.map((function(t){return i(t)})).join("")}return t.name?t.name:""},bootTooltip:function(t,e){var a=this;this.tooltipTimer=window.setTimeout((function(){a.tooltipX=e.clientX,a.tooltipY=e.clientY;var i=new xt["a"]({master:t.data,level:t.level,hp:t.hp,luck:t.luck,asw:t.impASW});a.tooltipShip=i,a.enabledTooltip=!0}),400)},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Ct=yt,St=(a("4059"),a("8336")),$t=a("ac7c"),Dt=a("169a"),wt=a("ce7e"),Tt=a("3a2f"),Lt=Object(A["a"])(Ct,mt,ft,!1,null,"3e473fca",null),Rt=Lt.exports;Y()(Lt,{VBtn:St["a"],VCard:G["a"],VCheckbox:$t["a"],VDialog:Dt["a"],VDivider:wt["a"],VImg:rt["a"],VTextField:et["a"],VTooltip:Tt["a"]}),ut()(Lt,{Ripple:pt["a"]});var It=a("331b"),At=a("5802"),Ot=o["default"].extend({name:"Ships",components:{Analytics:it,Compare:vt,ShipTooltip:kt["a"],AreaManager:Rt},data:function(){return{all:[],filteredShips:[],viewShips:[],shipStock:[],page:1,searchWord:"",onlyStock:!1,onlyNoStock:!1,onlyReleaseExSlot:!1,is4n:!1,isDaihatsu:!1,isKamisha:!1,luckRange:[1,200],levelRange:[1,175],aswRange:[0,9],okDaihatsu:[],okKamisha:[],hpItems:[],addHP:[],aswItems:[],addASW:[],types:[],selectedTypes:[],nationalities:[{text:"日本",value:0,filter:[]},{text:"アメリカ",value:1,filter:K["j"].USA},{text:"イタリア",value:2,filter:K["j"].ITA},{text:"イギリス",value:3,filter:K["j"].GBR},{text:"ドイツ",value:4,filter:K["j"].DEU},{text:"フランス",value:5,filter:K["j"].FRA},{text:"ソ連",value:6,filter:K["j"].RUS},{text:"その他",value:7,filter:K["j"].AUS.concat(K["j"].SWE).concat(K["j"].NLD)}],selectedNationalities:[0,1,2,3,4,5,6,7],editDialog:!1,editRow:{},versionButtons:[],version:0,editLuck:0,sortKey:"",isDesc:!1,maxAreas:0,confirmDialog:!1,unsubscribe:void 0,btnPushed:!1,allCount:0,modeTable:!0,selectedArea:[],visibleNoArea:!0,readOnly:!1,tab:"list",enabledTooltip:!1,tooltipTimer:void 0,tooltipShip:new xt["a"],tooltipX:0,tooltipY:0}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0),this.initialize(),this.unsubscribe=this.$store.subscribe((function(e,a){"setShipStock"===e.type&&(t.shipStock=a.shipStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&(this.all=this.$store.state.ships,this.initialize())},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},selectedAllNationality:function(){return this.selectedNationalities.length===this.nationalities.length},selectedSomeNationality:function(){return this.selectedNationalities.length>0&&!this.selectedAllNationality},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},icon2:function(){return this.selectedAllNationality?"mdi-close-box":this.selectedSomeNationality?"mdi-minus-box":"mdi-checkbox-blank-outline"},shipList:function(){var t=100*(this.page-1);return this.viewShips.slice(t,t+100)},pageLength:function(){return Math.ceil(this.viewShips.length/100)},minLevel:function(){var t=this.versionButtons[this.version];if(!t||t.beforeId<=0||"山城改二"===t.name)return 1;var e=this.all.find((function(e){return e.id===t.beforeId}));return e?e.nextLv:1},altViewShips:function(){var t=this.viewShips;if(!t.length)return[];for(var e=[],a=function(a){var i=t[a],s=e.find((function(t){return t.master.id===i.ship.id}));s?(s.count+=1,s.detail.push(i)):e.push({master:i.ship,count:i.count,detail:[i]})},i=0;i<t.length;i+=1)a(i);for(var s=K["j"].SHIP_TYPES_ALT_INFO,n=[],o=function(t){var a=s[t],i=e.filter((function(t){return t.master.type2===a.id}));if(i.length){var o=v()(i,(function(t){return t.master.originalId})),l=[];Object.keys(o).forEach((function(t){var e=o[t];e.sort((function(t,e){return e.master.version-t.master.version})),l.push(e)})),l.sort((function(t,e){var a=p()(t.map((function(t){return t.master.sort}))),i=p()(e.map((function(t){return t.master.sort})));return(a||0)-(i||0)})),n.push({typeName:a.name,rows:l})}},l=0;l<s.length;l+=1)o(l);return n},needTrans:function(){var t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate},isNotJapanese:function(){return"ja"!==this.$i18n.locale},translatedShipTypes:function(){for(var t=[],e=0;e<this.types.length;e+=1){var a=this.types[e];t.push({text:"".concat(this.$t("SType.".concat(a.text))),value:a.value})}return t},translatedNationalities:function(){for(var t=[],e=0;e<this.nationalities.length;e+=1){var a=this.nationalities[e];t.push({text:"".concat(this.$t("Database.".concat(a.text))),value:a.value,filter:a.filter})}return t}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{initialize:function(){var t=this;this.all=this.$store.state.ships,this.shipStock=this.$store.state.shipStock,this.maxAreas=this.$store.state.areaCount,this.readOnly&&(this.shipStock=this.$store.state.tempShipStock),this.shipStock.length&&(this.onlyStock=!0);for(var e=function(e){var a=t.all[e],i=a.id,s=a.type,n=t.$store.state.equipShips,o=n.find((function(t){return t.api_ship_id===i})),l=K["j"].SHIP_TYPES_INFO.find((function(t){return t.id===s}));(o&&o.api_equip_type.includes(24)||l&&l.itemType.includes(24))&&t.okDaihatsu.push(i),(o&&o.api_equip_type.includes(46)||l&&l.itemType.includes(46))&&t.okKamisha.push(i)},a=0;a<this.all.length;a+=1)e(a);var i=K["j"].SHIP_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var s=0;s<i.length;s+=1)this.types.push({text:i[s].text,value:s}),this.selectedTypes.push(s);this.addHP=[];for(var n=0;n<=2;n+=1)this.hpItems.push({text:"+".concat(n),value:n}),this.addHP.push(n);if(this.completed){var o=this.$store.state.siteSetting;this.changeViewMode(o.viewTableMode)}this.selectedArea=[];for(var l=0;l<=this.maxAreas;l+=1)this.selectedArea.push(l);this.masterFilter()},filter:function(){for(var t=this,e=this.filteredShips,a=this.shipStock,i=[],s=this.levelRange[1],n=this.levelRange[0],o=this.luckRange[1],l=this.luckRange[0],r=this.aswRange[1],c=this.aswRange[0],d=this.addHP,u=this.searchWord?this.searchWord.trim().toUpperCase():"",p=this.selectedTypes,h=[],v=this.nationalities.filter((function(e){return!t.selectedNationalities.includes(e.value)})).map((function(t){return t.filter})),m=0;m<v.length;m+=1)h=h.concat(v[m]);for(var f=!this.selectedNationalities.includes(0),g=K["j"].SHIP_TYPES_ALT.filter((function(t,e){return p.includes(e)})).map((function(t){return t.types})).flat(),b=0,k=e.filter((function(t){return 0===t.version})),_=function(p){var v=k[p],m=e.filter((function(t){return t.originalId===v.id}));if(u&&!m.some((function(t){return t.name.toUpperCase().indexOf(u)>=0})))return"continue";if(h.includes(v.type2)||f&&K["j"].isJPN(v.type2))return"continue";var _=m.map((function(t){return t.id})),x=a.filter((function(t){return _.includes(t.id)})),y=[];if(x.length){if(!t.onlyNoStock){for(var C=function(e){var a=x[e];if(b+=1,a.level<n||a.level>s)return"continue";if(a.improvement.asw<c||a.improvement.asw>r)return"continue";if(!d.includes(a.improvement.hp))return"continue";var i=m.find((function(t){return t.id===a.id})),u=a.improvement.hp+(a.level>99?i.hp2:i.hp),p=a.improvement.luck+i.luck;if(!g.includes(i.type))return"continue";if(p<l||p>o)return"continue";if(t.is4n&&u%4>0)return"continue";if(t.isDaihatsu&&!t.okDaihatsu.includes(i.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(i.id))return"continue";if(t.onlyReleaseExSlot&&!a.releaseExpand)return"continue";if(!t.visibleNoArea&&a.area<1)return"continue";if(t.selectedArea.length&&!t.selectedArea.includes(a.area))return"continue";var h=xt["a"].getStatusFromLevel(a.level,i.maxAvoid,i.minAvoid);y.push({count:1,ship:i,stockData:a,level:a.level,hp:u,luck:p,impHP:a.improvement.hp,impLuck:a.improvement.luck,impAsw:a.improvement.asw,asw:xt["a"].getStatusFromLevel(a.level,i.maxAsw,i.minAsw)+a.improvement.asw,scout:xt["a"].getStatusFromLevel(a.level,i.maxScout,i.minScout),accuracy:xt["a"].getAccuracyValue(a.level,p),avoid:xt["a"].getAvoidValue(h,p),ci:xt["a"].getCIValue(a.level,p)})},S=0;S<x.length;S+=1)C(S);y.sort((function(t,e){return t.ship.version===e.ship.version?e.stockData.level-t.stockData.level:e.ship.version-t.ship.version}))}}else{if(b+=1,!g.includes(v.type))return"continue";if(t.onlyStock)return"continue";if(t.is4n&&v.hp%4>0)return"continue";if(t.isDaihatsu&&!t.okDaihatsu.includes(v.id))return"continue";if(t.isKamisha&&!t.okKamisha.includes(v.id))return"continue";if(t.onlyReleaseExSlot)return"continue";if(!t.visibleNoArea)return"continue";if(c||!d.includes(0))return"continue";y.push({count:0,ship:v,stockData:new It["a"],hp:v.hp,luck:v.luck,impHP:0,impLuck:0,impAsw:0,level:0,asw:-1,scout:-1,accuracy:-1,avoid:-1,ci:-1})}i=i.concat(y)},x=0;x<k.length;x+=1)_(x);this.allCount=b,this.sortRowData(i);var y=Math.ceil(i.length/100);this.page=this.page>y?y:this.page,this.page=this.page<1&&y>0?1:this.page,this.viewShips=i},masterFilter:function(){this.filteredShips=this.all.filter((function(t){return t.id>0})),this.filter()},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?t.selectedTypes=[]:t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter()}))},toggleAllNationality:function(){var t=this;this.$nextTick((function(){t.selectedAllNationality?t.selectedNationalities=[]:t.selectedNationalities=t.nationalities.map((function(t){return t.value})).slice(),t.masterFilter()}))},clickedArea:function(t){-1===t?this.visibleNoArea=!this.visibleNoArea:this.selectedArea.includes(t)?this.selectedArea=this.selectedArea.filter((function(e){return e!==t})):this.selectedArea.push(t),this.filter()},scrollTop:function(){var t=document.getElementsByClassName("v-pagination")[0];window.scrollTo(0,t.getBoundingClientRect().y+window.pageYOffset-80)},changeVersion:function(t){this.version=t},showEditDialog:function(t){this.editRow=f()(t);var e=this.all.filter((function(e){return e.originalId===t.ship.originalId})).sort((function(t,e){return t.version-e.version}));this.version=e.findIndex((function(e){return e.id===t.ship.id})),this.versionButtons=e,this.editLuck=t.luck,this.editDialog=!0,this.btnPushed=!1},toggleArea:function(t){this.editRow.stockData.area=this.editRow.stockData.area!==t?t:0},getNewStock:function(){var t=this.editRow.stockData,e=this.versionButtons[this.version];t.id=e.id,t.improvement.luck=this.editLuck-e.luck;var a=K["j"].LEVEL_BORDERS.find((function(e){return e.lv===t.level}));return t.exp=a?a.req:0,f()(t)},commitStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=r()(t.map((function(t){return t.uniqueId})));void 0===e&&(e=1);var a=this.getNewStock();a.uniqueId=e+1,t.push(a),this.$store.dispatch("updateShipStock",t),this.shipStock=t},updateStock:function(){this.btnPushed=!0;var t=this.$store.state.shipStock,e=this.getNewStock(),a=t.findIndex((function(t){return t.uniqueId===e.uniqueId}));a>=0&&(t[a]=e,this.$store.dispatch("updateShipStock",t),this.shipStock=t)},deleteStock:function(){this.btnPushed=!0,this.confirmDialog=!1;var t=this.editRow.stockData.uniqueId,e=this.$store.state.shipStock,a=e.filter((function(e){return e.uniqueId!==t}));this.$store.dispatch("updateShipStock",a),this.shipStock=a},toggleSortKey:function(t){this.sortKey!==t?(this.isDesc=!0,this.sortKey=t):this.sortKey===t&&this.isDesc?this.isDesc=!1:this.sortKey!==t||this.isDesc||(this.sortKey=""),this.sortRowData(this.viewShips)},sortRowData:function(t){var e=this.isDesc,a=this.sortKey;this.sortKey?t.sort((function(t,i){return(e?-1:1)*(t[a]-i[a])})):t.sort((function(t,e){return t.ship.originalId!==e.ship.originalId?t.ship.sort-e.ship.sort:e.ship.version-t.ship.version}))},changeViewMode:function(t){this.modeTable=t;var e=this.$store.state.siteSetting;e.viewTableMode=t,this.$store.dispatch("updateSetting",e)},translate:function(t){return t?"".concat(this.$t(t)):""},getShipName:function(t){var e=this;if(this.needTrans){var a=_t["a"].getSuffix(t);return"".concat(a.map((function(t){return e.translate(t)})).join(""))}return t.name?t.name:""},getShipTypeName:function(t){var e=this;if(this.isNotJapanese){var a=At["a"].getShipTypeNameArray(t);return"".concat(a.map((function(t){return e.translate(t)})).join(""))}return t},bootTooltip:function(t,e){var a=this;this.tooltipTimer=window.setTimeout((function(){a.tooltipX=e.clientX,a.tooltipY=e.clientY;var i=new xt["a"]({master:t.ship,level:t.level,hp:t.hp,luck:t.luck,asw:t.asw});a.tooltipShip=i,a.enabledTooltip=!0}),400)},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)}}}),Vt=Ot,jt=(a("30c7"),a("a609")),Et=a("4e82"),Pt=a("3206"),Nt=a("58df"),Ht=Object(Nt["a"])(Object(Et["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(Pt["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(X["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(Z["o"])(this))}}),Mt=a("0789"),Ut=a("9d65"),Bt=a("a9ad"),Kt=Object(Nt["a"])(Ut["a"],Bt["a"],Object(Pt["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")),Wt=Kt.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(t,e){var a=this;t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick((function(){return a.isActive=t}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(Mt["a"],this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(Z["o"])(e))])]})))}}),Ft=a("9d26"),zt=Object(Nt["a"])(Bt["a"],Object(Pt["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel")),Jt=zt.extend().extend({name:"v-expansion-panel-header",directives:{ripple:pt["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(Z["o"])(this,"actions")||[this.$createElement(Ft["a"],this.expandIcon)];return this.$createElement(Mt["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(X["a"])(Object(X["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(Z["o"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),Yt=(a("210b"),a("604c")),Gt=a("d9bd"),qt=Yt["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(X["a"])(Object(X["a"])({},Yt["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(Gt["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(Gt["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var a=this.getValue(t,e),i=this.getValue(t,e+1);t.isActive=this.toggleMethod(a),t.nextIsActive=this.toggleMethod(i)}}}),Xt=a("132d"),Qt=a("da13"),Zt=a("1800"),te=a("5d23"),ee=(a("aff5"),a("25f0"),a("17b3"),a("dc22")),ae=a("de2c"),ie=a("7560"),se=Object(Nt["a"])(Bt["a"],Object(ae["a"])({onVisible:["init"]}),ie["a"]).extend({name:"v-pagination",directives:{Resize:ee["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(X["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var a=e%2===0?1:0,i=Math.floor(e/2),s=this.length-i+1+a;if(this.value>i&&this.value<s){var n=1,o=this.length,l=this.value-i+2,r=this.value+i-2-a,c=l-1===n+1?2:"...",d=r+1===o-1?r+1:"...";return[1,c].concat(Object($["a"])(this.range(l,r)),[d,this.length])}if(this.value===i){var u=this.value+i-1-a;return[].concat(Object($["a"])(this.range(1,u)),["...",this.length])}if(this.value===s){var p=this.value-i+1;return[1,"..."].concat(Object($["a"])(this.range(p,this.length)))}return[].concat(Object($["a"])(this.range(1,i)),["..."],Object($["a"])(this.range(s,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var a=[];t=t>0?t:1;for(var i=t;i<=e;i++)a.push(i);return a},genIcon:function(t,e,a,i,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":s},on:a?{}:{click:i}},[t(Ft["a"],[e])])])},genItem:function(t,e){var a=this,i=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:function(){return a.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(a,i){return t("li",{key:i},[isNaN(Number(a))?t("span",{class:"v-pagination__more"},[a.toString()]):e.genItem(t,a)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),ne=a("b974"),oe=a("ba0d"),le=a("2fa4"),re=a("71a3"),ce=a("c671"),de=a("fe57"),ue=a("aac8"),pe=Object(A["a"])(Vt,c,d,!1,null,"27ecf8fb",null),he=pe.exports;Y()(pe,{VBtn:St["a"],VBtnToggle:jt["a"],VCard:G["a"],VCheckbox:$t["a"],VDialog:Dt["a"],VDivider:wt["a"],VExpansionPanel:Ht,VExpansionPanelContent:Wt,VExpansionPanelHeader:Jt,VExpansionPanels:qt,VIcon:Xt["a"],VImg:rt["a"],VListItem:Qt["a"],VListItemAction:Zt["a"],VListItemContent:te["a"],VListItemTitle:te["b"],VPagination:se,VRangeSlider:tt,VSelect:ne["a"],VSlider:oe["a"],VSpacer:le["a"],VTab:re["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsItems:ue["a"],VTextField:et["a"],VTooltip:Tt["a"]}),ut()(pe,{Ripple:pt["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3 ships-page"},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"px-4"},[a("div",[a("v-icon",[t._v("mdi-filter")]),t._v(t._s(t.$t("Database.フィルタ")))],1)]),a("v-expansion-panel-content",[a("v-divider",{staticClass:"mb-3"}),a("div",{staticClass:"range-inputs"},[a("div",{staticClass:"d-flex my-4"},[a("v-text-field",{staticClass:"search-input",attrs:{label:t.$t("ItemList.図鑑id 名称検索"),dense:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.filter},model:{value:t.searchWord,callback:function(e){t.searchWord="string"===typeof e?e.trim():e},expression:"searchWord"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.未所持装備非表示")},on:{change:t.filter},model:{value:t.onlyStock,callback:function(e){t.onlyStock=e},expression:"onlyStock"}})],1),a("div",{staticClass:"d-flex my-4"},[a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.改修下限"),type:"number",max:t.remodelRange[1],min:"0",dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[0],callback:function(e){t.$set(t.remodelRange,0,"string"===typeof e?e.trim():e)},expression:"remodelRange[0]"}})],1),a("v-range-slider",{staticClass:"pt-2 align-center mx-2",attrs:{dense:"","thumb-label":"",min:"0",max:"10","hide-details":""},on:{change:t.filter},model:{value:t.remodelRange,callback:function(e){t.remodelRange=e},expression:"remodelRange"}}),a("div",{staticClass:"range-input"},[a("v-text-field",{attrs:{label:t.$t("Database.改修上限"),type:"number",max:"10",min:t.remodelRange[0],dense:"","hide-details":""},on:{input:t.filter},model:{value:t.remodelRange[1],callback:function(e){t.$set(t.remodelRange,1,"string"===typeof e?e.trim():e)},expression:"remodelRange[1]"}})],1)],1)]),a("v-select",{staticClass:"my-10",attrs:{items:t.types,"hide-details":"",dense:"",attach:"",chips:"","deletable-chips":"",label:t.$t("Database.カテゴリ"),multiple:""},on:{change:t.masterFilter},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggleAllType}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.selectedTypes.length>0?"blue":""}},[t._v(" "+t._s(t.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Database.全選択")))])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.selectedTypes,callback:function(e){t.selectedTypes=e},expression:"selectedTypes"}}),a("div",[a("v-checkbox",{staticClass:"mx-2",attrs:{dense:"",label:t.$t("Database.総所持数表示")},on:{change:function(e){return t.changeVisibleAllCount()}},model:{value:t.visibleAllCount,callback:function(e){t.visibleAllCount=e},expression:"visibleAllCount"}})],1)],1)],1)],1),a("div",{staticClass:"d-flex mt-3"},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"secondary"},on:{click:function(e){return t.showBlacklist()}}},[a("v-icon",[t._v("mdi-skull-crossbones")]),t._v("Blacklist ("+t._s(t.$store.state.siteSetting.blacklistItemIds.length)+") ")],1)],1),t.viewItems.length?a("div",{staticClass:"item-all-container mt-3"},t._l(t.viewItems,(function(e,i){return a("v-card",{key:i,staticClass:"py-1"},[a("div",{staticClass:"ma-1 d-flex"},[a("div",{staticClass:"type-img"},[a("img",{attrs:{src:"./img/type/type"+e.type.id+".png"}})]),a("div",{staticClass:"ml-1 align-self-center"},[t._v(t._s(t.isNotJapanese?t.$t("EType."+e.type.name):e.type.name))]),a("v-spacer"),e.type.sortKey?a("div",[a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),i),[a("v-icon",[t._v("mdi-sort")])],1)]}}],null,!0)},[a("v-card",[a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"sort-key",on:{click:function(a){return t.sortItems(e.items,"id")}}},[t._v(t._s(t.$t("Database.図鑑ID")))]),t._l(e.type.sortKey,(function(s,n){return a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],key:"type"+i+"Key"+n,staticClass:"sort-key",on:{click:function(a){return t.sortItems(e.items,s)}}},[t._v(" "+t._s(t.convertStatusString(s))+" ")])}))],2)],1)],1):t._e()],1),a("v-divider"),t._l(e.items,(function(e,s){return a("div",{key:""+i+s},[a("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"info--text"},expression:"{ class: 'info--text' }"}],staticClass:"item-container",class:{"no-item":!e.allCount},on:{click:function(a){return t.clickItem(e.master)},mouseenter:function(a){return t.bootTooltip(e.master,a)},mouseleave:t.clearTooltip}},[a("div",{staticClass:"d-flex align-self-start flex-grow-1"},[a("div",{staticClass:"icon-img"},[a("img",{attrs:{src:"./img/type/icon"+e.master.iconTypeId+".png"}})]),a("div",{staticClass:"item-name flex-grow-1"},[t._v(" "+t._s(t.needTrans?t.$t(""+e.master.name):e.master.name)+" ")])]),a("div",{staticClass:"detail-container"},[t.visibleAllCount&&!t.remodelRange[0]?a("div",{staticClass:"primary--text count-text"},[t._v(t._s(e.allCount))]):t._e(),t._l(e.details,(function(e,n){return a("div",{key:""+i+s+n,staticClass:"d-flex remodel-container"},[e.remodel?a("div",{staticClass:"item-remodel teal--text text--accent-4"},[t._v("★"+t._s(e.remodel))]):t._e(),a("div",{staticClass:"ml-auto"},[t._v(t._s(e.count))])])}))],2)])])}))],2)})),1):a("v-card",{staticClass:"my-3 pa-4"},[a("div",{staticClass:"text-center my-10"},[a("div",[t._v(t._s(t.$t("Common.探したけど見つからなかったよ")))])])]),t.editedItem?a("v-dialog",{attrs:{transition:"scroll-x-transition",width:"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",{staticClass:"pa-3"},[a("div",{staticClass:"mx-2 mb-2"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"align-self-center"},[a("v-img",{attrs:{src:"./img/type/icon"+t.editedItem.iconTypeId+".png",width:"40",height:"40"}})],1),a("div",{staticClass:"align-self-center ml-1"},[a("div",{staticClass:"caption info--text"},[t._v("ID: "+t._s(t.editedItem.id))]),a("div",{staticClass:"body-2"},[t._v(t._s(t.needTrans?t.$t(""+t.editedItem.name):t.editedItem.name))])])])]),a("v-divider"),a("div",{staticClass:"ma-3"},[a("div",{staticClass:"caption"},[t._v(t._s(t.$t("Database.所持数")))]),a("div",{staticClass:"stock-inputs"},[t._l(t.editedStock,(function(e,i){return a("v-text-field",{key:"stock$"+i,staticClass:"stock-input",attrs:{type:"number",max:"999",min:"0",label:"★+"+i,"hide-details":"",readonly:t.readOnly},model:{value:t.editedStock[i],callback:function(e){t.$set(t.editedStock,i,t._n(e))},expression:"editedStock[i]"}})})),a("v-text-field",{staticClass:"stock-input",attrs:{type:"number",readonly:"",label:t.$t("Fleet.合計")},model:{value:t.sumStock,callback:function(e){t.sumStock=t._n(e)},expression:"sumStock"}})],2)]),a("v-divider",{staticClass:"mb-2"}),a("div",{staticClass:"d-flex"},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"success",disabled:t.readOnly},on:{click:function(e){return e.stopPropagation(),t.commitStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Common.更新")))]),a("v-btn",{staticClass:"ml-4",attrs:{disabled:!t.sumStock||t.readOnly,color:"error"},on:{click:function(e){return e.stopPropagation(),t.clearStock.apply(null,arguments)}}},[t._v(t._s(t.$t("Database.全破棄")))]),a("v-btn",{staticClass:"ml-4",attrs:{color:"secondary"},on:{click:function(e){e.stopPropagation(),t.editDialog=!1}}},[t._v(t._s(t.$t("Common.戻る")))])],1)],1)],1):t._e(),a("v-dialog",{attrs:{width:"660"},model:{value:t.blacklistDialog,callback:function(e){t.blacklistDialog=e},expression:"blacklistDialog"}},[a("blacklist-item-edit",{attrs:{"handle-close":t.closeBlacklist}})],1),a("v-tooltip",{attrs:{color:"black",bottom:"",right:"",transition:"slide-y-transition","position-x":t.tooltipX,"position-y":t.tooltipY},model:{value:t.enabledTooltip,callback:function(e){t.enabledTooltip=e},expression:"enabledTooltip"}},[a("item-tooltip",{model:{value:t.tooltipItem,callback:function(e){t.tooltipItem=e},expression:"tooltipItem"}})],1)],1)},me=[],fe=a("ff07"),ge=a("89ae"),be=a("01fd"),ke=a("0f16"),_e=o["default"].extend({name:"Items",components:{ItemTooltip:fe["a"],BlacklistItemEdit:ge["a"]},data:function(){return{all:[],itemStock:[],searchWord:"",onlyStock:!1,visibleAllCount:!0,remodelRange:[0,10],selectedTypes:[],types:[],baseViewItems:[],viewItems:[],editDialog:!1,editedItem:void 0,editedStock:[0,0,0,0,0,0,0,0,0,0,0],unsubscribe:void 0,enabledTooltip:!1,tooltipTimer:void 0,tooltipItem:new ke["a"],tooltipX:0,tooltipY:0,readOnly:!1,blacklistDialog:!1}},mounted:function(){var t=this;this.$store.getters.getExistsTempStock&&(this.readOnly=!0);var e=this.$store.state.siteSetting;this.visibleAllCount=e.visibleItemStockAllCount,this.initialize(),this.unsubscribe=this.$store.subscribe((function(e,a){"setItemStock"===e.type&&(t.itemStock=a.itemStock,t.masterFilter(),t.editDialog=!1)}))},watch:{completed:function(t){t&&!this.all.length&&this.initialize()},isTempStockMode:function(t){this.readOnly=!!t,this.initialize()}},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock},selectedAllType:function(){return this.selectedTypes.length===this.types.length},selectedSomeType:function(){return this.selectedTypes.length>0&&!this.selectedAllType},icon:function(){return this.selectedAllType?"mdi-close-box":this.selectedSomeType?"mdi-minus-box":"mdi-checkbox-blank-outline"},sumStock:function(){return _()(this.editedStock)},convertStatusString:function(){var t=this;return function(e){var a=At["a"].convertAttributeString(e);return t.isNotJapanese?"".concat(t.$t("Common.".concat(a))):a}},isNotJapanese:function(){return"ja"!==this.$i18n.locale},needTrans:function(){var t=this.$store.state.siteSetting;return"ja"!==this.$i18n.locale&&!t.nameIsNotTranslate}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{initialize:function(){this.all=this.$store.state.items,this.all=this.all.filter((function(t){return t.id<500})),this.itemStock=this.$store.state.itemStock,this.readOnly&&(this.itemStock=this.$store.state.tempItemStock);var t=K["j"].ITEM_TYPES_ALT;this.types=[],this.selectedTypes=[];for(var e=0;e<t.length;e+=1)this.isNotJapanese?this.types.push({text:"".concat(this.$t("EType.".concat(t[e].text))),value:e}):this.types.push({text:t[e].text,value:e}),this.selectedTypes.push(e);this.masterFilter()},masterFilter:function(){for(var t=this,e=this.selectedTypes,a=K["j"].ITEM_TYPES_ALT.filter((function(t,a){return e.includes(a)})).map((function(t){return t.types})).flat(),i=this.all,s=K["j"].ITEM_API_TYPE.filter((function(t){return a.includes(t.id)})),n=[],o=function(e){for(var a=s[e],o=i.filter((function(t){return t.apiTypeId===a.id})),l=[],r=function(e){for(var a=o[e],i={master:a,allCount:0,details:[]},s=[],n=0,r=t.itemStock.find((function(t){return t.id===a.id})),c=10;c>=0;c-=1){var d=r?r.num[c]:0;d&&(s.push({remodel:c,count:d}),n+=d)}i.details=s,i.allCount=n,l.push(i)},c=0;c<o.length;c+=1)r(c);n.push({type:a,items:l})},l=0;l<s.length;l+=1)o(l);this.baseViewItems=n,this.filter()},filter:function(){for(var t=this.baseViewItems,e=[],a=this.remodelRange[0],i=this.remodelRange[1],s=this.searchWord?this.searchWord.toUpperCase():"",n=0;n<t.length;n+=1){for(var o=t[n].items,l={type:t[n].type,items:[]},r=0;r<o.length;r+=1){var c=o[r],d=c.master,u=c.details,p=c.allCount;if(!s||d.id===+s||-1!==d.name.toUpperCase().indexOf(s)){var h=u.filter((function(t){return t.remodel>=a&&t.remodel<=i}));h.length?l.items.push({master:d,details:h,allCount:_()(h.map((function(t){return t.count})))}):0!==a||0!==p||this.onlyStock||l.items.push(o[r])}}l.items.length&&e.push(l)}this.viewItems=e},toggleAllType:function(){var t=this;this.$nextTick((function(){t.selectedAllType?(t.selectedTypes=[],t.masterFilter()):(t.selectedTypes=t.types.map((function(t){return t.value})).slice(),t.masterFilter())}))},sortItems:function(t,e){"id"===e||"cost"===e?t.sort((function(t,a){return t.master[e]-a.master[e]})):t.sort((function(t,a){return a.master[e]-t.master[e]}))},clickItem:function(t){this.clearTooltip(),this.editDialog=!0,this.editedItem=t;var e=this.itemStock.find((function(e){return e.id===t.id}));this.editedStock=e?e.num:[0,0,0,0,0,0,0,0,0,0,0]},clearStock:function(){this.editedStock=[0,0,0,0,0,0,0,0,0,0,0]},commitStock:function(){var t=this;if(this.editedItem){var e=this.editedItem.id,a=this.itemStock.find((function(t){return t.id===e}));if(a)a.num=this.editedStock;else{var i=new be["a"](e);i.num=this.editedStock,this.itemStock.push(i)}this.$store.dispatch("updateItemStock",this.itemStock),this.masterFilter(),this.editDialog=!1,window.setTimeout((function(){t.editedItem=void 0}),100)}},bootTooltip:function(t,e){var a=this,i=this.$store.state.siteSetting;if(t.id&&!i.disabledItemTooltip){var s=e.target.getElementsByClassName("item-name")[0];this.tooltipTimer=window.setTimeout((function(){var e=s.getBoundingClientRect();a.tooltipX=e.x+e.width/3,a.tooltipY=e.y+e.height,a.tooltipItem=new ke["a"]({master:t}),a.enabledTooltip=!0}),Math.max(i.popUpCount,100))}},clearTooltip:function(){this.enabledTooltip=!1,window.clearTimeout(this.tooltipTimer)},changeVisibleAllCount:function(){var t=this.$store.state.siteSetting;t.visibleItemStockAllCount=this.visibleAllCount,this.$store.dispatch("updateSetting",t)},showBlacklist:function(){this.blacklistDialog=!0},closeBlacklist:function(){this.blacklistDialog=!1}}}),xe=_e,ye=(a("3058"),a("e449")),Ce=Object(A["a"])(xe,ve,me,!1,null,"3a19d7c2",null),Se=Ce.exports;Y()(Ce,{VBtn:St["a"],VCard:G["a"],VCheckbox:$t["a"],VDialog:Dt["a"],VDivider:wt["a"],VExpansionPanel:Ht,VExpansionPanelContent:Wt,VExpansionPanelHeader:Jt,VExpansionPanels:qt,VIcon:Xt["a"],VImg:rt["a"],VListItem:Qt["a"],VListItemAction:Zt["a"],VListItemContent:te["a"],VListItemTitle:te["b"],VMenu:ye["a"],VRangeSlider:tt,VSelect:ne["a"],VSpacer:le["a"],VTextField:et["a"],VTooltip:Tt["a"]}),ut()(Ce,{Ripple:pt["a"]});var $e=a("66ce"),De=a("ea7b"),we=a("bee2"),Te=a("d4ec"),Le=Object(we["a"])((function t(){Object(Te["a"])(this,t),this.id=0,this.key="",this.remarks="",this.createdAt=At["a"].formatDate(new Date,"yyyy/MM/dd HH:mm:ss")})),Re=a("ce66"),Ie=o["default"].extend({name:"FleetManager",components:{Ships:he,Items:Se},data:function(){return{tab:"ship",code_tab:"ship_code",includeUnLockedShip:!0,includeUnLockedItem:!1,readResultColor:"success",inputText:"",readOnlyMode:!1,loadingURL:!1,createdURL:"",copiedURLHint:"",outputHistories:[],confirmDialog:!1,deleteIndex:-1,expandBtnClicked:!1,kantaiAnalyticsShipsCode:"",kantaiAnalyticsItemsCode:"",copiedShipCodeHint:"",copiedItemCodeHint:"",unsubscribe:void 0,kantaiSarashiURL:"",loading:!1,successCopy:!1,showHowToDoIt:!1}},mounted:function(){var t=this,e=this.$store.state.saveData;e.disabledMain(),this.readOnlyMode=this.$store.getters.getExistsTempStock;var a=this.$store.state.outputHistories;a&&a.length&&(this.outputHistories=a.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL(),this.unsubscribe=this.$store.subscribe((function(e){"setShipStock"!==e.type&&"setItemStock"!==e.type||(t.expandBtnClicked=!1,t.generateKCAnalyticsCode(),t.generateKantaiSarashiURL())})),this.loading=!this.$store.getters.getCompletedAll;var i=this.$store.state.siteSetting;this.includeUnLockedShip=i.isIncludeUnLockShip,this.includeUnLockedItem=i.isIncludeUnLockItem},computed:{completed:function(){return this.$store.getters.getCompletedAll},isTempStockMode:function(){return this.$store.getters.getExistsTempStock}},watch:{completed:function(t){if(t){this.loading=!1;var e=this.$store.state.outputHistories;e&&e.length&&(this.outputHistories=e.concat()),this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},isTempStockMode:function(t){this.readOnlyMode=!!t,this.expandBtnClicked=!1,this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()}},beforeDestroy:function(){this.unsubscribe&&this.unsubscribe()},methods:{readJson:function(){this.setShipStock()?(this.$emit("inform","在籍艦娘データの更新が完了しました。"),this.loadingURL=!1):this.setItemStock()?(this.$emit("inform","所持装備データの更新が完了しました。"),this.loadingURL=!1):this.$emit("inform","データの読み込みに失敗しました。正しいデータではない可能性があります。",!0),this.inputText="",this.generateKCAnalyticsCode(),this.generateKantaiSarashiURL()},setShipStock:function(){try{var t=At["a"].readShipStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForShipList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateShipStock",t),!0}catch(a){return console.error(a),!1}},setItemStock:function(){try{var t=At["a"].readItemStockJson(this.inputText);if(0===t.length)return!1;var e=this.$store.state.siteSetting;return e.isStockOnlyForItemList=!0,this.$store.dispatch("updateSetting",e),this.$store.dispatch("updateItemStock",t),!0}catch(a){return console.error(a),!1}},requestURLKey:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,s,n,o,l,r,c,d,u,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingURL=!0,a=t.$store.state.shipStock,i=t.$store.state.itemStock,s=Re["a"].createFirebaseStockObject(a,i),s.ships||s.items){e.next=7;break}return t.$emit("inform","艦娘、装備情報が登録されていません。",!0),e.abrupt("return");case 7:if(n={ships:s.ships,items:s.items,date:At["a"].formatDate(new Date,"yy/MM/dd HH:mm:ss"),uid:"",ver:3},e.prev=8,o=Object($e["c"])(),l=Object($e["d"])(Object($e["a"])(Object($e["e"])(o),"stocks")),r=l.key,r){e.next=14;break}return t.$emit("inform","共有URLの生成に失敗しました。",!0),e.abrupt("return");case 14:c=document,d=c.location,u="".concat(d.protocol,"//").concat(d.host).concat(d.pathname,"?stockid=").concat(r),p=Object(De["a"])(),Object(De["b"])(p).then((function(e){e&&e.user&&e.user.uid&&(n.uid=e.user.uid),Object($e["f"])(Object($e["e"])(o,"stocks/".concat(r)),n).then((function(){t.generateShortURL(u).then((function(e){e?t.createHistory(r):t.$emit("inform","共有URLの生成に失敗しました。",!0)}))})).catch((function(e){console.error(e),t.$emit("inform","共有URLの生成に失敗しました。",!0)}))})).catch((function(e){console.log(e),t.$emit("inform","共有URLの生成に失敗しました。",!0)})),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](8),console.error(e.t0),t.$emit("inform","共有URLの生成に失敗しました。",!0);case 24:case"end":return e.stop()}}),e,null,[[8,20]])})))()},generateShortURL:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=!1,a.next=3,Re["a"].getShortURL(t);case 3:return s=a.sent,s?(e.createdURL=s,e.loadingURL=!1,i=!0):(e.createdURL="URLの発行に失敗しました",e.loadingURL=!1),a.abrupt("return",i);case 6:case"end":return a.stop()}}),a)})))()},createHistory:function(t){var e=this.$store.state.outputHistories,a=r()(e.map((function(t){return t.id})))||0,i=e.concat(),s=new Le;s.id=a+1,s.key=t,i.push(s),this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","共有URLを生成しました。")},copyURL:function(){var t=document.getElementById("created-url");t.select(),document.execCommand("copy"),this.copiedURLHint="コピーされました。"},clearURLHint:function(){this.copiedURLHint=""},expandHistory:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.expandBtnClicked=!0,i=e.outputHistories[t],a.next=4,Re["a"].getAndRestoreStockData(i.key);case 4:s=a.sent,s.shipStocks.length||s.itemStocks.length?(e.$store.dispatch("updateTempShipStock",s.shipStocks),e.$store.dispatch("updateTempItemStock",s.itemStocks),e.$emit("inform","編成を展開しました。")):e.$emit("inform","編成の展開に失敗しました。",!0);case 6:case"end":return a.stop()}}),a)})))()},clickedDeleteHistory:function(t){this.confirmDialog=!0,this.deleteIndex=t},deleteHistory:function(){this.confirmDialog=!1;var t=this.outputHistories[this.deleteIndex];if(t){var e=this.$store.state.outputHistories,a=e.filter((function(e){return e.id!==t.id}));this.outputHistories=a,this.$store.dispatch("updateOutputHistories",a),this.$emit("inform","出力履歴を削除しました。")}},updateHistory:function(t){var e=this.outputHistories[t];if(e){var a=this.$store.state.outputHistories,i=a.concat();i[t]=e,this.outputHistories=i,this.$store.dispatch("updateOutputHistories",i),this.$emit("inform","更新が完了しました。")}},generateKCAnalyticsCode:function(){this.kantaiAnalyticsShipsCode="",this.kantaiAnalyticsItemsCode="";var t=this.$store.state.shipStock,e=this.$store.state.itemStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock,e=this.$store.state.tempItemStock),t&&t.length){for(var a=[],i=function(e){var i=t[e],s=K["j"].LEVEL_BORDERS.find((function(t){return t.lv===i.level+1})),n=s?s.req-i.exp:0,o={id:i.id,lv:i.level,st:[i.improvement.fire?i.improvement.fire:0,i.improvement.torpedo?i.improvement.torpedo:0,i.improvement.antiAir?i.improvement.antiAir:0,i.improvement.armor?i.improvement.armor:0,i.improvement.luck?i.improvement.luck:0,i.improvement.hp?i.improvement.hp:0,i.improvement.asw?i.improvement.asw:0],exp:[i.exp,n,0]};a.push(o)},s=0;s<t.length;s+=1)i(s);this.kantaiAnalyticsShipsCode=JSON.stringify(a)}if(e&&e.length&&e.some((function(t){return t.num.some((function(t){return t>0}))}))){for(var n=[],o=0;o<e.length;o+=1)for(var l=e[o],r=0;r<l.num.length;r+=1)for(var c=l.num[r],d=0;d<c;d+=1)n.push({id:l.id,lv:r});this.kantaiAnalyticsItemsCode=JSON.stringify(n)}},copyShipCode:function(){var t=document.getElementById("analytics-ship-code");t.select(),document.execCommand("copy"),this.copiedShipCodeHint="コピーされました。"},clearShipCodeHint:function(){this.copiedShipCodeHint=""},copyItemCode:function(){var t=document.getElementById("analytics-item-code");t.select(),document.execCommand("copy"),this.copiedItemCodeHint="コピーされました。"},clearItemCodeHint:function(){this.copiedItemCodeHint=""},copyCode:function(t){var e=this,a=document.getElementById(t);a&&(a.select(),document.execCommand("copy"),this.$emit("inform","コピーされました。"),this.successCopy=!0,window.setTimeout((function(){e.successCopy=!1}),3e3))},generateKantaiSarashiURL:function(){this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html";var t=this.$store.state.shipStock;if(this.readOnlyMode&&(t=this.$store.state.tempShipStock),t&&t.length){for(var e=this.$store.state.ships,a=e.filter((function(t){return 0===t.version})),i=[],s=function(s){var n=a[s],o=e.filter((function(t){return t.originalId===n.id})),l=o.map((function(t){return t.id})),r=t.filter((function(t){return l.includes(t.id)}));if(r.length){for(var c=[],d=function(t){var a,i=r[t],s=null===(a=e.find((function(t){return t.id===i.id})))||void 0===a?void 0:a.version;(s||0===s)&&c.push({lv:i.level,ver:s+1})},u=0;u<r.length;u+=1)d(u);c.sort((function(t,e){return e.lv-t.lv})),i.push("".concat(699===n.id?645:n.id,":").concat(c.map((function(t){return"".concat(t.lv,".").concat(t.ver)})).join(",")))}},n=0;n<a.length;n+=1)s(n);this.kantaiSarashiURL="http://kancolle-calc.net/kanmusu_list.html?data=".concat(At["a"].encode64(".2|".concat(i.join("|"))))}},toggleUnLocked:function(){var t=this.$store.state.siteSetting;t.isIncludeUnLockShip=this.includeUnLockedShip,t.isIncludeUnLockItem=this.includeUnLockedItem,this.$store.dispatch("updateSetting",t)}}}),Ae=Ie,Oe=(a("c895"),a("99d9")),Ve=a("8e36"),je=a("67b6"),Ee=a("43a6"),Pe=a("a844"),Ne=Object(A["a"])(Ae,i,s,!1,null,"60a4e572",null);e["default"]=Ne.exports;Y()(Ne,{VBtn:St["a"],VCard:G["a"],VCardText:Oe["b"],VDialog:Dt["a"],VDivider:wt["a"],VIcon:Xt["a"],VImg:rt["a"],VProgressLinear:Ve["a"],VRadio:je["a"],VRadioGroup:Ee["a"],VTab:re["a"],VTabItem:ce["a"],VTabs:de["a"],VTabsItems:ue["a"],VTextField:et["a"],VTextarea:Pe["a"]})},c895:function(t,e,a){"use strict";a("217a")},ef71:function(t,e,a){},f757:function(t,e,a){"use strict";a("4fb5")}}]);
//# sourceMappingURL=chunk-034b672e.17d7edfb.js.map